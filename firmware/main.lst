   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.Ltext0:
  12               		.cfi_sections	.debug_frame
  14               	usb_pipe_handle.constprop.9:
  15               	.LFB95:
  16               		.file 1 "usb/usb_pipe.h"
   1:usb/usb_pipe.h **** #include "pipe.h"
   2:usb/usb_pipe.h **** #include "usb.h"
   3:usb/usb_pipe.h **** 
   4:usb/usb_pipe.h **** #include <util/atomic.h>
   5:usb/usb_pipe.h **** #ifndef PIPE_ATOMIC
   6:usb/usb_pipe.h **** #define PIPE_ATOMIC ATOMIC_RESTORESTATE
   7:usb/usb_pipe.h **** #endif 
   8:usb/usb_pipe.h **** 
   9:usb/usb_pipe.h **** typedef struct USB_Pipe_data{
  10:usb/usb_pipe.h **** 	bool bank;
  11:usb/usb_pipe.h **** 	uint8_t flush;
  12:usb/usb_pipe.h **** 	uint16_t packet_offset; // Index into current packet for byte mode
  13:usb/usb_pipe.h **** } USB_Pipe_data;
  14:usb/usb_pipe.h **** 
  15:usb/usb_pipe.h **** // Immutable part, constant-folded at compile time
  16:usb/usb_pipe.h **** typedef struct USB_Pipe{
  17:usb/usb_pipe.h **** 	uint8_t ep;
  18:usb/usb_pipe.h **** 	uint8_t type;
  19:usb/usb_pipe.h **** 	USB_Pipe_data* data;
  20:usb/usb_pipe.h **** 	const Pipe* pipe;
  21:usb/usb_pipe.h **** 	uint8_t features;
  22:usb/usb_pipe.h **** } USB_Pipe;
  23:usb/usb_pipe.h **** 
  24:usb/usb_pipe.h **** #define PIPE_ENABLE_FLUSH (1<<0)
  25:usb/usb_pipe.h **** 
  26:usb/usb_pipe.h **** #define USB_PIPE(NAME, EPNO, TYPE, PACKET_SIZE, BUFFER_PACKETS, FEATURES) \
  27:usb/usb_pipe.h **** 	PIPE(NAME##_pipe, (BUFFER_PACKETS), (PACKET_SIZE),               \
  28:usb/usb_pipe.h **** 		((EPNO)&USB_EP_IN)?0:2,                      \
  29:usb/usb_pipe.h **** 		((EPNO)&USB_EP_IN)?2:0                       \
  30:usb/usb_pipe.h **** 	);                                               \
  31:usb/usb_pipe.h **** 	USB_Pipe_data NAME##_data = {      \
  32:usb/usb_pipe.h **** 		.bank = 0,                   \
  33:usb/usb_pipe.h **** 		.flush = 0,                    \
  34:usb/usb_pipe.h **** 	};                                 \
  35:usb/usb_pipe.h **** 	const static USB_Pipe NAME = {     \
  36:usb/usb_pipe.h **** 		.ep = (EPNO),                  \
  37:usb/usb_pipe.h **** 		.type = (TYPE),                \
  38:usb/usb_pipe.h **** 		.data = &(NAME##_data),        \
  39:usb/usb_pipe.h **** 		.pipe = &(NAME##_pipe),        \
  40:usb/usb_pipe.h **** 		.features = (FEATURES),        \
  41:usb/usb_pipe.h **** 	};                                 \
  42:usb/usb_pipe.h **** 
  43:usb/usb_pipe.h **** static inline void usb_pipe_init(const USB_Pipe* p){
  44:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
  45:usb/usb_pipe.h **** 		pipe_reset(p->pipe);
  46:usb/usb_pipe.h **** 		USB_ep_init(p->ep, p->type, p->pipe->size);
  47:usb/usb_pipe.h **** 		p->data->bank = 0;
  48:usb/usb_pipe.h **** 		p->data->flush = 0;
  49:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
  50:usb/usb_pipe.h **** 	}
  51:usb/usb_pipe.h **** }
  52:usb/usb_pipe.h **** 
  53:usb/usb_pipe.h **** static inline void usb_pipe_reset(const USB_Pipe* p){
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
  55:usb/usb_pipe.h **** 		pipe_reset(p->pipe);
  56:usb/usb_pipe.h **** 		USB_ep_cancel(p->ep);
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
  60:usb/usb_pipe.h **** 	}
  61:usb/usb_pipe.h **** }
  62:usb/usb_pipe.h **** 
  63:usb/usb_pipe.h **** static inline void _usb_pipe_ep_start(const USB_Pipe* p, uint8_t* data, uint16_t size) ATTR_ALWAYS_
  64:usb/usb_pipe.h **** static inline void _usb_pipe_ep_start(const USB_Pipe* p, uint8_t* data, uint16_t size){
  65:usb/usb_pipe.h **** 	bool bank = 0;
  66:usb/usb_pipe.h **** 
  67:usb/usb_pipe.h **** 	if (p->ep & USB_EP_PP){
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
  70:usb/usb_pipe.h **** 	}
  71:usb/usb_pipe.h **** 
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
  73:usb/usb_pipe.h **** 		USB_ep_start_bank(p->ep, 0, data, size);
  74:usb/usb_pipe.h **** 	}else{
  75:usb/usb_pipe.h **** 		USB_ep_start_bank(p->ep, 1, data, size);
  76:usb/usb_pipe.h **** 	}
  77:usb/usb_pipe.h **** }
  78:usb/usb_pipe.h **** 
  79:usb/usb_pipe.h **** static inline void usb_pipe_handle(const USB_Pipe* p){
  17               		.loc 1 79 0
  18               		.cfi_startproc
  19 0000 0F93      		push r16
  20               	.LCFI0:
  21               		.cfi_def_cfa_offset 3
  22               		.cfi_offset 16, -2
  23               	/* prologue: function */
  24               	/* frame size = 0 */
  25               	/* stack size = 1 */
  26               	.L__stack_usage = 1
  27               	.LVL0:
  28               	.LBB429:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
  29               		.loc 1 80 0
  30 0002 2FB7      		in r18,__SREG__
  31               	.LVL1:
  32               	.LBB430:
  33               	.LBB431:
  34               		.file 2 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h"
   1:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** /* Copyright (c) 2007 Dean Camera
   2:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    All rights reserved.
   3:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
   4:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    Redistribution and use in source and binary forms, with or without
   5:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    modification, are permitted provided that the following conditions are met:
   6:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
   7:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    * Redistributions of source code must retain the above copyright
   8:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      notice, this list of conditions and the following disclaimer.
   9:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  10:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    * Redistributions in binary form must reproduce the above copyright
  11:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      notice, this list of conditions and the following disclaimer in
  12:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      the documentation and/or other materials provided with the
  13:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      distribution.
  14:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  15:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    * Neither the name of the copyright holders nor the names of
  16:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      contributors may be used to endorse or promote products derived
  17:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      from this software without specific prior written permission.
  18:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  19:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  20:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  21:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  22:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  23:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  24:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  25:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  26:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  27:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  28:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  29:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   POSSIBILITY OF SUCH DAMAGE.
  30:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** */
  31:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  32:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** /* $Id: atomic.h 2158 2010-06-10 15:48:28Z joerg_wunsch $ */
  33:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  34:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #ifndef _UTIL_ATOMIC_H_
  35:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #define _UTIL_ATOMIC_H_ 1
  36:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  37:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #include <avr/io.h>
  38:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #include <avr/interrupt.h>
  39:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  40:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #if !defined(__DOXYGEN__)
  41:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** /* Internal helper functions. */
  42:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ uint8_t __iSeiRetVal(void)
  43:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  44:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     sei();
  45:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     return 1;
  46:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  47:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  48:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ uint8_t __iCliRetVal(void)
  49:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
  35               		.loc 2 50 0
  36               	/* #APP */
  37               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
  38 0004 F894      		cli
  39               	 ;  0 "" 2
  40               	.LVL2:
  41               	/* #NOAPP */
  42               	.LBE431:
  43               	.LBE430:
  44               	.LBB432:
  45               	.LBB433:
  46               		.file 3 "usb/usb.h"
   1:usb/usb.h     **** // Minimal USB Stack for ATxmega32a4u and related
   2:usb/usb.h     **** // http://nonolithlabs.com
   3:usb/usb.h     **** // (C) 2011 Kevin Mehall (Nonolith Labs) <km@kevinmehall.net>
   4:usb/usb.h     **** //
   5:usb/usb.h     **** // Heavily borrows from LUFA
   6:usb/usb.h     **** // Copyright 2011  Dean Camera (dean [at] fourwalledcubicle [dot] com)
   7:usb/usb.h     **** //
   8:usb/usb.h     **** // Licensed under the terms of the GNU GPLv3+
   9:usb/usb.h     **** 
  10:usb/usb.h     **** #pragma once
  11:usb/usb.h     **** 
  12:usb/usb.h     **** #include <avr/io.h>
  13:usb/usb.h     **** 
  14:usb/usb.h     **** #define CPU_TO_LE16(x) x
  15:usb/usb.h     **** 
  16:usb/usb.h     **** struct USB_Request_Header;
  17:usb/usb.h     **** typedef struct USB_Request_Header USB_Requst_Header_t;
  18:usb/usb.h     **** 
  19:usb/usb.h     **** #include "StdDescriptors.h"
  20:usb/usb.h     **** #include "StdRequestType.h"
  21:usb/usb.h     **** #include "Events.h"
  22:usb/usb.h     **** 
  23:usb/usb.h     **** #ifndef USB_MAXEP
  24:usb/usb.h     **** 	#define USB_MAXEP 1
  25:usb/usb.h     **** #endif
  26:usb/usb.h     **** 
  27:usb/usb.h     **** #ifndef USB_EP0SIZE
  28:usb/usb.h     **** 	#define EP0SIZE 64
  29:usb/usb.h     **** #endif
  30:usb/usb.h     **** 
  31:usb/usb.h     **** typedef union USB_EP_pair{
  32:usb/usb.h     **** 	union{
  33:usb/usb.h     **** 		struct{
  34:usb/usb.h     **** 			USB_EP_t out;
  35:usb/usb.h     **** 			USB_EP_t in;
  36:usb/usb.h     **** 		};
  37:usb/usb.h     **** 		USB_EP_t ep[2];
  38:usb/usb.h     **** 	};
  39:usb/usb.h     **** } ATTR_PACKED USB_EP_pair_t;
  40:usb/usb.h     **** 
  41:usb/usb.h     **** extern uint8_t ep0_buf_in[USB_EP0SIZE];
  42:usb/usb.h     **** extern uint8_t ep0_buf_out[USB_EP0SIZE];
  43:usb/usb.h     **** extern USB_EP_pair_t endpoints[USB_MAXEP+1];
  44:usb/usb.h     **** 
  45:usb/usb.h     **** /** String descriptor index for the device's unique serial number string descriptor within the devi
  46:usb/usb.h     ****  *  This unique serial number is used by the host to associate resources to the device (such as dri
  47:usb/usb.h     ****  *  number allocations) to a device regardless of the port it is plugged in to on the host. Some mi
  48:usb/usb.h     ****  *  a unique serial number internally, and setting the device descriptors serial number string inde
  49:usb/usb.h     ****  *  will cause it to use the internal serial number.
  50:usb/usb.h     ****  *
  51:usb/usb.h     ****  *  On unsupported devices, this will evaluate to \ref NO_DESCRIPTOR and so will force the host to 
  52:usb/usb.h     ****  *  number for the device.
  53:usb/usb.h     ****  */
  54:usb/usb.h     **** #define USE_INTERNAL_SERIAL            0xDC
  55:usb/usb.h     **** 
  56:usb/usb.h     **** /** Length of the device's unique internal serial number, in bits, if present on the selected micro
  57:usb/usb.h     ****  *  model.
  58:usb/usb.h     ****  */
  59:usb/usb.h     **** #define INTERNAL_SERIAL_LENGTH_BITS    (8 * (1 + (offsetof(NVM_PROD_SIGNATURES_t, COORDY1) - offset
  60:usb/usb.h     **** 
  61:usb/usb.h     **** /** Start address of the internal serial number, in the appropriate address space, if present on th
  62:usb/usb.h     ****  *  model.
  63:usb/usb.h     ****  */
  64:usb/usb.h     **** #define INTERNAL_SERIAL_START_ADDRESS  offsetof(NVM_PROD_SIGNATURES_t, LOTNUM0)
  65:usb/usb.h     **** 
  66:usb/usb.h     **** /* Enums: */
  67:usb/usb.h     **** 	/** Enum for the various states of the USB Device state machine. Only some states are
  68:usb/usb.h     **** 	 *  implemented in the LUFA library - other states are left to the user to implement.
  69:usb/usb.h     **** 	 *
  70:usb/usb.h     **** 	 *  For information on each possible USB device state, refer to the USB 2.0 specification.
  71:usb/usb.h     **** 	 *
  72:usb/usb.h     **** 	 *  \see \ref USB_DeviceState, which stores the current device state machine state.
  73:usb/usb.h     **** 	 */
  74:usb/usb.h     **** 	enum USB_Device_States_t
  75:usb/usb.h     **** 	{
  76:usb/usb.h     **** 		DEVICE_STATE_Unattached                   = 0, /**< Internally implemented by the library. This s
  77:usb/usb.h     **** 		                                                *   that the device is not currently connected to
  78:usb/usb.h     **** 		                                                */
  79:usb/usb.h     **** 		DEVICE_STATE_Powered                      = 1, /**< Internally implemented by the library. This s
  80:usb/usb.h     **** 		                                                *   that the device is connected to a host, but e
  81:usb/usb.h     **** 		                                                *   yet begun.
  82:usb/usb.h     **** 		                                                */
  83:usb/usb.h     **** 		DEVICE_STATE_Default                      = 2, /**< Internally implemented by the library. This s
  84:usb/usb.h     **** 		                                                *   that the device's USB bus has been reset by t
  85:usb/usb.h     **** 		                                                *   now waiting for the host to begin the enumera
  86:usb/usb.h     **** 		                                                */
  87:usb/usb.h     **** 		DEVICE_STATE_Addressed                    = 3, /**< Internally implemented by the library. This s
  88:usb/usb.h     **** 		                                                *   that the device has been addressed by the USB
  89:usb/usb.h     **** 		                                                *   yet configured.
  90:usb/usb.h     **** 		                                                */
  91:usb/usb.h     **** 		DEVICE_STATE_Configured                   = 4, /**< May be implemented by the user project. This 
  92:usb/usb.h     **** 		                                                *   that the device has been enumerated by the ho
  93:usb/usb.h     **** 		                                                *   for USB communications to begin.
  94:usb/usb.h     **** 		                                                */
  95:usb/usb.h     **** 		DEVICE_STATE_Suspended                    = 5, /**< May be implemented by the user project. This 
  96:usb/usb.h     **** 		                                                *   that the USB bus has been suspended by the ho
  97:usb/usb.h     **** 		                                                *   should power down to a minimal power level un
  98:usb/usb.h     **** 		                                                *   resumed.
  99:usb/usb.h     **** 		                                                */
 100:usb/usb.h     **** 	};
 101:usb/usb.h     **** 
 102:usb/usb.h     **** #define USB_EP_size_to_gc(x)  ((x <= 8   )?USB_EP_BUFSIZE_8_gc:\
 103:usb/usb.h     ****                                (x <= 16  )?USB_EP_BUFSIZE_16_gc:\
 104:usb/usb.h     ****                                (x <= 32  )?USB_EP_BUFSIZE_32_gc:\
 105:usb/usb.h     ****                                (x <= 64  )?USB_EP_BUFSIZE_64_gc:\
 106:usb/usb.h     ****                                (x <= 128 )?USB_EP_BUFSIZE_128_gc:\
 107:usb/usb.h     ****                                (x <= 256 )?USB_EP_BUFSIZE_256_gc:\
 108:usb/usb.h     ****                                (x <= 512 )?USB_EP_BUFSIZE_512_gc:\
 109:usb/usb.h     ****                                            USB_EP_BUFSIZE_1023_gc)
 110:usb/usb.h     **** 
 111:usb/usb.h     **** #define USB_EP_IN 0x80
 112:usb/usb.h     **** 
 113:usb/usb.h     **** // Flag in the endpoint address to indicate that the endpoint should use
 114:usb/usb.h     **** // PingPong (double buffer) mode. This is not actually part of the endpoint
 115:usb/usb.h     **** // address as seen by the host. If PP is enabled, this flag needs to be part
 116:usb/usb.h     **** // of the address passed to all USB_EP_* functions.
 117:usb/usb.h     **** #define USB_EP_PP 0x40
 118:usb/usb.h     **** 	
 119:usb/usb.h     **** extern volatile uint8_t USB_DeviceState;
 120:usb/usb.h     **** extern volatile uint8_t USB_Device_ConfigurationNumber;
 121:usb/usb.h     **** 
 122:usb/usb.h     **** /** Configure the XMEGA's clock for use with USB.  */
 123:usb/usb.h     **** void USB_ConfigureClock(void);
 124:usb/usb.h     **** 
 125:usb/usb.h     **** /** Initialize USB functionality */
 126:usb/usb.h     **** void USB_Init(void);
 127:usb/usb.h     **** void USB_ResetInterface(void);
 128:usb/usb.h     **** 
 129:usb/usb.h     **** #define _USB_EP(epaddr) \
 130:usb/usb.h     **** 	USB_EP_pair_t* pair = &endpoints[(epaddr & 0x3F)]; \
 131:usb/usb.h     **** 	USB_EP_t* e __attribute__ ((unused)) = &pair->ep[!!(epaddr&0x80)]; \
 132:usb/usb.h     **** 	
 133:usb/usb.h     **** #define _USB_EP_OTHER(epaddr) \
 134:usb/usb.h     **** 	USB_EP_t* other = &pair->ep[!(epaddr&0x80)]
 135:usb/usb.h     **** 	
 136:usb/usb.h     **** #define _USB_EP_BANK(epaddr, bank) \
 137:usb/usb.h     **** 	USB_EP_t* b = &pair->ep[!!(epaddr&0x80) != bank]
 138:usb/usb.h     **** 
 139:usb/usb.h     **** inline void USB_ep_init(uint8_t ep, uint8_t type, uint16_t bufsize) ATTR_ALWAYS_INLINE;
 140:usb/usb.h     **** inline void USB_ep_init(uint8_t ep, uint8_t type, uint16_t bufsize){
 141:usb/usb.h     **** 	_USB_EP(ep);
 142:usb/usb.h     **** 	if (ep & USB_EP_PP){
 143:usb/usb.h     **** 		_USB_EP_OTHER(ep);
 144:usb/usb.h     **** 		e->STATUS = USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm;
 145:usb/usb.h     **** 		e->CTRL = type | USB_EP_size_to_gc(bufsize) | USB_EP_PINGPONG_bm;
 146:usb/usb.h     **** 		other->CTRL = 0;
 147:usb/usb.h     **** 		other->STATUS = USB_EP_BUSNACK0_bm;
 148:usb/usb.h     **** 	}else{
 149:usb/usb.h     **** 		e->STATUS = USB_EP_BUSNACK0_bm;
 150:usb/usb.h     **** 		e->CTRL = type | USB_EP_size_to_gc(bufsize);
 151:usb/usb.h     **** 	}
 152:usb/usb.h     **** }
 153:usb/usb.h     **** 
 154:usb/usb.h     **** inline void USB_ep_cancel(uint8_t ep) ATTR_ALWAYS_INLINE;
 155:usb/usb.h     **** inline void USB_ep_cancel(uint8_t ep){
 156:usb/usb.h     **** 	_USB_EP(ep);
 157:usb/usb.h     **** 	if (ep & USB_EP_PP){
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 160:usb/usb.h     **** 	}else{
 161:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm);
 162:usb/usb.h     **** 	}
 163:usb/usb.h     **** }
 164:usb/usb.h     **** 
 165:usb/usb.h     **** inline void USB_ep_start_bank(uint8_t ep, uint8_t bank, uint8_t* addr, uint16_t size){
 166:usb/usb.h     **** 	_USB_EP(ep);
 167:usb/usb.h     **** 	_USB_EP_BANK(ep, bank);
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 170:usb/usb.h     **** 	
 171:usb/usb.h     **** 	//TODO: the OVF, STALL, and TRNCOMPL flags are in b->STATUS. Clear them if anyone cares.
 172:usb/usb.h     **** 
 173:usb/usb.h     **** 	if (bank==0){
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 175:usb/usb.h     **** 	}else{
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 177:usb/usb.h     **** 	}
 178:usb/usb.h     **** }
 179:usb/usb.h     **** 
 180:usb/usb.h     **** inline void USB_ep_out_start(uint8_t ep, uint8_t* addr) ATTR_ALWAYS_INLINE;
 181:usb/usb.h     **** inline void USB_ep_out_start(uint8_t ep, uint8_t* addr){
 182:usb/usb.h     **** 	USB_ep_start_bank(ep, 0, addr, 0);
 183:usb/usb.h     **** }
 184:usb/usb.h     **** 
 185:usb/usb.h     **** inline void USB_ep_in_start(uint8_t ep, uint8_t* addr, uint16_t size) ATTR_ALWAYS_INLINE;
 186:usb/usb.h     **** inline void USB_ep_in_start(uint8_t ep, uint8_t* addr, uint16_t size){
 187:usb/usb.h     **** 	USB_ep_start_bank(ep, 0, addr, size);
 188:usb/usb.h     **** }
 189:usb/usb.h     **** 
 190:usb/usb.h     **** inline bool USB_ep_done_bank(uint8_t ep, uint8_t bank){
 191:usb/usb.h     **** 	_USB_EP(ep);
 192:usb/usb.h     **** 	return e->STATUS & (bank?USB_EP_TRNCOMPL1_bm:USB_EP_TRNCOMPL0_bm);
 193:usb/usb.h     **** }
 194:usb/usb.h     **** 
 195:usb/usb.h     **** inline bool USB_ep_done(uint8_t ep) ATTR_ALWAYS_INLINE;
 196:usb/usb.h     **** inline bool USB_ep_done(uint8_t ep){
 197:usb/usb.h     **** 	_USB_EP(ep);
 198:usb/usb.h     **** 	if (ep & USB_EP_PP){
 199:usb/usb.h     **** 		return e->STATUS & (USB_EP_TRNCOMPL0_bm|USB_EP_TRNCOMPL1_bm);
 200:usb/usb.h     **** 	}else{
 201:usb/usb.h     **** 		// Because for ep0, TRNCOMPL1 is SETUP
 202:usb/usb.h     **** 		return e->STATUS & USB_EP_TRNCOMPL0_bm;
 203:usb/usb.h     **** 	}
 204:usb/usb.h     **** }
 205:usb/usb.h     **** 
 206:usb/usb.h     **** inline void USB_ep_clear_done(uint8_t ep) ATTR_ALWAYS_INLINE;
 207:usb/usb.h     **** inline void USB_ep_clear_done(uint8_t ep){
 208:usb/usb.h     **** 	_USB_EP(ep);
 209:usb/usb.h     **** 	if (ep & USB_EP_PP){
 210:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_TRNCOMPL0_bm|USB_EP_TRNCOMPL1_bm);
 211:usb/usb.h     **** 	}else{
 212:usb/usb.h     **** 		// Because for ep0, TRNCOMPL1 is SETUP
 213:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_TRNCOMPL0_bm);
 214:usb/usb.h     **** 	}
 215:usb/usb.h     **** }
 216:usb/usb.h     **** 
 217:usb/usb.h     **** inline bool USB_ep_ready(uint8_t ep) ATTR_ALWAYS_INLINE;
 218:usb/usb.h     **** inline bool USB_ep_ready(uint8_t ep){
 219:usb/usb.h     **** 	_USB_EP(ep);
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
  47               		.loc 3 220 0
  48 0006 8091 0000 		lds r24,endpoints+24
  49 000a 8670      		andi r24,lo8(6)
  50               	.LBE433:
  51               	.LBE432:
  81:usb/usb_pipe.h **** 		if (p->ep & USB_EP_IN){
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
  52               		.loc 1 82 0
  53 000c 01F4      		brne .L12
  54               	.LVL3:
  55               	.L2:
  56               	.LBB434:
  57               	.LBB435:
  51:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     return 1;
  52:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  53:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  54:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ void __iSeiParam(const uint8_t *__s)
  55:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  56:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     sei();
  57:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     __asm__ volatile ("" ::: "memory");
  58:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     (void)__s;
  59:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  60:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  61:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ void __iCliParam(const uint8_t *__s)
  62:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  63:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
  64:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     __asm__ volatile ("" ::: "memory");
  65:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     (void)__s;
  66:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  67:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  68:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ void __iRestore(const  uint8_t *__s)
  69:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
  58               		.loc 2 70 0
  59 000e 2FBF      		out __SREG__,r18
  71:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     __asm__ volatile ("" ::: "memory");
  60               		.loc 2 71 0
  61               	/* epilogue start */
  62               	.LBE435:
  63               	.LBE434:
  64               	.LBE429:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
  84:usb/usb_pipe.h **** 					_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->pipe->size);
  85:usb/usb_pipe.h **** 					pipe_done_read(p->pipe);
  86:usb/usb_pipe.h **** 				}else if (p->features & PIPE_ENABLE_FLUSH){
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
  89:usb/usb_pipe.h **** 						// Send short packet
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
  94:usb/usb_pipe.h **** 						pipe_reset(p->pipe);
  95:usb/usb_pipe.h **** 					}
  96:usb/usb_pipe.h **** 				}
  97:usb/usb_pipe.h **** 			}
  98:usb/usb_pipe.h **** 		}else{
  99:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep) && pipe_can_write(p->pipe) >= 1){
 100:usb/usb_pipe.h **** 				_usb_pipe_ep_start(p, pipe_write_ptr(p->pipe), p->pipe->size);
 101:usb/usb_pipe.h **** 				pipe_done_write(p->pipe);
 102:usb/usb_pipe.h **** 			}
 103:usb/usb_pipe.h **** 		}
 104:usb/usb_pipe.h **** 	}
 105:usb/usb_pipe.h **** }
  65               		.loc 1 105 0
  66 0010 0F91      		pop r16
  67 0012 0895      		ret
  68               	.LVL4:
  69               	.L12:
  70               	.LBB467:
  71               	.LBB437:
  72               	.LBB438:
  73               		.file 4 "usb/pipe.h"
   1:usb/pipe.h    **** // Ring buffer that takes heavy advantage of constant folding
   2:usb/pipe.h    **** #pragma once
   3:usb/pipe.h    **** 
   4:usb/pipe.h    **** #include "Common.h"
   5:usb/pipe.h    **** 
   6:usb/pipe.h    **** // Mutable part, becomes an actual struct
   7:usb/pipe.h    **** typedef struct Pipe_data{
   8:usb/pipe.h    **** 	uint8_t* read_ptr;
   9:usb/pipe.h    **** 	uint8_t* write_ptr;
  10:usb/pipe.h    **** 	int8_t count; // available slots
  11:usb/pipe.h    **** } Pipe_data;
  12:usb/pipe.h    **** 
  13:usb/pipe.h    **** // Immutable part, constant-folded at compile time
  14:usb/pipe.h    **** typedef struct Pipe{
  15:usb/pipe.h    **** 	Pipe_data* data;
  16:usb/pipe.h    **** 	uint8_t* buffer;
  17:usb/pipe.h    **** 	uint8_t  slots;         // Number of slots in the buffer
  18:usb/pipe.h    **** 	uint8_t reserve_read;  // Slots to prevent reading so they are available to writer
  19:usb/pipe.h    **** 	uint8_t reserve_write; // Slots to prevent writing so they are available to reader
  20:usb/pipe.h    **** 	uint16_t size;          // Size of a buffer slot in bytes
  21:usb/pipe.h    **** } Pipe;
  22:usb/pipe.h    **** 
  23:usb/pipe.h    **** #define PIPE_H(NAME, SLOTS, SIZE, RESERVE_READ, RESERVE_WRITE)       \
  24:usb/pipe.h    **** 	extern Pipe_data NAME##_data;         \
  25:usb/pipe.h    **** 	extern uint8_t NAME##_buffer[(SLOTS)*(SIZE)]; \
  26:usb/pipe.h    **** 	const static Pipe NAME = {            \
  27:usb/pipe.h    **** 		.data = &(NAME##_data),           \
  28:usb/pipe.h    **** 		.buffer = &((NAME##_buffer)[0]),  \
  29:usb/pipe.h    **** 		.slots = (SLOTS),                 \
  30:usb/pipe.h    **** 		.size = (SIZE),                   \
  31:usb/pipe.h    **** 		.reserve_read = (RESERVE_READ),   \
  32:usb/pipe.h    **** 		.reserve_write = (RESERVE_WRITE), \
  33:usb/pipe.h    **** 	};
  34:usb/pipe.h    **** 
  35:usb/pipe.h    **** 
  36:usb/pipe.h    **** #define PIPE_C(NAME, SLOTS, SIZE)                   \
  37:usb/pipe.h    **** 	uint8_t NAME##_buffer[(SLOTS)*(SIZE)];           \
  38:usb/pipe.h    **** 	Pipe_data NAME##_data = {                \
  39:usb/pipe.h    **** 		.count = 0,                          \
  40:usb/pipe.h    **** 		.read_ptr = &((NAME##_buffer)[0]),                       \
  41:usb/pipe.h    **** 		.write_ptr = &((NAME##_buffer)[0]),                      \
  42:usb/pipe.h    **** 	};
  43:usb/pipe.h    **** 
  44:usb/pipe.h    **** #define PIPE(NAME, SLOTS, SIZE, RESERVE_READ, RESERVE_WRITE) \
  45:usb/pipe.h    **** 	PIPE_H(NAME, SLOTS, SIZE, RESERVE_READ, RESERVE_WRITE)   \
  46:usb/pipe.h    **** 	PIPE_C(NAME, SLOTS, SIZE)
  47:usb/pipe.h    **** 
  48:usb/pipe.h    **** // Number of slots available to read
  49:usb/pipe.h    **** static inline int8_t pipe_can_read(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  50:usb/pipe.h    **** static inline int8_t pipe_can_read(const Pipe* pipe){
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
  74               		.loc 4 51 0
  75 0014 3091 0000 		lds r19,ep_in_pipe_data+4
  76               	.LBE438:
  77               	.LBE437:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
  78               		.loc 1 83 0
  79 0018 1316      		cp __zero_reg__,r19
  80 001a 04F0      		brlt .+2
  81 001c 00C0      		rjmp .L3
  82               	.LBB439:
  83               	.LBB440:
  52:usb/pipe.h    **** }
  53:usb/pipe.h    **** 
  54:usb/pipe.h    **** // Number of slots available to write
  55:usb/pipe.h    **** static inline int8_t pipe_can_write(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  56:usb/pipe.h    **** static inline int8_t pipe_can_write(const Pipe* pipe){
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
  58:usb/pipe.h    **** }
  59:usb/pipe.h    **** 
  60:usb/pipe.h    **** static inline uint8_t* pipe_read_ptr(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  61:usb/pipe.h    **** static inline uint8_t* pipe_read_ptr(const Pipe* pipe){
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
  84               		.loc 4 62 0
  85 001e 8091 0000 		lds r24,ep_in_pipe_data
  86 0022 9091 0000 		lds r25,ep_in_pipe_data+1
  87               	.LVL5:
  88               	.LBE440:
  89               	.LBE439:
  90               	.LBB441:
  91               	.LBB442:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
  92               		.loc 1 68 0
  93 0026 4091 0000 		lds r20,ep_in_data
  94               	.LVL6:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
  95               		.loc 1 69 0
  96 002a 51E0      		ldi r21,lo8(1)
  97 002c 4130      		cpi r20,lo8(1)
  98 002e 01F0      		breq .L13
  99 0030 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 100               		.loc 1 72 0
 101 0034 4423      		tst r20
 102 0036 01F0      		breq .L14
 103               	.L5:
 104               	.LVL7:
 105               	.LBB443:
 106               	.LBB444:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 107               		.loc 3 168 0
 108 0038 8093 0000 		sts endpoints+20,r24
 109 003c 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 110               		.loc 3 169 0
 111 0040 40E4      		ldi r20,lo8(64)
 112 0042 50E0      		ldi r21,hi8(64)
 113 0044 4093 0000 		sts endpoints+18,r20
 114 0048 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 115               		.loc 3 176 0
 116 004c E0E0      		ldi r30,lo8(endpoints+24)
 117 004e F0E0      		ldi r31,hi8(endpoints+24)
 118               	/* #APP */
 119               	 ;  176 "usb/usb.h" 1
 120 0050 04E1      		ldi r16, 20
 121 0052 0693      		.dc.w 0x9306
 122               		
 123               	 ;  0 "" 2
 124               	.LVL8:
 125               	/* #NOAPP */
 126               	.L6:
 127               	.LBE444:
 128               	.LBE443:
 129               	.LBE442:
 130               	.LBE441:
 131               	.LBB448:
 132               	.LBB449:
  63:usb/pipe.h    **** }
  64:usb/pipe.h    **** 
  65:usb/pipe.h    **** static inline uint8_t* pipe_write_ptr(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  66:usb/pipe.h    **** static inline uint8_t* pipe_write_ptr(const Pipe* pipe){
  67:usb/pipe.h    **** 	return pipe->data->write_ptr;
  68:usb/pipe.h    **** }
  69:usb/pipe.h    **** 
  70:usb/pipe.h    **** static inline void pipe_done_read(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  71:usb/pipe.h    **** static inline void pipe_done_read(const Pipe* pipe){
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 133               		.loc 4 72 0
 134 0054 3150      		subi r19,lo8(-(-1))
 135 0056 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 136               		.loc 4 73 0
 137 005a 805C      		subi r24,lo8(-(64))
 138 005c 9F4F      		sbci r25,hi8(-(64))
 139 005e 8093 0000 		sts ep_in_pipe_data,r24
 140 0062 9093 0000 		sts ep_in_pipe_data+1,r25
  74:usb/pipe.h    **** 	// Assumes buffer_size % slot_size == 0 and all accesses aligned
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 141               		.loc 4 75 0
 142 0066 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 143 0068 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 144 006a 9307      		cpc r25,r19
 145 006c 01F4      		brne .L2
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 146               		.loc 4 76 0
 147 006e 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 148 0070 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 149 0072 8093 0000 		sts ep_in_pipe_data,r24
 150 0076 9093 0000 		sts ep_in_pipe_data+1,r25
 151               	.LBE449:
 152               	.LBE448:
 153               	.LBB450:
 154               	.LBB436:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 155               		.loc 2 70 0
 156 007a 2FBF      		out __SREG__,r18
 157               		.loc 2 71 0
 158               	/* epilogue start */
 159               	.LBE436:
 160               	.LBE450:
 161               	.LBE467:
 162               		.loc 1 105 0
 163 007c 0F91      		pop r16
 164 007e 0895      		ret
 165               	.LVL9:
 166               	.L13:
 167               	.LBB468:
 168               	.LBB451:
 169               	.LBB447:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 170               		.loc 1 69 0
 171 0080 50E0      		ldi r21,lo8(0)
 172 0082 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 173               		.loc 1 72 0
 174 0086 4423      		tst r20
 175 0088 01F4      		brne .L5
 176               	.L14:
 177               	.LVL10:
 178               	.LBB445:
 179               	.LBB446:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 180               		.loc 3 168 0
 181 008a 8093 0000 		sts endpoints+28,r24
 182 008e 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 183               		.loc 3 169 0
 184 0092 40E4      		ldi r20,lo8(64)
 185 0094 50E0      		ldi r21,hi8(64)
 186 0096 4093 0000 		sts endpoints+26,r20
 187 009a 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 188               		.loc 3 174 0
 189 009e E0E0      		ldi r30,lo8(endpoints+24)
 190 00a0 F0E0      		ldi r31,hi8(endpoints+24)
 191               	.LVL11:
 192               	/* #APP */
 193               	 ;  174 "usb/usb.h" 1
 194 00a2 02E2      		ldi r16, 34
 195 00a4 0693      		.dc.w 0x9306
 196               		
 197               	 ;  0 "" 2
 198               	/* #NOAPP */
 199 00a6 00C0      		rjmp .L6
 200               	.LVL12:
 201               	.L3:
 202               	.LBE446:
 203               	.LBE445:
 204               	.LBE447:
 205               	.LBE451:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 206               		.loc 1 87 0
 207 00a8 8091 0000 		lds r24,ep_in_data+1
 208 00ac 8130      		cpi r24,lo8(1)
 209 00ae 01F0      		breq .L15
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 210               		.loc 1 91 0
 211 00b0 8230      		cpi r24,lo8(2)
 212 00b2 01F0      		breq .+2
 213 00b4 00C0      		rjmp .L2
 214               	.LVL13:
 215               	.LBB452:
 216               	.LBB453:
 217               	.LBB454:
 221:usb/usb.h     **** }
 222:usb/usb.h     **** 
 223:usb/usb.h     **** inline bool USB_ep_empty(uint8_t ep) ATTR_ALWAYS_INLINE;
 224:usb/usb.h     **** inline bool USB_ep_empty(uint8_t ep){
 225:usb/usb.h     **** 	_USB_EP(ep);
 226:usb/usb.h     **** 	if (ep & USB_EP_PP){
 227:usb/usb.h     **** 		const uint8_t mask = (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 218               		.loc 3 228 0
 219 00b6 8091 0000 		lds r24,endpoints+24
 220 00ba 8670      		andi r24,lo8(6)
 221               	.LBE454:
 222               	.LBE453:
 223               	.LBE452:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 224               		.loc 1 91 0
 225 00bc 8630      		cpi r24,lo8(6)
 226 00be 01F0      		breq .+2
 227 00c0 00C0      		rjmp .L2
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 228               		.loc 1 92 0
 229 00c2 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 230               		.loc 1 93 0
 231 00c6 1092 0000 		sts ep_in_data+2,__zero_reg__
 232 00ca 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 233               	.LBB455:
 234               	.LBB456:
  77:usb/pipe.h    **** }
  78:usb/pipe.h    **** 
  79:usb/pipe.h    **** static inline void pipe_done_write(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  80:usb/pipe.h    **** static inline void pipe_done_write(const Pipe* pipe){
  81:usb/pipe.h    **** 	pipe->data->count += 1;
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
  83:usb/pipe.h    **** 	// Assumes buffer_size % slot_size == 0 and all accesses aligned
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
  86:usb/pipe.h    **** }
  87:usb/pipe.h    **** 
  88:usb/pipe.h    **** static inline void pipe_reset(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  89:usb/pipe.h    **** static inline void pipe_reset(const Pipe* pipe){
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 235               		.loc 4 90 0
 236 00ce 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
  91:usb/pipe.h    **** 	pipe->data->read_ptr = pipe->data->write_ptr = pipe->buffer;
 237               		.loc 4 91 0
 238 00d2 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 239 00d4 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 240 00d6 8093 0000 		sts ep_in_pipe_data+2,r24
 241 00da 9093 0000 		sts ep_in_pipe_data+2+1,r25
 242 00de 8093 0000 		sts ep_in_pipe_data,r24
 243 00e2 9093 0000 		sts ep_in_pipe_data+1,r25
 244               	.LVL14:
 245 00e6 00C0      		rjmp .L2
 246               	.LVL15:
 247               	.L15:
 248               	.LBE456:
 249               	.LBE455:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 250               		.loc 1 88 0
 251 00e8 82E0      		ldi r24,lo8(2)
 252 00ea 8093 0000 		sts ep_in_data+1,r24
 253               	.LBB457:
 254               	.LBB458:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 255               		.loc 4 62 0
 256 00ee 7091 0000 		lds r23,ep_in_pipe_data
 257 00f2 6091 0000 		lds r22,ep_in_pipe_data+1
 258               	.LBE458:
 259               	.LBE457:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 260               		.loc 1 90 0
 261 00f6 8091 0000 		lds r24,ep_in_data+2
 262 00fa 9091 0000 		lds r25,ep_in_data+2+1
 263               	.LVL16:
 264               	.LBB459:
 265               	.LBB460:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 266               		.loc 1 68 0
 267 00fe 3091 0000 		lds r19,ep_in_data
 268               	.LVL17:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 269               		.loc 1 69 0
 270 0102 41E0      		ldi r20,lo8(1)
 271 0104 3130      		cpi r19,lo8(1)
 272 0106 01F0      		breq .L16
 273               	.L9:
 274 0108 4093 0000 		sts ep_in_data,r20
 275               	.LBB461:
 276               	.LBB462:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 277               		.loc 3 168 0
 278 010c 472F      		mov r20,r23
 279 010e 562F      		mov r21,r22
 280               	.LBE462:
 281               	.LBE461:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 282               		.loc 1 72 0
 283 0110 3323      		tst r19
 284 0112 01F4      		brne .L10
 285               	.LVL18:
 286               	.LBB464:
 287               	.LBB463:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 288               		.loc 3 168 0
 289 0114 4093 0000 		sts endpoints+28,r20
 290 0118 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 291               		.loc 3 169 0
 292 011c 8093 0000 		sts endpoints+26,r24
 293 0120 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 294               		.loc 3 174 0
 295 0124 E0E0      		ldi r30,lo8(endpoints+24)
 296 0126 F0E0      		ldi r31,hi8(endpoints+24)
 297               	.LVL19:
 298               	/* #APP */
 299               	 ;  174 "usb/usb.h" 1
 300 0128 02E2      		ldi r16, 34
 301 012a 0693      		.dc.w 0x9306
 302               		
 303               	 ;  0 "" 2
 304               	/* #NOAPP */
 305 012c 00C0      		rjmp .L2
 306               	.LVL20:
 307               	.L10:
 308               	.LBE463:
 309               	.LBE464:
 310               	.LBB465:
 311               	.LBB466:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 312               		.loc 3 168 0
 313 012e 4093 0000 		sts endpoints+20,r20
 314 0132 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 315               		.loc 3 169 0
 316 0136 8093 0000 		sts endpoints+18,r24
 317 013a 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 318               		.loc 3 176 0
 319 013e E0E0      		ldi r30,lo8(endpoints+24)
 320 0140 F0E0      		ldi r31,hi8(endpoints+24)
 321               	/* #APP */
 322               	 ;  176 "usb/usb.h" 1
 323 0142 04E1      		ldi r16, 20
 324 0144 0693      		.dc.w 0x9306
 325               		
 326               	 ;  0 "" 2
 327               	/* #NOAPP */
 328 0146 00C0      		rjmp .L2
 329               	.LVL21:
 330               	.L16:
 331               	.LBE466:
 332               	.LBE465:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 333               		.loc 1 69 0
 334 0148 40E0      		ldi r20,lo8(0)
 335 014a 00C0      		rjmp .L9
 336               	.LBE460:
 337               	.LBE459:
 338               	.LBE468:
 339               		.cfi_endproc
 340               	.LFE95:
 342               	.global	EVENT_USB_Device_ConfigurationChanged
 344               	EVENT_USB_Device_ConfigurationChanged:
 345               	.LFB57:
 346               		.file 5 "Framework.h"
   1:Framework.h   **** #pragma once
   2:Framework.h   **** #define F_CPU 32000000UL
   3:Framework.h   **** 
   4:Framework.h   **** // includes
   5:Framework.h   **** #include <avr/interrupt.h>
   6:Framework.h   **** #include <util/delay.h>
   7:Framework.h   **** #include "Descriptors.h"
   8:Framework.h   **** #include "usb/usb.h"
   9:Framework.h   **** #include "usb/usb_pipe.h"
  10:Framework.h   **** #include <avr/eeprom.h>
  11:Framework.h   **** #include <avr/io.h>
  12:Framework.h   **** 
  13:Framework.h   **** USB_PIPE(ep_in, 0x81 | USB_EP_PP, USB_EP_TYPE_BULK_gc, 64, 8, PIPE_ENABLE_FLUSH);
  14:Framework.h   **** 
  15:Framework.h   **** bool timeout_or_sampling_no_longer_enabled = 0;
  16:Framework.h   **** 
  17:Framework.h   **** // Queue a byte to be sent over the bulk EP. Blocks if the buffer is full
  18:Framework.h   **** static inline void send_byte(uint8_t byte){
  19:Framework.h   ****     // this should never actually block if your buffer is big enough
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
  21:Framework.h   **** 	usb_pipe_write_byte(&ep_in, byte);
  22:Framework.h   **** }
  23:Framework.h   **** 
  24:Framework.h   **** // Sends a break to end the USB read and flushes the USB pipe
  25:Framework.h   **** static inline void break_and_flush(){
  26:Framework.h   ****     usb_pipe_flush(&ep_in);
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
  30:Framework.h   ****             usb_pipe_reset(&ep_in);
  31:Framework.h   ****             return;
  32:Framework.h   ****         }
  33:Framework.h   ****     }
  34:Framework.h   **** } 
  35:Framework.h   **** 
  36:Framework.h   **** void EVENT_USB_Device_ConfigurationChanged(uint8_t config){
 347               		.loc 5 36 0
 348               		.cfi_startproc
 349               	.LVL22:
 350               	/* prologue: function */
 351               	/* frame size = 0 */
 352               	/* stack size = 0 */
 353               	.L__stack_usage = 0
 354               	.LBB469:
 355               	.LBB470:
  44:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 356               		.loc 1 44 0
 357 014c 2FB7      		in r18,__SREG__
 358               	.LVL23:
 359               	.LBB471:
 360               	.LBB472:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 361               		.loc 2 50 0
 362               	/* #APP */
 363               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 364 014e F894      		cli
 365               	 ;  0 "" 2
 366               	.LVL24:
 367               	/* #NOAPP */
 368               	.LBE472:
 369               	.LBE471:
 370               	.LBB473:
 371               	.LBB474:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 372               		.loc 4 90 0
 373 0150 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 374               		.loc 4 91 0
 375 0154 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 376 0156 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 377               	.LVL25:
 378 0158 8093 0000 		sts ep_in_pipe_data+2,r24
 379 015c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 380 0160 8093 0000 		sts ep_in_pipe_data,r24
 381 0164 9093 0000 		sts ep_in_pipe_data+1,r25
 382               	.LVL26:
 383               	.LBE474:
 384               	.LBE473:
 385               	.LBB475:
 386               	.LBB476:
 387               	.LBB477:
 144:usb/usb.h     **** 		e->STATUS = USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm;
 388               		.loc 3 144 0
 389 0168 80E0      		ldi r24,lo8(endpoints+24)
 390 016a 90E0      		ldi r25,hi8(endpoints+24)
 391 016c 36E0      		ldi r19,lo8(6)
 392 016e 3093 0000 		sts endpoints+24,r19
 145:usb/usb.h     **** 		e->CTRL = type | USB_EP_size_to_gc(bufsize) | USB_EP_PINGPONG_bm;
 393               		.loc 3 145 0
 394 0172 33E9      		ldi r19,lo8(-109)
 395 0174 3093 0000 		sts endpoints+25,r19
 146:usb/usb.h     **** 		other->CTRL = 0;
 396               		.loc 3 146 0
 397 0178 FC01      		movw r30,r24
 398 017a 3797      		sbiw r30,7
 399 017c 1082      		st Z,__zero_reg__
 147:usb/usb.h     **** 		other->STATUS = USB_EP_BUSNACK0_bm;
 400               		.loc 3 147 0
 401 017e 0897      		sbiw r24,8
 402 0180 32E0      		ldi r19,lo8(2)
 403 0182 FC01      		movw r30,r24
 404 0184 3083      		st Z,r19
 405               	.LBE477:
 406               	.LBE476:
 407               	.LBE475:
  47:usb/usb_pipe.h **** 		p->data->bank = 0;
 408               		.loc 1 47 0
 409 0186 1092 0000 		sts ep_in_data,__zero_reg__
  48:usb/usb_pipe.h **** 		p->data->flush = 0;
 410               		.loc 1 48 0
 411 018a 1092 0000 		sts ep_in_data+1,__zero_reg__
  49:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 412               		.loc 1 49 0
 413 018e 1092 0000 		sts ep_in_data+2,__zero_reg__
 414 0192 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 415               	.LVL27:
 416               	.LBB478:
 417               	.LBB479:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 418               		.loc 2 70 0
 419 0196 2FBF      		out __SREG__,r18
 420               		.loc 2 71 0
 421               	/* epilogue start */
 422               	.LBE479:
 423               	.LBE478:
 424               	.LBE470:
 425               	.LBE469:
  37:Framework.h   **** 	usb_pipe_init(&ep_in);
  38:Framework.h   **** }
 426               		.loc 5 38 0
 427 0198 0895      		ret
 428               		.cfi_endproc
 429               	.LFE57:
 431               	.global	__vector_125
 433               	__vector_125:
 434               	.LFB58:
  39:Framework.h   **** 
  40:Framework.h   **** ISR(USB_BUSEVENT_vect){
 435               		.loc 5 40 0
 436               		.cfi_startproc
 437 019a 1F92      		push r1
 438               	.LCFI1:
 439               		.cfi_def_cfa_offset 3
 440               		.cfi_offset 1, -2
 441 019c 0F92      		push r0
 442               	.LCFI2:
 443               		.cfi_def_cfa_offset 4
 444               		.cfi_offset 0, -3
 445 019e 0FB6      		in r0,__SREG__
 446 01a0 0F92      		push r0
 447 01a2 1124      		clr __zero_reg__
 448 01a4 2F93      		push r18
 449               	.LCFI3:
 450               		.cfi_def_cfa_offset 5
 451               		.cfi_offset 18, -4
 452 01a6 3F93      		push r19
 453               	.LCFI4:
 454               		.cfi_def_cfa_offset 6
 455               		.cfi_offset 19, -5
 456 01a8 4F93      		push r20
 457               	.LCFI5:
 458               		.cfi_def_cfa_offset 7
 459               		.cfi_offset 20, -6
 460 01aa 5F93      		push r21
 461               	.LCFI6:
 462               		.cfi_def_cfa_offset 8
 463               		.cfi_offset 21, -7
 464 01ac 6F93      		push r22
 465               	.LCFI7:
 466               		.cfi_def_cfa_offset 9
 467               		.cfi_offset 22, -8
 468 01ae 7F93      		push r23
 469               	.LCFI8:
 470               		.cfi_def_cfa_offset 10
 471               		.cfi_offset 23, -9
 472 01b0 8F93      		push r24
 473               	.LCFI9:
 474               		.cfi_def_cfa_offset 11
 475               		.cfi_offset 24, -10
 476 01b2 9F93      		push r25
 477               	.LCFI10:
 478               		.cfi_def_cfa_offset 12
 479               		.cfi_offset 25, -11
 480 01b4 AF93      		push r26
 481               	.LCFI11:
 482               		.cfi_def_cfa_offset 13
 483               		.cfi_offset 26, -12
 484 01b6 BF93      		push r27
 485               	.LCFI12:
 486               		.cfi_def_cfa_offset 14
 487               		.cfi_offset 27, -13
 488 01b8 EF93      		push r30
 489               	.LCFI13:
 490               		.cfi_def_cfa_offset 15
 491               		.cfi_offset 30, -14
 492 01ba FF93      		push r31
 493               	.LCFI14:
 494               		.cfi_def_cfa_offset 16
 495               		.cfi_offset 31, -15
 496               	/* prologue: Signal */
 497               	/* frame size = 0 */
 498               	/* stack size = 15 */
 499               	.L__stack_usage = 15
  41:Framework.h   **** 	if (USB.INTFLAGSACLR & USB_SOFIF_bm){
 500               		.loc 5 41 0
 501 01bc E0EC      		ldi r30,lo8(1216)
 502 01be F4E0      		ldi r31,hi8(1216)
 503 01c0 8091 CA04 		lds r24,1226
 504 01c4 87FD      		sbrc r24,7
 505 01c6 00C0      		rjmp .L23
  42:Framework.h   **** 		USB.INTFLAGSACLR = USB_SOFIF_bm;
  43:Framework.h   **** 	}else if (USB.INTFLAGSACLR & (USB_CRCIF_bm | USB_UNFIF_bm | USB_OVFIF_bm)){
 506               		.loc 5 43 0
 507 01c8 8091 CA04 		lds r24,1226
 508 01cc 8E70      		andi r24,lo8(14)
 509 01ce 01F4      		brne .L24
  44:Framework.h   **** 		USB.INTFLAGSACLR = (USB_CRCIF_bm | USB_UNFIF_bm | USB_OVFIF_bm);
  45:Framework.h   **** 	}else if (USB.INTFLAGSACLR & USB_STALLIF_bm){
 510               		.loc 5 45 0
 511 01d0 8091 CA04 		lds r24,1226
 512 01d4 80FD      		sbrc r24,0
 513 01d6 00C0      		rjmp .L25
  46:Framework.h   **** 		USB.INTFLAGSACLR = USB_STALLIF_bm;
  47:Framework.h   **** 	}else{
  48:Framework.h   **** 		USB.INTFLAGSACLR = USB_SUSPENDIF_bm | USB_RESUMEIF_bm | USB_RSTIF_bm;
 514               		.loc 5 48 0
 515 01d8 80E7      		ldi r24,lo8(112)
 516 01da 8287      		std Z+10,r24
 517               	.LBB480:
 518               	.LBB481:
 229:usb/usb.h     **** 	}else{
 230:usb/usb.h     **** 		return e->STATUS & USB_EP_BUSNACK0_bm;
 231:usb/usb.h     **** 	}
 232:usb/usb.h     **** }
 233:usb/usb.h     **** 
 234:usb/usb.h     **** inline uint16_t USB_ep_count_bank(uint8_t ep, uint8_t bank) ATTR_ALWAYS_INLINE;
 235:usb/usb.h     **** inline uint16_t USB_ep_count_bank(uint8_t ep, uint8_t bank){
 236:usb/usb.h     **** 	_USB_EP(ep);
 237:usb/usb.h     **** 	_USB_EP_BANK(ep, bank);
 238:usb/usb.h     **** 	return b->CNT;
 239:usb/usb.h     **** }
 240:usb/usb.h     **** 
 241:usb/usb.h     **** inline uint16_t USB_ep_count(uint8_t ep) ATTR_ALWAYS_INLINE;
 242:usb/usb.h     **** inline uint16_t USB_ep_count(uint8_t ep){
 243:usb/usb.h     **** 	return USB_ep_count_bank(ep, 0);
 244:usb/usb.h     **** }
 245:usb/usb.h     **** 
 246:usb/usb.h     **** inline void USB_ep0_send(uint8_t size){
 247:usb/usb.h     **** 	USB_ep_in_start(0x80, ep0_buf_in, size);
 248:usb/usb.h     **** }
 249:usb/usb.h     **** void USB_ep0_send_progmem(const uint8_t* addr, uint16_t size);
 250:usb/usb.h     **** 
 251:usb/usb.h     **** inline void USB_ep_wait(uint8_t ep) ATTR_ALWAYS_INLINE;
 252:usb/usb.h     **** inline void USB_ep_wait(uint8_t ep){
 253:usb/usb.h     **** 	while (!USB_ep_done(ep)){};
 254:usb/usb.h     **** }
 255:usb/usb.h     **** 
 256:usb/usb.h     **** /// Select a certain bank of an endpoint for the next transfer
 257:usb/usb.h     **** inline void USB_ep_set_bank(uint8_t ep, uint8_t bank) ATTR_ALWAYS_INLINE;
 258:usb/usb.h     **** inline void USB_ep_set_bank(uint8_t ep, uint8_t bank){
 259:usb/usb.h     **** 	_USB_EP(ep);
 260:usb/usb.h     **** 	if (bank){
 261:usb/usb.h     **** 		LASR16(&(e->STATUS), USB_EP_BANK_bm);
 262:usb/usb.h     **** 	}else{
 263:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BANK_bm);
 264:usb/usb.h     **** 	}
 265:usb/usb.h     **** }
 266:usb/usb.h     **** 
 267:usb/usb.h     **** /// Get the bank 0/1 which will handle the next request on this endpoint
 268:usb/usb.h     **** inline uint8_t USB_ep_get_bank(uint8_t ep) ATTR_ALWAYS_INLINE;
 269:usb/usb.h     **** inline uint8_t USB_ep_get_bank(uint8_t ep){
 270:usb/usb.h     **** 	_USB_EP(ep);
 271:usb/usb.h     **** 	return !!(e->STATUS & USB_EP_BANK_bm);
 272:usb/usb.h     **** }
 273:usb/usb.h     **** 
 274:usb/usb.h     **** 
 275:usb/usb.h     **** // Enable the OUT stage on the default control pipe. This happens automatically
 276:usb/usb.h     **** // upon the return of HandleSetup, but use this function if it needs to happen
 277:usb/usb.h     **** // before returning (e.g. with USB_ep_wait()).
 278:usb/usb.h     **** inline void USB_ep0_enableOut(void) ATTR_ALWAYS_INLINE;
 279:usb/usb.h     **** inline void USB_ep0_enableOut(void){
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 281:usb/usb.h     **** }
 282:usb/usb.h     **** 
 283:usb/usb.h     **** bool USB_HandleSetup(void);
 284:usb/usb.h     **** 
 285:usb/usb.h     **** uint16_t CALLBACK_USB_GetDescriptor(const uint16_t wValue,
 286:usb/usb.h     ****                                     const uint8_t wIndex,
 287:usb/usb.h     ****                                     const void** const DescriptorAddress);
 288:usb/usb.h     **** 
 289:usb/usb.h     **** /** Detaches the device from the USB bus. This has the effect of removing the device from any
 290:usb/usb.h     ****  *  attached host, ceasing USB communications. If no host is present, this prevents any host from
 291:usb/usb.h     ****  *  enumerating the device once attached until \ref USB_Attach() is called.
 292:usb/usb.h     ****  */
 293:usb/usb.h     **** static inline void USB_Detach(void) ATTR_ALWAYS_INLINE;
 294:usb/usb.h     **** static inline void USB_Detach(void)
 295:usb/usb.h     **** {
 296:usb/usb.h     **** 	USB.CTRLB &= ~USB_ATTACH_bm;
 297:usb/usb.h     **** }
 298:usb/usb.h     **** 
 299:usb/usb.h     **** /** Attaches the device to the USB bus. This announces the device's presence to any attached
 300:usb/usb.h     ****  *  USB host, starting the enumeration process. If no host is present, attaching the device
 301:usb/usb.h     ****  *  will allow for enumeration once a host is connected to the device.
 302:usb/usb.h     ****  */
 303:usb/usb.h     **** static inline void USB_Attach(void) ATTR_ALWAYS_INLINE;
 304:usb/usb.h     **** static inline void USB_Attach(void)
 305:usb/usb.h     **** {
 306:usb/usb.h     **** 	USB.CTRLB |= USB_ATTACH_bm;
 307:usb/usb.h     **** }
 308:usb/usb.h     **** 
 309:usb/usb.h     **** inline void USB_Evt_Task(void) ATTR_ALWAYS_INLINE;
 310:usb/usb.h     **** inline void USB_Evt_Task(void){
 311:usb/usb.h     **** 	if (USB.STATUS & USB_BUSRST_bm){
 519               		.loc 3 311 0
 520 01dc 8091 C204 		lds r24,1218
 521 01e0 80FF      		sbrs r24,0
 522 01e2 00C0      		rjmp .L18
 312:usb/usb.h     **** 		USB.STATUS &= ~USB_BUSRST_bm;
 523               		.loc 3 312 0
 524 01e4 8091 C204 		lds r24,1218
 525 01e8 8E7F      		andi r24,lo8(-2)
 526 01ea 8283      		std Z+2,r24
 313:usb/usb.h     **** 		USB_Init();
 527               		.loc 3 313 0
 528 01ec 0E94 0000 		call USB_Init
 529 01f0 00C0      		rjmp .L18
 530               	.L24:
 531               	.LBE481:
 532               	.LBE480:
  44:Framework.h   **** 		USB.INTFLAGSACLR = (USB_CRCIF_bm | USB_UNFIF_bm | USB_OVFIF_bm);
 533               		.loc 5 44 0
 534 01f2 8EE0      		ldi r24,lo8(14)
 535 01f4 8287      		std Z+10,r24
 536               	.L18:
 537               	/* epilogue start */
  49:Framework.h   **** 		USB_Evt_Task();
  50:Framework.h   **** 	}
  51:Framework.h   **** }
 538               		.loc 5 51 0
 539 01f6 FF91      		pop r31
 540 01f8 EF91      		pop r30
 541 01fa BF91      		pop r27
 542 01fc AF91      		pop r26
 543 01fe 9F91      		pop r25
 544 0200 8F91      		pop r24
 545 0202 7F91      		pop r23
 546 0204 6F91      		pop r22
 547 0206 5F91      		pop r21
 548 0208 4F91      		pop r20
 549 020a 3F91      		pop r19
 550 020c 2F91      		pop r18
 551 020e 0F90      		pop r0
 552 0210 0FBE      		out __SREG__,r0
 553 0212 0F90      		pop r0
 554 0214 1F90      		pop r1
 555 0216 1895      		reti
 556               	.L25:
  46:Framework.h   **** 		USB.INTFLAGSACLR = USB_STALLIF_bm;
 557               		.loc 5 46 0
 558 0218 81E0      		ldi r24,lo8(1)
 559 021a 8287      		std Z+10,r24
 560 021c 00C0      		rjmp .L18
 561               	.L23:
  42:Framework.h   **** 		USB.INTFLAGSACLR = USB_SOFIF_bm;
 562               		.loc 5 42 0
 563 021e 80E8      		ldi r24,lo8(-128)
 564 0220 8287      		std Z+10,r24
 565 0222 00C0      		rjmp .L18
 566               		.cfi_endproc
 567               	.LFE58:
 569               	.global	__vector_126
 571               	__vector_126:
 572               	.LFB59:
  52:Framework.h   **** 
  53:Framework.h   **** ISR(USB_TRNCOMPL_vect){
 573               		.loc 5 53 0
 574               		.cfi_startproc
 575 0224 1F92      		push r1
 576               	.LCFI15:
 577               		.cfi_def_cfa_offset 3
 578               		.cfi_offset 1, -2
 579 0226 0F92      		push r0
 580               	.LCFI16:
 581               		.cfi_def_cfa_offset 4
 582               		.cfi_offset 0, -3
 583 0228 0FB6      		in r0,__SREG__
 584 022a 0F92      		push r0
 585 022c 1124      		clr __zero_reg__
 586 022e 0F93      		push r16
 587               	.LCFI17:
 588               		.cfi_def_cfa_offset 5
 589               		.cfi_offset 16, -4
 590 0230 2F93      		push r18
 591               	.LCFI18:
 592               		.cfi_def_cfa_offset 6
 593               		.cfi_offset 18, -5
 594 0232 3F93      		push r19
 595               	.LCFI19:
 596               		.cfi_def_cfa_offset 7
 597               		.cfi_offset 19, -6
 598 0234 4F93      		push r20
 599               	.LCFI20:
 600               		.cfi_def_cfa_offset 8
 601               		.cfi_offset 20, -7
 602 0236 5F93      		push r21
 603               	.LCFI21:
 604               		.cfi_def_cfa_offset 9
 605               		.cfi_offset 21, -8
 606 0238 6F93      		push r22
 607               	.LCFI22:
 608               		.cfi_def_cfa_offset 10
 609               		.cfi_offset 22, -9
 610 023a 7F93      		push r23
 611               	.LCFI23:
 612               		.cfi_def_cfa_offset 11
 613               		.cfi_offset 23, -10
 614 023c 8F93      		push r24
 615               	.LCFI24:
 616               		.cfi_def_cfa_offset 12
 617               		.cfi_offset 24, -11
 618 023e 9F93      		push r25
 619               	.LCFI25:
 620               		.cfi_def_cfa_offset 13
 621               		.cfi_offset 25, -12
 622 0240 AF93      		push r26
 623               	.LCFI26:
 624               		.cfi_def_cfa_offset 14
 625               		.cfi_offset 26, -13
 626 0242 BF93      		push r27
 627               	.LCFI27:
 628               		.cfi_def_cfa_offset 15
 629               		.cfi_offset 27, -14
 630 0244 EF93      		push r30
 631               	.LCFI28:
 632               		.cfi_def_cfa_offset 16
 633               		.cfi_offset 30, -15
 634 0246 FF93      		push r31
 635               	.LCFI29:
 636               		.cfi_def_cfa_offset 17
 637               		.cfi_offset 31, -16
 638               	/* prologue: Signal */
 639               	/* frame size = 0 */
 640               	/* stack size = 16 */
 641               	.L__stack_usage = 16
  54:Framework.h   **** 	USB.FIFOWP = 0;
 642               		.loc 5 54 0
 643 0248 E0EC      		ldi r30,lo8(1216)
 644 024a F4E0      		ldi r31,hi8(1216)
 645 024c 1482      		std Z+4,__zero_reg__
  55:Framework.h   **** 	USB.INTFLAGSBCLR = USB_SETUPIF_bm | USB_TRNIF_bm;
 646               		.loc 5 55 0
 647 024e 83E0      		ldi r24,lo8(3)
 648 0250 8487      		std Z+12,r24
 649               	.LVL28:
 650               	.LBB538:
 651               	.LBB539:
 652               	.LBB540:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 653               		.loc 1 80 0
 654 0252 2FB7      		in r18,__SREG__
 655               	.LVL29:
 656               	.LBB541:
 657               	.LBB542:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 658               		.loc 2 50 0
 659               	/* #APP */
 660               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 661 0254 F894      		cli
 662               	 ;  0 "" 2
 663               	.LVL30:
 664               	/* #NOAPP */
 665               	.LBE542:
 666               	.LBE541:
 667               	.LBB543:
 668               	.LBB544:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 669               		.loc 3 220 0
 670 0256 8091 0000 		lds r24,endpoints+24
 671 025a 8670      		andi r24,lo8(6)
 672               	.LBE544:
 673               	.LBE543:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 674               		.loc 1 82 0
 675 025c 01F4      		brne .L41
 676               	.LVL31:
 677               	.L27:
 678               	.LBB545:
 679               	.LBB546:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 680               		.loc 2 70 0
 681 025e 2FBF      		out __SREG__,r18
 682               		.loc 2 71 0
 683               	.LBE546:
 684               	.LBE545:
 685               	.LBE540:
 686               	.LBE539:
 687               	.LBE538:
 688               	.LBB584:
 689               	.LBB585:
 314:usb/usb.h     **** 	}
 315:usb/usb.h     **** }
 316:usb/usb.h     **** 
 317:usb/usb.h     **** inline void USB_Task(void) ATTR_ALWAYS_INLINE;
 318:usb/usb.h     **** inline void USB_Task(void){
 319:usb/usb.h     **** 	// Read once to prevent race condition where SETUP packet is interpreted as OUT
 320:usb/usb.h     **** 	uint8_t status = endpoints[0].out.STATUS;
 690               		.loc 3 320 0
 691 0260 8091 0000 		lds r24,endpoints
 692               	.LVL32:
 321:usb/usb.h     **** 
 322:usb/usb.h     **** 	if (status & USB_EP_SETUP_bm){
 693               		.loc 3 322 0
 694 0264 84FD      		sbrc r24,4
 695 0266 00C0      		rjmp .L42
 696               	.L36:
 323:usb/usb.h     **** 		if (!USB_HandleSetup()){
 324:usb/usb.h     **** 			endpoints[0].out.CTRL |= USB_EP_STALL_bm;
 325:usb/usb.h     **** 			endpoints[0].in.CTRL |= USB_EP_STALL_bm; 
 326:usb/usb.h     **** 		}
 327:usb/usb.h     **** 		USB_ep0_enableOut();
 328:usb/usb.h     **** 	}else if(status & USB_EP_TRNCOMPL0_bm){
 697               		.loc 3 328 0
 698 0268 85FD      		sbrc r24,5
 699 026a 00C0      		rjmp .L43
 700               	.LVL33:
 701               	.L26:
 702               	/* epilogue start */
 703               	.LBE585:
 704               	.LBE584:
  56:Framework.h   **** 	usb_pipe_handle(&ep_in);
  57:Framework.h   **** 	USB_Task();
  58:Framework.h   **** }
 705               		.loc 5 58 0
 706 026c FF91      		pop r31
 707 026e EF91      		pop r30
 708 0270 BF91      		pop r27
 709 0272 AF91      		pop r26
 710 0274 9F91      		pop r25
 711 0276 8F91      		pop r24
 712 0278 7F91      		pop r23
 713 027a 6F91      		pop r22
 714 027c 5F91      		pop r21
 715 027e 4F91      		pop r20
 716 0280 3F91      		pop r19
 717 0282 2F91      		pop r18
 718 0284 0F91      		pop r16
 719 0286 0F90      		pop r0
 720 0288 0FBE      		out __SREG__,r0
 721 028a 0F90      		pop r0
 722 028c 1F90      		pop r1
 723 028e 1895      		reti
 724               	.LVL34:
 725               	.L41:
 726               	.LBB594:
 727               	.LBB581:
 728               	.LBB578:
 729               	.LBB548:
 730               	.LBB549:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 731               		.loc 4 51 0
 732 0290 3091 0000 		lds r19,ep_in_pipe_data+4
 733               	.LBE549:
 734               	.LBE548:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 735               		.loc 1 83 0
 736 0294 1316      		cp __zero_reg__,r19
 737 0296 04F0      		brlt .+2
 738 0298 00C0      		rjmp .L28
 739               	.LBB550:
 740               	.LBB551:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 741               		.loc 4 62 0
 742 029a 8091 0000 		lds r24,ep_in_pipe_data
 743 029e 9091 0000 		lds r25,ep_in_pipe_data+1
 744               	.LVL35:
 745               	.LBE551:
 746               	.LBE550:
 747               	.LBB552:
 748               	.LBB553:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 749               		.loc 1 68 0
 750 02a2 4091 0000 		lds r20,ep_in_data
 751               	.LVL36:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 752               		.loc 1 69 0
 753 02a6 51E0      		ldi r21,lo8(1)
 754 02a8 4130      		cpi r20,lo8(1)
 755 02aa 01F4      		brne .+2
 756 02ac 00C0      		rjmp .L44
 757 02ae 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 758               		.loc 1 72 0
 759 02b2 4423      		tst r20
 760 02b4 01F4      		brne .+2
 761 02b6 00C0      		rjmp .L45
 762               	.L30:
 763               	.LVL37:
 764               	.LBB554:
 765               	.LBB555:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 766               		.loc 3 168 0
 767 02b8 8093 0000 		sts endpoints+20,r24
 768 02bc 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 769               		.loc 3 169 0
 770 02c0 40E4      		ldi r20,lo8(64)
 771 02c2 50E0      		ldi r21,hi8(64)
 772 02c4 4093 0000 		sts endpoints+18,r20
 773 02c8 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 774               		.loc 3 176 0
 775 02cc E0E0      		ldi r30,lo8(endpoints+24)
 776 02ce F0E0      		ldi r31,hi8(endpoints+24)
 777               	/* #APP */
 778               	 ;  176 "usb/usb.h" 1
 779 02d0 04E1      		ldi r16, 20
 780 02d2 0693      		.dc.w 0x9306
 781               		
 782               	 ;  0 "" 2
 783               	.LVL38:
 784               	/* #NOAPP */
 785               	.L31:
 786               	.LBE555:
 787               	.LBE554:
 788               	.LBE553:
 789               	.LBE552:
 790               	.LBB559:
 791               	.LBB560:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 792               		.loc 4 72 0
 793 02d4 3150      		subi r19,lo8(-(-1))
 794 02d6 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 795               		.loc 4 73 0
 796 02da 805C      		subi r24,lo8(-(64))
 797 02dc 9F4F      		sbci r25,hi8(-(64))
 798 02de 8093 0000 		sts ep_in_pipe_data,r24
 799 02e2 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 800               		.loc 4 75 0
 801 02e6 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 802 02e8 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 803 02ea 9307      		cpc r25,r19
 804 02ec 01F0      		breq .+2
 805 02ee 00C0      		rjmp .L27
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 806               		.loc 4 76 0
 807 02f0 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 808 02f2 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 809 02f4 8093 0000 		sts ep_in_pipe_data,r24
 810 02f8 9093 0000 		sts ep_in_pipe_data+1,r25
 811               	.LBE560:
 812               	.LBE559:
 813               	.LBB561:
 814               	.LBB547:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 815               		.loc 2 70 0
 816 02fc 2FBF      		out __SREG__,r18
 817               		.loc 2 71 0
 818               	.LBE547:
 819               	.LBE561:
 820               	.LBE578:
 821               	.LBE581:
 822               	.LBE594:
 823               	.LBB595:
 824               	.LBB592:
 320:usb/usb.h     **** 	uint8_t status = endpoints[0].out.STATUS;
 825               		.loc 3 320 0
 826 02fe 8091 0000 		lds r24,endpoints
 827               	.LVL39:
 322:usb/usb.h     **** 	if (status & USB_EP_SETUP_bm){
 828               		.loc 3 322 0
 829 0302 84FF      		sbrs r24,4
 830 0304 00C0      		rjmp .L36
 831               	.LVL40:
 832               	.L42:
 323:usb/usb.h     **** 		if (!USB_HandleSetup()){
 833               		.loc 3 323 0
 834 0306 0E94 0000 		call USB_HandleSetup
 835               	.LVL41:
 836 030a 8823      		tst r24
 837 030c 01F4      		brne .L39
 324:usb/usb.h     **** 			endpoints[0].out.CTRL |= USB_EP_STALL_bm;
 838               		.loc 3 324 0
 839 030e 8091 0000 		lds r24,endpoints+1
 840 0312 8460      		ori r24,lo8(4)
 841 0314 8093 0000 		sts endpoints+1,r24
 325:usb/usb.h     **** 			endpoints[0].in.CTRL |= USB_EP_STALL_bm; 
 842               		.loc 3 325 0
 843 0318 8091 0000 		lds r24,endpoints+9
 844 031c 8460      		ori r24,lo8(4)
 845 031e 8093 0000 		sts endpoints+9,r24
 846               	.L39:
 847               	.LBB586:
 848               	.LBB587:
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 849               		.loc 3 280 0
 850 0322 E0E0      		ldi r30,lo8(endpoints)
 851 0324 F0E0      		ldi r31,hi8(endpoints)
 852               	/* #APP */
 853               	 ;  280 "usb/usb.h" 1
 854 0326 02E7      		ldi r16, 114
 855 0328 0693      		.dc.w 0x9306
 856               		
 857               	 ;  0 "" 2
 858               	/* #NOAPP */
 859 032a 00C0      		rjmp .L26
 860               	.LVL42:
 861               	.L44:
 862               	.LBE587:
 863               	.LBE586:
 864               	.LBE592:
 865               	.LBE595:
 866               	.LBB596:
 867               	.LBB582:
 868               	.LBB579:
 869               	.LBB562:
 870               	.LBB558:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 871               		.loc 1 69 0
 872 032c 50E0      		ldi r21,lo8(0)
 873 032e 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 874               		.loc 1 72 0
 875 0332 4423      		tst r20
 876 0334 01F0      		breq .+2
 877 0336 00C0      		rjmp .L30
 878               	.L45:
 879               	.LVL43:
 880               	.LBB556:
 881               	.LBB557:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 882               		.loc 3 168 0
 883 0338 8093 0000 		sts endpoints+28,r24
 884 033c 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 885               		.loc 3 169 0
 886 0340 40E4      		ldi r20,lo8(64)
 887 0342 50E0      		ldi r21,hi8(64)
 888               	.LVL44:
 889 0344 4093 0000 		sts endpoints+26,r20
 890 0348 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 891               		.loc 3 174 0
 892 034c E0E0      		ldi r30,lo8(endpoints+24)
 893 034e F0E0      		ldi r31,hi8(endpoints+24)
 894               	.LVL45:
 895               	/* #APP */
 896               	 ;  174 "usb/usb.h" 1
 897 0350 02E2      		ldi r16, 34
 898 0352 0693      		.dc.w 0x9306
 899               		
 900               	 ;  0 "" 2
 901               	/* #NOAPP */
 902 0354 00C0      		rjmp .L31
 903               	.LVL46:
 904               	.L43:
 905               	.LBE557:
 906               	.LBE556:
 907               	.LBE558:
 908               	.LBE562:
 909               	.LBE579:
 910               	.LBE582:
 911               	.LBE596:
 912               	.LBB597:
 913               	.LBB593:
 329:usb/usb.h     **** 		EVENT_USB_Device_ControlOUT((uint8_t *) ep0_buf_out, endpoints[0].out.CNT);
 914               		.loc 3 329 0
 915 0356 4091 0000 		lds r20,endpoints+2
 916 035a 5091 0000 		lds r21,endpoints+2+1
 917               	.LVL47:
 918               	.LBB589:
 919               	.LBB590:
 920               		.file 6 "main.c"
   1:main.c        **** #include "Framework.h"
   2:main.c        **** #include <avr/io.h>
   3:main.c        **** #include <inttypes.h>
   4:main.c        **** #include <stdio.h> 
   5:main.c        **** #include <stdlib.h>
   6:main.c        **** #include <util/delay.h>
   7:main.c        **** #include <string.h> 
   8:main.c        **** #include <math.h>
   9:main.c        **** #include "concat/concat.h"
  10:main.c        **** #include "nmea/nmea.h"
  11:main.c        **** #include "uart/uart.h"
  12:main.c        **** #include "gps/gps.h"
  13:main.c        **** #include "gprs/gprs.h"
  14:main.c        **** #include "sms/sms.h"
  15:main.c        **** 
  16:main.c        **** //sample nmea strings for testing parser
  17:main.c        **** char* twilio_number = "+13042493059";
  18:main.c        **** char *message;
  19:main.c        **** bool updating = false;
  20:main.c        **** 
  21:main.c        **** int main(void){
  22:main.c        **** 
  23:main.c        ****   //usb configuration
  24:main.c        **** 	USB_ConfigureClock();
  25:main.c        **** 	USB_Init();
  26:main.c        **** 	USB.INTCTRLA = USB_BUSEVIE_bm | USB_INTLVL_MED_gc;
  27:main.c        **** 	USB.INTCTRLB = USB_TRNIE_bm | USB_SETUPIE_bm;
  28:main.c        **** 	PMIC.CTRL = PMIC_LOLVLEN_bm | PMIC_MEDLVLEN_bm;
  29:main.c        **** 	sei();
  30:main.c        **** 
  31:main.c        ****   //uart init code -- change condition to true when we're ready to communicate with the gps
  32:main.c        **** 	if (true) {
  33:main.c        **** 		gps_init();
  34:main.c        **** 	}
  35:main.c        **** 
  36:main.c        ****   if (false) {
  37:main.c        ****     gprs_init();
  38:main.c        ****   }
  39:main.c        **** 
  40:main.c        ****   break_and_flush();
  41:main.c        **** 
  42:main.c        ****   //call break and flush to make sure the buffer is cleared
  43:main.c        **** 	// break_and_flush();
  44:main.c        **** 
  45:main.c        ****   // parse nmea string and send result over usb
  46:main.c        ****   // char* text_message = parse_nmea();
  47:main.c        **** 
  48:main.c        ****   // char* phonenumber = "+15402095219";
  49:main.c        ****   // send_message(phonenumber, text_message, &USARTD0);
  50:main.c        ****   // send_message(twilio_number, text_message, &USARTD0);
  51:main.c        ****   // SimpleReceive(&USARTD0);
  52:main.c        **** 
  53:main.c        **** 	for (;;){
  54:main.c        ****     //heart of the firmware logic goes here
  55:main.c        ****     gps_receive();
  56:main.c        **** 	}
  57:main.c        **** }
  58:main.c        **** 
  59:main.c        **** #define stringify(s) #s
  60:main.c        **** 
  61:main.c        **** const char PROGMEM hwversion[] = stringify(HW_VERSION);
  62:main.c        **** const char PROGMEM fwversion[] = stringify(FW_VERSION);
  63:main.c        **** 
  64:main.c        **** uint8_t usb_cmd = 0;
  65:main.c        **** uint8_t cmd_data = 0;
  66:main.c        **** 
  67:main.c        **** // void send_usb_data(char *message) {
  68:main.c        **** // 	for (uint8_t = 0; i < 64; i++) ep0_buf_in[i] = 0;
  69:main.c        **** // 	int l = strlen(message);
  70:main.c        **** // 	for (int i=0; i<l; i++) {
  71:main.c        **** // 		ep0_buf_in[i] = message[i];
  72:main.c        **** // 	}
  73:main.c        **** // }
  74:main.c        **** 
  75:main.c        **** /** Event handler for the library USB Control Request reception event. */
  76:main.c        **** bool EVENT_USB_Device_ControlRequest(USB_Request_Header_t* req){
  77:main.c        **** 	// zero out ep0_buf_in
  78:main.c        **** 	for (uint8_t i = 0; i < 64; i++) ep0_buf_in[i] = 0;
  79:main.c        **** 	usb_cmd = 0;
  80:main.c        **** 	if ((req->bmRequestType & CONTROL_REQTYPE_TYPE) == REQTYPE_VENDOR){
  81:main.c        **** 		switch(req->bRequest){
  82:main.c        **** 			case 0x00: // Info
  83:main.c        **** 				if (req->wIndex == 0){
  84:main.c        **** 					USB_ep0_send_progmem((uint8_t*)hwversion, sizeof(hwversion));
  85:main.c        **** 				}else if (req->wIndex == 1){
  86:main.c        **** 					USB_ep0_send_progmem((uint8_t*)fwversion, sizeof(fwversion));
  87:main.c        **** 				}
  88:main.c        **** 				return true;
  89:main.c        **** 			case 0x02:
  90:main.c        **** 				{
  91:main.c        **** 					int l = strlen(message);
  92:main.c        **** 					for (uint8_t i=0; i<64; i++) {
  93:main.c        **** 						ep0_buf_in[i] = message[i];
  94:main.c        **** 					}
  95:main.c        **** 					USB_ep0_send(l);
  96:main.c        **** 					return true;
  97:main.c        **** 				}
  98:main.c        **** 			case 0x08:
  99:main.c        **** 				* ((uint8_t *) req->wIndex) = req->wValue;
 100:main.c        **** 				USB_ep0_send(0);
 101:main.c        **** 				return true;
 102:main.c        **** 			case 0x09:
 103:main.c        **** 				ep0_buf_in[0] = * ((uint8_t *) req->wIndex);
 104:main.c        **** 				USB_ep0_send(1);
 105:main.c        **** 				return true;
 106:main.c        **** 			case 0x16:
 107:main.c        **** 				* ((uint16_t *) req->wIndex) = req->wValue;
 108:main.c        **** 				USB_ep0_send(0);
 109:main.c        **** 				return true;
 110:main.c        **** 			case 0x17:{
 111:main.c        **** 				uint16_t *addr;
 112:main.c        **** 				addr = (uint16_t *) req->wIndex;
 113:main.c        **** 				ep0_buf_in[0] = *addr & 0xFF;
 114:main.c        **** 				ep0_buf_in[1] = *addr >> 8;
 115:main.c        **** 				USB_ep0_send(2);}
 116:main.c        **** 				return true;
 117:main.c        **** 			// read EEPROM	
 118:main.c        **** 			case 0xE0: 
 119:main.c        **** 				eeprom_read_block(ep0_buf_in, (void*)(req->wIndex*64), 64);
 120:main.c        **** 				USB_ep0_send(64);
 121:main.c        **** 				return true;
 122:main.c        **** 
 123:main.c        **** 			// write EEPROM	
 124:main.c        **** 			case 0xE1: 
 125:main.c        **** 				usb_cmd = req->bRequest;
 126:main.c        **** 				cmd_data = req->wIndex;
 127:main.c        **** 				USB_ep0_send(0);
 128:main.c        **** 				return true; // Wait for OUT data (expecting an OUT transfer)
 129:main.c        **** 
 130:main.c        **** 			// disconnect from USB, jump to bootloader	
 131:main.c        **** 			case 0xBB: 
 132:main.c        **** 				USB_enter_bootloader();
 133:main.c        **** 				return true;
 134:main.c        **** 		}
 135:main.c        **** 	}
 136:main.c        **** 	return false;
 137:main.c        **** }
 138:main.c        **** 
 139:main.c        **** void EVENT_USB_Device_ControlOUT(uint8_t* buf, uint8_t count){
 140:main.c        **** 	switch (usb_cmd){
 921               		.loc 6 140 0
 922 035e 8091 0000 		lds r24,usb_cmd
 923               	.LVL48:
 924 0362 813E      		cpi r24,lo8(-31)
 925 0364 01F4      		brne .L39
 141:main.c        **** 		case 0xE1: // Write EEPROM
 142:main.c        **** 			eeprom_update_block(buf, (void*)(cmd_data*64), count);
 926               		.loc 6 142 0
 927 0366 6091 0000 		lds r22,cmd_data
 928 036a 70E0      		ldi r23,lo8(0)
 929 036c 0024      		clr __tmp_reg__
 930 036e 7695      		lsr r23
 931 0370 6795      		ror r22
 932 0372 0794      		ror __tmp_reg__
 933 0374 7695      		lsr r23
 934 0376 6795      		ror r22
 935 0378 0794      		ror __tmp_reg__
 936 037a 762F      		mov r23,r22
 937 037c 602D      		mov r22,__tmp_reg__
 938 037e 80E0      		ldi r24,lo8(ep0_buf_out)
 939 0380 90E0      		ldi r25,hi8(ep0_buf_out)
 940 0382 50E0      		ldi r21,lo8(0)
 941 0384 0E94 0000 		call __eeupd_block_x32a4u
 942               	.LVL49:
 943               	.LBE590:
 944               	.LBE589:
 945               	.LBB591:
 946               	.LBB588:
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 947               		.loc 3 280 0
 948 0388 E0E0      		ldi r30,lo8(endpoints)
 949 038a F0E0      		ldi r31,hi8(endpoints)
 950               	/* #APP */
 951               	 ;  280 "usb/usb.h" 1
 952 038c 02E7      		ldi r16, 114
 953 038e 0693      		.dc.w 0x9306
 954               		
 955               	 ;  0 "" 2
 956               	/* #NOAPP */
 957 0390 00C0      		rjmp .L26
 958               	.LVL50:
 959               	.L28:
 960               	.LBE588:
 961               	.LBE591:
 962               	.LBE593:
 963               	.LBE597:
 964               	.LBB598:
 965               	.LBB583:
 966               	.LBB580:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 967               		.loc 1 87 0
 968 0392 8091 0000 		lds r24,ep_in_data+1
 969 0396 8130      		cpi r24,lo8(1)
 970 0398 01F0      		breq .L46
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 971               		.loc 1 91 0
 972 039a 8230      		cpi r24,lo8(2)
 973 039c 01F0      		breq .+2
 974 039e 00C0      		rjmp .L27
 975               	.LVL51:
 976               	.LBB563:
 977               	.LBB564:
 978               	.LBB565:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 979               		.loc 3 228 0
 980 03a0 8091 0000 		lds r24,endpoints+24
 981 03a4 8670      		andi r24,lo8(6)
 982               	.LBE565:
 983               	.LBE564:
 984               	.LBE563:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 985               		.loc 1 91 0
 986 03a6 8630      		cpi r24,lo8(6)
 987 03a8 01F0      		breq .+2
 988 03aa 00C0      		rjmp .L27
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 989               		.loc 1 92 0
 990 03ac 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 991               		.loc 1 93 0
 992 03b0 1092 0000 		sts ep_in_data+2,__zero_reg__
 993 03b4 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 994               	.LBB566:
 995               	.LBB567:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 996               		.loc 4 90 0
 997 03b8 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 998               		.loc 4 91 0
 999 03bc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 1000 03be 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 1001 03c0 8093 0000 		sts ep_in_pipe_data+2,r24
 1002 03c4 9093 0000 		sts ep_in_pipe_data+2+1,r25
 1003 03c8 8093 0000 		sts ep_in_pipe_data,r24
 1004 03cc 9093 0000 		sts ep_in_pipe_data+1,r25
 1005               	.LVL52:
 1006 03d0 00C0      		rjmp .L27
 1007               	.LVL53:
 1008               	.L46:
 1009               	.LBE567:
 1010               	.LBE566:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 1011               		.loc 1 88 0
 1012 03d2 82E0      		ldi r24,lo8(2)
 1013 03d4 8093 0000 		sts ep_in_data+1,r24
 1014               	.LBB568:
 1015               	.LBB569:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1016               		.loc 4 62 0
 1017 03d8 7091 0000 		lds r23,ep_in_pipe_data
 1018 03dc 6091 0000 		lds r22,ep_in_pipe_data+1
 1019               	.LBE569:
 1020               	.LBE568:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 1021               		.loc 1 90 0
 1022 03e0 8091 0000 		lds r24,ep_in_data+2
 1023 03e4 9091 0000 		lds r25,ep_in_data+2+1
 1024               	.LVL54:
 1025               	.LBB570:
 1026               	.LBB571:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1027               		.loc 1 68 0
 1028 03e8 3091 0000 		lds r19,ep_in_data
 1029               	.LVL55:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1030               		.loc 1 69 0
 1031 03ec 41E0      		ldi r20,lo8(1)
 1032 03ee 3130      		cpi r19,lo8(1)
 1033 03f0 01F0      		breq .L47
 1034               	.L34:
 1035 03f2 4093 0000 		sts ep_in_data,r20
 1036               	.LBB572:
 1037               	.LBB573:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1038               		.loc 3 168 0
 1039 03f6 472F      		mov r20,r23
 1040 03f8 562F      		mov r21,r22
 1041               	.LBE573:
 1042               	.LBE572:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1043               		.loc 1 72 0
 1044 03fa 3323      		tst r19
 1045 03fc 01F4      		brne .L35
 1046               	.LVL56:
 1047               	.LBB575:
 1048               	.LBB574:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1049               		.loc 3 168 0
 1050 03fe 4093 0000 		sts endpoints+28,r20
 1051 0402 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1052               		.loc 3 169 0
 1053 0406 8093 0000 		sts endpoints+26,r24
 1054 040a 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1055               		.loc 3 174 0
 1056 040e E0E0      		ldi r30,lo8(endpoints+24)
 1057 0410 F0E0      		ldi r31,hi8(endpoints+24)
 1058               	.LVL57:
 1059               	/* #APP */
 1060               	 ;  174 "usb/usb.h" 1
 1061 0412 02E2      		ldi r16, 34
 1062 0414 0693      		.dc.w 0x9306
 1063               		
 1064               	 ;  0 "" 2
 1065               	/* #NOAPP */
 1066 0416 00C0      		rjmp .L27
 1067               	.LVL58:
 1068               	.L35:
 1069               	.LBE574:
 1070               	.LBE575:
 1071               	.LBB576:
 1072               	.LBB577:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1073               		.loc 3 168 0
 1074 0418 4093 0000 		sts endpoints+20,r20
 1075 041c 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1076               		.loc 3 169 0
 1077 0420 8093 0000 		sts endpoints+18,r24
 1078 0424 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 1079               		.loc 3 176 0
 1080 0428 E0E0      		ldi r30,lo8(endpoints+24)
 1081 042a F0E0      		ldi r31,hi8(endpoints+24)
 1082               	/* #APP */
 1083               	 ;  176 "usb/usb.h" 1
 1084 042c 04E1      		ldi r16, 20
 1085 042e 0693      		.dc.w 0x9306
 1086               		
 1087               	 ;  0 "" 2
 1088               	/* #NOAPP */
 1089 0430 00C0      		rjmp .L27
 1090               	.LVL59:
 1091               	.L47:
 1092               	.LBE577:
 1093               	.LBE576:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1094               		.loc 1 69 0
 1095 0432 40E0      		ldi r20,lo8(0)
 1096 0434 00C0      		rjmp .L34
 1097               	.LBE571:
 1098               	.LBE570:
 1099               	.LBE580:
 1100               	.LBE583:
 1101               	.LBE598:
 1102               		.cfi_endproc
 1103               	.LFE59:
 1105               	.global	send_string
 1107               	send_string:
 1108               	.LFB61:
 1109               		.file 7 "concat/concat.h"
   1:concat/concat.h **** void send_string(char* s);
   2:concat/concat.h **** char* concat(char*, char*);
   3:concat/concat.h **** 
   4:concat/concat.h **** void send_string(char* s) {
 1110               		.loc 7 4 0
 1111               		.cfi_startproc
 1112               	.LVL60:
 1113 0436 AF92      		push r10
 1114               	.LCFI30:
 1115               		.cfi_def_cfa_offset 3
 1116               		.cfi_offset 10, -2
 1117 0438 BF92      		push r11
 1118               	.LCFI31:
 1119               		.cfi_def_cfa_offset 4
 1120               		.cfi_offset 11, -3
 1121 043a CF92      		push r12
 1122               	.LCFI32:
 1123               		.cfi_def_cfa_offset 5
 1124               		.cfi_offset 12, -4
 1125 043c DF92      		push r13
 1126               	.LCFI33:
 1127               		.cfi_def_cfa_offset 6
 1128               		.cfi_offset 13, -5
 1129 043e EF92      		push r14
 1130               	.LCFI34:
 1131               		.cfi_def_cfa_offset 7
 1132               		.cfi_offset 14, -6
 1133 0440 FF92      		push r15
 1134               	.LCFI35:
 1135               		.cfi_def_cfa_offset 8
 1136               		.cfi_offset 15, -7
 1137 0442 0F93      		push r16
 1138               	.LCFI36:
 1139               		.cfi_def_cfa_offset 9
 1140               		.cfi_offset 16, -8
 1141 0444 1F93      		push r17
 1142               	.LCFI37:
 1143               		.cfi_def_cfa_offset 10
 1144               		.cfi_offset 17, -9
 1145 0446 CF93      		push r28
 1146               	.LCFI38:
 1147               		.cfi_def_cfa_offset 11
 1148               		.cfi_offset 28, -10
 1149 0448 DF93      		push r29
 1150               	.LCFI39:
 1151               		.cfi_def_cfa_offset 12
 1152               		.cfi_offset 29, -11
 1153               	/* prologue: function */
 1154               	/* frame size = 0 */
 1155               	/* stack size = 10 */
 1156               	.L__stack_usage = 10
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 1157               		.loc 7 5 0
 1158 044a FC01      		movw r30,r24
 1159 044c 2081      		ld r18,Z
 1160 044e 2223      		tst r18
 1161 0450 01F4      		brne .+2
 1162 0452 00C0      		rjmp .L49
 1163 0454 0097      		sbiw r24,0
 1164 0456 01F4      		brne .+2
 1165 0458 00C0      		rjmp .L49
   4:concat/concat.h **** void send_string(char* s) {
 1166               		.loc 7 4 0
 1167 045a 6C01      		movw r12,r24
 1168 045c 0894      		sec
 1169 045e C11C      		adc r12,__zero_reg__
 1170 0460 D11C      		adc r13,__zero_reg__
 1171               	.LBB764:
 1172               	.LBB765:
 1173               	.LBB766:
 1174               	.LBB767:
 1175               	.LBB768:
 1176               	.LBB769:
 1177               	.LBB770:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1178               		.loc 4 57 0
 1179 0462 46E0      		ldi r20,lo8(6)
 1180               	.LBE770:
 1181               	.LBE769:
 1182               	.LBE768:
 1183               	.LBE767:
 1184               	.LBE766:
 1185               	.LBB783:
 1186               	.LBB784:
 1187               	.LBB785:
 1188               	.LBB786:
 1189               	.LBB787:
 1190               	.LBB788:
 1191               	.LBB789:
 1192               	.LBB790:
 1193               	.LBB791:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1194               		.loc 3 220 0
 1195 0464 60E0      		ldi r22,lo8(endpoints+24)
 1196 0466 70E0      		ldi r23,hi8(endpoints+24)
 1197               	.LBE791:
 1198               	.LBE790:
 1199               	.LBB793:
 1200               	.LBB794:
 1201               		.loc 4 91 0
 1202 0468 30E0      		ldi r19,lo8(ep_in_pipe_buffer)
 1203 046a A32E      		mov r10,r19
 1204 046c 30E0      		ldi r19,hi8(ep_in_pipe_buffer)
 1205 046e B32E      		mov r11,r19
 1206               	.LBE794:
 1207               	.LBE793:
 1208               	.LBB797:
 1209               	.LBB798:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1210               		.loc 1 69 0
 1211 0470 C1E0      		ldi r28,lo8(1)
 1212 0472 D0E0      		ldi r29,hi8(1)
 1213               	.LBE798:
 1214               	.LBE797:
 1215               	.LBB807:
 1216               	.LBB808:
 1217               	.LBB809:
 1218               	.LBB810:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1219               		.loc 3 169 0
 1220 0474 50E4      		ldi r21,lo8(64)
 1221 0476 E52E      		mov r14,r21
 1222 0478 F12C      		mov r15,__zero_reg__
 1223               	.LVL61:
 1224               	.L87:
 1225               	.LBE810:
 1226               	.LBE809:
 1227               	.LBE808:
 1228               	.LBE807:
 1229               	.LBE789:
 1230               	.LBE788:
 1231               	.LBE787:
 1232               	.LBE786:
 1233               	.LBE785:
 1234               	.LBE784:
 1235               	.LBE783:
 1236               	.LBB863:
 1237               	.LBB781:
 1238               	.LBB779:
 106:usb/usb_pipe.h **** 
 107:usb/usb_pipe.h **** static inline void usb_pipe_flush(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 108:usb/usb_pipe.h **** static inline void usb_pipe_flush(const USB_Pipe* p){
 109:usb/usb_pipe.h **** 	GCC_ASSERT(p->features&PIPE_ENABLE_FLUSH && p->ep&USB_EP_IN);
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 112:usb/usb_pipe.h **** }
 113:usb/usb_pipe.h **** 
 114:usb/usb_pipe.h **** static inline bool usb_pipe_flush_done(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 115:usb/usb_pipe.h **** static inline bool usb_pipe_flush_done(const USB_Pipe* p){
 116:usb/usb_pipe.h **** 	GCC_ASSERT(p->features&PIPE_ENABLE_FLUSH);
 117:usb/usb_pipe.h **** 	return p->data->flush;
 118:usb/usb_pipe.h **** }
 119:usb/usb_pipe.h **** 
 120:usb/usb_pipe.h **** static inline bool usb_pipe_can_write(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 121:usb/usb_pipe.h **** static inline bool usb_pipe_can_write(const USB_Pipe* p){
 122:usb/usb_pipe.h **** 	bool r;
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1239               		.loc 1 123 0
 1240 047a 9FB7      		in r25,__SREG__
 1241               	.LVL62:
 1242               	.LBB772:
 1243               	.LBB773:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1244               		.loc 2 50 0
 1245               	/* #APP */
 1246               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1247 047c F894      		cli
 1248               	 ;  0 "" 2
 1249               	.LVL63:
 1250               	/* #NOAPP */
 1251               	.LBE773:
 1252               	.LBE772:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 1253               		.loc 1 124 0
 1254 047e 8091 0000 		lds r24,ep_in_data+1
 1255 0482 8823      		tst r24
 1256 0484 01F0      		breq .L89
 1257               	.L79:
 125:usb/usb_pipe.h **** 			r = false;
 1258               		.loc 1 125 0
 1259 0486 80E0      		ldi r24,lo8(0)
 1260               	.L50:
 1261               	.LBB775:
 1262               	.LBB776:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1263               		.loc 2 70 0
 1264 0488 9FBF      		out __SREG__,r25
 1265               		.loc 2 71 0
 1266               	.LBE776:
 1267               	.LBE775:
 1268               	.LBE779:
 1269               	.LBE781:
 1270               	.LBE863:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 1271               		.loc 5 20 0
 1272 048a 8823      		tst r24
 1273 048c 01F0      		breq .L87
 1274               	.LVL64:
 1275               	.LBB864:
 1276               	.LBB865:
 126:usb/usb_pipe.h **** 		}else{
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 128:usb/usb_pipe.h **** 		}
 129:usb/usb_pipe.h **** 	}
 130:usb/usb_pipe.h **** 	return r;
 131:usb/usb_pipe.h **** }
 132:usb/usb_pipe.h **** 
 133:usb/usb_pipe.h **** static inline uint8_t* usb_pipe_write_ptr(const USB_Pipe* p){
 134:usb/usb_pipe.h **** 	return pipe_write_ptr(p->pipe);
 135:usb/usb_pipe.h **** }
 136:usb/usb_pipe.h **** 
 137:usb/usb_pipe.h **** static inline void usb_pipe_done_write(const USB_Pipe* p){
 138:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 139:usb/usb_pipe.h **** 		pipe_done_write(p->pipe);
 140:usb/usb_pipe.h **** 	}
 141:usb/usb_pipe.h **** }
 142:usb/usb_pipe.h **** 
 143:usb/usb_pipe.h **** static inline bool usb_pipe_can_read(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 144:usb/usb_pipe.h **** static inline bool usb_pipe_can_read(const USB_Pipe* p){
 145:usb/usb_pipe.h **** 	bool r;
 146:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 147:usb/usb_pipe.h **** 		r = pipe_can_read(p->pipe) > 0;
 148:usb/usb_pipe.h **** 	}
 149:usb/usb_pipe.h **** 	return r;
 150:usb/usb_pipe.h **** }
 151:usb/usb_pipe.h **** 
 152:usb/usb_pipe.h **** static inline uint8_t* usb_pipe_read_ptr(const USB_Pipe* p){
 153:usb/usb_pipe.h **** 	return pipe_read_ptr(p->pipe);
 154:usb/usb_pipe.h **** }
 155:usb/usb_pipe.h **** 
 156:usb/usb_pipe.h **** static inline void usb_pipe_done_read(const USB_Pipe* p){
 157:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 158:usb/usb_pipe.h **** 		pipe_done_read(p->pipe);
 159:usb/usb_pipe.h **** 	}
 160:usb/usb_pipe.h **** }
 161:usb/usb_pipe.h **** 
 162:usb/usb_pipe.h **** static inline uint8_t usb_pipe_read_byte(const USB_Pipe* p){
 163:usb/usb_pipe.h **** 	uint8_t r = p->pipe->data->read_ptr[p->data->packet_offset++];
 164:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 165:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 166:usb/usb_pipe.h **** 			p->data->packet_offset = 0;
 167:usb/usb_pipe.h **** 			pipe_done_read(p->pipe);
 168:usb/usb_pipe.h **** 			usb_pipe_handle(p);
 169:usb/usb_pipe.h **** 		}
 170:usb/usb_pipe.h **** 	}
 171:usb/usb_pipe.h **** 	return r;
 172:usb/usb_pipe.h **** }
 173:usb/usb_pipe.h **** 
 174:usb/usb_pipe.h **** static inline void usb_pipe_write_byte(const USB_Pipe* p, uint8_t v){
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 1277               		.loc 1 175 0
 1278 048e 8091 0000 		lds r24,ep_in_data+2
 1279 0492 9091 0000 		lds r25,ep_in_data+2+1
 1280 0496 E091 0000 		lds r30,ep_in_pipe_data+2
 1281 049a F091 0000 		lds r31,ep_in_pipe_data+2+1
 1282 049e E80F      		add r30,r24
 1283 04a0 F91F      		adc r31,r25
 1284 04a2 2083      		st Z,r18
 1285 04a4 0196      		adiw r24,1
 1286 04a6 8093 0000 		sts ep_in_data+2,r24
 1287 04aa 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 1288               		.loc 1 176 0
 1289 04ae 8034      		cpi r24,64
 1290 04b0 9105      		cpc r25,__zero_reg__
 1291 04b2 01F0      		breq .L90
 1292               	.LBE865:
 1293               	.LBE864:
 1294               	.LBE765:
 1295               	.LBE764:
 1296               		.loc 7 5 0
 1297 04b4 F601      		movw r30,r12
 1298 04b6 2191      		ld r18,Z+
 1299               	.LVL65:
 1300 04b8 2223      		tst r18
 1301 04ba 01F4      		brne .+2
 1302 04bc 00C0      		rjmp .L49
 1303               	.LVL66:
 1304               	.L92:
 1305               		.loc 7 5 0 is_stmt 0 discriminator 2
 1306 04be C114      		cp r12,__zero_reg__
 1307 04c0 D104      		cpc r13,__zero_reg__
 1308 04c2 01F4      		brne .+2
 1309 04c4 00C0      		rjmp .L49
 1310               		.loc 7 5 0
 1311 04c6 6F01      		movw r12,r30
 1312               	.LBB873:
 1313               	.LBB870:
 1314               	.LBB866:
 1315               	.LBB782:
 1316               	.LBB780:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1317               		.loc 1 123 0 is_stmt 1
 1318 04c8 9FB7      		in r25,__SREG__
 1319               	.LVL67:
 1320               	.LBB777:
 1321               	.LBB774:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1322               		.loc 2 50 0
 1323               	/* #APP */
 1324               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1325 04ca F894      		cli
 1326               	 ;  0 "" 2
 1327               	/* #NOAPP */
 1328               	.LBE774:
 1329               	.LBE777:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 1330               		.loc 1 124 0
 1331 04cc 8091 0000 		lds r24,ep_in_data+1
 1332 04d0 8823      		tst r24
 1333 04d2 01F4      		brne .L79
 1334               	.LVL68:
 1335               	.L89:
 1336               	.LBB778:
 1337               	.LBB771:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1338               		.loc 4 57 0
 1339 04d4 8091 0000 		lds r24,ep_in_pipe_data+4
 1340 04d8 342F      		mov r19,r20
 1341 04da 381B      		sub r19,r24
 1342               	.LBE771:
 1343               	.LBE778:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 1344               		.loc 1 127 0
 1345 04dc 81E0      		ldi r24,lo8(1)
 1346 04de 1316      		cp __zero_reg__,r19
 1347 04e0 04F0      		brlt .L50
 1348 04e2 00C0      		rjmp .L79
 1349               	.LVL69:
 1350               	.L90:
 1351               	.LBE780:
 1352               	.LBE782:
 1353               	.LBE866:
 1354               	.LBB867:
 1355               	.LBB860:
 1356               	.LBB857:
 1357               	.LBB854:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 1358               		.loc 1 177 0
 1359 04e4 BFB7      		in r27,__SREG__
 1360               	.LVL70:
 1361               	.LBB845:
 1362               	.LBB846:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1363               		.loc 2 50 0
 1364               	/* #APP */
 1365               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1366 04e6 F894      		cli
 1367               	 ;  0 "" 2
 1368               	.LVL71:
 1369               	/* #NOAPP */
 1370               	.LBE846:
 1371               	.LBE845:
 178:usb/usb_pipe.h **** 			p->data->packet_offset = 0;
 1372               		.loc 1 178 0
 1373 04e8 1092 0000 		sts ep_in_data+2,__zero_reg__
 1374 04ec 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 1375               	.LVL72:
 1376               	.LBB847:
 1377               	.LBB848:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 1378               		.loc 4 81 0
 1379 04f0 8091 0000 		lds r24,ep_in_pipe_data+4
 1380 04f4 8F5F      		subi r24,lo8(-(1))
 1381 04f6 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 1382               		.loc 4 82 0
 1383 04fa 8091 0000 		lds r24,ep_in_pipe_data+2
 1384 04fe 9091 0000 		lds r25,ep_in_pipe_data+2+1
 1385 0502 805C      		subi r24,lo8(-(64))
 1386 0504 9F4F      		sbci r25,hi8(-(64))
 1387 0506 8093 0000 		sts ep_in_pipe_data+2,r24
 1388 050a 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 1389               		.loc 4 84 0
 1390 050e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 1391 0510 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 1392 0512 9F07      		cpc r25,r31
 1393 0514 01F4      		brne .L54
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 1394               		.loc 4 85 0
 1395 0516 A092 0000 		sts ep_in_pipe_data+2,r10
 1396 051a B092 0000 		sts ep_in_pipe_data+2+1,r11
 1397               	.L54:
 1398               	.LVL73:
 1399               	.LBE848:
 1400               	.LBE847:
 1401               	.LBB849:
 1402               	.LBB842:
 1403               	.LBB839:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1404               		.loc 1 80 0
 1405 051e 5FB7      		in r21,__SREG__
 1406               	.LVL74:
 1407               	.LBB817:
 1408               	.LBB818:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1409               		.loc 2 50 0
 1410               	/* #APP */
 1411               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1412 0520 F894      		cli
 1413               	 ;  0 "" 2
 1414               	.LVL75:
 1415               	/* #NOAPP */
 1416               	.LBE818:
 1417               	.LBE817:
 1418               	.LBB819:
 1419               	.LBB792:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1420               		.loc 3 220 0
 1421 0522 8091 0000 		lds r24,endpoints+24
 1422 0526 8670      		andi r24,lo8(6)
 1423               	.LBE792:
 1424               	.LBE819:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 1425               		.loc 1 82 0
 1426 0528 01F0      		breq .+2
 1427 052a 00C0      		rjmp .L91
 1428               	.LVL76:
 1429               	.L55:
 1430               	.LBB820:
 1431               	.LBB821:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1432               		.loc 2 70 0
 1433 052c 5FBF      		out __SREG__,r21
 1434               		.loc 2 71 0
 1435               	.LVL77:
 1436               	.LBE821:
 1437               	.LBE820:
 1438               	.LBE839:
 1439               	.LBE842:
 1440               	.LBE849:
 1441               	.LBB850:
 1442               	.LBB851:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1443               		.loc 2 70 0
 1444 052e BFBF      		out __SREG__,r27
 1445               		.loc 2 71 0
 1446               	.LBE851:
 1447               	.LBE850:
 1448               	.LBE854:
 1449               	.LBE857:
 1450               	.LBE860:
 1451               	.LBE867:
 1452               	.LBE870:
 1453               	.LBE873:
 1454               		.loc 7 5 0
 1455 0530 F601      		movw r30,r12
 1456 0532 2191      		ld r18,Z+
 1457 0534 2223      		tst r18
 1458 0536 01F0      		breq .+2
 1459 0538 00C0      		rjmp .L92
 1460               	.LVL78:
 1461               	.L49:
 1462               	.LBB874:
 1463               	.LBB875:
 1464               	.LBB876:
 1465               	.LBB877:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 1466               		.loc 1 110 0
 1467 053a 81E0      		ldi r24,lo8(1)
 1468 053c 8093 0000 		sts ep_in_data+1,r24
 1469               	.LVL79:
 1470               	.LBB878:
 1471               	.LBB879:
 1472               	.LBB880:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1473               		.loc 1 80 0
 1474 0540 2FB7      		in r18,__SREG__
 1475               	.LVL80:
 1476               	.LBB881:
 1477               	.LBB882:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1478               		.loc 2 50 0
 1479               	/* #APP */
 1480               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1481 0542 F894      		cli
 1482               	 ;  0 "" 2
 1483               	.LVL81:
 1484               	/* #NOAPP */
 1485               	.LBE882:
 1486               	.LBE881:
 1487               	.LBB883:
 1488               	.LBB884:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1489               		.loc 3 220 0
 1490 0544 8091 0000 		lds r24,endpoints+24
 1491 0548 8670      		andi r24,lo8(6)
 1492               	.LBE884:
 1493               	.LBE883:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 1494               		.loc 1 82 0
 1495 054a 01F0      		breq .+2
 1496 054c 00C0      		rjmp .L93
 1497               	.LVL82:
 1498               	.L65:
 1499               	.LBB885:
 1500               	.LBB886:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1501               		.loc 2 70 0
 1502 054e 2FBF      		out __SREG__,r18
 1503               		.loc 2 71 0
 1504               	.LBE886:
 1505               	.LBE885:
 1506               	.LBE880:
 1507               	.LBE879:
 1508               	.LBE878:
 1509               	.LBE877:
 1510               	.LBE876:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 1511               		.loc 5 27 0
 1512 0550 82E0      		ldi r24,lo8(2)
 1513 0552 E0EC      		ldi r30,lo8(1216)
 1514 0554 F4E0      		ldi r31,hi8(1216)
 1515 0556 8587      		std Z+13,r24
 1516               	.LBB922:
 1517               	.LBB923:
 1518               	.LBB924:
 1519               	.LBB925:
 1520               	.LBB926:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1521               		.loc 4 57 0
 1522 0558 36E0      		ldi r19,lo8(6)
 1523               	.LVL83:
 1524               	.L74:
 1525               	.LBE926:
 1526               	.LBE925:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1527               		.loc 1 123 0
 1528 055a 9FB7      		in r25,__SREG__
 1529               	.LVL84:
 1530               	.LBB928:
 1531               	.LBB929:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1532               		.loc 2 50 0
 1533               	/* #APP */
 1534               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1535 055c F894      		cli
 1536               	 ;  0 "" 2
 1537               	.LVL85:
 1538               	/* #NOAPP */
 1539               	.LBE929:
 1540               	.LBE928:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 1541               		.loc 1 124 0
 1542 055e 8091 0000 		lds r24,ep_in_data+1
 1543 0562 8823      		tst r24
 1544 0564 01F4      		brne .+2
 1545 0566 00C0      		rjmp .L94
 1546               	.L81:
 125:usb/usb_pipe.h **** 			r = false;
 1547               		.loc 1 125 0
 1548 0568 80E0      		ldi r24,lo8(0)
 1549               	.L76:
 1550               	.LBB930:
 1551               	.LBB931:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1552               		.loc 2 70 0
 1553 056a 9FBF      		out __SREG__,r25
 1554               		.loc 2 71 0
 1555               	.LBE931:
 1556               	.LBE930:
 1557               	.LBE924:
 1558               	.LBE923:
 1559               	.LBE922:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 1560               		.loc 5 28 0
 1561 056c 8823      		tst r24
 1562 056e 01F4      		brne .L48
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 1563               		.loc 5 29 0
 1564 0570 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 1565 0574 8823      		tst r24
 1566 0576 01F0      		breq .L74
 1567               	.LVL86:
 1568               	.LBB935:
 1569               	.LBB936:
 1570               	.LBB937:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1571               		.loc 1 54 0
 1572 0578 2FB7      		in r18,__SREG__
 1573               	.LVL87:
 1574               	.LBB938:
 1575               	.LBB939:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1576               		.loc 2 50 0
 1577               	/* #APP */
 1578               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1579 057a F894      		cli
 1580               	 ;  0 "" 2
 1581               	.LVL88:
 1582               	/* #NOAPP */
 1583               	.LBE939:
 1584               	.LBE938:
 1585               	.LBB940:
 1586               	.LBB941:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 1587               		.loc 4 90 0
 1588 057c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 1589               		.loc 4 91 0
 1590 0580 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 1591 0582 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 1592 0584 8093 0000 		sts ep_in_pipe_data+2,r24
 1593 0588 9093 0000 		sts ep_in_pipe_data+2+1,r25
 1594 058c 8093 0000 		sts ep_in_pipe_data,r24
 1595 0590 9093 0000 		sts ep_in_pipe_data+1,r25
 1596               	.LVL89:
 1597               	.LBE941:
 1598               	.LBE940:
 1599               	.LBB942:
 1600               	.LBB943:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1601               		.loc 3 158 0
 1602 0594 E0E0      		ldi r30,lo8(endpoints+24)
 1603 0596 F0E0      		ldi r31,hi8(endpoints+24)
 1604               	/* #APP */
 1605               	 ;  158 "usb/usb.h" 1
 1606 0598 06E0      		ldi r16, 6
 1607 059a 0593      		.dc.w 0x9305
 1608               		
 1609               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 1610               		.loc 3 159 0
 1611               	 ;  159 "usb/usb.h" 1
 1612 059c 08E0      		ldi r16, 8
 1613 059e 0693      		.dc.w 0x9306
 1614               		
 1615               	 ;  0 "" 2
 1616               	/* #NOAPP */
 1617               	.LBE943:
 1618               	.LBE942:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 1619               		.loc 1 57 0
 1620 05a0 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 1621               		.loc 1 58 0
 1622 05a4 1092 0000 		sts ep_in_data+2,__zero_reg__
 1623 05a8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 1624               		.loc 1 59 0
 1625 05ac 1092 0000 		sts ep_in_data,__zero_reg__
 1626               	.LVL90:
 1627               	.LBB944:
 1628               	.LBB945:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1629               		.loc 2 70 0
 1630 05b0 2FBF      		out __SREG__,r18
 1631               		.loc 2 71 0
 1632               	.LVL91:
 1633               	.L48:
 1634               	/* epilogue start */
 1635               	.LBE945:
 1636               	.LBE944:
 1637               	.LBE937:
 1638               	.LBE936:
 1639               	.LBE935:
 1640               	.LBE875:
 1641               	.LBE874:
   6:concat/concat.h ****     send_byte(*s);
   7:concat/concat.h ****     s++;
   8:concat/concat.h ****   }
   9:concat/concat.h ****   break_and_flush();
  10:concat/concat.h **** }
 1642               		.loc 7 10 0
 1643 05b2 DF91      		pop r29
 1644 05b4 CF91      		pop r28
 1645 05b6 1F91      		pop r17
 1646 05b8 0F91      		pop r16
 1647 05ba FF90      		pop r15
 1648 05bc EF90      		pop r14
 1649 05be DF90      		pop r13
 1650 05c0 CF90      		pop r12
 1651 05c2 BF90      		pop r11
 1652 05c4 AF90      		pop r10
 1653 05c6 0895      		ret
 1654               	.LVL92:
 1655               	.L91:
 1656               	.LBB951:
 1657               	.LBB871:
 1658               	.LBB868:
 1659               	.LBB861:
 1660               	.LBB858:
 1661               	.LBB855:
 1662               	.LBB852:
 1663               	.LBB843:
 1664               	.LBB840:
 1665               	.LBB822:
 1666               	.LBB823:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 1667               		.loc 4 51 0
 1668 05c8 A091 0000 		lds r26,ep_in_pipe_data+4
 1669               	.LBE823:
 1670               	.LBE822:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 1671               		.loc 1 83 0
 1672 05cc 1A16      		cp __zero_reg__,r26
 1673 05ce 04F0      		brlt .+2
 1674 05d0 00C0      		rjmp .L56
 1675               	.LBB824:
 1676               	.LBB825:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1677               		.loc 4 62 0
 1678 05d2 2091 0000 		lds r18,ep_in_pipe_data
 1679 05d6 3091 0000 		lds r19,ep_in_pipe_data+1
 1680               	.LVL93:
 1681               	.LBE825:
 1682               	.LBE824:
 1683               	.LBB826:
 1684               	.LBB815:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1685               		.loc 1 68 0
 1686 05da E091 0000 		lds r30,ep_in_data
 1687               	.LVL94:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1688               		.loc 1 69 0
 1689 05de 8E2F      		mov r24,r30
 1690 05e0 90E0      		ldi r25,lo8(0)
 1691               	.LVL95:
 1692 05e2 F1E0      		ldi r31,lo8(1)
 1693 05e4 8C17      		cp r24,r28
 1694 05e6 9D07      		cpc r25,r29
 1695 05e8 01F4      		brne .L57
 1696 05ea F0E0      		ldi r31,lo8(0)
 1697               	.L57:
 1698 05ec F093 0000 		sts ep_in_data,r31
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1699               		.loc 1 72 0
 1700 05f0 EE23      		tst r30
 1701 05f2 01F4      		brne .L58
 1702               	.LVL96:
 1703               	.LBB812:
 1704               	.LBB813:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1705               		.loc 3 168 0
 1706 05f4 2093 0000 		sts endpoints+28,r18
 1707 05f8 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1708               		.loc 3 169 0
 1709 05fc E092 0000 		sts endpoints+26,r14
 1710 0600 F092 0000 		sts endpoints+26+1,r15
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1711               		.loc 3 174 0
 1712 0604 FB01      		movw r30,r22
 1713               	/* #APP */
 1714               	 ;  174 "usb/usb.h" 1
 1715 0606 02E2      		ldi r16, 34
 1716 0608 0693      		.dc.w 0x9306
 1717               		
 1718               	 ;  0 "" 2
 1719               	.LVL97:
 1720               	/* #NOAPP */
 1721               	.L59:
 1722               	.LBE813:
 1723               	.LBE812:
 1724               	.LBE815:
 1725               	.LBE826:
 1726               	.LBB827:
 1727               	.LBB828:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 1728               		.loc 4 72 0
 1729 060a A150      		subi r26,lo8(-(-1))
 1730 060c A093 0000 		sts ep_in_pipe_data+4,r26
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 1731               		.loc 4 73 0
 1732 0610 C901      		movw r24,r18
 1733 0612 805C      		subi r24,lo8(-(64))
 1734 0614 9F4F      		sbci r25,hi8(-(64))
 1735 0616 8093 0000 		sts ep_in_pipe_data,r24
 1736 061a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 1737               		.loc 4 75 0
 1738 061e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 1739 0620 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 1740 0622 9F07      		cpc r25,r31
 1741 0624 01F0      		breq .+2
 1742 0626 00C0      		rjmp .L55
 1743               	.LBE828:
 1744               	.LBE827:
 1745               	.LBB829:
 1746               	.LBB795:
 1747               		.loc 4 91 0
 1748 0628 A092 0000 		sts ep_in_pipe_data,r10
 1749 062c B092 0000 		sts ep_in_pipe_data+1,r11
 1750               	.LVL98:
 1751 0630 00C0      		rjmp .L55
 1752               	.LVL99:
 1753               	.L58:
 1754               	.LBE795:
 1755               	.LBE829:
 1756               	.LBB830:
 1757               	.LBB816:
 1758               	.LBB814:
 1759               	.LBB811:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1760               		.loc 3 168 0
 1761 0632 2093 0000 		sts endpoints+20,r18
 1762 0636 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1763               		.loc 3 169 0
 1764 063a E092 0000 		sts endpoints+18,r14
 1765 063e F092 0000 		sts endpoints+18+1,r15
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 1766               		.loc 3 176 0
 1767 0642 FB01      		movw r30,r22
 1768               	/* #APP */
 1769               	 ;  176 "usb/usb.h" 1
 1770 0644 04E1      		ldi r16, 20
 1771 0646 0693      		.dc.w 0x9306
 1772               		
 1773               	 ;  0 "" 2
 1774               	/* #NOAPP */
 1775 0648 00C0      		rjmp .L59
 1776               	.LVL100:
 1777               	.L56:
 1778               	.LBE811:
 1779               	.LBE814:
 1780               	.LBE816:
 1781               	.LBE830:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 1782               		.loc 1 87 0
 1783 064a 8091 0000 		lds r24,ep_in_data+1
 1784 064e 8130      		cpi r24,lo8(1)
 1785 0650 01F0      		breq .L95
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 1786               		.loc 1 91 0
 1787 0652 8230      		cpi r24,lo8(2)
 1788 0654 01F0      		breq .+2
 1789 0656 00C0      		rjmp .L55
 1790               	.LVL101:
 1791               	.LBB831:
 1792               	.LBB832:
 1793               	.LBB833:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 1794               		.loc 3 228 0
 1795 0658 8091 0000 		lds r24,endpoints+24
 1796 065c 8670      		andi r24,lo8(6)
 1797               	.LBE833:
 1798               	.LBE832:
 1799               	.LBE831:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 1800               		.loc 1 91 0
 1801 065e 8630      		cpi r24,lo8(6)
 1802 0660 01F0      		breq .+2
 1803 0662 00C0      		rjmp .L55
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 1804               		.loc 1 92 0
 1805 0664 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 1806               		.loc 1 93 0
 1807 0668 1092 0000 		sts ep_in_data+2,__zero_reg__
 1808 066c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 1809               	.LBB834:
 1810               	.LBB796:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 1811               		.loc 4 90 0
 1812 0670 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 1813               		.loc 4 91 0
 1814 0674 A092 0000 		sts ep_in_pipe_data+2,r10
 1815 0678 B092 0000 		sts ep_in_pipe_data+2+1,r11
 1816 067c A092 0000 		sts ep_in_pipe_data,r10
 1817 0680 B092 0000 		sts ep_in_pipe_data+1,r11
 1818               	.LVL102:
 1819 0684 00C0      		rjmp .L55
 1820               	.LVL103:
 1821               	.L95:
 1822               	.LBE796:
 1823               	.LBE834:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 1824               		.loc 1 88 0
 1825 0686 22E0      		ldi r18,lo8(2)
 1826               	.LVL104:
 1827 0688 2093 0000 		sts ep_in_data+1,r18
 1828               	.LBB835:
 1829               	.LBB836:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1830               		.loc 4 62 0
 1831 068c A091 0000 		lds r26,ep_in_pipe_data
 1832 0690 1091 0000 		lds r17,ep_in_pipe_data+1
 1833               	.LBE836:
 1834               	.LBE835:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 1835               		.loc 1 90 0
 1836 0694 2091 0000 		lds r18,ep_in_data+2
 1837 0698 3091 0000 		lds r19,ep_in_data+2+1
 1838               	.LVL105:
 1839               	.LBB837:
 1840               	.LBB805:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1841               		.loc 1 68 0
 1842 069c F091 0000 		lds r31,ep_in_data
 1843               	.LVL106:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1844               		.loc 1 69 0
 1845 06a0 8F2F      		mov r24,r31
 1846 06a2 90E0      		ldi r25,lo8(0)
 1847 06a4 E1E0      		ldi r30,lo8(1)
 1848               	.LVL107:
 1849 06a6 8C17      		cp r24,r28
 1850 06a8 9D07      		cpc r25,r29
 1851 06aa 01F4      		brne .L62
 1852 06ac E0E0      		ldi r30,lo8(0)
 1853               	.L62:
 1854 06ae E093 0000 		sts ep_in_data,r30
 1855               	.LBB799:
 1856               	.LBB800:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1857               		.loc 3 168 0
 1858 06b2 8A2F      		mov r24,r26
 1859 06b4 912F      		mov r25,r17
 1860               	.LBE800:
 1861               	.LBE799:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1862               		.loc 1 72 0
 1863 06b6 FF23      		tst r31
 1864 06b8 01F0      		breq .+2
 1865 06ba 00C0      		rjmp .L63
 1866               	.LVL108:
 1867               	.LBB802:
 1868               	.LBB801:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1869               		.loc 3 168 0
 1870 06bc 8093 0000 		sts endpoints+28,r24
 1871 06c0 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1872               		.loc 3 169 0
 1873 06c4 2093 0000 		sts endpoints+26,r18
 1874 06c8 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1875               		.loc 3 174 0
 1876 06cc FB01      		movw r30,r22
 1877               	/* #APP */
 1878               	 ;  174 "usb/usb.h" 1
 1879 06ce 02E2      		ldi r16, 34
 1880 06d0 0693      		.dc.w 0x9306
 1881               		
 1882               	 ;  0 "" 2
 1883               	/* #NOAPP */
 1884 06d2 00C0      		rjmp .L55
 1885               	.LVL109:
 1886               	.L94:
 1887               	.LBE801:
 1888               	.LBE802:
 1889               	.LBE805:
 1890               	.LBE837:
 1891               	.LBE840:
 1892               	.LBE843:
 1893               	.LBE852:
 1894               	.LBE855:
 1895               	.LBE858:
 1896               	.LBE861:
 1897               	.LBE868:
 1898               	.LBE871:
 1899               	.LBE951:
 1900               	.LBB952:
 1901               	.LBB949:
 1902               	.LBB946:
 1903               	.LBB934:
 1904               	.LBB933:
 1905               	.LBB932:
 1906               	.LBB927:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1907               		.loc 4 57 0
 1908 06d4 8091 0000 		lds r24,ep_in_pipe_data+4
 1909 06d8 232F      		mov r18,r19
 1910 06da 281B      		sub r18,r24
 1911               	.LBE927:
 1912               	.LBE932:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 1913               		.loc 1 127 0
 1914 06dc 81E0      		ldi r24,lo8(1)
 1915 06de 1216      		cp __zero_reg__,r18
 1916 06e0 04F4      		brge .+2
 1917 06e2 00C0      		rjmp .L76
 1918 06e4 00C0      		rjmp .L81
 1919               	.LVL110:
 1920               	.L93:
 1921               	.LBE933:
 1922               	.LBE934:
 1923               	.LBE946:
 1924               	.LBB947:
 1925               	.LBB920:
 1926               	.LBB918:
 1927               	.LBB916:
 1928               	.LBB914:
 1929               	.LBB887:
 1930               	.LBB888:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 1931               		.loc 4 51 0
 1932 06e6 3091 0000 		lds r19,ep_in_pipe_data+4
 1933               	.LBE888:
 1934               	.LBE887:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 1935               		.loc 1 83 0
 1936 06ea 1316      		cp __zero_reg__,r19
 1937 06ec 04F0      		brlt .+2
 1938 06ee 00C0      		rjmp .L66
 1939               	.LBB889:
 1940               	.LBB890:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1941               		.loc 4 62 0
 1942 06f0 8091 0000 		lds r24,ep_in_pipe_data
 1943 06f4 9091 0000 		lds r25,ep_in_pipe_data+1
 1944               	.LVL111:
 1945               	.LBE890:
 1946               	.LBE889:
 1947               	.LBB891:
 1948               	.LBB892:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1949               		.loc 1 68 0
 1950 06f8 4091 0000 		lds r20,ep_in_data
 1951               	.LVL112:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1952               		.loc 1 69 0
 1953 06fc 51E0      		ldi r21,lo8(1)
 1954 06fe 4130      		cpi r20,lo8(1)
 1955 0700 01F4      		brne .L67
 1956 0702 50E0      		ldi r21,lo8(0)
 1957               	.L67:
 1958 0704 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1959               		.loc 1 72 0
 1960 0708 4423      		tst r20
 1961 070a 01F4      		brne .L68
 1962               	.LVL113:
 1963               	.LBB893:
 1964               	.LBB894:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1965               		.loc 3 168 0
 1966 070c 8093 0000 		sts endpoints+28,r24
 1967 0710 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1968               		.loc 3 169 0
 1969 0714 40E4      		ldi r20,lo8(64)
 1970 0716 50E0      		ldi r21,hi8(64)
 1971 0718 4093 0000 		sts endpoints+26,r20
 1972 071c 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1973               		.loc 3 174 0
 1974 0720 E0E0      		ldi r30,lo8(endpoints+24)
 1975 0722 F0E0      		ldi r31,hi8(endpoints+24)
 1976               	.LVL114:
 1977               	/* #APP */
 1978               	 ;  174 "usb/usb.h" 1
 1979 0724 02E2      		ldi r16, 34
 1980 0726 0693      		.dc.w 0x9306
 1981               		
 1982               	 ;  0 "" 2
 1983               	.LVL115:
 1984               	/* #NOAPP */
 1985               	.L69:
 1986               	.LBE894:
 1987               	.LBE893:
 1988               	.LBE892:
 1989               	.LBE891:
 1990               	.LBB898:
 1991               	.LBB899:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 1992               		.loc 4 72 0
 1993 0728 3150      		subi r19,lo8(-(-1))
 1994 072a 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 1995               		.loc 4 73 0
 1996 072e 805C      		subi r24,lo8(-(64))
 1997 0730 9F4F      		sbci r25,hi8(-(64))
 1998 0732 8093 0000 		sts ep_in_pipe_data,r24
 1999 0736 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 2000               		.loc 4 75 0
 2001 073a F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 2002 073c 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 2003 073e 9F07      		cpc r25,r31
 2004 0740 01F0      		breq .+2
 2005 0742 00C0      		rjmp .L65
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 2006               		.loc 4 76 0
 2007 0744 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 2008 0746 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 2009 0748 8093 0000 		sts ep_in_pipe_data,r24
 2010 074c 9093 0000 		sts ep_in_pipe_data+1,r25
 2011 0750 00C0      		rjmp .L65
 2012               	.LVL116:
 2013               	.L63:
 2014               	.LBE899:
 2015               	.LBE898:
 2016               	.LBE914:
 2017               	.LBE916:
 2018               	.LBE918:
 2019               	.LBE920:
 2020               	.LBE947:
 2021               	.LBE949:
 2022               	.LBE952:
 2023               	.LBB953:
 2024               	.LBB872:
 2025               	.LBB869:
 2026               	.LBB862:
 2027               	.LBB859:
 2028               	.LBB856:
 2029               	.LBB853:
 2030               	.LBB844:
 2031               	.LBB841:
 2032               	.LBB838:
 2033               	.LBB806:
 2034               	.LBB803:
 2035               	.LBB804:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 2036               		.loc 3 168 0
 2037 0752 8093 0000 		sts endpoints+20,r24
 2038 0756 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 2039               		.loc 3 169 0
 2040 075a 2093 0000 		sts endpoints+18,r18
 2041 075e 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 2042               		.loc 3 176 0
 2043 0762 FB01      		movw r30,r22
 2044               	/* #APP */
 2045               	 ;  176 "usb/usb.h" 1
 2046 0764 04E1      		ldi r16, 20
 2047 0766 0693      		.dc.w 0x9306
 2048               		
 2049               	 ;  0 "" 2
 2050               	/* #NOAPP */
 2051 0768 00C0      		rjmp .L55
 2052               	.LVL117:
 2053               	.L68:
 2054               	.LBE804:
 2055               	.LBE803:
 2056               	.LBE806:
 2057               	.LBE838:
 2058               	.LBE841:
 2059               	.LBE844:
 2060               	.LBE853:
 2061               	.LBE856:
 2062               	.LBE859:
 2063               	.LBE862:
 2064               	.LBE869:
 2065               	.LBE872:
 2066               	.LBE953:
 2067               	.LBB954:
 2068               	.LBB950:
 2069               	.LBB948:
 2070               	.LBB921:
 2071               	.LBB919:
 2072               	.LBB917:
 2073               	.LBB915:
 2074               	.LBB900:
 2075               	.LBB897:
 2076               	.LBB895:
 2077               	.LBB896:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 2078               		.loc 3 168 0
 2079 076a 8093 0000 		sts endpoints+20,r24
 2080 076e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 2081               		.loc 3 169 0
 2082 0772 40E4      		ldi r20,lo8(64)
 2083 0774 50E0      		ldi r21,hi8(64)
 2084               	.LVL118:
 2085 0776 4093 0000 		sts endpoints+18,r20
 2086 077a 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 2087               		.loc 3 176 0
 2088 077e E0E0      		ldi r30,lo8(endpoints+24)
 2089 0780 F0E0      		ldi r31,hi8(endpoints+24)
 2090               	/* #APP */
 2091               	 ;  176 "usb/usb.h" 1
 2092 0782 04E1      		ldi r16, 20
 2093 0784 0693      		.dc.w 0x9306
 2094               		
 2095               	 ;  0 "" 2
 2096               	/* #NOAPP */
 2097 0786 00C0      		rjmp .L69
 2098               	.LVL119:
 2099               	.L66:
 2100               	.LBE896:
 2101               	.LBE895:
 2102               	.LBE897:
 2103               	.LBE900:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 2104               		.loc 1 87 0
 2105 0788 8091 0000 		lds r24,ep_in_data+1
 2106 078c 8130      		cpi r24,lo8(1)
 2107 078e 01F0      		breq .L96
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 2108               		.loc 1 91 0
 2109 0790 8230      		cpi r24,lo8(2)
 2110 0792 01F0      		breq .+2
 2111 0794 00C0      		rjmp .L65
 2112               	.LVL120:
 2113               	.LBB901:
 2114               	.LBB902:
 2115               	.LBB903:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 2116               		.loc 3 228 0
 2117 0796 8091 0000 		lds r24,endpoints+24
 2118 079a 8670      		andi r24,lo8(6)
 2119               	.LBE903:
 2120               	.LBE902:
 2121               	.LBE901:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 2122               		.loc 1 91 0
 2123 079c 8630      		cpi r24,lo8(6)
 2124 079e 01F0      		breq .+2
 2125 07a0 00C0      		rjmp .L65
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 2126               		.loc 1 92 0
 2127 07a2 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 2128               		.loc 1 93 0
 2129 07a6 1092 0000 		sts ep_in_data+2,__zero_reg__
 2130 07aa 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 2131               	.LBB904:
 2132               	.LBB905:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 2133               		.loc 4 90 0
 2134 07ae 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 2135               		.loc 4 91 0
 2136 07b2 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 2137 07b4 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 2138 07b6 8093 0000 		sts ep_in_pipe_data+2,r24
 2139 07ba 9093 0000 		sts ep_in_pipe_data+2+1,r25
 2140 07be 8093 0000 		sts ep_in_pipe_data,r24
 2141 07c2 9093 0000 		sts ep_in_pipe_data+1,r25
 2142               	.LVL121:
 2143 07c6 00C0      		rjmp .L65
 2144               	.LVL122:
 2145               	.L96:
 2146               	.LBE905:
 2147               	.LBE904:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 2148               		.loc 1 88 0
 2149 07c8 82E0      		ldi r24,lo8(2)
 2150 07ca 8093 0000 		sts ep_in_data+1,r24
 2151               	.LBB906:
 2152               	.LBB907:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 2153               		.loc 4 62 0
 2154 07ce 6091 0000 		lds r22,ep_in_pipe_data
 2155 07d2 3091 0000 		lds r19,ep_in_pipe_data+1
 2156               	.LBE907:
 2157               	.LBE906:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 2158               		.loc 1 90 0
 2159 07d6 4091 0000 		lds r20,ep_in_data+2
 2160 07da 5091 0000 		lds r21,ep_in_data+2+1
 2161               	.LVL123:
 2162               	.LBB908:
 2163               	.LBB909:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 2164               		.loc 1 68 0
 2165 07de 8091 0000 		lds r24,ep_in_data
 2166               	.LVL124:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 2167               		.loc 1 69 0
 2168 07e2 91E0      		ldi r25,lo8(1)
 2169 07e4 8130      		cpi r24,lo8(1)
 2170 07e6 01F4      		brne .L72
 2171 07e8 90E0      		ldi r25,lo8(0)
 2172               	.L72:
 2173 07ea 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 2174               		.loc 1 72 0
 2175 07ee 8823      		tst r24
 2176 07f0 01F4      		brne .L73
 2177               	.LVL125:
 2178               	.LBB910:
 2179               	.LBB911:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 2180               		.loc 3 168 0
 2181 07f2 862F      		mov r24,r22
 2182 07f4 932F      		mov r25,r19
 2183 07f6 8093 0000 		sts endpoints+28,r24
 2184 07fa 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 2185               		.loc 3 169 0
 2186 07fe 4093 0000 		sts endpoints+26,r20
 2187 0802 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 2188               		.loc 3 174 0
 2189 0806 E0E0      		ldi r30,lo8(endpoints+24)
 2190 0808 F0E0      		ldi r31,hi8(endpoints+24)
 2191               	.LVL126:
 2192               	/* #APP */
 2193               	 ;  174 "usb/usb.h" 1
 2194 080a 02E2      		ldi r16, 34
 2195 080c 0693      		.dc.w 0x9306
 2196               		
 2197               	 ;  0 "" 2
 2198               	/* #NOAPP */
 2199 080e 00C0      		rjmp .L65
 2200               	.LVL127:
 2201               	.L73:
 2202               	.LBE911:
 2203               	.LBE910:
 2204               	.LBB912:
 2205               	.LBB913:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 2206               		.loc 3 168 0
 2207 0810 862F      		mov r24,r22
 2208 0812 932F      		mov r25,r19
 2209 0814 8093 0000 		sts endpoints+20,r24
 2210 0818 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 2211               		.loc 3 169 0
 2212 081c 4093 0000 		sts endpoints+18,r20
 2213 0820 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 2214               		.loc 3 176 0
 2215 0824 E0E0      		ldi r30,lo8(endpoints+24)
 2216 0826 F0E0      		ldi r31,hi8(endpoints+24)
 2217               	/* #APP */
 2218               	 ;  176 "usb/usb.h" 1
 2219 0828 04E1      		ldi r16, 20
 2220 082a 0693      		.dc.w 0x9306
 2221               		
 2222               	 ;  0 "" 2
 2223               	/* #NOAPP */
 2224 082c 00C0      		rjmp .L65
 2225               	.LBE913:
 2226               	.LBE912:
 2227               	.LBE909:
 2228               	.LBE908:
 2229               	.LBE915:
 2230               	.LBE917:
 2231               	.LBE919:
 2232               	.LBE921:
 2233               	.LBE948:
 2234               	.LBE950:
 2235               	.LBE954:
 2236               		.cfi_endproc
 2237               	.LFE61:
 2239               	.global	concat
 2241               	concat:
 2242               	.LFB62:
  11:concat/concat.h **** 
  12:concat/concat.h **** char* concat(char *s1, char *s2)
  13:concat/concat.h **** {
 2243               		.loc 7 13 0
 2244               		.cfi_startproc
 2245               	.LVL128:
 2246 082e EF92      		push r14
 2247               	.LCFI40:
 2248               		.cfi_def_cfa_offset 3
 2249               		.cfi_offset 14, -2
 2250 0830 FF92      		push r15
 2251               	.LCFI41:
 2252               		.cfi_def_cfa_offset 4
 2253               		.cfi_offset 15, -3
 2254 0832 0F93      		push r16
 2255               	.LCFI42:
 2256               		.cfi_def_cfa_offset 5
 2257               		.cfi_offset 16, -4
 2258 0834 1F93      		push r17
 2259               	.LCFI43:
 2260               		.cfi_def_cfa_offset 6
 2261               		.cfi_offset 17, -5
 2262 0836 CF93      		push r28
 2263               	.LCFI44:
 2264               		.cfi_def_cfa_offset 7
 2265               		.cfi_offset 28, -6
 2266 0838 DF93      		push r29
 2267               	.LCFI45:
 2268               		.cfi_def_cfa_offset 8
 2269               		.cfi_offset 29, -7
 2270               	/* prologue: function */
 2271               	/* frame size = 0 */
 2272               	/* stack size = 6 */
 2273               	.L__stack_usage = 6
 2274 083a F82E      		mov r15,r24
 2275 083c E92E      		mov r14,r25
 2276 083e 162F      		mov r17,r22
 2277 0840 072F      		mov r16,r23
  14:concat/concat.h ****     //string concatenation -- not needed now, but might prove useful later
  15:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 2278               		.loc 7 15 0
 2279 0842 A82F      		mov r26,r24
 2280 0844 B92F      		mov r27,r25
 2281 0846 ED01      		movw r28,r26
 2282 0848 0990      		ld __tmp_reg__,Y+
 2283 084a 0020      		tst __tmp_reg__
 2284 084c 01F4      		brne .-6
 2285 084e 9E01      		movw r18,r28
 2286 0850 E62F      		mov r30,r22
 2287 0852 F72F      		mov r31,r23
 2288 0854 EF01      		movw r28,r30
 2289 0856 0990      		ld __tmp_reg__,Y+
 2290 0858 0020      		tst __tmp_reg__
 2291 085a 01F4      		brne .-6
 2292 085c CE01      		movw r24,r28
 2293               	.LVL129:
 2294 085e 0197      		sbiw r24,1
 2295 0860 8E1B      		sub r24,r30
 2296 0862 9F0B      		sbc r25,r31
 2297 0864 8A1B      		sub r24,r26
 2298 0866 9B0B      		sbc r25,r27
 2299 0868 820F      		add r24,r18
 2300 086a 931F      		adc r25,r19
 2301 086c 0E94 0000 		call malloc
 2302               	.LVL130:
 2303 0870 D82F      		mov r29,r24
 2304 0872 C92F      		mov r28,r25
 2305               	.LVL131:
  16:concat/concat.h ****     //should also check for memory allocation errors here
  17:concat/concat.h ****     strcpy(result, s1);
 2306               		.loc 7 17 0
 2307 0874 6F2D      		mov r22,r15
 2308 0876 7E2D      		mov r23,r14
 2309 0878 0E94 0000 		call strcpy
 2310               	.LVL132:
  18:concat/concat.h ****     strcat(result, s2);
 2311               		.loc 7 18 0
 2312 087c 8D2F      		mov r24,r29
 2313 087e 9C2F      		mov r25,r28
 2314 0880 612F      		mov r22,r17
 2315 0882 702F      		mov r23,r16
 2316 0884 0E94 0000 		call strcat
  19:concat/concat.h ****     return result;
  20:concat/concat.h **** }
 2317               		.loc 7 20 0
 2318 0888 8D2F      		mov r24,r29
 2319 088a 9C2F      		mov r25,r28
 2320               	/* epilogue start */
 2321 088c DF91      		pop r29
 2322               	.LVL133:
 2323 088e CF91      		pop r28
 2324               	.LVL134:
 2325 0890 1F91      		pop r17
 2326 0892 0F91      		pop r16
 2327 0894 FF90      		pop r15
 2328 0896 EF90      		pop r14
 2329 0898 0895      		ret
 2330               		.cfi_endproc
 2331               	.LFE62:
 2333               	.global	distance
 2335               	distance:
 2336               	.LFB63:
 2337               		.file 8 "nmea/nmea.h"
   1:nmea/nmea.h   **** #include <avr/io.h>
   2:nmea/nmea.h   **** #include <stdlib.h>
   3:nmea/nmea.h   **** #include <string.h>
   4:nmea/nmea.h   **** 
   5:nmea/nmea.h   **** //sample nmea strings for testing parser
   6:nmea/nmea.h   **** double lat = 42.292747;
   7:nmea/nmea.h   **** double lng = -71.264622;
   8:nmea/nmea.h   **** double max_dist = .200;
   9:nmea/nmea.h   **** 
  10:nmea/nmea.h   **** typedef struct _latlng {
  11:nmea/nmea.h   ****   double lat;
  12:nmea/nmea.h   ****   double lng;
  13:nmea/nmea.h   **** } latlng;
  14:nmea/nmea.h   **** 
  15:nmea/nmea.h   **** char* parse_nmea(void);
  16:nmea/nmea.h   **** extern void parse_nmea_string(char *s, latlng *gps);
  17:nmea/nmea.h   **** double distance(double gpslat, double gpslng);
  18:nmea/nmea.h   **** 
  19:nmea/nmea.h   **** #define d2r (M_PI / 180.0)
  20:nmea/nmea.h   **** 
  21:nmea/nmea.h   **** //calculate distance, assuming earth is spherical
  22:nmea/nmea.h   **** double distance(double gpslat, double gpslng) {
 2338               		.loc 8 22 0
 2339               		.cfi_startproc
 2340               	.LVL135:
 2341 089a 2F92      		push r2
 2342               	.LCFI46:
 2343               		.cfi_def_cfa_offset 3
 2344               		.cfi_offset 2, -2
 2345 089c 3F92      		push r3
 2346               	.LCFI47:
 2347               		.cfi_def_cfa_offset 4
 2348               		.cfi_offset 3, -3
 2349 089e 4F92      		push r4
 2350               	.LCFI48:
 2351               		.cfi_def_cfa_offset 5
 2352               		.cfi_offset 4, -4
 2353 08a0 5F92      		push r5
 2354               	.LCFI49:
 2355               		.cfi_def_cfa_offset 6
 2356               		.cfi_offset 5, -5
 2357 08a2 6F92      		push r6
 2358               	.LCFI50:
 2359               		.cfi_def_cfa_offset 7
 2360               		.cfi_offset 6, -6
 2361 08a4 7F92      		push r7
 2362               	.LCFI51:
 2363               		.cfi_def_cfa_offset 8
 2364               		.cfi_offset 7, -7
 2365 08a6 8F92      		push r8
 2366               	.LCFI52:
 2367               		.cfi_def_cfa_offset 9
 2368               		.cfi_offset 8, -8
 2369 08a8 9F92      		push r9
 2370               	.LCFI53:
 2371               		.cfi_def_cfa_offset 10
 2372               		.cfi_offset 9, -9
 2373 08aa AF92      		push r10
 2374               	.LCFI54:
 2375               		.cfi_def_cfa_offset 11
 2376               		.cfi_offset 10, -10
 2377 08ac BF92      		push r11
 2378               	.LCFI55:
 2379               		.cfi_def_cfa_offset 12
 2380               		.cfi_offset 11, -11
 2381 08ae CF92      		push r12
 2382               	.LCFI56:
 2383               		.cfi_def_cfa_offset 13
 2384               		.cfi_offset 12, -12
 2385 08b0 DF92      		push r13
 2386               	.LCFI57:
 2387               		.cfi_def_cfa_offset 14
 2388               		.cfi_offset 13, -13
 2389 08b2 EF92      		push r14
 2390               	.LCFI58:
 2391               		.cfi_def_cfa_offset 15
 2392               		.cfi_offset 14, -14
 2393 08b4 FF92      		push r15
 2394               	.LCFI59:
 2395               		.cfi_def_cfa_offset 16
 2396               		.cfi_offset 15, -15
 2397 08b6 0F93      		push r16
 2398               	.LCFI60:
 2399               		.cfi_def_cfa_offset 17
 2400               		.cfi_offset 16, -16
 2401 08b8 1F93      		push r17
 2402               	.LCFI61:
 2403               		.cfi_def_cfa_offset 18
 2404               		.cfi_offset 17, -17
 2405 08ba CF93      		push r28
 2406               	.LCFI62:
 2407               		.cfi_def_cfa_offset 19
 2408               		.cfi_offset 28, -18
 2409 08bc DF93      		push r29
 2410               	.LCFI63:
 2411               		.cfi_def_cfa_offset 20
 2412               		.cfi_offset 29, -19
 2413 08be CDB7      		in r28,__SP_L__
 2414 08c0 DEB7      		in r29,__SP_H__
 2415 08c2 2697      		sbiw r28,6
 2416               	.LCFI64:
 2417               		.cfi_def_cfa 28, 26
 2418 08c4 CDBF      		out __SP_L__,r28
 2419 08c6 DEBF      		out __SP_H__,r29
 2420               	/* prologue: function */
 2421               	/* frame size = 6 */
 2422               	/* stack size = 24 */
 2423               	.L__stack_usage = 24
 2424 08c8 4B01      		movw r8,r22
 2425 08ca 5C01      		movw r10,r24
 2426 08cc 2983      		std Y+1,r18
 2427 08ce 3A83      		std Y+2,r19
 2428 08d0 4B83      		std Y+3,r20
 2429 08d2 5C83      		std Y+4,r21
 2430               	.LVL136:
  23:nmea/nmea.h   ****     double dlong = (gpslng - lng) * d2r;
  24:nmea/nmea.h   ****     double dlat = (gpslat - lat) * d2r;
 2431               		.loc 8 24 0
 2432 08d4 C090 0000 		lds r12,lat
 2433 08d8 D090 0000 		lds r13,lat+1
 2434 08dc E090 0000 		lds r14,lat+2
 2435 08e0 F090 0000 		lds r15,lat+3
 2436               	.LVL137:
 2437 08e4 A701      		movw r20,r14
 2438 08e6 9601      		movw r18,r12
 2439               	.LVL138:
 2440 08e8 0E94 0000 		call __subsf3
 2441               	.LVL139:
 2442 08ec 25E3      		ldi r18,lo8(0x3c8efa35)
 2443 08ee 3AEF      		ldi r19,hi8(0x3c8efa35)
 2444 08f0 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2445 08f2 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2446 08f4 0E94 0000 		call __mulsf3
  25:nmea/nmea.h   ****     double a = pow(sin(dlat/2.0), 2) + cos(lat*d2r) * cos(gpslat*d2r) * pow(sin(dlong/2.0), 2);
 2447               		.loc 8 25 0
 2448 08f8 20E0      		ldi r18,lo8(0x3f000000)
 2449 08fa 30E0      		ldi r19,hi8(0x3f000000)
 2450 08fc 40E0      		ldi r20,hlo8(0x3f000000)
 2451 08fe 5FE3      		ldi r21,hhi8(0x3f000000)
 2452 0900 0E94 0000 		call __mulsf3
 2453 0904 0E94 0000 		call sin
 2454 0908 9B01      		movw r18,r22
 2455 090a AC01      		movw r20,r24
 2456 090c 0E94 0000 		call __mulsf3
 2457 0910 362E      		mov r3,r22
 2458 0912 272E      		mov r2,r23
 2459 0914 8D83      		std Y+5,r24
 2460 0916 9E83      		std Y+6,r25
 2461 0918 C701      		movw r24,r14
 2462 091a B601      		movw r22,r12
 2463 091c 25E3      		ldi r18,lo8(0x3c8efa35)
 2464 091e 3AEF      		ldi r19,hi8(0x3c8efa35)
 2465 0920 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2466 0922 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2467 0924 0E94 0000 		call __mulsf3
 2468 0928 0E94 0000 		call cos
 2469 092c 7B01      		movw r14,r22
 2470 092e 8C01      		movw r16,r24
 2471 0930 C501      		movw r24,r10
 2472 0932 B401      		movw r22,r8
 2473 0934 25E3      		ldi r18,lo8(0x3c8efa35)
 2474 0936 3AEF      		ldi r19,hi8(0x3c8efa35)
 2475 0938 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2476 093a 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2477 093c 0E94 0000 		call __mulsf3
 2478 0940 0E94 0000 		call cos
 2479 0944 2B01      		movw r4,r22
 2480 0946 3C01      		movw r6,r24
  23:nmea/nmea.h   ****     double dlong = (gpslng - lng) * d2r;
 2481               		.loc 8 23 0
 2482 0948 6981      		ldd r22,Y+1
 2483 094a 7A81      		ldd r23,Y+2
 2484 094c 8B81      		ldd r24,Y+3
 2485 094e 9C81      		ldd r25,Y+4
 2486 0950 2091 0000 		lds r18,lng
 2487 0954 3091 0000 		lds r19,lng+1
 2488 0958 4091 0000 		lds r20,lng+2
 2489 095c 5091 0000 		lds r21,lng+3
 2490               	.LVL140:
 2491 0960 0E94 0000 		call __subsf3
 2492               	.LVL141:
 2493 0964 25E3      		ldi r18,lo8(0x3c8efa35)
 2494 0966 3AEF      		ldi r19,hi8(0x3c8efa35)
 2495 0968 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2496 096a 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2497 096c 0E94 0000 		call __mulsf3
 2498               		.loc 8 25 0
 2499 0970 20E0      		ldi r18,lo8(0x3f000000)
 2500 0972 30E0      		ldi r19,hi8(0x3f000000)
 2501 0974 40E0      		ldi r20,hlo8(0x3f000000)
 2502 0976 5FE3      		ldi r21,hhi8(0x3f000000)
 2503 0978 0E94 0000 		call __mulsf3
 2504 097c 0E94 0000 		call sin
 2505 0980 9B01      		movw r18,r22
 2506 0982 AC01      		movw r20,r24
 2507 0984 0E94 0000 		call __mulsf3
 2508 0988 B62E      		mov r11,r22
 2509 098a D72E      		mov r13,r23
 2510 098c 882E      		mov r8,r24
 2511               	.LVL142:
 2512 098e C92E      		mov r12,r25
 2513 0990 C801      		movw r24,r16
 2514 0992 B701      		movw r22,r14
 2515 0994 A301      		movw r20,r6
 2516 0996 9201      		movw r18,r4
 2517 0998 0E94 0000 		call __mulsf3
 2518 099c 0B2D      		mov r16,r11
 2519 099e 1D2D      		mov r17,r13
 2520 09a0 282D      		mov r18,r8
 2521 09a2 3C2D      		mov r19,r12
 2522 09a4 A901      		movw r20,r18
 2523 09a6 9801      		movw r18,r16
 2524 09a8 0E94 0000 		call __mulsf3
 2525 09ac 9B01      		movw r18,r22
 2526 09ae AC01      		movw r20,r24
 2527 09b0 F101      		movw r30,r2
 2528 09b2 7D81      		ldd r23,Y+5
 2529 09b4 6E81      		ldd r22,Y+6
 2530 09b6 8F2F      		mov r24,r31
 2531 09b8 9E2F      		mov r25,r30
 2532 09ba A72F      		mov r26,r23
 2533 09bc B62F      		mov r27,r22
 2534 09be BC01      		movw r22,r24
 2535 09c0 CD01      		movw r24,r26
 2536 09c2 0E94 0000 		call __addsf3
 2537 09c6 862E      		mov r8,r22
 2538 09c8 072F      		mov r16,r23
 2539 09ca 382E      		mov r3,r24
 2540 09cc 492E      		mov r4,r25
 2541               	.LVL143:
  26:nmea/nmea.h   ****     double c = 2 * atan2(sqrt(a), sqrt(1-a));
 2542               		.loc 8 26 0
 2543 09ce 982F      		mov r25,r24
 2544               	.LVL144:
 2545 09d0 482D      		mov r20,r8
 2546 09d2 502F      		mov r21,r16
 2547 09d4 692F      		mov r22,r25
 2548               	.LVL145:
 2549 09d6 742D      		mov r23,r4
 2550               	.LVL146:
 2551 09d8 CB01      		movw r24,r22
 2552 09da BA01      		movw r22,r20
 2553 09dc 0E94 0000 		call sqrt
 2554               	.LVL147:
 2555 09e0 6B01      		movw r12,r22
 2556 09e2 7C01      		movw r14,r24
 2557 09e4 60E0      		ldi r22,lo8(0x3f800000)
 2558 09e6 70E0      		ldi r23,hi8(0x3f800000)
 2559 09e8 80E8      		ldi r24,hlo8(0x3f800000)
 2560 09ea 9FE3      		ldi r25,hhi8(0x3f800000)
 2561 09ec E02F      		mov r30,r16
 2562 09ee 082D      		mov r16,r8
 2563               	.LVL148:
 2564 09f0 1E2F      		mov r17,r30
 2565 09f2 232D      		mov r18,r3
 2566 09f4 342D      		mov r19,r4
 2567 09f6 A901      		movw r20,r18
 2568 09f8 9801      		movw r18,r16
 2569 09fa 0E94 0000 		call __subsf3
 2570               	.LVL149:
 2571 09fe 0E94 0000 		call sqrt
 2572 0a02 9B01      		movw r18,r22
 2573 0a04 AC01      		movw r20,r24
 2574 0a06 C701      		movw r24,r14
 2575 0a08 B601      		movw r22,r12
 2576 0a0a 0E94 0000 		call atan2
 2577 0a0e 9B01      		movw r18,r22
 2578 0a10 AC01      		movw r20,r24
 2579               	.LVL150:
 2580 0a12 0E94 0000 		call __addsf3
 2581               	.LVL151:
  27:nmea/nmea.h   ****     double d = 6367 * c;
 2582               		.loc 8 27 0
 2583 0a16 20E0      		ldi r18,lo8(0x45c6f800)
 2584 0a18 38EF      		ldi r19,hi8(0x45c6f800)
 2585 0a1a 46EC      		ldi r20,hlo8(0x45c6f800)
 2586 0a1c 55E4      		ldi r21,hhi8(0x45c6f800)
 2587 0a1e 0E94 0000 		call __mulsf3
  28:nmea/nmea.h   **** 
  29:nmea/nmea.h   ****     return d;
  30:nmea/nmea.h   **** }
 2588               		.loc 8 30 0
 2589 0a22 462F      		mov r20,r22
 2590 0a24 572F      		mov r21,r23
 2591 0a26 682F      		mov r22,r24
 2592 0a28 792F      		mov r23,r25
 2593 0a2a CB01      		movw r24,r22
 2594 0a2c BA01      		movw r22,r20
 2595               	/* epilogue start */
 2596 0a2e 2696      		adiw r28,6
 2597 0a30 CDBF      		out __SP_L__,r28
 2598 0a32 DEBF      		out __SP_H__,r29
 2599 0a34 DF91      		pop r29
 2600 0a36 CF91      		pop r28
 2601 0a38 1F91      		pop r17
 2602               	.LVL152:
 2603 0a3a 0F91      		pop r16
 2604 0a3c FF90      		pop r15
 2605 0a3e EF90      		pop r14
 2606 0a40 DF90      		pop r13
 2607 0a42 CF90      		pop r12
 2608 0a44 BF90      		pop r11
 2609 0a46 AF90      		pop r10
 2610 0a48 9F90      		pop r9
 2611 0a4a 8F90      		pop r8
 2612 0a4c 7F90      		pop r7
 2613 0a4e 6F90      		pop r6
 2614 0a50 5F90      		pop r5
 2615 0a52 4F90      		pop r4
 2616 0a54 3F90      		pop r3
 2617 0a56 2F90      		pop r2
 2618 0a58 0895      		ret
 2619               		.cfi_endproc
 2620               	.LFE63:
 2622               		.data
 2623               	.LC1:
 2624 0000 2C00      		.string	","
 2625               		.text
 2626               	.global	parse_nmea_string
 2628               	parse_nmea_string:
 2629               	.LFB64:
  31:nmea/nmea.h   **** 
  32:nmea/nmea.h   **** 
  33:nmea/nmea.h   **** 
  34:nmea/nmea.h   **** void parse_nmea_string(char *s, latlng *gps)
  35:nmea/nmea.h   **** {
 2630               		.loc 8 35 0
 2631               		.cfi_startproc
 2632               	.LVL153:
 2633 0a5a EF92      		push r14
 2634               	.LCFI65:
 2635               		.cfi_def_cfa_offset 3
 2636               		.cfi_offset 14, -2
 2637 0a5c FF92      		push r15
 2638               	.LCFI66:
 2639               		.cfi_def_cfa_offset 4
 2640               		.cfi_offset 15, -3
 2641 0a5e 0F93      		push r16
 2642               	.LCFI67:
 2643               		.cfi_def_cfa_offset 5
 2644               		.cfi_offset 16, -4
 2645 0a60 1F93      		push r17
 2646               	.LCFI68:
 2647               		.cfi_def_cfa_offset 6
 2648               		.cfi_offset 17, -5
 2649 0a62 CF93      		push r28
 2650               	.LCFI69:
 2651               		.cfi_def_cfa_offset 7
 2652               		.cfi_offset 28, -6
 2653 0a64 DF93      		push r29
 2654               	.LCFI70:
 2655               		.cfi_def_cfa_offset 8
 2656               		.cfi_offset 29, -7
 2657 0a66 CDB7      		in r28,__SP_L__
 2658 0a68 DEB7      		in r29,__SP_H__
 2659 0a6a A897      		sbiw r28,40
 2660               	.LCFI71:
 2661               		.cfi_def_cfa 28, 48
 2662 0a6c CDBF      		out __SP_L__,r28
 2663 0a6e DEBF      		out __SP_H__,r29
 2664               	/* prologue: function */
 2665               	/* frame size = 40 */
 2666               	/* stack size = 46 */
 2667               	.L__stack_usage = 46
 2668 0a70 7B01      		movw r14,r22
 2669               	.LVL154:
  36:nmea/nmea.h   ****   int i=0; // used to iterate through array
  37:nmea/nmea.h   ****   char *token[20]; //stores the chunks of string after splitting the string on commas
  38:nmea/nmea.h   **** 
  39:nmea/nmea.h   ****   token[0] = strtok(s, ","); //get pointer to first token found and store in
 2670               		.loc 8 39 0
 2671 0a72 60E0      		ldi r22,lo8(.LC1)
 2672 0a74 70E0      		ldi r23,hi8(.LC1)
 2673               	.LVL155:
 2674 0a76 0E94 0000 		call strtok
 2675               	.LVL156:
  40:nmea/nmea.h   ****                              //first element of array
  41:nmea/nmea.h   ****   while(token[i] != NULL) {  //while commas continue to be found
 2676               		.loc 8 41 0
 2677 0a7a 0097      		sbiw r24,0
 2678 0a7c 01F0      		breq .L100
 2679 0a7e 8E01      		movw r16,r28
 2680 0a80 0D5F      		subi r16,lo8(-(3))
 2681 0a82 1F4F      		sbci r17,hi8(-(3))
 2682               	.LVL157:
 2683               	.L101:
  42:nmea/nmea.h   ****       i++;  
  43:nmea/nmea.h   ****       token[i] = strtok(NULL, ","); //continue to split the string
 2684               		.loc 8 43 0
 2685 0a84 80E0      		ldi r24,lo8(0)
 2686 0a86 90E0      		ldi r25,hi8(0)
 2687 0a88 60E0      		ldi r22,lo8(.LC1)
 2688 0a8a 70E0      		ldi r23,hi8(.LC1)
 2689 0a8c 0E94 0000 		call strtok
 2690 0a90 F801      		movw r30,r16
 2691 0a92 8193      		st Z+,r24
 2692 0a94 9193      		st Z+,r25
 2693 0a96 8F01      		movw r16,r30
  41:nmea/nmea.h   ****   while(token[i] != NULL) {  //while commas continue to be found
 2694               		.loc 8 41 0
 2695 0a98 0097      		sbiw r24,0
 2696 0a9a 01F4      		brne .L101
 2697               	.L100:
 2698               	.LVL158:
  44:nmea/nmea.h   ****   }
  45:nmea/nmea.h   **** 
  46:nmea/nmea.h   ****   //Example: token = [], s = "a,b,c"
  47:nmea/nmea.h   ****   //Iteration 1
  48:nmea/nmea.h   ****   //token --> ["a"], s-->"b,c"
  49:nmea/nmea.h   ****   //token --> ["a", "b"], s-->"c"
  50:nmea/nmea.h   ****   //token --> ["a", "b", "c"], s-->""
  51:nmea/nmea.h   ****   //end
  52:nmea/nmea.h   **** 
  53:nmea/nmea.h   ****   //when parsing GPRMC data
  54:nmea/nmea.h   ****   //longitude should be stored at index 3
  55:nmea/nmea.h   ****   //latitude should be stord at index 5
  56:nmea/nmea.h   **** 
  57:nmea/nmea.h   ****   //indices will have to be changed if our gps module
  58:nmea/nmea.h   ****   //speaks a different dialog of NMEA
  59:nmea/nmea.h   **** 
  60:nmea/nmea.h   ****   char* lat_str = token[3]; //longitude
  61:nmea/nmea.h   ****   char* lng_str = token[5]; //latitude
 2699               		.loc 8 61 0
 2700 0a9c 0B85      		ldd r16,Y+11
 2701 0a9e 1C85      		ldd r17,Y+12
 2702               	.LVL159:
  62:nmea/nmea.h   **** 
  63:nmea/nmea.h   ****   //converts string stored in gps->lat_str to double and stores in lat
  64:nmea/nmea.h   ****   gps->lat = atof(lat_str)/100.;
 2703               		.loc 8 64 0
 2704 0aa0 8F81      		ldd r24,Y+7
 2705 0aa2 9885      		ldd r25,Y+8
 2706 0aa4 0E94 0000 		call atof
 2707               	.LVL160:
 2708 0aa8 20E0      		ldi r18,lo8(0x42c80000)
 2709 0aaa 30E0      		ldi r19,hi8(0x42c80000)
 2710 0aac 48EC      		ldi r20,hlo8(0x42c80000)
 2711 0aae 52E4      		ldi r21,hhi8(0x42c80000)
 2712 0ab0 0E94 0000 		call __divsf3
 2713 0ab4 DC01      		movw r26,r24
 2714 0ab6 CB01      		movw r24,r22
 2715 0ab8 F701      		movw r30,r14
 2716 0aba 8083      		st Z,r24
 2717 0abc 9183      		std Z+1,r25
 2718 0abe A283      		std Z+2,r26
 2719 0ac0 B383      		std Z+3,r27
  65:nmea/nmea.h   **** 
  66:nmea/nmea.h   ****   //converts string stored in gps->lng_str to double and stores in lng
  67:nmea/nmea.h   ****   gps->lng = atof(lng_str)/100.;
 2720               		.loc 8 67 0
 2721 0ac2 C801      		movw r24,r16
 2722 0ac4 0E94 0000 		call atof
 2723 0ac8 20E0      		ldi r18,lo8(0x42c80000)
 2724 0aca 30E0      		ldi r19,hi8(0x42c80000)
 2725 0acc 48EC      		ldi r20,hlo8(0x42c80000)
 2726 0ace 52E4      		ldi r21,hhi8(0x42c80000)
 2727 0ad0 0E94 0000 		call __divsf3
 2728 0ad4 DC01      		movw r26,r24
 2729 0ad6 CB01      		movw r24,r22
 2730 0ad8 F701      		movw r30,r14
 2731 0ada 8483      		std Z+4,r24
 2732 0adc 9583      		std Z+5,r25
 2733 0ade A683      		std Z+6,r26
 2734 0ae0 B783      		std Z+7,r27
 2735               	/* epilogue start */
  68:nmea/nmea.h   **** }
 2736               		.loc 8 68 0
 2737 0ae2 A896      		adiw r28,40
 2738 0ae4 CDBF      		out __SP_L__,r28
 2739 0ae6 DEBF      		out __SP_H__,r29
 2740 0ae8 DF91      		pop r29
 2741 0aea CF91      		pop r28
 2742 0aec 1F91      		pop r17
 2743 0aee 0F91      		pop r16
 2744               	.LVL161:
 2745 0af0 FF90      		pop r15
 2746 0af2 EF90      		pop r14
 2747               	.LVL162:
 2748 0af4 0895      		ret
 2749               		.cfi_endproc
 2750               	.LFE64:
 2752               		.data
 2753               	.LC2:
 2754 0002 2447 5052 		.string	"$GPRMC,71.132,A,4230.00,N,-7130.00,E,11.2,0.0,261206,0.0,E*50\r\n"
 2754      4D43 2C37 
 2754      312E 3133 
 2754      322C 412C 
 2754      3432 3330 
 2755               	.LC3:
 2756 0042 2566 00   		.string	"%f"
 2757               		.text
 2758               	.global	parse_nmea
 2760               	parse_nmea:
 2761               	.LFB65:
  69:nmea/nmea.h   **** 
  70:nmea/nmea.h   **** 
  71:nmea/nmea.h   **** char* parse_nmea(void) {
 2762               		.loc 8 71 0
 2763               		.cfi_startproc
 2764 0af6 2F92      		push r2
 2765               	.LCFI72:
 2766               		.cfi_def_cfa_offset 3
 2767               		.cfi_offset 2, -2
 2768 0af8 3F92      		push r3
 2769               	.LCFI73:
 2770               		.cfi_def_cfa_offset 4
 2771               		.cfi_offset 3, -3
 2772 0afa 4F92      		push r4
 2773               	.LCFI74:
 2774               		.cfi_def_cfa_offset 5
 2775               		.cfi_offset 4, -4
 2776 0afc 5F92      		push r5
 2777               	.LCFI75:
 2778               		.cfi_def_cfa_offset 6
 2779               		.cfi_offset 5, -5
 2780 0afe 6F92      		push r6
 2781               	.LCFI76:
 2782               		.cfi_def_cfa_offset 7
 2783               		.cfi_offset 6, -6
 2784 0b00 7F92      		push r7
 2785               	.LCFI77:
 2786               		.cfi_def_cfa_offset 8
 2787               		.cfi_offset 7, -7
 2788 0b02 8F92      		push r8
 2789               	.LCFI78:
 2790               		.cfi_def_cfa_offset 9
 2791               		.cfi_offset 8, -8
 2792 0b04 9F92      		push r9
 2793               	.LCFI79:
 2794               		.cfi_def_cfa_offset 10
 2795               		.cfi_offset 9, -9
 2796 0b06 AF92      		push r10
 2797               	.LCFI80:
 2798               		.cfi_def_cfa_offset 11
 2799               		.cfi_offset 10, -10
 2800 0b08 BF92      		push r11
 2801               	.LCFI81:
 2802               		.cfi_def_cfa_offset 12
 2803               		.cfi_offset 11, -11
 2804 0b0a CF92      		push r12
 2805               	.LCFI82:
 2806               		.cfi_def_cfa_offset 13
 2807               		.cfi_offset 12, -12
 2808 0b0c DF92      		push r13
 2809               	.LCFI83:
 2810               		.cfi_def_cfa_offset 14
 2811               		.cfi_offset 13, -13
 2812 0b0e EF92      		push r14
 2813               	.LCFI84:
 2814               		.cfi_def_cfa_offset 15
 2815               		.cfi_offset 14, -14
 2816 0b10 FF92      		push r15
 2817               	.LCFI85:
 2818               		.cfi_def_cfa_offset 16
 2819               		.cfi_offset 15, -15
 2820 0b12 0F93      		push r16
 2821               	.LCFI86:
 2822               		.cfi_def_cfa_offset 17
 2823               		.cfi_offset 16, -16
 2824 0b14 1F93      		push r17
 2825               	.LCFI87:
 2826               		.cfi_def_cfa_offset 18
 2827               		.cfi_offset 17, -17
 2828 0b16 CF93      		push r28
 2829               	.LCFI88:
 2830               		.cfi_def_cfa_offset 19
 2831               		.cfi_offset 28, -18
 2832 0b18 DF93      		push r29
 2833               	.LCFI89:
 2834               		.cfi_def_cfa_offset 20
 2835               		.cfi_offset 29, -19
 2836 0b1a CDB7      		in r28,__SP_L__
 2837 0b1c DEB7      		in r29,__SP_H__
 2838 0b1e C653      		subi r28,lo8(-(-310))
 2839 0b20 D140      		sbci r29,hi8(-(-310))
 2840               	.LCFI90:
 2841               		.cfi_def_cfa 28, 330
 2842 0b22 CDBF      		out __SP_L__,r28
 2843 0b24 DEBF      		out __SP_H__,r29
 2844               	/* prologue: function */
 2845               	/* frame size = 310 */
 2846               	/* stack size = 328 */
 2847               	.L__stack_usage = 328
 2848               	.LVL163:
 2849               	.LBB1454:
 2850               	.LBB1455:
  39:nmea/nmea.h   ****   token[0] = strtok(s, ","); //get pointer to first token found and store in
 2851               		.loc 8 39 0
 2852 0b26 80E0      		ldi r24,lo8(.LC2)
 2853 0b28 90E0      		ldi r25,hi8(.LC2)
 2854 0b2a 60E0      		ldi r22,lo8(.LC1)
 2855 0b2c 70E0      		ldi r23,hi8(.LC1)
 2856 0b2e 0E94 0000 		call strtok
  41:nmea/nmea.h   ****   while(token[i] != NULL) {  //while commas continue to be found
 2857               		.loc 8 41 0
 2858 0b32 0097      		sbiw r24,0
 2859 0b34 01F0      		breq .L104
 2860 0b36 8E01      		movw r16,r28
 2861 0b38 0D5F      		subi r16,lo8(-(3))
 2862 0b3a 1F4F      		sbci r17,hi8(-(3))
 2863               	.LVL164:
 2864               	.L105:
  43:nmea/nmea.h   ****       token[i] = strtok(NULL, ","); //continue to split the string
 2865               		.loc 8 43 0
 2866 0b3c 80E0      		ldi r24,lo8(0)
 2867 0b3e 90E0      		ldi r25,hi8(0)
 2868 0b40 60E0      		ldi r22,lo8(.LC1)
 2869 0b42 70E0      		ldi r23,hi8(.LC1)
 2870 0b44 0E94 0000 		call strtok
 2871 0b48 D801      		movw r26,r16
 2872 0b4a 8D93      		st X+,r24
 2873 0b4c 9D93      		st X+,r25
 2874 0b4e 8D01      		movw r16,r26
  41:nmea/nmea.h   ****   while(token[i] != NULL) {  //while commas continue to be found
 2875               		.loc 8 41 0
 2876 0b50 0097      		sbiw r24,0
 2877 0b52 01F4      		brne .L105
 2878               	.L104:
 2879               	.LVL165:
  61:nmea/nmea.h   ****   char* lng_str = token[5]; //latitude
 2880               		.loc 8 61 0
 2881 0b54 0B85      		ldd r16,Y+11
 2882 0b56 1C85      		ldd r17,Y+12
 2883               	.LVL166:
  64:nmea/nmea.h   ****   gps->lat = atof(lat_str)/100.;
 2884               		.loc 8 64 0
 2885 0b58 8F81      		ldd r24,Y+7
 2886 0b5a 9885      		ldd r25,Y+8
 2887 0b5c 0E94 0000 		call atof
 2888               	.LVL167:
 2889 0b60 20E0      		ldi r18,lo8(0x42c80000)
 2890 0b62 30E0      		ldi r19,hi8(0x42c80000)
 2891 0b64 48EC      		ldi r20,hlo8(0x42c80000)
 2892 0b66 52E4      		ldi r21,hhi8(0x42c80000)
 2893 0b68 0E94 0000 		call __divsf3
 2894 0b6c A62E      		mov r10,r22
 2895 0b6e 872E      		mov r8,r23
 2896 0b70 482E      		mov r4,r24
 2897 0b72 292E      		mov r2,r25
  67:nmea/nmea.h   ****   gps->lng = atof(lng_str)/100.;
 2898               		.loc 8 67 0
 2899 0b74 C801      		movw r24,r16
 2900 0b76 0E94 0000 		call atof
 2901 0b7a 20E0      		ldi r18,lo8(0x42c80000)
 2902 0b7c 30E0      		ldi r19,hi8(0x42c80000)
 2903 0b7e 48EC      		ldi r20,hlo8(0x42c80000)
 2904 0b80 52E4      		ldi r21,hhi8(0x42c80000)
 2905 0b82 0E94 0000 		call __divsf3
 2906 0b86 B62E      		mov r11,r22
 2907 0b88 972E      		mov r9,r23
 2908 0b8a 382E      		mov r3,r24
 2909 0b8c C15D      		subi r28,lo8(-303)
 2910 0b8e DE4F      		sbci r29,hi8(-303)
 2911 0b90 9883      		st Y,r25
 2912 0b92 CF52      		subi r28,lo8(303)
 2913 0b94 D140      		sbci r29,hi8(303)
 2914               	.LBE1455:
 2915               	.LBE1454:
  72:nmea/nmea.h   ****  
  73:nmea/nmea.h   ****     char *buff = "$GPRMC,71.132,A,4230.00,N,-7130.00,E,11.2,0.0,261206,0.0,E*50\r\n";
  74:nmea/nmea.h   **** 
  75:nmea/nmea.h   ****     //latlng struct to store gps data in
  76:nmea/nmea.h   ****     //reused in every iterationif (d
  77:nmea/nmea.h   ****   
  78:nmea/nmea.h   ****     latlng gps;
  79:nmea/nmea.h   **** 
  80:nmea/nmea.h   ****     //parse lat and lng out of raw nmea string
  81:nmea/nmea.h   ****     parse_nmea_string(buff, &gps);
  82:nmea/nmea.h   **** 
  83:nmea/nmea.h   ****     double dist = distance(gps.lat, gps.lng);
 2916               		.loc 8 83 0
 2917 0b96 8A2D      		mov r24,r10
 2918 0b98 982D      		mov r25,r8
 2919 0b9a A42D      		mov r26,r4
 2920 0b9c B22D      		mov r27,r2
 2921 0b9e BC01      		movw r22,r24
 2922 0ba0 CD01      		movw r24,r26
 2923 0ba2 C15D      		subi r28,lo8(-303)
 2924 0ba4 DE4F      		sbci r29,hi8(-303)
 2925 0ba6 4881      		ld r20,Y
 2926 0ba8 CF52      		subi r28,lo8(303)
 2927 0baa D140      		sbci r29,hi8(303)
 2928 0bac 0B2D      		mov r16,r11
 2929               	.LVL168:
 2930 0bae 192D      		mov r17,r9
 2931 0bb0 232D      		mov r18,r3
 2932 0bb2 342F      		mov r19,r20
 2933 0bb4 A901      		movw r20,r18
 2934 0bb6 9801      		movw r18,r16
 2935 0bb8 0E94 0000 		call distance
 2936 0bbc 6B01      		movw r12,r22
 2937 0bbe 7C01      		movw r14,r24
 2938               	.LVL169:
  84:nmea/nmea.h   **** 
  85:nmea/nmea.h   ****     char** result = malloc(30 * sizeof(char*));
 2939               		.loc 8 85 0
 2940 0bc0 8CE3      		ldi r24,lo8(60)
 2941 0bc2 90E0      		ldi r25,hi8(60)
 2942 0bc4 0E94 0000 		call malloc
 2943               	.LVL170:
 2944 0bc8 CD5C      		subi r28,lo8(-307)
 2945 0bca DE4F      		sbci r29,hi8(-307)
 2946 0bcc 8883      		st Y,r24
 2947 0bce C353      		subi r28,lo8(307)
 2948 0bd0 D140      		sbci r29,hi8(307)
 2949 0bd2 CC5C      		subi r28,lo8(-308)
 2950 0bd4 DE4F      		sbci r29,hi8(-308)
 2951 0bd6 9883      		st Y,r25
 2952 0bd8 C453      		subi r28,lo8(308)
 2953 0bda D140      		sbci r29,hi8(308)
 2954               	.LVL171:
  86:nmea/nmea.h   **** 
  87:nmea/nmea.h   ****     if (dist > max_dist) {
 2955               		.loc 8 87 0
 2956 0bdc C701      		movw r24,r14
 2957 0bde B601      		movw r22,r12
 2958 0be0 2091 0000 		lds r18,max_dist
 2959 0be4 3091 0000 		lds r19,max_dist+1
 2960 0be8 4091 0000 		lds r20,max_dist+2
 2961 0bec 5091 0000 		lds r21,max_dist+3
 2962 0bf0 0E94 0000 		call __gtsf2
 2963 0bf4 1816      		cp __zero_reg__,r24
 2964 0bf6 04F4      		brge .+2
 2965 0bf8 00C0      		rjmp .L221
 2966               	.LVL172:
 2967               	.L106:
 2968               	.LBB1456:
 2969               	.LBB1457:
 2970               	.LBB1458:
 2971               	.LBB1459:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 2972               		.loc 1 110 0
 2973 0bfa 81E0      		ldi r24,lo8(1)
 2974 0bfc 8093 0000 		sts ep_in_data+1,r24
 2975               	.LVL173:
 2976               	.LBB1460:
 2977               	.LBB1461:
 2978               	.LBB1462:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 2979               		.loc 1 80 0
 2980 0c00 5FB7      		in r21,__SREG__
 2981               	.LVL174:
 2982               	.LBB1463:
 2983               	.LBB1464:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 2984               		.loc 2 50 0
 2985               	/* #APP */
 2986               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 2987 0c02 F894      		cli
 2988               	 ;  0 "" 2
 2989               	.LVL175:
 2990               	/* #NOAPP */
 2991               	.LBE1464:
 2992               	.LBE1463:
 2993               	.LBB1465:
 2994               	.LBB1466:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 2995               		.loc 3 220 0
 2996 0c04 8091 0000 		lds r24,endpoints+24
 2997 0c08 8670      		andi r24,lo8(6)
 2998               	.LBE1466:
 2999               	.LBE1465:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 3000               		.loc 1 82 0
 3001 0c0a 01F0      		breq .L184
 3002               	.LBB1467:
 3003               	.LBB1468:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 3004               		.loc 4 51 0
 3005 0c0c 4091 0000 		lds r20,ep_in_pipe_data+4
 3006               	.LBE1468:
 3007               	.LBE1467:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 3008               		.loc 1 83 0
 3009 0c10 1416      		cp __zero_reg__,r20
 3010 0c12 04F0      		brlt .+2
 3011 0c14 00C0      		rjmp .L185
 3012               	.LBB1469:
 3013               	.LBB1470:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 3014               		.loc 4 62 0
 3015 0c16 8091 0000 		lds r24,ep_in_pipe_data
 3016 0c1a 9091 0000 		lds r25,ep_in_pipe_data+1
 3017               	.LVL176:
 3018               	.LBE1470:
 3019               	.LBE1469:
 3020               	.LBB1471:
 3021               	.LBB1472:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 3022               		.loc 1 68 0
 3023 0c1e 2091 0000 		lds r18,ep_in_data
 3024               	.LVL177:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 3025               		.loc 1 69 0
 3026 0c22 31E0      		ldi r19,lo8(1)
 3027 0c24 2130      		cpi r18,lo8(1)
 3028 0c26 01F4      		brne .L186
 3029 0c28 30E0      		ldi r19,lo8(0)
 3030               	.L186:
 3031 0c2a 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 3032               		.loc 1 72 0
 3033 0c2e 2223      		tst r18
 3034 0c30 01F0      		breq .+2
 3035 0c32 00C0      		rjmp .L187
 3036               	.LVL178:
 3037               	.LBB1473:
 3038               	.LBB1474:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 3039               		.loc 3 168 0
 3040 0c34 8093 0000 		sts endpoints+28,r24
 3041 0c38 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3042               		.loc 3 169 0
 3043 0c3c 20E4      		ldi r18,lo8(64)
 3044 0c3e 30E0      		ldi r19,hi8(64)
 3045 0c40 2093 0000 		sts endpoints+26,r18
 3046 0c44 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 3047               		.loc 3 174 0
 3048 0c48 E0E0      		ldi r30,lo8(endpoints+24)
 3049 0c4a F0E0      		ldi r31,hi8(endpoints+24)
 3050               	/* #APP */
 3051               	 ;  174 "usb/usb.h" 1
 3052 0c4c 02E2      		ldi r16, 34
 3053 0c4e 0693      		.dc.w 0x9306
 3054               		
 3055               	 ;  0 "" 2
 3056               	.LVL179:
 3057               	/* #NOAPP */
 3058               	.L188:
 3059               	.LBE1474:
 3060               	.LBE1473:
 3061               	.LBE1472:
 3062               	.LBE1471:
 3063               	.LBB1478:
 3064               	.LBB1479:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 3065               		.loc 4 72 0
 3066 0c50 4150      		subi r20,lo8(-(-1))
 3067 0c52 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 3068               		.loc 4 73 0
 3069 0c56 805C      		subi r24,lo8(-(64))
 3070 0c58 9F4F      		sbci r25,hi8(-(64))
 3071 0c5a 8093 0000 		sts ep_in_pipe_data,r24
 3072 0c5e 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 3073               		.loc 4 75 0
 3074 0c62 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 3075 0c64 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 3076 0c66 9B07      		cpc r25,r27
 3077 0c68 01F4      		brne .+2
 3078 0c6a 00C0      		rjmp .L222
 3079               	.LVL180:
 3080               	.L184:
 3081               	.LBE1479:
 3082               	.LBE1478:
 3083               	.LBB1481:
 3084               	.LBB1482:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3085               		.loc 2 70 0
 3086 0c6c 5FBF      		out __SREG__,r21
 3087               		.loc 2 71 0
 3088               	.LBE1482:
 3089               	.LBE1481:
 3090               	.LBE1462:
 3091               	.LBE1461:
 3092               	.LBE1460:
 3093               	.LBE1459:
 3094               	.LBE1458:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 3095               		.loc 5 27 0
 3096 0c6e 82E0      		ldi r24,lo8(2)
 3097 0c70 E0EC      		ldi r30,lo8(1216)
 3098 0c72 F4E0      		ldi r31,hi8(1216)
 3099 0c74 8587      		std Z+13,r24
 3100               	.LBB1512:
 3101               	.LBB1513:
 3102               	.LBB1514:
 3103               	.LBB1515:
 3104               	.LBB1516:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3105               		.loc 4 57 0
 3106 0c76 96E0      		ldi r25,lo8(6)
 3107               	.L193:
 3108               	.LVL181:
 3109               	.LBE1516:
 3110               	.LBE1515:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3111               		.loc 1 123 0
 3112 0c78 2FB7      		in r18,__SREG__
 3113               	.LVL182:
 3114               	.LBB1518:
 3115               	.LBB1519:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3116               		.loc 2 50 0
 3117               	/* #APP */
 3118               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3119 0c7a F894      		cli
 3120               	 ;  0 "" 2
 3121               	.LVL183:
 3122               	/* #NOAPP */
 3123               	.LBE1519:
 3124               	.LBE1518:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3125               		.loc 1 124 0
 3126 0c7c 8091 0000 		lds r24,ep_in_data+1
 3127 0c80 8823      		tst r24
 3128 0c82 01F4      		brne .+2
 3129 0c84 00C0      		rjmp .L223
 3130               	.L203:
 125:usb/usb_pipe.h **** 			r = false;
 3131               		.loc 1 125 0
 3132 0c86 80E0      		ldi r24,lo8(0)
 3133               	.L195:
 3134               	.LBB1520:
 3135               	.LBB1521:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3136               		.loc 2 70 0
 3137 0c88 2FBF      		out __SREG__,r18
 3138               		.loc 2 71 0
 3139               	.LBE1521:
 3140               	.LBE1520:
 3141               	.LBE1514:
 3142               	.LBE1513:
 3143               	.LBE1512:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 3144               		.loc 5 28 0
 3145 0c8a 8823      		tst r24
 3146 0c8c 01F4      		brne .L194
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 3147               		.loc 5 29 0
 3148 0c8e 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 3149 0c92 8823      		tst r24
 3150 0c94 01F0      		breq .L193
 3151               	.LVL184:
 3152               	.LBB1525:
 3153               	.LBB1526:
 3154               	.LBB1527:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3155               		.loc 1 54 0
 3156 0c96 2FB7      		in r18,__SREG__
 3157               	.LVL185:
 3158               	.LBB1528:
 3159               	.LBB1529:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3160               		.loc 2 50 0
 3161               	/* #APP */
 3162               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3163 0c98 F894      		cli
 3164               	 ;  0 "" 2
 3165               	.LVL186:
 3166               	/* #NOAPP */
 3167               	.LBE1529:
 3168               	.LBE1528:
 3169               	.LBB1530:
 3170               	.LBB1531:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 3171               		.loc 4 90 0
 3172 0c9a 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 3173               		.loc 4 91 0
 3174 0c9e 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 3175 0ca0 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 3176 0ca2 8093 0000 		sts ep_in_pipe_data+2,r24
 3177 0ca6 9093 0000 		sts ep_in_pipe_data+2+1,r25
 3178 0caa 8093 0000 		sts ep_in_pipe_data,r24
 3179 0cae 9093 0000 		sts ep_in_pipe_data+1,r25
 3180               	.LVL187:
 3181               	.LBE1531:
 3182               	.LBE1530:
 3183               	.LBB1532:
 3184               	.LBB1533:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 3185               		.loc 3 158 0
 3186 0cb2 E0E0      		ldi r30,lo8(endpoints+24)
 3187 0cb4 F0E0      		ldi r31,hi8(endpoints+24)
 3188               	/* #APP */
 3189               	 ;  158 "usb/usb.h" 1
 3190 0cb6 06E0      		ldi r16, 6
 3191 0cb8 0593      		.dc.w 0x9305
 3192               		
 3193               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 3194               		.loc 3 159 0
 3195               	 ;  159 "usb/usb.h" 1
 3196 0cba 08E0      		ldi r16, 8
 3197 0cbc 0693      		.dc.w 0x9306
 3198               		
 3199               	 ;  0 "" 2
 3200               	/* #NOAPP */
 3201               	.LBE1533:
 3202               	.LBE1532:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 3203               		.loc 1 57 0
 3204 0cbe 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 3205               		.loc 1 58 0
 3206 0cc2 1092 0000 		sts ep_in_data+2,__zero_reg__
 3207 0cc6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 3208               		.loc 1 59 0
 3209 0cca 1092 0000 		sts ep_in_data,__zero_reg__
 3210               	.LVL188:
 3211               	.LBB1534:
 3212               	.LBB1535:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3213               		.loc 2 70 0
 3214 0cce 2FBF      		out __SREG__,r18
 3215               		.loc 2 71 0
 3216               	.LVL189:
 3217               	.L194:
 3218               	.LBE1535:
 3219               	.LBE1534:
 3220               	.LBE1527:
 3221               	.LBE1526:
 3222               	.LBE1525:
 3223               	.LBE1457:
 3224               	.LBE1456:
  88:nmea/nmea.h   **** 
  89:nmea/nmea.h   ****       char lat_buff[100];
  90:nmea/nmea.h   ****       char lng_buff[100];
  91:nmea/nmea.h   ****       char dist_buff[100];
  92:nmea/nmea.h   **** 
  93:nmea/nmea.h   ****       sprintf(lat_buff, "%f", gps.lat);
  94:nmea/nmea.h   ****       sprintf(lng_buff, "%f", gps.lng);
  95:nmea/nmea.h   ****       sprintf(dist_buff, "%f", dist);
  96:nmea/nmea.h   **** 
  97:nmea/nmea.h   ****       //determine how many characters are in the gps latitude and longitude strings
  98:nmea/nmea.h   ****       int len_lat = strlen(lat_buff);
  99:nmea/nmea.h   ****       int len_lng = strlen(lng_buff);
 100:nmea/nmea.h   ****       int len_dist = strlen(dist_buff);
 101:nmea/nmea.h   **** 
 102:nmea/nmea.h   ****       //iterate over lat and lng strings, sending them char by char over usb
 103:nmea/nmea.h   ****       for (int i=0; i<len_lat; i++) {
 104:nmea/nmea.h   ****         send_byte(lat_buff[i]);  
 105:nmea/nmea.h   ****       }
 106:nmea/nmea.h   **** 
 107:nmea/nmea.h   ****       //lat/lng seperator 
 108:nmea/nmea.h   ****       send_byte(' ');  
 109:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 110:nmea/nmea.h   ****         send_byte(lng_buff[j]);  
 111:nmea/nmea.h   ****       }
 112:nmea/nmea.h   **** 
 113:nmea/nmea.h   ****             //lat/lng seperator 
 114:nmea/nmea.h   ****       send_byte(' ');  
 115:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 116:nmea/nmea.h   ****         send_byte(dist_buff[k]);  
 117:nmea/nmea.h   ****       }
 118:nmea/nmea.h   **** 
 119:nmea/nmea.h   ****       char* lat_str = &lat_buff[0];
 120:nmea/nmea.h   ****       char* lng_str = &lng_buff[0];
 121:nmea/nmea.h   ****       *result = concat(concat(lat_str, ","), lng_str);
 122:nmea/nmea.h   ****     }
 123:nmea/nmea.h   **** 
 124:nmea/nmea.h   ****     //presumably has to do with memory management
 125:nmea/nmea.h   ****     //for now, just make sure to call if after you're done sending bytes over usb
 126:nmea/nmea.h   ****     break_and_flush();
 127:nmea/nmea.h   ****     return *result;
 128:nmea/nmea.h   **** }
 3225               		.loc 8 128 0
 3226 0cd0 CD5C      		subi r28,lo8(-307)
 3227 0cd2 DE4F      		sbci r29,hi8(-307)
 3228 0cd4 E881      		ld r30,Y
 3229 0cd6 F981      		ldd r31,Y+1
 3230 0cd8 C353      		subi r28,lo8(307)
 3231 0cda D140      		sbci r29,hi8(307)
 3232 0cdc 8081      		ld r24,Z
 3233 0cde 9181      		ldd r25,Z+1
 3234               	/* epilogue start */
 3235 0ce0 CA5C      		subi r28,lo8(-(310))
 3236 0ce2 DE4F      		sbci r29,hi8(-(310))
 3237 0ce4 CDBF      		out __SP_L__,r28
 3238 0ce6 DEBF      		out __SP_H__,r29
 3239 0ce8 DF91      		pop r29
 3240 0cea CF91      		pop r28
 3241 0cec 1F91      		pop r17
 3242 0cee 0F91      		pop r16
 3243 0cf0 FF90      		pop r15
 3244 0cf2 EF90      		pop r14
 3245 0cf4 DF90      		pop r13
 3246 0cf6 CF90      		pop r12
 3247 0cf8 BF90      		pop r11
 3248 0cfa AF90      		pop r10
 3249 0cfc 9F90      		pop r9
 3250 0cfe 8F90      		pop r8
 3251 0d00 7F90      		pop r7
 3252 0d02 6F90      		pop r6
 3253 0d04 5F90      		pop r5
 3254 0d06 4F90      		pop r4
 3255 0d08 3F90      		pop r3
 3256 0d0a 2F90      		pop r2
 3257 0d0c 0895      		ret
 3258               	.LVL190:
 3259               	.L223:
 3260               	.LBB1543:
 3261               	.LBB1540:
 3262               	.LBB1536:
 3263               	.LBB1524:
 3264               	.LBB1523:
 3265               	.LBB1522:
 3266               	.LBB1517:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3267               		.loc 4 57 0
 3268 0d0e 8091 0000 		lds r24,ep_in_pipe_data+4
 3269 0d12 392F      		mov r19,r25
 3270 0d14 381B      		sub r19,r24
 3271               	.LBE1517:
 3272               	.LBE1522:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 3273               		.loc 1 127 0
 3274 0d16 81E0      		ldi r24,lo8(1)
 3275 0d18 1316      		cp __zero_reg__,r19
 3276 0d1a 04F4      		brge .+2
 3277 0d1c 00C0      		rjmp .L195
 3278 0d1e 00C0      		rjmp .L203
 3279               	.LVL191:
 3280               	.L187:
 3281               	.LBE1523:
 3282               	.LBE1524:
 3283               	.LBE1536:
 3284               	.LBB1537:
 3285               	.LBB1509:
 3286               	.LBB1506:
 3287               	.LBB1503:
 3288               	.LBB1500:
 3289               	.LBB1483:
 3290               	.LBB1477:
 3291               	.LBB1475:
 3292               	.LBB1476:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 3293               		.loc 3 168 0
 3294 0d20 8093 0000 		sts endpoints+20,r24
 3295 0d24 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3296               		.loc 3 169 0
 3297 0d28 20E4      		ldi r18,lo8(64)
 3298 0d2a 30E0      		ldi r19,hi8(64)
 3299               	.LVL192:
 3300 0d2c 2093 0000 		sts endpoints+18,r18
 3301 0d30 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 3302               		.loc 3 176 0
 3303 0d34 E0E0      		ldi r30,lo8(endpoints+24)
 3304 0d36 F0E0      		ldi r31,hi8(endpoints+24)
 3305               	/* #APP */
 3306               	 ;  176 "usb/usb.h" 1
 3307 0d38 04E1      		ldi r16, 20
 3308 0d3a 0693      		.dc.w 0x9306
 3309               		
 3310               	 ;  0 "" 2
 3311               	/* #NOAPP */
 3312 0d3c 00C0      		rjmp .L188
 3313               	.LVL193:
 3314               	.L222:
 3315               	.LBE1476:
 3316               	.LBE1475:
 3317               	.LBE1477:
 3318               	.LBE1483:
 3319               	.LBB1484:
 3320               	.LBB1480:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 3321               		.loc 4 76 0
 3322 0d3e 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 3323 0d40 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 3324 0d42 8093 0000 		sts ep_in_pipe_data,r24
 3325 0d46 9093 0000 		sts ep_in_pipe_data+1,r25
 3326 0d4a 00C0      		rjmp .L184
 3327               	.LVL194:
 3328               	.L185:
 3329               	.LBE1480:
 3330               	.LBE1484:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 3331               		.loc 1 87 0
 3332 0d4c 8091 0000 		lds r24,ep_in_data+1
 3333 0d50 8130      		cpi r24,lo8(1)
 3334 0d52 01F4      		brne .+2
 3335 0d54 00C0      		rjmp .L224
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 3336               		.loc 1 91 0
 3337 0d56 8230      		cpi r24,lo8(2)
 3338 0d58 01F0      		breq .+2
 3339 0d5a 00C0      		rjmp .L184
 3340               	.LVL195:
 3341               	.LBB1485:
 3342               	.LBB1486:
 3343               	.LBB1487:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 3344               		.loc 3 228 0
 3345 0d5c 8091 0000 		lds r24,endpoints+24
 3346 0d60 8670      		andi r24,lo8(6)
 3347               	.LBE1487:
 3348               	.LBE1486:
 3349               	.LBE1485:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 3350               		.loc 1 91 0
 3351 0d62 8630      		cpi r24,lo8(6)
 3352 0d64 01F0      		breq .+2
 3353 0d66 00C0      		rjmp .L184
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 3354               		.loc 1 92 0
 3355 0d68 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 3356               		.loc 1 93 0
 3357 0d6c 1092 0000 		sts ep_in_data+2,__zero_reg__
 3358 0d70 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 3359               	.LBB1488:
 3360               	.LBB1489:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 3361               		.loc 4 90 0
 3362 0d74 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 3363               		.loc 4 91 0
 3364 0d78 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 3365 0d7a 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 3366 0d7c 8093 0000 		sts ep_in_pipe_data+2,r24
 3367 0d80 9093 0000 		sts ep_in_pipe_data+2+1,r25
 3368 0d84 8093 0000 		sts ep_in_pipe_data,r24
 3369 0d88 9093 0000 		sts ep_in_pipe_data+1,r25
 3370               	.LVL196:
 3371 0d8c 00C0      		rjmp .L184
 3372               	.LVL197:
 3373               	.L221:
 3374               	.LBE1489:
 3375               	.LBE1488:
 3376               	.LBE1500:
 3377               	.LBE1503:
 3378               	.LBE1506:
 3379               	.LBE1509:
 3380               	.LBE1537:
 3381               	.LBE1540:
 3382               	.LBE1543:
 3383               	.LBB1544:
  93:nmea/nmea.h   ****       sprintf(lat_buff, "%f", gps.lat);
 3384               		.loc 8 93 0
 3385 0d8e EDB7      		in r30,__SP_L__
 3386 0d90 FEB7      		in r31,__SP_H__
 3387 0d92 3897      		sbiw r30,8
 3388 0d94 EDBF      		out __SP_L__,r30
 3389 0d96 FEBF      		out __SP_H__,r31
 3390 0d98 3196      		adiw r30,1
 3391 0d9a 49EC      		ldi r20,lo8(201)
 3392 0d9c 642E      		mov r6,r20
 3393 0d9e 712C      		mov r7,__zero_reg__
 3394 0da0 6C0E      		add r6,r28
 3395 0da2 7D1E      		adc r7,r29
 3396 0da4 ADB7      		in r26,__SP_L__
 3397 0da6 BEB7      		in r27,__SP_H__
 3398 0da8 1196      		adiw r26,1
 3399 0daa 6D92      		st X+,r6
 3400 0dac 7C92      		st X,r7
 3401 0dae 1297      		sbiw r26,1+1
 3402 0db0 00E0      		ldi r16,lo8(.LC3)
 3403 0db2 10E0      		ldi r17,hi8(.LC3)
 3404 0db4 0283      		std Z+2,r16
 3405 0db6 1383      		std Z+3,r17
 3406 0db8 2A2D      		mov r18,r10
 3407 0dba 382D      		mov r19,r8
 3408 0dbc 442D      		mov r20,r4
 3409 0dbe 522D      		mov r21,r2
 3410 0dc0 C901      		movw r24,r18
 3411 0dc2 DA01      		movw r26,r20
 3412 0dc4 8483      		std Z+4,r24
 3413 0dc6 9583      		std Z+5,r25
 3414 0dc8 A683      		std Z+6,r26
 3415 0dca B783      		std Z+7,r27
 3416               		.cfi_escape 0x2e,0x8
 3417 0dcc 0E94 0000 		call sprintf
  94:nmea/nmea.h   ****       sprintf(lng_buff, "%f", gps.lng);
 3418               		.loc 8 94 0
 3419 0dd0 EDB7      		in r30,__SP_L__
 3420 0dd2 FEB7      		in r31,__SP_H__
 3421 0dd4 3196      		adiw r30,1
 3422 0dd6 55E6      		ldi r21,lo8(101)
 3423 0dd8 452E      		mov r4,r21
 3424 0dda 512C      		mov r5,__zero_reg__
 3425 0ddc 4C0E      		add r4,r28
 3426 0dde 5D1E      		adc r5,r29
 3427 0de0 ADB7      		in r26,__SP_L__
 3428 0de2 BEB7      		in r27,__SP_H__
 3429 0de4 1196      		adiw r26,1
 3430 0de6 4D92      		st X+,r4
 3431 0de8 5C92      		st X,r5
 3432 0dea 1297      		sbiw r26,1+1
 3433 0dec 0283      		std Z+2,r16
 3434 0dee 1383      		std Z+3,r17
 3435 0df0 2B2D      		mov r18,r11
 3436 0df2 392D      		mov r19,r9
 3437 0df4 432D      		mov r20,r3
 3438 0df6 C15D      		subi r28,lo8(-303)
 3439 0df8 DE4F      		sbci r29,hi8(-303)
 3440 0dfa 5881      		ld r21,Y
 3441 0dfc CF52      		subi r28,lo8(303)
 3442 0dfe D140      		sbci r29,hi8(303)
 3443 0e00 C901      		movw r24,r18
 3444 0e02 DA01      		movw r26,r20
 3445 0e04 8483      		std Z+4,r24
 3446 0e06 9583      		std Z+5,r25
 3447 0e08 A683      		std Z+6,r26
 3448 0e0a B783      		std Z+7,r27
 3449 0e0c 0E94 0000 		call sprintf
  95:nmea/nmea.h   ****       sprintf(dist_buff, "%f", dist);
 3450               		.loc 8 95 0
 3451 0e10 EDB7      		in r30,__SP_L__
 3452 0e12 FEB7      		in r31,__SP_H__
 3453 0e14 3196      		adiw r30,1
 3454 0e16 9E01      		movw r18,r28
 3455 0e18 2F5F      		subi r18,lo8(-(1))
 3456 0e1a 3F4F      		sbci r19,hi8(-(1))
 3457 0e1c C35D      		subi r28,lo8(-301)
 3458 0e1e DE4F      		sbci r29,hi8(-301)
 3459 0e20 2883      		st Y,r18
 3460 0e22 3983      		std Y+1,r19
 3461 0e24 CD52      		subi r28,lo8(301)
 3462 0e26 D140      		sbci r29,hi8(301)
 3463 0e28 ADB7      		in r26,__SP_L__
 3464 0e2a BEB7      		in r27,__SP_H__
 3465 0e2c 1196      		adiw r26,1
 3466 0e2e 2D93      		st X+,r18
 3467 0e30 3C93      		st X,r19
 3468 0e32 1297      		sbiw r26,1+1
 3469 0e34 0283      		std Z+2,r16
 3470 0e36 1383      		std Z+3,r17
 3471 0e38 C482      		std Z+4,r12
 3472 0e3a D582      		std Z+5,r13
 3473 0e3c E682      		std Z+6,r14
 3474 0e3e F782      		std Z+7,r15
 3475 0e40 0E94 0000 		call sprintf
  98:nmea/nmea.h   ****       int len_lat = strlen(lat_buff);
 3476               		.loc 8 98 0
 3477 0e44 F301      		movw r30,r6
 3478 0e46 0190      		ld __tmp_reg__,Z+
 3479 0e48 0020      		tst __tmp_reg__
 3480 0e4a 01F4      		brne .-6
 3481 0e4c 3197      		sbiw r30,1
 3482 0e4e E619      		sub r30,r6
 3483 0e50 F709      		sbc r31,r7
 3484               	.LVL198:
  99:nmea/nmea.h   ****       int len_lng = strlen(lng_buff);
 3485               		.loc 8 99 0
 3486 0e52 D201      		movw r26,r4
 3487 0e54 0D90      		ld __tmp_reg__,X+
 3488 0e56 0020      		tst __tmp_reg__
 3489 0e58 01F4      		brne .-6
 3490 0e5a 1197      		sbiw r26,1
 3491 0e5c A419      		sub r26,r4
 3492 0e5e B509      		sbc r27,r5
 3493 0e60 CF5C      		subi r28,lo8(-305)
 3494 0e62 DE4F      		sbci r29,hi8(-305)
 3495 0e64 A883      		st Y,r26
 3496 0e66 B983      		std Y+1,r27
 3497 0e68 C153      		subi r28,lo8(305)
 3498 0e6a D140      		sbci r29,hi8(305)
 3499               	.LVL199:
 100:nmea/nmea.h   ****       int len_dist = strlen(dist_buff);
 3500               		.loc 8 100 0
 3501 0e6c C35D      		subi r28,lo8(-301)
 3502 0e6e DE4F      		sbci r29,hi8(-301)
 3503 0e70 A881      		ld r26,Y
 3504 0e72 B981      		ldd r27,Y+1
 3505 0e74 CD52      		subi r28,lo8(301)
 3506 0e76 D140      		sbci r29,hi8(301)
 3507               	.LVL200:
 3508 0e78 0D90      		ld __tmp_reg__,X+
 3509 0e7a 0020      		tst __tmp_reg__
 3510 0e7c 01F4      		brne .-6
 3511 0e7e 1197      		sbiw r26,1
 3512 0e80 C35D      		subi r28,lo8(-301)
 3513 0e82 DE4F      		sbci r29,hi8(-301)
 3514 0e84 2881      		ld r18,Y
 3515 0e86 3981      		ldd r19,Y+1
 3516 0e88 CD52      		subi r28,lo8(301)
 3517 0e8a D140      		sbci r29,hi8(301)
 3518 0e8c A21B      		sub r26,r18
 3519 0e8e B30B      		sbc r27,r19
 3520 0e90 C15D      		subi r28,lo8(-303)
 3521 0e92 DE4F      		sbci r29,hi8(-303)
 3522 0e94 A883      		st Y,r26
 3523 0e96 B983      		std Y+1,r27
 3524 0e98 CF52      		subi r28,lo8(303)
 3525 0e9a D140      		sbci r29,hi8(303)
 3526               	.LVL201:
 3527               	.LBB1545:
 103:nmea/nmea.h   ****       for (int i=0; i<len_lat; i++) {
 3528               		.loc 8 103 0
 3529 0e9c 8DB7      		in r24,__SP_L__
 3530 0e9e 9EB7      		in r25,__SP_H__
 3531 0ea0 0896      		adiw r24,8
 3532 0ea2 8DBF      		out __SP_L__,r24
 3533 0ea4 9EBF      		out __SP_H__,r25
 3534 0ea6 1E16      		cp __zero_reg__,r30
 3535 0ea8 1F06      		cpc __zero_reg__,r31
 3536 0eaa 04F0      		brlt .+2
 3537 0eac 00C0      		rjmp .L126
 3538 0eae 4301      		movw r8,r6
  71:nmea/nmea.h   **** char* parse_nmea(void) {
 3539               		.loc 8 71 0
 3540 0eb0 D301      		movw r26,r6
 3541               	.LVL202:
 3542 0eb2 AE0F      		add r26,r30
 3543 0eb4 BF1F      		adc r27,r31
 3544 0eb6 CB5C      		subi r28,lo8(-309)
 3545 0eb8 DE4F      		sbci r29,hi8(-309)
 3546 0eba A883      		st Y,r26
 3547 0ebc B983      		std Y+1,r27
 3548 0ebe C553      		subi r28,lo8(309)
 3549 0ec0 D140      		sbci r29,hi8(309)
 3550               	.LBB1546:
 3551               	.LBB1547:
 3552               	.LBB1548:
 3553               	.LBB1549:
 3554               	.LBB1550:
 3555               	.LBB1551:
 3556               	.LBB1552:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3557               		.loc 4 57 0
 3558 0ec2 56E0      		ldi r21,lo8(6)
 3559               	.LBE1552:
 3560               	.LBE1551:
 3561               	.LBE1550:
 3562               	.LBE1549:
 3563               	.LBE1548:
 3564               	.LBB1563:
 3565               	.LBB1564:
 3566               	.LBB1565:
 3567               	.LBB1566:
 3568               	.LBB1567:
 3569               	.LBB1568:
 3570               	.LBB1569:
 3571               	.LBB1570:
 3572               	.LBB1571:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 3573               		.loc 3 220 0
 3574 0ec4 A0E0      		ldi r26,lo8(endpoints+24)
 3575 0ec6 B0E0      		ldi r27,hi8(endpoints+24)
 3576               	.LBE1571:
 3577               	.LBE1570:
 3578               	.LBB1573:
 3579               	.LBB1574:
 3580               		.loc 4 91 0
 3581 0ec8 90E0      		ldi r25,lo8(ep_in_pipe_buffer)
 3582 0eca 292E      		mov r2,r25
 3583 0ecc 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 3584 0ece 392E      		mov r3,r25
 3585               	.LBE1574:
 3586               	.LBE1573:
 3587               	.LBB1577:
 3588               	.LBB1578:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 3589               		.loc 1 69 0
 3590 0ed0 21E0      		ldi r18,lo8(1)
 3591 0ed2 E22E      		mov r14,r18
 3592 0ed4 F12C      		mov r15,__zero_reg__
 3593               	.LBE1578:
 3594               	.LBE1577:
 3595               	.LBB1586:
 3596               	.LBB1587:
 3597               	.LBB1588:
 3598               	.LBB1589:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3599               		.loc 3 169 0
 3600 0ed6 30E4      		ldi r19,lo8(64)
 3601 0ed8 A32E      		mov r10,r19
 3602 0eda B12C      		mov r11,__zero_reg__
 3603               	.LVL203:
 3604               	.L123:
 3605               	.LBE1589:
 3606               	.LBE1588:
 3607               	.LBE1587:
 3608               	.LBE1586:
 3609               	.LBE1569:
 3610               	.LBE1568:
 3611               	.LBE1567:
 3612               	.LBE1566:
 3613               	.LBE1565:
 3614               	.LBE1564:
 3615               	.LBE1563:
 3616               	.LBE1547:
 3617               	.LBE1546:
 104:nmea/nmea.h   ****         send_byte(lat_buff[i]);  
 3618               		.loc 8 104 0 discriminator 2
 3619 0edc F401      		movw r30,r8
 3620 0ede 3191      		ld r19,Z+
 3621 0ee0 4F01      		movw r8,r30
 3622               	.LVL204:
 3623               	.L111:
 3624               	.LBB1639:
 3625               	.LBB1637:
 3626               	.LBB1632:
 3627               	.LBB1561:
 3628               	.LBB1559:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3629               		.loc 1 123 0
 3630 0ee2 9FB7      		in r25,__SREG__
 3631               	.LVL205:
 3632               	.LBB1554:
 3633               	.LBB1555:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3634               		.loc 2 50 0
 3635               	/* #APP */
 3636               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3637 0ee4 F894      		cli
 3638               	 ;  0 "" 2
 3639               	.LVL206:
 3640               	/* #NOAPP */
 3641               	.LBE1555:
 3642               	.LBE1554:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3643               		.loc 1 124 0
 3644 0ee6 8091 0000 		lds r24,ep_in_data+1
 3645 0eea 8823      		tst r24
 3646 0eec 01F4      		brne .+2
 3647 0eee 00C0      		rjmp .L225
 3648               	.L198:
 125:usb/usb_pipe.h **** 			r = false;
 3649               		.loc 1 125 0
 3650 0ef0 80E0      		ldi r24,lo8(0)
 3651               	.L109:
 3652               	.LBB1556:
 3653               	.LBB1557:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3654               		.loc 2 70 0
 3655 0ef2 9FBF      		out __SREG__,r25
 3656               		.loc 2 71 0
 3657               	.LBE1557:
 3658               	.LBE1556:
 3659               	.LBE1559:
 3660               	.LBE1561:
 3661               	.LBE1632:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3662               		.loc 5 20 0
 3663 0ef4 8823      		tst r24
 3664 0ef6 01F0      		breq .L111
 3665               	.LVL207:
 3666               	.LBB1633:
 3667               	.LBB1634:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3668               		.loc 1 175 0
 3669 0ef8 8091 0000 		lds r24,ep_in_data+2
 3670 0efc 9091 0000 		lds r25,ep_in_data+2+1
 3671 0f00 E091 0000 		lds r30,ep_in_pipe_data+2
 3672 0f04 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3673               	.LVL208:
 3674 0f08 E80F      		add r30,r24
 3675 0f0a F91F      		adc r31,r25
 3676 0f0c 3083      		st Z,r19
 3677 0f0e 0196      		adiw r24,1
 3678 0f10 8093 0000 		sts ep_in_data+2,r24
 3679 0f14 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3680               		.loc 1 176 0
 3681 0f18 8034      		cpi r24,64
 3682 0f1a 9105      		cpc r25,__zero_reg__
 3683 0f1c 01F4      		brne .+2
 3684 0f1e 00C0      		rjmp .L226
 3685               	.LVL209:
 3686               	.L112:
 3687               	.LBE1634:
 3688               	.LBE1633:
 3689               	.LBE1637:
 3690               	.LBE1639:
 103:nmea/nmea.h   ****       for (int i=0; i<len_lat; i++) {
 3691               		.loc 8 103 0 discriminator 2
 3692 0f20 CB5C      		subi r28,lo8(-309)
 3693 0f22 DE4F      		sbci r29,hi8(-309)
 3694 0f24 2881      		ld r18,Y
 3695 0f26 3981      		ldd r19,Y+1
 3696 0f28 C553      		subi r28,lo8(309)
 3697 0f2a D140      		sbci r29,hi8(309)
 3698 0f2c 8216      		cp r8,r18
 3699 0f2e 9306      		cpc r9,r19
 3700 0f30 01F4      		brne .L123
 3701               	.LVL210:
 3702               	.L126:
 3703               	.LBE1545:
 3704               	.LBB1641:
 3705               	.LBB1642:
 3706               	.LBB1643:
 3707               	.LBB1644:
 3708               	.LBB1645:
 3709               	.LBB1646:
 3710               	.LBB1647:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3711               		.loc 4 57 0
 3712 0f32 96E0      		ldi r25,lo8(6)
 3713               	.L207:
 3714               	.LVL211:
 3715               	.LBE1647:
 3716               	.LBE1646:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3717               		.loc 1 123 0
 3718 0f34 2FB7      		in r18,__SREG__
 3719               	.LVL212:
 3720               	.LBB1649:
 3721               	.LBB1650:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3722               		.loc 2 50 0
 3723               	/* #APP */
 3724               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3725 0f36 F894      		cli
 3726               	 ;  0 "" 2
 3727               	.LVL213:
 3728               	/* #NOAPP */
 3729               	.LBE1650:
 3730               	.LBE1649:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3731               		.loc 1 124 0
 3732 0f38 8091 0000 		lds r24,ep_in_data+1
 3733 0f3c 8823      		tst r24
 3734 0f3e 01F4      		brne .+2
 3735 0f40 00C0      		rjmp .L227
 3736               	.L199:
 125:usb/usb_pipe.h **** 			r = false;
 3737               		.loc 1 125 0
 3738 0f42 80E0      		ldi r24,lo8(0)
 3739               	.L124:
 3740               	.LBB1651:
 3741               	.LBB1652:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3742               		.loc 2 70 0
 3743 0f44 2FBF      		out __SREG__,r18
 3744               		.loc 2 71 0
 3745               	.LBE1652:
 3746               	.LBE1651:
 3747               	.LBE1645:
 3748               	.LBE1644:
 3749               	.LBE1643:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3750               		.loc 5 20 0
 3751 0f46 8823      		tst r24
 3752 0f48 01F0      		breq .L207
 3753               	.LVL214:
 3754               	.LBB1656:
 3755               	.LBB1657:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3756               		.loc 1 175 0
 3757 0f4a 8091 0000 		lds r24,ep_in_data+2
 3758 0f4e 9091 0000 		lds r25,ep_in_data+2+1
 3759 0f52 E091 0000 		lds r30,ep_in_pipe_data+2
 3760 0f56 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3761 0f5a E80F      		add r30,r24
 3762 0f5c F91F      		adc r31,r25
 3763 0f5e 20E2      		ldi r18,lo8(32)
 3764               	.LVL215:
 3765 0f60 2083      		st Z,r18
 3766 0f62 0196      		adiw r24,1
 3767 0f64 8093 0000 		sts ep_in_data+2,r24
 3768 0f68 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3769               		.loc 1 176 0
 3770 0f6c 8034      		cpi r24,64
 3771 0f6e 9105      		cpc r25,__zero_reg__
 3772 0f70 01F4      		brne .+2
 3773 0f72 00C0      		rjmp .L228
 3774               	.L127:
 3775               	.LVL216:
 3776               	.LBE1657:
 3777               	.LBE1656:
 3778               	.LBE1642:
 3779               	.LBE1641:
 3780               	.LBB1724:
 109:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 3781               		.loc 8 109 0 discriminator 1
 3782 0f74 CF5C      		subi r28,lo8(-305)
 3783 0f76 DE4F      		sbci r29,hi8(-305)
 3784 0f78 2881      		ld r18,Y
 3785 0f7a 3981      		ldd r19,Y+1
 3786 0f7c C153      		subi r28,lo8(305)
 3787 0f7e D140      		sbci r29,hi8(305)
 3788 0f80 1216      		cp __zero_reg__,r18
 3789 0f82 1306      		cpc __zero_reg__,r19
 3790 0f84 04F0      		brlt .+2
 3791 0f86 00C0      		rjmp .L156
 109:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 3792               		.loc 8 109 0 is_stmt 0
 3793 0f88 4201      		movw r8,r4
  71:nmea/nmea.h   **** char* parse_nmea(void) {
 3794               		.loc 8 71 0 is_stmt 1
 3795 0f8a 240D      		add r18,r4
 3796 0f8c 351D      		adc r19,r5
 3797 0f8e CF5C      		subi r28,lo8(-305)
 3798 0f90 DE4F      		sbci r29,hi8(-305)
 3799 0f92 2883      		st Y,r18
 3800 0f94 3983      		std Y+1,r19
 3801 0f96 C153      		subi r28,lo8(305)
 3802 0f98 D140      		sbci r29,hi8(305)
 3803               	.LBB1725:
 3804               	.LBB1726:
 3805               	.LBB1727:
 3806               	.LBB1728:
 3807               	.LBB1729:
 3808               	.LBB1730:
 3809               	.LBB1731:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3810               		.loc 4 57 0
 3811 0f9a 56E0      		ldi r21,lo8(6)
 3812               	.LBE1731:
 3813               	.LBE1730:
 3814               	.LBE1729:
 3815               	.LBE1728:
 3816               	.LBE1727:
 3817               	.LBB1742:
 3818               	.LBB1743:
 3819               	.LBB1744:
 3820               	.LBB1745:
 3821               	.LBB1746:
 3822               	.LBB1747:
 3823               	.LBB1748:
 3824               	.LBB1749:
 3825               	.LBB1750:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 3826               		.loc 3 220 0
 3827 0f9c B0E0      		ldi r27,lo8(endpoints+24)
 3828 0f9e EB2E      		mov r14,r27
 3829 0fa0 B0E0      		ldi r27,hi8(endpoints+24)
 3830 0fa2 FB2E      		mov r15,r27
 3831               	.LBE1750:
 3832               	.LBE1749:
 3833               	.LBB1752:
 3834               	.LBB1753:
 3835               		.loc 4 91 0
 3836 0fa4 10E0      		ldi r17,lo8(ep_in_pipe_buffer)
 3837 0fa6 212E      		mov r2,r17
 3838 0fa8 10E0      		ldi r17,hi8(ep_in_pipe_buffer)
 3839 0faa 312E      		mov r3,r17
 3840               	.LBE1753:
 3841               	.LBE1752:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 3842               		.loc 1 88 0
 3843 0fac 12E0      		ldi r17,lo8(2)
 3844               	.LBB1756:
 3845               	.LBB1757:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 3846               		.loc 1 69 0
 3847 0fae 01E0      		ldi r16,lo8(1)
 3848 0fb0 C02E      		mov r12,r16
 3849 0fb2 D12C      		mov r13,__zero_reg__
 3850               	.LBE1757:
 3851               	.LBE1756:
 3852               	.LBB1765:
 3853               	.LBB1766:
 3854               	.LBB1767:
 3855               	.LBB1768:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3856               		.loc 3 169 0
 3857 0fb4 80E4      		ldi r24,lo8(64)
 3858 0fb6 A82E      		mov r10,r24
 3859 0fb8 B12C      		mov r11,__zero_reg__
 3860               	.LVL217:
 3861               	.L153:
 3862               	.LBE1768:
 3863               	.LBE1767:
 3864               	.LBE1766:
 3865               	.LBE1765:
 3866               	.LBE1748:
 3867               	.LBE1747:
 3868               	.LBE1746:
 3869               	.LBE1745:
 3870               	.LBE1744:
 3871               	.LBE1743:
 3872               	.LBE1742:
 3873               	.LBE1726:
 3874               	.LBE1725:
 110:nmea/nmea.h   ****         send_byte(lng_buff[j]);  
 3875               		.loc 8 110 0 discriminator 2
 3876 0fba D401      		movw r26,r8
 3877 0fbc 2D91      		ld r18,X+
 3878 0fbe 4D01      		movw r8,r26
 3879               	.LVL218:
 3880               	.L141:
 3881               	.LBB1818:
 3882               	.LBB1816:
 3883               	.LBB1811:
 3884               	.LBB1740:
 3885               	.LBB1738:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3886               		.loc 1 123 0
 3887 0fc0 9FB7      		in r25,__SREG__
 3888               	.LVL219:
 3889               	.LBB1733:
 3890               	.LBB1734:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3891               		.loc 2 50 0
 3892               	/* #APP */
 3893               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3894 0fc2 F894      		cli
 3895               	 ;  0 "" 2
 3896               	.LVL220:
 3897               	/* #NOAPP */
 3898               	.LBE1734:
 3899               	.LBE1733:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3900               		.loc 1 124 0
 3901 0fc4 8091 0000 		lds r24,ep_in_data+1
 3902 0fc8 8823      		tst r24
 3903 0fca 01F4      		brne .+2
 3904 0fcc 00C0      		rjmp .L229
 3905               	.L200:
 125:usb/usb_pipe.h **** 			r = false;
 3906               		.loc 1 125 0
 3907 0fce 80E0      		ldi r24,lo8(0)
 3908               	.L139:
 3909               	.LBB1735:
 3910               	.LBB1736:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3911               		.loc 2 70 0
 3912 0fd0 9FBF      		out __SREG__,r25
 3913               		.loc 2 71 0
 3914               	.LBE1736:
 3915               	.LBE1735:
 3916               	.LBE1738:
 3917               	.LBE1740:
 3918               	.LBE1811:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3919               		.loc 5 20 0
 3920 0fd2 8823      		tst r24
 3921 0fd4 01F0      		breq .L141
 3922               	.LVL221:
 3923               	.LBB1812:
 3924               	.LBB1813:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3925               		.loc 1 175 0
 3926 0fd6 8091 0000 		lds r24,ep_in_data+2
 3927 0fda 9091 0000 		lds r25,ep_in_data+2+1
 3928 0fde E091 0000 		lds r30,ep_in_pipe_data+2
 3929 0fe2 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3930 0fe6 E80F      		add r30,r24
 3931 0fe8 F91F      		adc r31,r25
 3932 0fea 2083      		st Z,r18
 3933 0fec 0196      		adiw r24,1
 3934 0fee 8093 0000 		sts ep_in_data+2,r24
 3935 0ff2 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3936               		.loc 1 176 0
 3937 0ff6 8034      		cpi r24,64
 3938 0ff8 9105      		cpc r25,__zero_reg__
 3939 0ffa 01F4      		brne .+2
 3940 0ffc 00C0      		rjmp .L230
 3941               	.LVL222:
 3942               	.L142:
 3943               	.LBE1813:
 3944               	.LBE1812:
 3945               	.LBE1816:
 3946               	.LBE1818:
 109:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 3947               		.loc 8 109 0 discriminator 2
 3948 0ffe CF5C      		subi r28,lo8(-305)
 3949 1000 DE4F      		sbci r29,hi8(-305)
 3950 1002 2881      		ld r18,Y
 3951 1004 3981      		ldd r19,Y+1
 3952 1006 C153      		subi r28,lo8(305)
 3953 1008 D140      		sbci r29,hi8(305)
 3954 100a 8216      		cp r8,r18
 3955 100c 9306      		cpc r9,r19
 3956 100e 01F4      		brne .L153
 3957               	.LVL223:
 3958               	.L156:
 3959               	.LBE1724:
 3960               	.LBB1820:
 3961               	.LBB1821:
 3962               	.LBB1822:
 3963               	.LBB1823:
 3964               	.LBB1824:
 3965               	.LBB1825:
 3966               	.LBB1826:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3967               		.loc 4 57 0
 3968 1010 96E0      		ldi r25,lo8(6)
 3969               	.L206:
 3970               	.LBE1826:
 3971               	.LBE1825:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3972               		.loc 1 123 0
 3973 1012 2FB7      		in r18,__SREG__
 3974               	.LVL224:
 3975               	.LBB1828:
 3976               	.LBB1829:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3977               		.loc 2 50 0
 3978               	/* #APP */
 3979               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3980 1014 F894      		cli
 3981               	 ;  0 "" 2
 3982               	.LVL225:
 3983               	/* #NOAPP */
 3984               	.LBE1829:
 3985               	.LBE1828:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3986               		.loc 1 124 0
 3987 1016 8091 0000 		lds r24,ep_in_data+1
 3988 101a 8823      		tst r24
 3989 101c 01F4      		brne .+2
 3990 101e 00C0      		rjmp .L231
 3991               	.L201:
 125:usb/usb_pipe.h **** 			r = false;
 3992               		.loc 1 125 0
 3993 1020 80E0      		ldi r24,lo8(0)
 3994               	.L154:
 3995               	.LBB1830:
 3996               	.LBB1831:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3997               		.loc 2 70 0
 3998 1022 2FBF      		out __SREG__,r18
 3999               		.loc 2 71 0
 4000               	.LBE1831:
 4001               	.LBE1830:
 4002               	.LBE1824:
 4003               	.LBE1823:
 4004               	.LBE1822:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 4005               		.loc 5 20 0
 4006 1024 8823      		tst r24
 4007 1026 01F0      		breq .L206
 4008               	.LVL226:
 4009               	.LBB1835:
 4010               	.LBB1836:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 4011               		.loc 1 175 0
 4012 1028 8091 0000 		lds r24,ep_in_data+2
 4013 102c 9091 0000 		lds r25,ep_in_data+2+1
 4014 1030 E091 0000 		lds r30,ep_in_pipe_data+2
 4015 1034 F091 0000 		lds r31,ep_in_pipe_data+2+1
 4016 1038 E80F      		add r30,r24
 4017 103a F91F      		adc r31,r25
 4018 103c 20E2      		ldi r18,lo8(32)
 4019               	.LVL227:
 4020 103e 2083      		st Z,r18
 4021 1040 0196      		adiw r24,1
 4022 1042 8093 0000 		sts ep_in_data+2,r24
 4023 1046 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 4024               		.loc 1 176 0
 4025 104a 8034      		cpi r24,64
 4026 104c 9105      		cpc r25,__zero_reg__
 4027 104e 01F4      		brne .+2
 4028 1050 00C0      		rjmp .L232
 4029               	.L157:
 4030               	.LVL228:
 4031               	.LBE1836:
 4032               	.LBE1835:
 4033               	.LBE1821:
 4034               	.LBE1820:
 4035               	.LBB1901:
 115:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 4036               		.loc 8 115 0 discriminator 1
 4037 1052 C15D      		subi r28,lo8(-303)
 4038 1054 DE4F      		sbci r29,hi8(-303)
 4039 1056 2881      		ld r18,Y
 4040 1058 3981      		ldd r19,Y+1
 4041 105a CF52      		subi r28,lo8(303)
 4042 105c D140      		sbci r29,hi8(303)
 4043 105e 1216      		cp __zero_reg__,r18
 4044 1060 1306      		cpc __zero_reg__,r19
 4045 1062 04F0      		brlt .+2
 4046 1064 00C0      		rjmp .L168
 115:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 4047               		.loc 8 115 0 is_stmt 0
 4048 1066 4E01      		movw r8,r28
 4049 1068 0894      		sec
 4050 106a 811C      		adc r8,__zero_reg__
 4051 106c 911C      		adc r9,__zero_reg__
  71:nmea/nmea.h   **** char* parse_nmea(void) {
 4052               		.loc 8 71 0 is_stmt 1
 4053 106e 280D      		add r18,r8
 4054 1070 391D      		adc r19,r9
 4055 1072 C15D      		subi r28,lo8(-303)
 4056 1074 DE4F      		sbci r29,hi8(-303)
 4057 1076 2883      		st Y,r18
 4058 1078 3983      		std Y+1,r19
 4059 107a CF52      		subi r28,lo8(303)
 4060 107c D140      		sbci r29,hi8(303)
 4061               	.LBB1902:
 4062               	.LBB1903:
 4063               	.LBB1904:
 4064               	.LBB1905:
 4065               	.LBB1906:
 4066               	.LBB1907:
 4067               	.LBB1908:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4068               		.loc 4 57 0
 4069 107e 76E0      		ldi r23,lo8(6)
 4070               	.LBE1908:
 4071               	.LBE1907:
 4072               	.LBE1906:
 4073               	.LBE1905:
 4074               	.LBE1904:
 4075               	.LBB1919:
 4076               	.LBB1920:
 4077               	.LBB1921:
 4078               	.LBB1922:
 4079               	.LBB1923:
 4080               	.LBB1924:
 4081               	.LBB1925:
 4082               	.LBB1926:
 4083               	.LBB1927:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 4084               		.loc 3 220 0
 4085 1080 60E0      		ldi r22,lo8(endpoints+24)
 4086 1082 E62E      		mov r14,r22
 4087 1084 60E0      		ldi r22,hi8(endpoints+24)
 4088 1086 F62E      		mov r15,r22
 4089               	.LBE1927:
 4090               	.LBE1926:
 4091               	.LBB1929:
 4092               	.LBB1930:
 4093               		.loc 4 91 0
 4094 1088 E0E0      		ldi r30,lo8(ep_in_pipe_buffer)
 4095 108a 2E2E      		mov r2,r30
 4096 108c E0E0      		ldi r30,hi8(ep_in_pipe_buffer)
 4097 108e 3E2E      		mov r3,r30
 4098               	.LBE1930:
 4099               	.LBE1929:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 4100               		.loc 1 88 0
 4101 1090 12E0      		ldi r17,lo8(2)
 4102               	.LBB1933:
 4103               	.LBB1934:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4104               		.loc 1 69 0
 4105 1092 F1E0      		ldi r31,lo8(1)
 4106 1094 CF2E      		mov r12,r31
 4107 1096 D12C      		mov r13,__zero_reg__
 4108               	.LBE1934:
 4109               	.LBE1933:
 4110               	.LBB1942:
 4111               	.LBB1943:
 4112               	.LBB1944:
 4113               	.LBB1945:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4114               		.loc 3 169 0
 4115 1098 A0E4      		ldi r26,lo8(64)
 4116 109a AA2E      		mov r10,r26
 4117 109c B12C      		mov r11,__zero_reg__
 4118               	.LVL229:
 4119               	.L183:
 4120               	.LBE1945:
 4121               	.LBE1944:
 4122               	.LBE1943:
 4123               	.LBE1942:
 4124               	.LBE1925:
 4125               	.LBE1924:
 4126               	.LBE1923:
 4127               	.LBE1922:
 4128               	.LBE1921:
 4129               	.LBE1920:
 4130               	.LBE1919:
 4131               	.LBE1903:
 4132               	.LBE1902:
 116:nmea/nmea.h   ****         send_byte(dist_buff[k]);  
 4133               		.loc 8 116 0 discriminator 2
 4134 109e D401      		movw r26,r8
 4135 10a0 2D91      		ld r18,X+
 4136 10a2 4D01      		movw r8,r26
 4137               	.LVL230:
 4138               	.L171:
 4139               	.LBB1995:
 4140               	.LBB1993:
 4141               	.LBB1988:
 4142               	.LBB1917:
 4143               	.LBB1915:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 4144               		.loc 1 123 0
 4145 10a4 9FB7      		in r25,__SREG__
 4146               	.LVL231:
 4147               	.LBB1910:
 4148               	.LBB1911:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4149               		.loc 2 50 0
 4150               	/* #APP */
 4151               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4152 10a6 F894      		cli
 4153               	 ;  0 "" 2
 4154               	.LVL232:
 4155               	/* #NOAPP */
 4156               	.LBE1911:
 4157               	.LBE1910:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 4158               		.loc 1 124 0
 4159 10a8 8091 0000 		lds r24,ep_in_data+1
 4160 10ac 8823      		tst r24
 4161 10ae 01F4      		brne .+2
 4162 10b0 00C0      		rjmp .L233
 4163               	.L202:
 125:usb/usb_pipe.h **** 			r = false;
 4164               		.loc 1 125 0
 4165 10b2 80E0      		ldi r24,lo8(0)
 4166               	.L169:
 4167               	.LBB1912:
 4168               	.LBB1913:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4169               		.loc 2 70 0
 4170 10b4 9FBF      		out __SREG__,r25
 4171               		.loc 2 71 0
 4172               	.LBE1913:
 4173               	.LBE1912:
 4174               	.LBE1915:
 4175               	.LBE1917:
 4176               	.LBE1988:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 4177               		.loc 5 20 0
 4178 10b6 8823      		tst r24
 4179 10b8 01F0      		breq .L171
 4180               	.LVL233:
 4181               	.LBB1989:
 4182               	.LBB1990:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 4183               		.loc 1 175 0
 4184 10ba 8091 0000 		lds r24,ep_in_data+2
 4185 10be 9091 0000 		lds r25,ep_in_data+2+1
 4186 10c2 E091 0000 		lds r30,ep_in_pipe_data+2
 4187 10c6 F091 0000 		lds r31,ep_in_pipe_data+2+1
 4188 10ca E80F      		add r30,r24
 4189 10cc F91F      		adc r31,r25
 4190 10ce 2083      		st Z,r18
 4191 10d0 0196      		adiw r24,1
 4192 10d2 8093 0000 		sts ep_in_data+2,r24
 4193 10d6 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 4194               		.loc 1 176 0
 4195 10da 8034      		cpi r24,64
 4196 10dc 9105      		cpc r25,__zero_reg__
 4197 10de 01F4      		brne .+2
 4198 10e0 00C0      		rjmp .L234
 4199               	.LVL234:
 4200               	.L172:
 4201               	.LBE1990:
 4202               	.LBE1989:
 4203               	.LBE1993:
 4204               	.LBE1995:
 115:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 4205               		.loc 8 115 0 discriminator 2
 4206 10e2 C15D      		subi r28,lo8(-303)
 4207 10e4 DE4F      		sbci r29,hi8(-303)
 4208 10e6 2881      		ld r18,Y
 4209 10e8 3981      		ldd r19,Y+1
 4210 10ea CF52      		subi r28,lo8(303)
 4211 10ec D140      		sbci r29,hi8(303)
 4212 10ee 8216      		cp r8,r18
 4213 10f0 9306      		cpc r9,r19
 4214 10f2 01F4      		brne .L183
 4215               	.LVL235:
 4216               	.L168:
 4217               	.LBE1901:
 4218               	.LBB1997:
 4219               	.LBB1998:
  15:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 4220               		.loc 7 15 0
 4221 10f4 D301      		movw r26,r6
 4222 10f6 0D90      		ld __tmp_reg__,X+
 4223 10f8 0020      		tst __tmp_reg__
 4224 10fa 01F4      		brne .-6
 4225 10fc CD01      		movw r24,r26
 4226 10fe 8619      		sub r24,r6
 4227 1100 9709      		sbc r25,r7
 4228 1102 0196      		adiw r24,1
 4229               		.cfi_escape 0x2e,0
 4230 1104 0E94 0000 		call malloc
 4231               	.LVL236:
 4232 1108 E92E      		mov r14,r25
 4233 110a 082F      		mov r16,r24
 4234 110c 192F      		mov r17,r25
 4235               	.LVL237:
  17:concat/concat.h ****     strcpy(result, s1);
 4236               		.loc 7 17 0
 4237 110e C801      		movw r24,r16
 4238 1110 B301      		movw r22,r6
 4239 1112 0E94 0000 		call strcpy
  18:concat/concat.h ****     strcat(result, s2);
 4240               		.loc 7 18 0
 4241 1116 E02F      		mov r30,r16
 4242 1118 FE2D      		mov r31,r14
 4243 111a DF01      		movw r26,r30
 4244 111c 0D90      		ld __tmp_reg__,X+
 4245 111e 0020      		tst __tmp_reg__
 4246 1120 01F4      		brne .-6
 4247 1122 1197      		sbiw r26,1
 4248 1124 AE1B      		sub r26,r30
 4249 1126 BF0B      		sbc r27,r31
 4250 1128 A00F      		add r26,r16
 4251 112a B11F      		adc r27,r17
 4252 112c 8CE2      		ldi r24,lo8(44)
 4253 112e 90E0      		ldi r25,hi8(44)
 4254 1130 8D93      		st X+,r24
 4255 1132 9C93      		st X,r25
 4256               	.LVL238:
 4257               	.LBE1998:
 4258               	.LBE1997:
 4259               	.LBB1999:
 4260               	.LBB2000:
  15:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 4261               		.loc 7 15 0
 4262 1134 A02F      		mov r26,r16
 4263 1136 BE2D      		mov r27,r14
 4264 1138 FD01      		movw r30,r26
 4265 113a 0190      		ld __tmp_reg__,Z+
 4266 113c 0020      		tst __tmp_reg__
 4267 113e 01F4      		brne .-6
 4268 1140 9F01      		movw r18,r30
 4269 1142 F201      		movw r30,r4
 4270 1144 0190      		ld __tmp_reg__,Z+
 4271 1146 0020      		tst __tmp_reg__
 4272 1148 01F4      		brne .-6
 4273 114a CF01      		movw r24,r30
 4274 114c 0197      		sbiw r24,1
 4275 114e 8419      		sub r24,r4
 4276 1150 9509      		sbc r25,r5
 4277 1152 8A1B      		sub r24,r26
 4278 1154 9B0B      		sbc r25,r27
 4279 1156 820F      		add r24,r18
 4280 1158 931F      		adc r25,r19
 4281 115a 0E94 0000 		call malloc
 4282 115e E82E      		mov r14,r24
 4283 1160 C92E      		mov r12,r25
 4284               	.LVL239:
  17:concat/concat.h ****     strcpy(result, s1);
 4285               		.loc 7 17 0
 4286 1162 B801      		movw r22,r16
 4287 1164 0E94 0000 		call strcpy
 4288               	.LVL240:
  18:concat/concat.h ****     strcat(result, s2);
 4289               		.loc 7 18 0
 4290 1168 8E2D      		mov r24,r14
 4291 116a 9C2D      		mov r25,r12
 4292 116c B201      		movw r22,r4
 4293 116e 0E94 0000 		call strcat
 4294               	.LBE2000:
 4295               	.LBE1999:
 121:nmea/nmea.h   ****       *result = concat(concat(lat_str, ","), lng_str);
 4296               		.loc 8 121 0
 4297 1172 CD5C      		subi r28,lo8(-307)
 4298 1174 DE4F      		sbci r29,hi8(-307)
 4299 1176 A881      		ld r26,Y
 4300 1178 B981      		ldd r27,Y+1
 4301 117a C353      		subi r28,lo8(307)
 4302 117c D140      		sbci r29,hi8(307)
 4303 117e EC92      		st X,r14
 4304 1180 1196      		adiw r26,1
 4305 1182 CC92      		st X,r12
 4306 1184 1197      		sbiw r26,1
 4307 1186 00C0      		rjmp .L106
 4308               	.LVL241:
 4309               	.L225:
 4310               	.LBB2001:
 4311               	.LBB1640:
 4312               	.LBB1638:
 4313               	.LBB1635:
 4314               	.LBB1562:
 4315               	.LBB1560:
 4316               	.LBB1558:
 4317               	.LBB1553:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4318               		.loc 4 57 0
 4319 1188 8091 0000 		lds r24,ep_in_pipe_data+4
 4320 118c 252F      		mov r18,r21
 4321 118e 281B      		sub r18,r24
 4322               	.LBE1553:
 4323               	.LBE1558:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4324               		.loc 1 127 0
 4325 1190 81E0      		ldi r24,lo8(1)
 4326 1192 1216      		cp __zero_reg__,r18
 4327 1194 04F4      		brge .+2
 4328 1196 00C0      		rjmp .L109
 4329 1198 00C0      		rjmp .L198
 4330               	.LVL242:
 4331               	.L226:
 4332               	.LBE1560:
 4333               	.LBE1562:
 4334               	.LBE1635:
 4335               	.LBB1636:
 4336               	.LBB1631:
 4337               	.LBB1630:
 4338               	.LBB1629:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 4339               		.loc 1 177 0
 4340 119a CFB6      		in r12,__SREG__
 4341               	.LVL243:
 4342               	.LBB1621:
 4343               	.LBB1622:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4344               		.loc 2 50 0
 4345               	/* #APP */
 4346               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4347 119c F894      		cli
 4348               	 ;  0 "" 2
 4349               	.LVL244:
 4350               	/* #NOAPP */
 4351               	.LBE1622:
 4352               	.LBE1621:
 4353               		.loc 1 178 0
 4354 119e 1092 0000 		sts ep_in_data+2,__zero_reg__
 4355 11a2 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4356               	.LVL245:
 4357               	.LBB1623:
 4358               	.LBB1624:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 4359               		.loc 4 81 0
 4360 11a6 8091 0000 		lds r24,ep_in_pipe_data+4
 4361 11aa 8F5F      		subi r24,lo8(-(1))
 4362 11ac 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 4363               		.loc 4 82 0
 4364 11b0 8091 0000 		lds r24,ep_in_pipe_data+2
 4365 11b4 9091 0000 		lds r25,ep_in_pipe_data+2+1
 4366 11b8 805C      		subi r24,lo8(-(64))
 4367 11ba 9F4F      		sbci r25,hi8(-(64))
 4368 11bc 8093 0000 		sts ep_in_pipe_data+2,r24
 4369 11c0 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4370               		.loc 4 84 0
 4371 11c4 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 4372 11c6 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4373 11c8 9F07      		cpc r25,r31
 4374 11ca 01F4      		brne .L113
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 4375               		.loc 4 85 0
 4376 11cc 2092 0000 		sts ep_in_pipe_data+2,r2
 4377 11d0 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4378               	.L113:
 4379               	.LVL246:
 4380               	.LBE1624:
 4381               	.LBE1623:
 4382               	.LBB1625:
 4383               	.LBB1619:
 4384               	.LBB1617:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 4385               		.loc 1 80 0
 4386 11d4 1FB7      		in r17,__SREG__
 4387               	.LVL247:
 4388               	.LBB1596:
 4389               	.LBB1597:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4390               		.loc 2 50 0
 4391               	/* #APP */
 4392               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4393 11d6 F894      		cli
 4394               	 ;  0 "" 2
 4395               	.LVL248:
 4396               	/* #NOAPP */
 4397               	.LBE1597:
 4398               	.LBE1596:
 4399               	.LBB1598:
 4400               	.LBB1572:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 4401               		.loc 3 220 0
 4402 11d8 8091 0000 		lds r24,endpoints+24
 4403 11dc 8670      		andi r24,lo8(6)
 4404               	.LBE1572:
 4405               	.LBE1598:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 4406               		.loc 1 82 0
 4407 11de 01F4      		brne .L235
 4408               	.LVL249:
 4409               	.L114:
 4410               	.LBB1599:
 4411               	.LBB1600:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4412               		.loc 2 70 0
 4413 11e0 1FBF      		out __SREG__,r17
 4414               		.loc 2 71 0
 4415               	.LVL250:
 4416               	.LBE1600:
 4417               	.LBE1599:
 4418               	.LBE1617:
 4419               	.LBE1619:
 4420               	.LBE1625:
 4421               	.LBB1626:
 4422               	.LBB1627:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4423               		.loc 2 70 0
 4424 11e2 CFBE      		out __SREG__,r12
 4425               		.loc 2 71 0
 4426 11e4 00C0      		rjmp .L112
 4427               	.LVL251:
 4428               	.L235:
 4429               	.LBE1627:
 4430               	.LBE1626:
 4431               	.LBB1628:
 4432               	.LBB1620:
 4433               	.LBB1618:
 4434               	.LBB1601:
 4435               	.LBB1602:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 4436               		.loc 4 51 0
 4437 11e6 2091 0000 		lds r18,ep_in_pipe_data+4
 4438               	.LBE1602:
 4439               	.LBE1601:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 4440               		.loc 1 83 0
 4441 11ea 1216      		cp __zero_reg__,r18
 4442 11ec 04F0      		brlt .+2
 4443 11ee 00C0      		rjmp .L115
 4444               	.LBB1603:
 4445               	.LBB1604:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4446               		.loc 4 62 0
 4447 11f0 6091 0000 		lds r22,ep_in_pipe_data
 4448 11f4 7091 0000 		lds r23,ep_in_pipe_data+1
 4449               	.LVL252:
 4450               	.LBE1604:
 4451               	.LBE1603:
 4452               	.LBB1605:
 4453               	.LBB1594:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4454               		.loc 1 68 0
 4455 11f8 3091 0000 		lds r19,ep_in_data
 4456               	.LVL253:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4457               		.loc 1 69 0
 4458 11fc 832F      		mov r24,r19
 4459 11fe 90E0      		ldi r25,lo8(0)
 4460 1200 41E0      		ldi r20,lo8(1)
 4461 1202 8E15      		cp r24,r14
 4462 1204 9F05      		cpc r25,r15
 4463 1206 01F4      		brne .L116
 4464 1208 40E0      		ldi r20,lo8(0)
 4465               	.L116:
 4466 120a 4093 0000 		sts ep_in_data,r20
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4467               		.loc 1 72 0
 4468 120e 3323      		tst r19
 4469 1210 01F4      		brne .L117
 4470               	.LVL254:
 4471               	.LBB1591:
 4472               	.LBB1592:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4473               		.loc 3 168 0
 4474 1212 6093 0000 		sts endpoints+28,r22
 4475 1216 7093 0000 		sts endpoints+28+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4476               		.loc 3 169 0
 4477 121a A092 0000 		sts endpoints+26,r10
 4478 121e B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4479               		.loc 3 174 0
 4480 1222 FD01      		movw r30,r26
 4481               	/* #APP */
 4482               	 ;  174 "usb/usb.h" 1
 4483 1224 02E2      		ldi r16, 34
 4484 1226 0693      		.dc.w 0x9306
 4485               		
 4486               	 ;  0 "" 2
 4487               	.LVL255:
 4488               	/* #NOAPP */
 4489               	.L118:
 4490               	.LBE1592:
 4491               	.LBE1591:
 4492               	.LBE1594:
 4493               	.LBE1605:
 4494               	.LBB1606:
 4495               	.LBB1607:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 4496               		.loc 4 72 0
 4497 1228 2150      		subi r18,lo8(-(-1))
 4498 122a 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 4499               		.loc 4 73 0
 4500 122e CB01      		movw r24,r22
 4501 1230 805C      		subi r24,lo8(-(64))
 4502 1232 9F4F      		sbci r25,hi8(-(64))
 4503 1234 8093 0000 		sts ep_in_pipe_data,r24
 4504 1238 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4505               		.loc 4 75 0
 4506 123c F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 4507 123e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4508 1240 9F07      		cpc r25,r31
 4509 1242 01F4      		brne .L114
 4510               	.LBE1607:
 4511               	.LBE1606:
 4512               	.LBB1608:
 4513               	.LBB1575:
 4514               		.loc 4 91 0
 4515 1244 2092 0000 		sts ep_in_pipe_data,r2
 4516 1248 3092 0000 		sts ep_in_pipe_data+1,r3
 4517               	.LVL256:
 4518 124c 00C0      		rjmp .L114
 4519               	.LVL257:
 4520               	.L117:
 4521               	.LBE1575:
 4522               	.LBE1608:
 4523               	.LBB1609:
 4524               	.LBB1595:
 4525               	.LBB1593:
 4526               	.LBB1590:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4527               		.loc 3 168 0
 4528 124e 6093 0000 		sts endpoints+20,r22
 4529 1252 7093 0000 		sts endpoints+20+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4530               		.loc 3 169 0
 4531 1256 A092 0000 		sts endpoints+18,r10
 4532 125a B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4533               		.loc 3 176 0
 4534 125e FD01      		movw r30,r26
 4535               	/* #APP */
 4536               	 ;  176 "usb/usb.h" 1
 4537 1260 04E1      		ldi r16, 20
 4538 1262 0693      		.dc.w 0x9306
 4539               		
 4540               	 ;  0 "" 2
 4541               	/* #NOAPP */
 4542 1264 00C0      		rjmp .L118
 4543               	.LVL258:
 4544               	.L115:
 4545               	.LBE1590:
 4546               	.LBE1593:
 4547               	.LBE1595:
 4548               	.LBE1609:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 4549               		.loc 1 87 0
 4550 1266 8091 0000 		lds r24,ep_in_data+1
 4551 126a 8130      		cpi r24,lo8(1)
 4552 126c 01F0      		breq .L236
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4553               		.loc 1 91 0
 4554 126e 8230      		cpi r24,lo8(2)
 4555 1270 01F0      		breq .+2
 4556 1272 00C0      		rjmp .L114
 4557               	.LVL259:
 4558               	.LBB1610:
 4559               	.LBB1611:
 4560               	.LBB1612:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 4561               		.loc 3 228 0
 4562 1274 8091 0000 		lds r24,endpoints+24
 4563 1278 8670      		andi r24,lo8(6)
 4564               	.LBE1612:
 4565               	.LBE1611:
 4566               	.LBE1610:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4567               		.loc 1 91 0
 4568 127a 8630      		cpi r24,lo8(6)
 4569 127c 01F0      		breq .+2
 4570 127e 00C0      		rjmp .L114
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 4571               		.loc 1 92 0
 4572 1280 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 4573               		.loc 1 93 0
 4574 1284 1092 0000 		sts ep_in_data+2,__zero_reg__
 4575 1288 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4576               	.LBB1613:
 4577               	.LBB1576:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 4578               		.loc 4 90 0
 4579 128c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 4580               		.loc 4 91 0
 4581 1290 2092 0000 		sts ep_in_pipe_data+2,r2
 4582 1294 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4583 1298 2092 0000 		sts ep_in_pipe_data,r2
 4584 129c 3092 0000 		sts ep_in_pipe_data+1,r3
 4585               	.LVL260:
 4586 12a0 00C0      		rjmp .L114
 4587               	.LVL261:
 4588               	.L236:
 4589               	.LBE1576:
 4590               	.LBE1613:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 4591               		.loc 1 88 0
 4592 12a2 22E0      		ldi r18,lo8(2)
 4593 12a4 2093 0000 		sts ep_in_data+1,r18
 4594               	.LBB1614:
 4595               	.LBB1615:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4596               		.loc 4 62 0
 4597 12a8 7091 0000 		lds r23,ep_in_pipe_data
 4598 12ac E091 0000 		lds r30,ep_in_pipe_data+1
 4599               	.LBE1615:
 4600               	.LBE1614:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 4601               		.loc 1 90 0
 4602 12b0 2091 0000 		lds r18,ep_in_data+2
 4603 12b4 3091 0000 		lds r19,ep_in_data+2+1
 4604               	.LVL262:
 4605               	.LBB1616:
 4606               	.LBB1585:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4607               		.loc 1 68 0
 4608 12b8 6091 0000 		lds r22,ep_in_data
 4609               	.LVL263:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4610               		.loc 1 69 0
 4611 12bc 862F      		mov r24,r22
 4612 12be 90E0      		ldi r25,lo8(0)
 4613 12c0 41E0      		ldi r20,lo8(1)
 4614 12c2 8E15      		cp r24,r14
 4615 12c4 9F05      		cpc r25,r15
 4616 12c6 01F4      		brne .L121
 4617 12c8 40E0      		ldi r20,lo8(0)
 4618               	.L121:
 4619 12ca 4093 0000 		sts ep_in_data,r20
 4620               	.LBB1579:
 4621               	.LBB1580:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4622               		.loc 3 168 0
 4623 12ce 872F      		mov r24,r23
 4624 12d0 9E2F      		mov r25,r30
 4625               	.LBE1580:
 4626               	.LBE1579:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4627               		.loc 1 72 0
 4628 12d2 6623      		tst r22
 4629 12d4 01F4      		brne .L122
 4630               	.LVL264:
 4631               	.LBB1582:
 4632               	.LBB1581:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4633               		.loc 3 168 0
 4634 12d6 8093 0000 		sts endpoints+28,r24
 4635 12da 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4636               		.loc 3 169 0
 4637 12de 2093 0000 		sts endpoints+26,r18
 4638 12e2 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4639               		.loc 3 174 0
 4640 12e6 FD01      		movw r30,r26
 4641               	/* #APP */
 4642               	 ;  174 "usb/usb.h" 1
 4643 12e8 02E2      		ldi r16, 34
 4644 12ea 0693      		.dc.w 0x9306
 4645               		
 4646               	 ;  0 "" 2
 4647               	/* #NOAPP */
 4648 12ec 00C0      		rjmp .L114
 4649               	.LVL265:
 4650               	.L122:
 4651               	.LBE1581:
 4652               	.LBE1582:
 4653               	.LBB1583:
 4654               	.LBB1584:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4655               		.loc 3 168 0
 4656 12ee 8093 0000 		sts endpoints+20,r24
 4657 12f2 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4658               		.loc 3 169 0
 4659 12f6 2093 0000 		sts endpoints+18,r18
 4660 12fa 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4661               		.loc 3 176 0
 4662 12fe FD01      		movw r30,r26
 4663               	/* #APP */
 4664               	 ;  176 "usb/usb.h" 1
 4665 1300 04E1      		ldi r16, 20
 4666 1302 0693      		.dc.w 0x9306
 4667               		
 4668               	 ;  0 "" 2
 4669               	/* #NOAPP */
 4670 1304 00C0      		rjmp .L114
 4671               	.LVL266:
 4672               	.L227:
 4673               	.LBE1584:
 4674               	.LBE1583:
 4675               	.LBE1585:
 4676               	.LBE1616:
 4677               	.LBE1618:
 4678               	.LBE1620:
 4679               	.LBE1628:
 4680               	.LBE1629:
 4681               	.LBE1630:
 4682               	.LBE1631:
 4683               	.LBE1636:
 4684               	.LBE1638:
 4685               	.LBE1640:
 4686               	.LBE2001:
 4687               	.LBB2002:
 4688               	.LBB1721:
 4689               	.LBB1658:
 4690               	.LBB1655:
 4691               	.LBB1654:
 4692               	.LBB1653:
 4693               	.LBB1648:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4694               		.loc 4 57 0
 4695 1306 8091 0000 		lds r24,ep_in_pipe_data+4
 4696 130a 392F      		mov r19,r25
 4697 130c 381B      		sub r19,r24
 4698               	.LBE1648:
 4699               	.LBE1653:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4700               		.loc 1 127 0
 4701 130e 81E0      		ldi r24,lo8(1)
 4702 1310 1316      		cp __zero_reg__,r19
 4703 1312 04F4      		brge .+2
 4704 1314 00C0      		rjmp .L124
 4705 1316 00C0      		rjmp .L199
 4706               	.LVL267:
 4707               	.L229:
 4708               	.LBE1654:
 4709               	.LBE1655:
 4710               	.LBE1658:
 4711               	.LBE1721:
 4712               	.LBE2002:
 4713               	.LBB2003:
 4714               	.LBB1819:
 4715               	.LBB1817:
 4716               	.LBB1814:
 4717               	.LBB1741:
 4718               	.LBB1739:
 4719               	.LBB1737:
 4720               	.LBB1732:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4721               		.loc 4 57 0
 4722 1318 8091 0000 		lds r24,ep_in_pipe_data+4
 4723 131c 352F      		mov r19,r21
 4724 131e 381B      		sub r19,r24
 4725               	.LBE1732:
 4726               	.LBE1737:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4727               		.loc 1 127 0
 4728 1320 81E0      		ldi r24,lo8(1)
 4729 1322 1316      		cp __zero_reg__,r19
 4730 1324 04F4      		brge .+2
 4731 1326 00C0      		rjmp .L139
 4732 1328 00C0      		rjmp .L200
 4733               	.LVL268:
 4734               	.L230:
 4735               	.LBE1739:
 4736               	.LBE1741:
 4737               	.LBE1814:
 4738               	.LBB1815:
 4739               	.LBB1810:
 4740               	.LBB1809:
 4741               	.LBB1808:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 4742               		.loc 1 177 0
 4743 132a BFB7      		in r27,__SREG__
 4744               	.LVL269:
 4745               	.LBB1800:
 4746               	.LBB1801:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4747               		.loc 2 50 0
 4748               	/* #APP */
 4749               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4750 132c F894      		cli
 4751               	 ;  0 "" 2
 4752               	.LVL270:
 4753               	/* #NOAPP */
 4754               	.LBE1801:
 4755               	.LBE1800:
 4756               		.loc 1 178 0
 4757 132e 1092 0000 		sts ep_in_data+2,__zero_reg__
 4758 1332 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4759               	.LVL271:
 4760               	.LBB1802:
 4761               	.LBB1803:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 4762               		.loc 4 81 0
 4763 1336 8091 0000 		lds r24,ep_in_pipe_data+4
 4764 133a 8F5F      		subi r24,lo8(-(1))
 4765 133c 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 4766               		.loc 4 82 0
 4767 1340 8091 0000 		lds r24,ep_in_pipe_data+2
 4768 1344 9091 0000 		lds r25,ep_in_pipe_data+2+1
 4769 1348 805C      		subi r24,lo8(-(64))
 4770 134a 9F4F      		sbci r25,hi8(-(64))
 4771 134c 8093 0000 		sts ep_in_pipe_data+2,r24
 4772 1350 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4773               		.loc 4 84 0
 4774 1354 E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 4775 1356 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4776 1358 9E07      		cpc r25,r30
 4777 135a 01F4      		brne .L143
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 4778               		.loc 4 85 0
 4779 135c 2092 0000 		sts ep_in_pipe_data+2,r2
 4780 1360 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4781               	.L143:
 4782               	.LVL272:
 4783               	.LBE1803:
 4784               	.LBE1802:
 4785               	.LBB1804:
 4786               	.LBB1798:
 4787               	.LBB1796:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 4788               		.loc 1 80 0
 4789 1364 AFB7      		in r26,__SREG__
 4790               	.LVL273:
 4791               	.LBB1775:
 4792               	.LBB1776:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4793               		.loc 2 50 0
 4794               	/* #APP */
 4795               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4796 1366 F894      		cli
 4797               	 ;  0 "" 2
 4798               	.LVL274:
 4799               	/* #NOAPP */
 4800               	.LBE1776:
 4801               	.LBE1775:
 4802               	.LBB1777:
 4803               	.LBB1751:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 4804               		.loc 3 220 0
 4805 1368 8091 0000 		lds r24,endpoints+24
 4806 136c 8670      		andi r24,lo8(6)
 4807               	.LBE1751:
 4808               	.LBE1777:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 4809               		.loc 1 82 0
 4810 136e 01F4      		brne .L237
 4811               	.LVL275:
 4812               	.L144:
 4813               	.LBB1778:
 4814               	.LBB1779:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4815               		.loc 2 70 0
 4816 1370 AFBF      		out __SREG__,r26
 4817               		.loc 2 71 0
 4818               	.LVL276:
 4819               	.LBE1779:
 4820               	.LBE1778:
 4821               	.LBE1796:
 4822               	.LBE1798:
 4823               	.LBE1804:
 4824               	.LBB1805:
 4825               	.LBB1806:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4826               		.loc 2 70 0
 4827 1372 BFBF      		out __SREG__,r27
 4828               		.loc 2 71 0
 4829 1374 00C0      		rjmp .L142
 4830               	.LVL277:
 4831               	.L237:
 4832               	.LBE1806:
 4833               	.LBE1805:
 4834               	.LBB1807:
 4835               	.LBB1799:
 4836               	.LBB1797:
 4837               	.LBB1780:
 4838               	.LBB1781:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 4839               		.loc 4 51 0
 4840 1376 2091 0000 		lds r18,ep_in_pipe_data+4
 4841               	.LBE1781:
 4842               	.LBE1780:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 4843               		.loc 1 83 0
 4844 137a 1216      		cp __zero_reg__,r18
 4845 137c 04F0      		brlt .+2
 4846 137e 00C0      		rjmp .L145
 4847               	.LBB1782:
 4848               	.LBB1783:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4849               		.loc 4 62 0
 4850 1380 6091 0000 		lds r22,ep_in_pipe_data
 4851 1384 7091 0000 		lds r23,ep_in_pipe_data+1
 4852               	.LVL278:
 4853               	.LBE1783:
 4854               	.LBE1782:
 4855               	.LBB1784:
 4856               	.LBB1773:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4857               		.loc 1 68 0
 4858 1388 3091 0000 		lds r19,ep_in_data
 4859               	.LVL279:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4860               		.loc 1 69 0
 4861 138c 832F      		mov r24,r19
 4862 138e 90E0      		ldi r25,lo8(0)
 4863 1390 41E0      		ldi r20,lo8(1)
 4864 1392 8C15      		cp r24,r12
 4865 1394 9D05      		cpc r25,r13
 4866 1396 01F4      		brne .L146
 4867 1398 40E0      		ldi r20,lo8(0)
 4868               	.L146:
 4869 139a 4093 0000 		sts ep_in_data,r20
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4870               		.loc 1 72 0
 4871 139e 3323      		tst r19
 4872 13a0 01F4      		brne .L147
 4873               	.LVL280:
 4874               	.LBB1770:
 4875               	.LBB1771:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4876               		.loc 3 168 0
 4877 13a2 6093 0000 		sts endpoints+28,r22
 4878 13a6 7093 0000 		sts endpoints+28+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4879               		.loc 3 169 0
 4880 13aa A092 0000 		sts endpoints+26,r10
 4881 13ae B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4882               		.loc 3 174 0
 4883 13b2 F701      		movw r30,r14
 4884               	/* #APP */
 4885               	 ;  174 "usb/usb.h" 1
 4886 13b4 02E2      		ldi r16, 34
 4887 13b6 0693      		.dc.w 0x9306
 4888               		
 4889               	 ;  0 "" 2
 4890               	.LVL281:
 4891               	/* #NOAPP */
 4892               	.L148:
 4893               	.LBE1771:
 4894               	.LBE1770:
 4895               	.LBE1773:
 4896               	.LBE1784:
 4897               	.LBB1785:
 4898               	.LBB1786:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 4899               		.loc 4 72 0
 4900 13b8 2150      		subi r18,lo8(-(-1))
 4901 13ba 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 4902               		.loc 4 73 0
 4903 13be CB01      		movw r24,r22
 4904 13c0 805C      		subi r24,lo8(-(64))
 4905 13c2 9F4F      		sbci r25,hi8(-(64))
 4906 13c4 8093 0000 		sts ep_in_pipe_data,r24
 4907 13c8 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4908               		.loc 4 75 0
 4909 13cc F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 4910 13ce 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4911 13d0 9F07      		cpc r25,r31
 4912 13d2 01F4      		brne .L144
 4913               	.LBE1786:
 4914               	.LBE1785:
 4915               	.LBB1787:
 4916               	.LBB1754:
 4917               		.loc 4 91 0
 4918 13d4 2092 0000 		sts ep_in_pipe_data,r2
 4919 13d8 3092 0000 		sts ep_in_pipe_data+1,r3
 4920               	.LVL282:
 4921 13dc 00C0      		rjmp .L144
 4922               	.LVL283:
 4923               	.L147:
 4924               	.LBE1754:
 4925               	.LBE1787:
 4926               	.LBB1788:
 4927               	.LBB1774:
 4928               	.LBB1772:
 4929               	.LBB1769:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4930               		.loc 3 168 0
 4931 13de 6093 0000 		sts endpoints+20,r22
 4932 13e2 7093 0000 		sts endpoints+20+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4933               		.loc 3 169 0
 4934 13e6 A092 0000 		sts endpoints+18,r10
 4935 13ea B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4936               		.loc 3 176 0
 4937 13ee F701      		movw r30,r14
 4938               	/* #APP */
 4939               	 ;  176 "usb/usb.h" 1
 4940 13f0 04E1      		ldi r16, 20
 4941 13f2 0693      		.dc.w 0x9306
 4942               		
 4943               	 ;  0 "" 2
 4944               	/* #NOAPP */
 4945 13f4 00C0      		rjmp .L148
 4946               	.LVL284:
 4947               	.L145:
 4948               	.LBE1769:
 4949               	.LBE1772:
 4950               	.LBE1774:
 4951               	.LBE1788:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 4952               		.loc 1 87 0
 4953 13f6 8091 0000 		lds r24,ep_in_data+1
 4954 13fa 8130      		cpi r24,lo8(1)
 4955 13fc 01F0      		breq .L238
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4956               		.loc 1 91 0
 4957 13fe 8230      		cpi r24,lo8(2)
 4958 1400 01F0      		breq .+2
 4959 1402 00C0      		rjmp .L144
 4960               	.LVL285:
 4961               	.LBB1789:
 4962               	.LBB1790:
 4963               	.LBB1791:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 4964               		.loc 3 228 0
 4965 1404 8091 0000 		lds r24,endpoints+24
 4966 1408 8670      		andi r24,lo8(6)
 4967               	.LBE1791:
 4968               	.LBE1790:
 4969               	.LBE1789:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4970               		.loc 1 91 0
 4971 140a 8630      		cpi r24,lo8(6)
 4972 140c 01F0      		breq .+2
 4973 140e 00C0      		rjmp .L144
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 4974               		.loc 1 92 0
 4975 1410 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 4976               		.loc 1 93 0
 4977 1414 1092 0000 		sts ep_in_data+2,__zero_reg__
 4978 1418 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4979               	.LBB1792:
 4980               	.LBB1755:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 4981               		.loc 4 90 0
 4982 141c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 4983               		.loc 4 91 0
 4984 1420 2092 0000 		sts ep_in_pipe_data+2,r2
 4985 1424 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4986 1428 2092 0000 		sts ep_in_pipe_data,r2
 4987 142c 3092 0000 		sts ep_in_pipe_data+1,r3
 4988               	.LVL286:
 4989 1430 00C0      		rjmp .L144
 4990               	.LVL287:
 4991               	.L238:
 4992               	.LBE1755:
 4993               	.LBE1792:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 4994               		.loc 1 88 0
 4995 1432 1093 0000 		sts ep_in_data+1,r17
 4996               	.LBB1793:
 4997               	.LBB1794:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4998               		.loc 4 62 0
 4999 1436 7091 0000 		lds r23,ep_in_pipe_data
 5000 143a E091 0000 		lds r30,ep_in_pipe_data+1
 5001               	.LBE1794:
 5002               	.LBE1793:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5003               		.loc 1 90 0
 5004 143e 2091 0000 		lds r18,ep_in_data+2
 5005 1442 3091 0000 		lds r19,ep_in_data+2+1
 5006               	.LVL288:
 5007               	.LBB1795:
 5008               	.LBB1764:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5009               		.loc 1 68 0
 5010 1446 6091 0000 		lds r22,ep_in_data
 5011               	.LVL289:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5012               		.loc 1 69 0
 5013 144a 862F      		mov r24,r22
 5014 144c 90E0      		ldi r25,lo8(0)
 5015 144e 41E0      		ldi r20,lo8(1)
 5016 1450 8C15      		cp r24,r12
 5017 1452 9D05      		cpc r25,r13
 5018 1454 01F4      		brne .L151
 5019 1456 40E0      		ldi r20,lo8(0)
 5020               	.L151:
 5021 1458 4093 0000 		sts ep_in_data,r20
 5022               	.LBB1758:
 5023               	.LBB1759:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5024               		.loc 3 168 0
 5025 145c 872F      		mov r24,r23
 5026 145e 9E2F      		mov r25,r30
 5027               	.LBE1759:
 5028               	.LBE1758:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5029               		.loc 1 72 0
 5030 1460 6623      		tst r22
 5031 1462 01F4      		brne .L152
 5032               	.LVL290:
 5033               	.LBB1761:
 5034               	.LBB1760:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5035               		.loc 3 168 0
 5036 1464 8093 0000 		sts endpoints+28,r24
 5037 1468 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5038               		.loc 3 169 0
 5039 146c 2093 0000 		sts endpoints+26,r18
 5040 1470 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5041               		.loc 3 174 0
 5042 1474 F701      		movw r30,r14
 5043               	/* #APP */
 5044               	 ;  174 "usb/usb.h" 1
 5045 1476 02E2      		ldi r16, 34
 5046 1478 0693      		.dc.w 0x9306
 5047               		
 5048               	 ;  0 "" 2
 5049               	/* #NOAPP */
 5050 147a 00C0      		rjmp .L144
 5051               	.LVL291:
 5052               	.L152:
 5053               	.LBE1760:
 5054               	.LBE1761:
 5055               	.LBB1762:
 5056               	.LBB1763:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5057               		.loc 3 168 0
 5058 147c 8093 0000 		sts endpoints+20,r24
 5059 1480 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5060               		.loc 3 169 0
 5061 1484 2093 0000 		sts endpoints+18,r18
 5062 1488 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5063               		.loc 3 176 0
 5064 148c F701      		movw r30,r14
 5065               	/* #APP */
 5066               	 ;  176 "usb/usb.h" 1
 5067 148e 04E1      		ldi r16, 20
 5068 1490 0693      		.dc.w 0x9306
 5069               		
 5070               	 ;  0 "" 2
 5071               	/* #NOAPP */
 5072 1492 00C0      		rjmp .L144
 5073               	.LVL292:
 5074               	.L231:
 5075               	.LBE1763:
 5076               	.LBE1762:
 5077               	.LBE1764:
 5078               	.LBE1795:
 5079               	.LBE1797:
 5080               	.LBE1799:
 5081               	.LBE1807:
 5082               	.LBE1808:
 5083               	.LBE1809:
 5084               	.LBE1810:
 5085               	.LBE1815:
 5086               	.LBE1817:
 5087               	.LBE1819:
 5088               	.LBE2003:
 5089               	.LBB2004:
 5090               	.LBB1898:
 5091               	.LBB1837:
 5092               	.LBB1834:
 5093               	.LBB1833:
 5094               	.LBB1832:
 5095               	.LBB1827:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 5096               		.loc 4 57 0
 5097 1494 8091 0000 		lds r24,ep_in_pipe_data+4
 5098 1498 392F      		mov r19,r25
 5099 149a 381B      		sub r19,r24
 5100               	.LBE1827:
 5101               	.LBE1832:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 5102               		.loc 1 127 0
 5103 149c 81E0      		ldi r24,lo8(1)
 5104 149e 1316      		cp __zero_reg__,r19
 5105 14a0 04F4      		brge .+2
 5106 14a2 00C0      		rjmp .L154
 5107 14a4 00C0      		rjmp .L201
 5108               	.LVL293:
 5109               	.L224:
 5110               	.LBE1833:
 5111               	.LBE1834:
 5112               	.LBE1837:
 5113               	.LBE1898:
 5114               	.LBE2004:
 5115               	.LBE1544:
 5116               	.LBB2010:
 5117               	.LBB1541:
 5118               	.LBB1538:
 5119               	.LBB1510:
 5120               	.LBB1507:
 5121               	.LBB1504:
 5122               	.LBB1501:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 5123               		.loc 1 88 0
 5124 14a6 82E0      		ldi r24,lo8(2)
 5125 14a8 8093 0000 		sts ep_in_data+1,r24
 5126               	.LBB1490:
 5127               	.LBB1491:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5128               		.loc 4 62 0
 5129 14ac 6091 0000 		lds r22,ep_in_pipe_data
 5130 14b0 4091 0000 		lds r20,ep_in_pipe_data+1
 5131               	.LBE1491:
 5132               	.LBE1490:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5133               		.loc 1 90 0
 5134 14b4 8091 0000 		lds r24,ep_in_data+2
 5135 14b8 9091 0000 		lds r25,ep_in_data+2+1
 5136               	.LVL294:
 5137               	.LBB1492:
 5138               	.LBB1493:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5139               		.loc 1 68 0
 5140 14bc 2091 0000 		lds r18,ep_in_data
 5141               	.LVL295:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5142               		.loc 1 69 0
 5143 14c0 31E0      		ldi r19,lo8(1)
 5144 14c2 2130      		cpi r18,lo8(1)
 5145 14c4 01F4      		brne .L191
 5146 14c6 30E0      		ldi r19,lo8(0)
 5147               	.L191:
 5148 14c8 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5149               		.loc 1 72 0
 5150 14cc 2223      		tst r18
 5151 14ce 01F0      		breq .+2
 5152 14d0 00C0      		rjmp .L192
 5153               	.LVL296:
 5154               	.LBB1494:
 5155               	.LBB1495:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5156               		.loc 3 168 0
 5157 14d2 262F      		mov r18,r22
 5158 14d4 342F      		mov r19,r20
 5159 14d6 2093 0000 		sts endpoints+28,r18
 5160 14da 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5161               		.loc 3 169 0
 5162 14de 8093 0000 		sts endpoints+26,r24
 5163 14e2 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5164               		.loc 3 174 0
 5165 14e6 E0E0      		ldi r30,lo8(endpoints+24)
 5166 14e8 F0E0      		ldi r31,hi8(endpoints+24)
 5167               	.LVL297:
 5168               	/* #APP */
 5169               	 ;  174 "usb/usb.h" 1
 5170 14ea 02E2      		ldi r16, 34
 5171 14ec 0693      		.dc.w 0x9306
 5172               		
 5173               	 ;  0 "" 2
 5174               	/* #NOAPP */
 5175 14ee 00C0      		rjmp .L184
 5176               	.LVL298:
 5177               	.L228:
 5178               	.LBE1495:
 5179               	.LBE1494:
 5180               	.LBE1493:
 5181               	.LBE1492:
 5182               	.LBE1501:
 5183               	.LBE1504:
 5184               	.LBE1507:
 5185               	.LBE1510:
 5186               	.LBE1538:
 5187               	.LBE1541:
 5188               	.LBE2010:
 5189               	.LBB2011:
 5190               	.LBB2005:
 5191               	.LBB1722:
 5192               	.LBB1659:
 5193               	.LBB1660:
 5194               	.LBB1661:
 5195               	.LBB1662:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 5196               		.loc 1 177 0
 5197 14f0 7FB7      		in r23,__SREG__
 5198               	.LVL299:
 5199               	.LBB1663:
 5200               	.LBB1664:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5201               		.loc 2 50 0
 5202               	/* #APP */
 5203               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5204 14f2 F894      		cli
 5205               	 ;  0 "" 2
 5206               	.LVL300:
 5207               	/* #NOAPP */
 5208               	.LBE1664:
 5209               	.LBE1663:
 5210               		.loc 1 178 0
 5211 14f4 1092 0000 		sts ep_in_data+2,__zero_reg__
 5212 14f8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5213               	.LVL301:
 5214               	.LBB1665:
 5215               	.LBB1666:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 5216               		.loc 4 81 0
 5217 14fc 8091 0000 		lds r24,ep_in_pipe_data+4
 5218 1500 8F5F      		subi r24,lo8(-(1))
 5219 1502 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 5220               		.loc 4 82 0
 5221 1506 8091 0000 		lds r24,ep_in_pipe_data+2
 5222 150a 9091 0000 		lds r25,ep_in_pipe_data+2+1
 5223 150e 805C      		subi r24,lo8(-(64))
 5224 1510 9F4F      		sbci r25,hi8(-(64))
 5225 1512 8093 0000 		sts ep_in_pipe_data+2,r24
 5226 1516 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5227               		.loc 4 84 0
 5228 151a 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 5229 151c 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5230 151e 9307      		cpc r25,r19
 5231 1520 01F4      		brne .L128
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 5232               		.loc 4 85 0
 5233 1522 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5234 1524 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5235 1526 8093 0000 		sts ep_in_pipe_data+2,r24
 5236 152a 9093 0000 		sts ep_in_pipe_data+2+1,r25
 5237               	.L128:
 5238               	.LVL302:
 5239               	.LBE1666:
 5240               	.LBE1665:
 5241               	.LBB1667:
 5242               	.LBB1668:
 5243               	.LBB1669:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 5244               		.loc 1 80 0
 5245 152e 6FB7      		in r22,__SREG__
 5246               	.LVL303:
 5247               	.LBB1670:
 5248               	.LBB1671:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5249               		.loc 2 50 0
 5250               	/* #APP */
 5251               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5252 1530 F894      		cli
 5253               	 ;  0 "" 2
 5254               	.LVL304:
 5255               	/* #NOAPP */
 5256               	.LBE1671:
 5257               	.LBE1670:
 5258               	.LBB1672:
 5259               	.LBB1673:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 5260               		.loc 3 220 0
 5261 1532 8091 0000 		lds r24,endpoints+24
 5262 1536 8670      		andi r24,lo8(6)
 5263               	.LBE1673:
 5264               	.LBE1672:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 5265               		.loc 1 82 0
 5266 1538 01F0      		breq .L129
 5267               	.LBB1674:
 5268               	.LBB1675:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 5269               		.loc 4 51 0
 5270 153a 4091 0000 		lds r20,ep_in_pipe_data+4
 5271               	.LBE1675:
 5272               	.LBE1674:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 5273               		.loc 1 83 0
 5274 153e 1416      		cp __zero_reg__,r20
 5275 1540 04F0      		brlt .+2
 5276 1542 00C0      		rjmp .L130
 5277               	.LBB1676:
 5278               	.LBB1677:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5279               		.loc 4 62 0
 5280 1544 2091 0000 		lds r18,ep_in_pipe_data
 5281 1548 3091 0000 		lds r19,ep_in_pipe_data+1
 5282               	.LVL305:
 5283               	.LBE1677:
 5284               	.LBE1676:
 5285               	.LBB1678:
 5286               	.LBB1679:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5287               		.loc 1 68 0
 5288 154c 9091 0000 		lds r25,ep_in_data
 5289               	.LVL306:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5290               		.loc 1 69 0
 5291 1550 81E0      		ldi r24,lo8(1)
 5292 1552 9130      		cpi r25,lo8(1)
 5293 1554 01F4      		brne .L131
 5294 1556 80E0      		ldi r24,lo8(0)
 5295               	.L131:
 5296 1558 8093 0000 		sts ep_in_data,r24
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5297               		.loc 1 72 0
 5298 155c 9923      		tst r25
 5299 155e 01F4      		brne .L132
 5300               	.LVL307:
 5301               	.LBB1680:
 5302               	.LBB1681:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5303               		.loc 3 168 0
 5304 1560 2093 0000 		sts endpoints+28,r18
 5305 1564 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5306               		.loc 3 169 0
 5307 1568 80E4      		ldi r24,lo8(64)
 5308 156a 90E0      		ldi r25,hi8(64)
 5309 156c 8093 0000 		sts endpoints+26,r24
 5310 1570 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5311               		.loc 3 174 0
 5312 1574 E0E0      		ldi r30,lo8(endpoints+24)
 5313 1576 F0E0      		ldi r31,hi8(endpoints+24)
 5314               	.LVL308:
 5315               	/* #APP */
 5316               	 ;  174 "usb/usb.h" 1
 5317 1578 02E2      		ldi r16, 34
 5318 157a 0693      		.dc.w 0x9306
 5319               		
 5320               	 ;  0 "" 2
 5321               	.LVL309:
 5322               	/* #NOAPP */
 5323               	.L133:
 5324               	.LBE1681:
 5325               	.LBE1680:
 5326               	.LBE1679:
 5327               	.LBE1678:
 5328               	.LBB1685:
 5329               	.LBB1686:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 5330               		.loc 4 72 0
 5331 157c 842F      		mov r24,r20
 5332 157e 8150      		subi r24,lo8(-(-1))
 5333 1580 8093 0000 		sts ep_in_pipe_data+4,r24
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 5334               		.loc 4 73 0
 5335 1584 C901      		movw r24,r18
 5336 1586 805C      		subi r24,lo8(-(64))
 5337 1588 9F4F      		sbci r25,hi8(-(64))
 5338 158a 8093 0000 		sts ep_in_pipe_data,r24
 5339 158e 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5340               		.loc 4 75 0
 5341 1592 A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 5342 1594 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5343 1596 9A07      		cpc r25,r26
 5344 1598 01F0      		breq .L239
 5345               	.LVL310:
 5346               	.L129:
 5347               	.LBE1686:
 5348               	.LBE1685:
 5349               	.LBB1688:
 5350               	.LBB1689:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5351               		.loc 2 70 0
 5352 159a 6FBF      		out __SREG__,r22
 5353               		.loc 2 71 0
 5354               	.LVL311:
 5355               	.LBE1689:
 5356               	.LBE1688:
 5357               	.LBE1669:
 5358               	.LBE1668:
 5359               	.LBE1667:
 5360               	.LBB1713:
 5361               	.LBB1714:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5362               		.loc 2 70 0
 5363 159c 7FBF      		out __SREG__,r23
 5364               		.loc 2 71 0
 5365 159e 00C0      		rjmp .L127
 5366               	.LVL312:
 5367               	.L132:
 5368               	.LBE1714:
 5369               	.LBE1713:
 5370               	.LBB1715:
 5371               	.LBB1711:
 5372               	.LBB1709:
 5373               	.LBB1690:
 5374               	.LBB1684:
 5375               	.LBB1682:
 5376               	.LBB1683:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5377               		.loc 3 168 0
 5378 15a0 2093 0000 		sts endpoints+20,r18
 5379 15a4 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5380               		.loc 3 169 0
 5381 15a8 80E4      		ldi r24,lo8(64)
 5382 15aa 90E0      		ldi r25,hi8(64)
 5383 15ac 8093 0000 		sts endpoints+18,r24
 5384 15b0 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5385               		.loc 3 176 0
 5386 15b4 E0E0      		ldi r30,lo8(endpoints+24)
 5387 15b6 F0E0      		ldi r31,hi8(endpoints+24)
 5388               	/* #APP */
 5389               	 ;  176 "usb/usb.h" 1
 5390 15b8 04E1      		ldi r16, 20
 5391 15ba 0693      		.dc.w 0x9306
 5392               		
 5393               	 ;  0 "" 2
 5394               	/* #NOAPP */
 5395 15bc 00C0      		rjmp .L133
 5396               	.LVL313:
 5397               	.L130:
 5398               	.LBE1683:
 5399               	.LBE1682:
 5400               	.LBE1684:
 5401               	.LBE1690:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 5402               		.loc 1 87 0
 5403 15be 8091 0000 		lds r24,ep_in_data+1
 5404 15c2 8130      		cpi r24,lo8(1)
 5405 15c4 01F0      		breq .L240
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5406               		.loc 1 91 0
 5407 15c6 8230      		cpi r24,lo8(2)
 5408 15c8 01F4      		brne .L129
 5409               	.LVL314:
 5410               	.LBB1691:
 5411               	.LBB1692:
 5412               	.LBB1693:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 5413               		.loc 3 228 0
 5414 15ca 8091 0000 		lds r24,endpoints+24
 5415 15ce 8670      		andi r24,lo8(6)
 5416               	.LBE1693:
 5417               	.LBE1692:
 5418               	.LBE1691:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5419               		.loc 1 91 0
 5420 15d0 8630      		cpi r24,lo8(6)
 5421 15d2 01F4      		brne .L129
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 5422               		.loc 1 92 0
 5423 15d4 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 5424               		.loc 1 93 0
 5425 15d8 1092 0000 		sts ep_in_data+2,__zero_reg__
 5426 15dc 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5427               	.LBB1694:
 5428               	.LBB1695:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 5429               		.loc 4 90 0
 5430 15e0 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 5431               		.loc 4 91 0
 5432 15e4 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5433 15e6 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5434 15e8 8093 0000 		sts ep_in_pipe_data+2,r24
 5435 15ec 9093 0000 		sts ep_in_pipe_data+2+1,r25
 5436 15f0 8093 0000 		sts ep_in_pipe_data,r24
 5437 15f4 9093 0000 		sts ep_in_pipe_data+1,r25
 5438               	.LVL315:
 5439 15f8 00C0      		rjmp .L129
 5440               	.LVL316:
 5441               	.L239:
 5442               	.LBE1695:
 5443               	.LBE1694:
 5444               	.LBB1696:
 5445               	.LBB1687:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 5446               		.loc 4 76 0
 5447 15fa 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5448 15fc 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5449 15fe 8093 0000 		sts ep_in_pipe_data,r24
 5450 1602 9093 0000 		sts ep_in_pipe_data+1,r25
 5451 1606 00C0      		rjmp .L129
 5452               	.LVL317:
 5453               	.L240:
 5454               	.LBE1687:
 5455               	.LBE1696:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 5456               		.loc 1 88 0
 5457 1608 82E0      		ldi r24,lo8(2)
 5458 160a 8093 0000 		sts ep_in_data+1,r24
 5459               	.LBB1697:
 5460               	.LBB1698:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5461               		.loc 4 62 0
 5462 160e 4091 0000 		lds r20,ep_in_pipe_data
 5463 1612 5091 0000 		lds r21,ep_in_pipe_data+1
 5464               	.LBE1698:
 5465               	.LBE1697:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5466               		.loc 1 90 0
 5467 1616 8091 0000 		lds r24,ep_in_data+2
 5468 161a 9091 0000 		lds r25,ep_in_data+2+1
 5469               	.LVL318:
 5470               	.LBB1699:
 5471               	.LBB1700:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5472               		.loc 1 68 0
 5473 161e 3091 0000 		lds r19,ep_in_data
 5474               	.LVL319:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5475               		.loc 1 69 0
 5476 1622 21E0      		ldi r18,lo8(1)
 5477 1624 3130      		cpi r19,lo8(1)
 5478 1626 01F4      		brne .L136
 5479 1628 20E0      		ldi r18,lo8(0)
 5480               	.L136:
 5481 162a 2093 0000 		sts ep_in_data,r18
 5482               	.LBB1701:
 5483               	.LBB1702:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5484               		.loc 3 168 0
 5485 162e 242F      		mov r18,r20
 5486               	.LBE1702:
 5487               	.LBE1701:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5488               		.loc 1 72 0
 5489 1630 3323      		tst r19
 5490 1632 01F0      		breq .+2
 5491 1634 00C0      		rjmp .L137
 5492               	.LVL320:
 5493               	.LBB1704:
 5494               	.LBB1703:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5495               		.loc 3 168 0
 5496 1636 352F      		mov r19,r21
 5497 1638 2093 0000 		sts endpoints+28,r18
 5498 163c 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5499               		.loc 3 169 0
 5500 1640 8093 0000 		sts endpoints+26,r24
 5501 1644 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5502               		.loc 3 174 0
 5503 1648 E0E0      		ldi r30,lo8(endpoints+24)
 5504 164a F0E0      		ldi r31,hi8(endpoints+24)
 5505               	.LVL321:
 5506               	/* #APP */
 5507               	 ;  174 "usb/usb.h" 1
 5508 164c 02E2      		ldi r16, 34
 5509 164e 0693      		.dc.w 0x9306
 5510               		
 5511               	 ;  0 "" 2
 5512               	/* #NOAPP */
 5513 1650 00C0      		rjmp .L129
 5514               	.LVL322:
 5515               	.L233:
 5516               	.LBE1703:
 5517               	.LBE1704:
 5518               	.LBE1700:
 5519               	.LBE1699:
 5520               	.LBE1709:
 5521               	.LBE1711:
 5522               	.LBE1715:
 5523               	.LBE1662:
 5524               	.LBE1661:
 5525               	.LBE1660:
 5526               	.LBE1659:
 5527               	.LBE1722:
 5528               	.LBE2005:
 5529               	.LBB2006:
 5530               	.LBB1996:
 5531               	.LBB1994:
 5532               	.LBB1991:
 5533               	.LBB1918:
 5534               	.LBB1916:
 5535               	.LBB1914:
 5536               	.LBB1909:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 5537               		.loc 4 57 0
 5538 1652 8091 0000 		lds r24,ep_in_pipe_data+4
 5539 1656 372F      		mov r19,r23
 5540 1658 381B      		sub r19,r24
 5541               	.LBE1909:
 5542               	.LBE1914:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 5543               		.loc 1 127 0
 5544 165a 81E0      		ldi r24,lo8(1)
 5545 165c 1316      		cp __zero_reg__,r19
 5546 165e 04F4      		brge .+2
 5547 1660 00C0      		rjmp .L169
 5548 1662 00C0      		rjmp .L202
 5549               	.LVL323:
 5550               	.L234:
 5551               	.LBE1916:
 5552               	.LBE1918:
 5553               	.LBE1991:
 5554               	.LBB1992:
 5555               	.LBB1987:
 5556               	.LBB1986:
 5557               	.LBB1985:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 5558               		.loc 1 177 0
 5559 1664 BFB7      		in r27,__SREG__
 5560               	.LVL324:
 5561               	.LBB1977:
 5562               	.LBB1978:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5563               		.loc 2 50 0
 5564               	/* #APP */
 5565               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5566 1666 F894      		cli
 5567               	 ;  0 "" 2
 5568               	.LVL325:
 5569               	/* #NOAPP */
 5570               	.LBE1978:
 5571               	.LBE1977:
 5572               		.loc 1 178 0
 5573 1668 1092 0000 		sts ep_in_data+2,__zero_reg__
 5574 166c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5575               	.LVL326:
 5576               	.LBB1979:
 5577               	.LBB1980:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 5578               		.loc 4 81 0
 5579 1670 8091 0000 		lds r24,ep_in_pipe_data+4
 5580 1674 8F5F      		subi r24,lo8(-(1))
 5581 1676 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 5582               		.loc 4 82 0
 5583 167a 8091 0000 		lds r24,ep_in_pipe_data+2
 5584 167e 9091 0000 		lds r25,ep_in_pipe_data+2+1
 5585 1682 805C      		subi r24,lo8(-(64))
 5586 1684 9F4F      		sbci r25,hi8(-(64))
 5587 1686 8093 0000 		sts ep_in_pipe_data+2,r24
 5588 168a 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5589               		.loc 4 84 0
 5590 168e E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 5591 1690 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5592 1692 9E07      		cpc r25,r30
 5593 1694 01F4      		brne .L173
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 5594               		.loc 4 85 0
 5595 1696 2092 0000 		sts ep_in_pipe_data+2,r2
 5596 169a 3092 0000 		sts ep_in_pipe_data+2+1,r3
 5597               	.L173:
 5598               	.LVL327:
 5599               	.LBE1980:
 5600               	.LBE1979:
 5601               	.LBB1981:
 5602               	.LBB1975:
 5603               	.LBB1973:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 5604               		.loc 1 80 0
 5605 169e AFB7      		in r26,__SREG__
 5606               	.LVL328:
 5607               	.LBB1952:
 5608               	.LBB1953:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5609               		.loc 2 50 0
 5610               	/* #APP */
 5611               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5612 16a0 F894      		cli
 5613               	 ;  0 "" 2
 5614               	.LVL329:
 5615               	/* #NOAPP */
 5616               	.LBE1953:
 5617               	.LBE1952:
 5618               	.LBB1954:
 5619               	.LBB1928:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 5620               		.loc 3 220 0
 5621 16a2 8091 0000 		lds r24,endpoints+24
 5622 16a6 8670      		andi r24,lo8(6)
 5623               	.LBE1928:
 5624               	.LBE1954:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 5625               		.loc 1 82 0
 5626 16a8 01F4      		brne .L241
 5627               	.LVL330:
 5628               	.L174:
 5629               	.LBB1955:
 5630               	.LBB1956:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5631               		.loc 2 70 0
 5632 16aa AFBF      		out __SREG__,r26
 5633               		.loc 2 71 0
 5634               	.LVL331:
 5635               	.LBE1956:
 5636               	.LBE1955:
 5637               	.LBE1973:
 5638               	.LBE1975:
 5639               	.LBE1981:
 5640               	.LBB1982:
 5641               	.LBB1983:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5642               		.loc 2 70 0
 5643 16ac BFBF      		out __SREG__,r27
 5644               		.loc 2 71 0
 5645 16ae 00C0      		rjmp .L172
 5646               	.LVL332:
 5647               	.L241:
 5648               	.LBE1983:
 5649               	.LBE1982:
 5650               	.LBB1984:
 5651               	.LBB1976:
 5652               	.LBB1974:
 5653               	.LBB1957:
 5654               	.LBB1958:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 5655               		.loc 4 51 0
 5656 16b0 2091 0000 		lds r18,ep_in_pipe_data+4
 5657               	.LBE1958:
 5658               	.LBE1957:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 5659               		.loc 1 83 0
 5660 16b4 1216      		cp __zero_reg__,r18
 5661 16b6 04F0      		brlt .+2
 5662 16b8 00C0      		rjmp .L175
 5663               	.LBB1959:
 5664               	.LBB1960:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5665               		.loc 4 62 0
 5666 16ba 4091 0000 		lds r20,ep_in_pipe_data
 5667 16be 5091 0000 		lds r21,ep_in_pipe_data+1
 5668               	.LVL333:
 5669               	.LBE1960:
 5670               	.LBE1959:
 5671               	.LBB1961:
 5672               	.LBB1950:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5673               		.loc 1 68 0
 5674 16c2 3091 0000 		lds r19,ep_in_data
 5675               	.LVL334:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5676               		.loc 1 69 0
 5677 16c6 832F      		mov r24,r19
 5678 16c8 90E0      		ldi r25,lo8(0)
 5679 16ca 61E0      		ldi r22,lo8(1)
 5680 16cc 8C15      		cp r24,r12
 5681 16ce 9D05      		cpc r25,r13
 5682 16d0 01F4      		brne .L176
 5683 16d2 60E0      		ldi r22,lo8(0)
 5684               	.L176:
 5685 16d4 6093 0000 		sts ep_in_data,r22
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5686               		.loc 1 72 0
 5687 16d8 3323      		tst r19
 5688 16da 01F4      		brne .L177
 5689               	.LVL335:
 5690               	.LBB1947:
 5691               	.LBB1948:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5692               		.loc 3 168 0
 5693 16dc 4093 0000 		sts endpoints+28,r20
 5694 16e0 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5695               		.loc 3 169 0
 5696 16e4 A092 0000 		sts endpoints+26,r10
 5697 16e8 B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5698               		.loc 3 174 0
 5699 16ec F701      		movw r30,r14
 5700               	/* #APP */
 5701               	 ;  174 "usb/usb.h" 1
 5702 16ee 02E2      		ldi r16, 34
 5703 16f0 0693      		.dc.w 0x9306
 5704               		
 5705               	 ;  0 "" 2
 5706               	.LVL336:
 5707               	/* #NOAPP */
 5708               	.L178:
 5709               	.LBE1948:
 5710               	.LBE1947:
 5711               	.LBE1950:
 5712               	.LBE1961:
 5713               	.LBB1962:
 5714               	.LBB1963:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 5715               		.loc 4 72 0
 5716 16f2 2150      		subi r18,lo8(-(-1))
 5717 16f4 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 5718               		.loc 4 73 0
 5719 16f8 CA01      		movw r24,r20
 5720 16fa 805C      		subi r24,lo8(-(64))
 5721 16fc 9F4F      		sbci r25,hi8(-(64))
 5722 16fe 8093 0000 		sts ep_in_pipe_data,r24
 5723 1702 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5724               		.loc 4 75 0
 5725 1706 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 5726 1708 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5727 170a 9F07      		cpc r25,r31
 5728 170c 01F4      		brne .L174
 5729               	.LBE1963:
 5730               	.LBE1962:
 5731               	.LBB1964:
 5732               	.LBB1931:
 5733               		.loc 4 91 0
 5734 170e 2092 0000 		sts ep_in_pipe_data,r2
 5735 1712 3092 0000 		sts ep_in_pipe_data+1,r3
 5736               	.LVL337:
 5737 1716 00C0      		rjmp .L174
 5738               	.LVL338:
 5739               	.L177:
 5740               	.LBE1931:
 5741               	.LBE1964:
 5742               	.LBB1965:
 5743               	.LBB1951:
 5744               	.LBB1949:
 5745               	.LBB1946:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5746               		.loc 3 168 0
 5747 1718 4093 0000 		sts endpoints+20,r20
 5748 171c 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5749               		.loc 3 169 0
 5750 1720 A092 0000 		sts endpoints+18,r10
 5751 1724 B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5752               		.loc 3 176 0
 5753 1728 F701      		movw r30,r14
 5754               	/* #APP */
 5755               	 ;  176 "usb/usb.h" 1
 5756 172a 04E1      		ldi r16, 20
 5757 172c 0693      		.dc.w 0x9306
 5758               		
 5759               	 ;  0 "" 2
 5760               	/* #NOAPP */
 5761 172e 00C0      		rjmp .L178
 5762               	.LVL339:
 5763               	.L175:
 5764               	.LBE1946:
 5765               	.LBE1949:
 5766               	.LBE1951:
 5767               	.LBE1965:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 5768               		.loc 1 87 0
 5769 1730 8091 0000 		lds r24,ep_in_data+1
 5770 1734 8130      		cpi r24,lo8(1)
 5771 1736 01F0      		breq .L242
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5772               		.loc 1 91 0
 5773 1738 8230      		cpi r24,lo8(2)
 5774 173a 01F0      		breq .+2
 5775 173c 00C0      		rjmp .L174
 5776               	.LVL340:
 5777               	.LBB1966:
 5778               	.LBB1967:
 5779               	.LBB1968:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 5780               		.loc 3 228 0
 5781 173e 8091 0000 		lds r24,endpoints+24
 5782 1742 8670      		andi r24,lo8(6)
 5783               	.LBE1968:
 5784               	.LBE1967:
 5785               	.LBE1966:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5786               		.loc 1 91 0
 5787 1744 8630      		cpi r24,lo8(6)
 5788 1746 01F0      		breq .+2
 5789 1748 00C0      		rjmp .L174
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 5790               		.loc 1 92 0
 5791 174a 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 5792               		.loc 1 93 0
 5793 174e 1092 0000 		sts ep_in_data+2,__zero_reg__
 5794 1752 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5795               	.LBB1969:
 5796               	.LBB1932:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 5797               		.loc 4 90 0
 5798 1756 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 5799               		.loc 4 91 0
 5800 175a 2092 0000 		sts ep_in_pipe_data+2,r2
 5801 175e 3092 0000 		sts ep_in_pipe_data+2+1,r3
 5802 1762 2092 0000 		sts ep_in_pipe_data,r2
 5803 1766 3092 0000 		sts ep_in_pipe_data+1,r3
 5804               	.LVL341:
 5805 176a 00C0      		rjmp .L174
 5806               	.LVL342:
 5807               	.L242:
 5808               	.LBE1932:
 5809               	.LBE1969:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 5810               		.loc 1 88 0
 5811 176c 1093 0000 		sts ep_in_data+1,r17
 5812               	.LBB1970:
 5813               	.LBB1971:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5814               		.loc 4 62 0
 5815 1770 6091 0000 		lds r22,ep_in_pipe_data
 5816 1774 E091 0000 		lds r30,ep_in_pipe_data+1
 5817               	.LBE1971:
 5818               	.LBE1970:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5819               		.loc 1 90 0
 5820 1778 2091 0000 		lds r18,ep_in_data+2
 5821 177c 3091 0000 		lds r19,ep_in_data+2+1
 5822               	.LVL343:
 5823               	.LBB1972:
 5824               	.LBB1941:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5825               		.loc 1 68 0
 5826 1780 5091 0000 		lds r21,ep_in_data
 5827               	.LVL344:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5828               		.loc 1 69 0
 5829 1784 852F      		mov r24,r21
 5830 1786 90E0      		ldi r25,lo8(0)
 5831 1788 41E0      		ldi r20,lo8(1)
 5832 178a 8C15      		cp r24,r12
 5833 178c 9D05      		cpc r25,r13
 5834 178e 01F4      		brne .L181
 5835 1790 40E0      		ldi r20,lo8(0)
 5836               	.L181:
 5837 1792 4093 0000 		sts ep_in_data,r20
 5838               	.LBB1935:
 5839               	.LBB1936:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5840               		.loc 3 168 0
 5841 1796 862F      		mov r24,r22
 5842 1798 9E2F      		mov r25,r30
 5843               	.LBE1936:
 5844               	.LBE1935:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5845               		.loc 1 72 0
 5846 179a 5523      		tst r21
 5847 179c 01F4      		brne .L182
 5848               	.LVL345:
 5849               	.LBB1938:
 5850               	.LBB1937:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5851               		.loc 3 168 0
 5852 179e 8093 0000 		sts endpoints+28,r24
 5853 17a2 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5854               		.loc 3 169 0
 5855 17a6 2093 0000 		sts endpoints+26,r18
 5856 17aa 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5857               		.loc 3 174 0
 5858 17ae F701      		movw r30,r14
 5859               	/* #APP */
 5860               	 ;  174 "usb/usb.h" 1
 5861 17b0 02E2      		ldi r16, 34
 5862 17b2 0693      		.dc.w 0x9306
 5863               		
 5864               	 ;  0 "" 2
 5865               	/* #NOAPP */
 5866 17b4 00C0      		rjmp .L174
 5867               	.LVL346:
 5868               	.L182:
 5869               	.LBE1937:
 5870               	.LBE1938:
 5871               	.LBB1939:
 5872               	.LBB1940:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5873               		.loc 3 168 0
 5874 17b6 8093 0000 		sts endpoints+20,r24
 5875 17ba 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5876               		.loc 3 169 0
 5877 17be 2093 0000 		sts endpoints+18,r18
 5878 17c2 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5879               		.loc 3 176 0
 5880 17c6 F701      		movw r30,r14
 5881               	/* #APP */
 5882               	 ;  176 "usb/usb.h" 1
 5883 17c8 04E1      		ldi r16, 20
 5884 17ca 0693      		.dc.w 0x9306
 5885               		
 5886               	 ;  0 "" 2
 5887               	/* #NOAPP */
 5888 17cc 00C0      		rjmp .L174
 5889               	.LVL347:
 5890               	.L232:
 5891               	.LBE1940:
 5892               	.LBE1939:
 5893               	.LBE1941:
 5894               	.LBE1972:
 5895               	.LBE1974:
 5896               	.LBE1976:
 5897               	.LBE1984:
 5898               	.LBE1985:
 5899               	.LBE1986:
 5900               	.LBE1987:
 5901               	.LBE1992:
 5902               	.LBE1994:
 5903               	.LBE1996:
 5904               	.LBE2006:
 5905               	.LBB2007:
 5906               	.LBB1899:
 5907               	.LBB1838:
 5908               	.LBB1839:
 5909               	.LBB1840:
 5910               	.LBB1841:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 5911               		.loc 1 177 0
 5912 17ce 7FB7      		in r23,__SREG__
 5913               	.LVL348:
 5914               	.LBB1842:
 5915               	.LBB1843:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5916               		.loc 2 50 0
 5917               	/* #APP */
 5918               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5919 17d0 F894      		cli
 5920               	 ;  0 "" 2
 5921               	.LVL349:
 5922               	/* #NOAPP */
 5923               	.LBE1843:
 5924               	.LBE1842:
 5925               		.loc 1 178 0
 5926 17d2 1092 0000 		sts ep_in_data+2,__zero_reg__
 5927 17d6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5928               	.LVL350:
 5929               	.LBB1844:
 5930               	.LBB1845:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 5931               		.loc 4 81 0
 5932 17da 8091 0000 		lds r24,ep_in_pipe_data+4
 5933 17de 8F5F      		subi r24,lo8(-(1))
 5934 17e0 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 5935               		.loc 4 82 0
 5936 17e4 8091 0000 		lds r24,ep_in_pipe_data+2
 5937 17e8 9091 0000 		lds r25,ep_in_pipe_data+2+1
 5938 17ec 805C      		subi r24,lo8(-(64))
 5939 17ee 9F4F      		sbci r25,hi8(-(64))
 5940 17f0 8093 0000 		sts ep_in_pipe_data+2,r24
 5941 17f4 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5942               		.loc 4 84 0
 5943 17f8 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 5944 17fa 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5945 17fc 9307      		cpc r25,r19
 5946 17fe 01F4      		brne .L158
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 5947               		.loc 4 85 0
 5948 1800 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5949 1802 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5950 1804 8093 0000 		sts ep_in_pipe_data+2,r24
 5951 1808 9093 0000 		sts ep_in_pipe_data+2+1,r25
 5952               	.L158:
 5953               	.LVL351:
 5954               	.LBE1845:
 5955               	.LBE1844:
 5956               	.LBB1846:
 5957               	.LBB1847:
 5958               	.LBB1848:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 5959               		.loc 1 80 0
 5960 180c 6FB7      		in r22,__SREG__
 5961               	.LVL352:
 5962               	.LBB1849:
 5963               	.LBB1850:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5964               		.loc 2 50 0
 5965               	/* #APP */
 5966               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5967 180e F894      		cli
 5968               	 ;  0 "" 2
 5969               	.LVL353:
 5970               	/* #NOAPP */
 5971               	.LBE1850:
 5972               	.LBE1849:
 5973               	.LBB1851:
 5974               	.LBB1852:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 5975               		.loc 3 220 0
 5976 1810 8091 0000 		lds r24,endpoints+24
 5977 1814 8670      		andi r24,lo8(6)
 5978               	.LBE1852:
 5979               	.LBE1851:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 5980               		.loc 1 82 0
 5981 1816 01F0      		breq .L159
 5982               	.LBB1853:
 5983               	.LBB1854:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 5984               		.loc 4 51 0
 5985 1818 4091 0000 		lds r20,ep_in_pipe_data+4
 5986               	.LBE1854:
 5987               	.LBE1853:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 5988               		.loc 1 83 0
 5989 181c 1416      		cp __zero_reg__,r20
 5990 181e 04F0      		brlt .+2
 5991 1820 00C0      		rjmp .L160
 5992               	.LBB1855:
 5993               	.LBB1856:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5994               		.loc 4 62 0
 5995 1822 8091 0000 		lds r24,ep_in_pipe_data
 5996 1826 9091 0000 		lds r25,ep_in_pipe_data+1
 5997               	.LVL354:
 5998               	.LBE1856:
 5999               	.LBE1855:
 6000               	.LBB1857:
 6001               	.LBB1858:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 6002               		.loc 1 68 0
 6003 182a 2091 0000 		lds r18,ep_in_data
 6004               	.LVL355:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6005               		.loc 1 69 0
 6006 182e 31E0      		ldi r19,lo8(1)
 6007 1830 2130      		cpi r18,lo8(1)
 6008 1832 01F4      		brne .L161
 6009 1834 30E0      		ldi r19,lo8(0)
 6010               	.L161:
 6011 1836 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 6012               		.loc 1 72 0
 6013 183a 2223      		tst r18
 6014 183c 01F4      		brne .L162
 6015               	.LVL356:
 6016               	.LBB1859:
 6017               	.LBB1860:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6018               		.loc 3 168 0
 6019 183e 8093 0000 		sts endpoints+28,r24
 6020 1842 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6021               		.loc 3 169 0
 6022 1846 20E4      		ldi r18,lo8(64)
 6023 1848 30E0      		ldi r19,hi8(64)
 6024 184a 2093 0000 		sts endpoints+26,r18
 6025 184e 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 6026               		.loc 3 174 0
 6027 1852 E0E0      		ldi r30,lo8(endpoints+24)
 6028 1854 F0E0      		ldi r31,hi8(endpoints+24)
 6029               	.LVL357:
 6030               	/* #APP */
 6031               	 ;  174 "usb/usb.h" 1
 6032 1856 02E2      		ldi r16, 34
 6033 1858 0693      		.dc.w 0x9306
 6034               		
 6035               	 ;  0 "" 2
 6036               	.LVL358:
 6037               	/* #NOAPP */
 6038               	.L163:
 6039               	.LBE1860:
 6040               	.LBE1859:
 6041               	.LBE1858:
 6042               	.LBE1857:
 6043               	.LBB1864:
 6044               	.LBB1865:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 6045               		.loc 4 72 0
 6046 185a 4150      		subi r20,lo8(-(-1))
 6047 185c 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 6048               		.loc 4 73 0
 6049 1860 805C      		subi r24,lo8(-(64))
 6050 1862 9F4F      		sbci r25,hi8(-(64))
 6051 1864 8093 0000 		sts ep_in_pipe_data,r24
 6052 1868 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 6053               		.loc 4 75 0
 6054 186c A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 6055 186e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 6056 1870 9A07      		cpc r25,r26
 6057 1872 01F0      		breq .L243
 6058               	.LVL359:
 6059               	.L159:
 6060               	.LBE1865:
 6061               	.LBE1864:
 6062               	.LBB1867:
 6063               	.LBB1868:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6064               		.loc 2 70 0
 6065 1874 6FBF      		out __SREG__,r22
 6066               		.loc 2 71 0
 6067               	.LVL360:
 6068               	.LBE1868:
 6069               	.LBE1867:
 6070               	.LBE1848:
 6071               	.LBE1847:
 6072               	.LBE1846:
 6073               	.LBB1890:
 6074               	.LBB1891:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6075               		.loc 2 70 0
 6076 1876 7FBF      		out __SREG__,r23
 6077               		.loc 2 71 0
 6078 1878 00C0      		rjmp .L157
 6079               	.LVL361:
 6080               	.L162:
 6081               	.LBE1891:
 6082               	.LBE1890:
 6083               	.LBB1892:
 6084               	.LBB1888:
 6085               	.LBB1886:
 6086               	.LBB1869:
 6087               	.LBB1863:
 6088               	.LBB1861:
 6089               	.LBB1862:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6090               		.loc 3 168 0
 6091 187a 8093 0000 		sts endpoints+20,r24
 6092 187e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6093               		.loc 3 169 0
 6094 1882 20E4      		ldi r18,lo8(64)
 6095 1884 30E0      		ldi r19,hi8(64)
 6096               	.LVL362:
 6097 1886 2093 0000 		sts endpoints+18,r18
 6098 188a 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6099               		.loc 3 176 0
 6100 188e E0E0      		ldi r30,lo8(endpoints+24)
 6101 1890 F0E0      		ldi r31,hi8(endpoints+24)
 6102               	/* #APP */
 6103               	 ;  176 "usb/usb.h" 1
 6104 1892 04E1      		ldi r16, 20
 6105 1894 0693      		.dc.w 0x9306
 6106               		
 6107               	 ;  0 "" 2
 6108               	/* #NOAPP */
 6109 1896 00C0      		rjmp .L163
 6110               	.LVL363:
 6111               	.L160:
 6112               	.LBE1862:
 6113               	.LBE1861:
 6114               	.LBE1863:
 6115               	.LBE1869:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 6116               		.loc 1 87 0
 6117 1898 8091 0000 		lds r24,ep_in_data+1
 6118 189c 8130      		cpi r24,lo8(1)
 6119 189e 01F0      		breq .L244
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 6120               		.loc 1 91 0
 6121 18a0 8230      		cpi r24,lo8(2)
 6122 18a2 01F4      		brne .L159
 6123               	.LVL364:
 6124               	.LBB1870:
 6125               	.LBB1871:
 6126               	.LBB1872:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 6127               		.loc 3 228 0
 6128 18a4 8091 0000 		lds r24,endpoints+24
 6129 18a8 8670      		andi r24,lo8(6)
 6130               	.LBE1872:
 6131               	.LBE1871:
 6132               	.LBE1870:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 6133               		.loc 1 91 0
 6134 18aa 8630      		cpi r24,lo8(6)
 6135 18ac 01F4      		brne .L159
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 6136               		.loc 1 92 0
 6137 18ae 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 6138               		.loc 1 93 0
 6139 18b2 1092 0000 		sts ep_in_data+2,__zero_reg__
 6140 18b6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 6141               	.LBB1873:
 6142               	.LBB1874:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 6143               		.loc 4 90 0
 6144 18ba 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 6145               		.loc 4 91 0
 6146 18be 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 6147 18c0 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 6148 18c2 8093 0000 		sts ep_in_pipe_data+2,r24
 6149 18c6 9093 0000 		sts ep_in_pipe_data+2+1,r25
 6150 18ca 8093 0000 		sts ep_in_pipe_data,r24
 6151 18ce 9093 0000 		sts ep_in_pipe_data+1,r25
 6152               	.LVL365:
 6153 18d2 00C0      		rjmp .L159
 6154               	.LVL366:
 6155               	.L243:
 6156               	.LBE1874:
 6157               	.LBE1873:
 6158               	.LBB1875:
 6159               	.LBB1866:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 6160               		.loc 4 76 0
 6161 18d4 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 6162 18d6 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 6163 18d8 8093 0000 		sts ep_in_pipe_data,r24
 6164 18dc 9093 0000 		sts ep_in_pipe_data+1,r25
 6165 18e0 00C0      		rjmp .L159
 6166               	.LVL367:
 6167               	.L244:
 6168               	.LBE1866:
 6169               	.LBE1875:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 6170               		.loc 1 88 0
 6171 18e2 82E0      		ldi r24,lo8(2)
 6172 18e4 8093 0000 		sts ep_in_data+1,r24
 6173               	.LBB1876:
 6174               	.LBB1877:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 6175               		.loc 4 62 0
 6176 18e8 4091 0000 		lds r20,ep_in_pipe_data
 6177 18ec 5091 0000 		lds r21,ep_in_pipe_data+1
 6178               	.LBE1877:
 6179               	.LBE1876:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 6180               		.loc 1 90 0
 6181 18f0 8091 0000 		lds r24,ep_in_data+2
 6182 18f4 9091 0000 		lds r25,ep_in_data+2+1
 6183               	.LVL368:
 6184               	.LBB1878:
 6185               	.LBB1879:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 6186               		.loc 1 68 0
 6187 18f8 2091 0000 		lds r18,ep_in_data
 6188               	.LVL369:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6189               		.loc 1 69 0
 6190 18fc 31E0      		ldi r19,lo8(1)
 6191 18fe 2130      		cpi r18,lo8(1)
 6192 1900 01F4      		brne .L166
 6193 1902 30E0      		ldi r19,lo8(0)
 6194               	.L166:
 6195 1904 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 6196               		.loc 1 72 0
 6197 1908 2223      		tst r18
 6198 190a 01F4      		brne .L167
 6199               	.LVL370:
 6200               	.LBB1880:
 6201               	.LBB1881:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6202               		.loc 3 168 0
 6203 190c 4093 0000 		sts endpoints+28,r20
 6204 1910 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6205               		.loc 3 169 0
 6206 1914 8093 0000 		sts endpoints+26,r24
 6207 1918 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 6208               		.loc 3 174 0
 6209 191c E0E0      		ldi r30,lo8(endpoints+24)
 6210 191e F0E0      		ldi r31,hi8(endpoints+24)
 6211               	.LVL371:
 6212               	/* #APP */
 6213               	 ;  174 "usb/usb.h" 1
 6214 1920 02E2      		ldi r16, 34
 6215 1922 0693      		.dc.w 0x9306
 6216               		
 6217               	 ;  0 "" 2
 6218               	/* #NOAPP */
 6219 1924 00C0      		rjmp .L159
 6220               	.LVL372:
 6221               	.L192:
 6222               	.LBE1881:
 6223               	.LBE1880:
 6224               	.LBE1879:
 6225               	.LBE1878:
 6226               	.LBE1886:
 6227               	.LBE1888:
 6228               	.LBE1892:
 6229               	.LBE1841:
 6230               	.LBE1840:
 6231               	.LBE1839:
 6232               	.LBE1838:
 6233               	.LBE1899:
 6234               	.LBE2007:
 6235               	.LBE2011:
 6236               	.LBB2012:
 6237               	.LBB1542:
 6238               	.LBB1539:
 6239               	.LBB1511:
 6240               	.LBB1508:
 6241               	.LBB1505:
 6242               	.LBB1502:
 6243               	.LBB1499:
 6244               	.LBB1498:
 6245               	.LBB1496:
 6246               	.LBB1497:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6247               		.loc 3 168 0
 6248 1926 262F      		mov r18,r22
 6249               	.LVL373:
 6250 1928 342F      		mov r19,r20
 6251 192a 2093 0000 		sts endpoints+20,r18
 6252 192e 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6253               		.loc 3 169 0
 6254 1932 8093 0000 		sts endpoints+18,r24
 6255 1936 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6256               		.loc 3 176 0
 6257 193a E0E0      		ldi r30,lo8(endpoints+24)
 6258 193c F0E0      		ldi r31,hi8(endpoints+24)
 6259               	/* #APP */
 6260               	 ;  176 "usb/usb.h" 1
 6261 193e 04E1      		ldi r16, 20
 6262 1940 0693      		.dc.w 0x9306
 6263               		
 6264               	 ;  0 "" 2
 6265               	/* #NOAPP */
 6266 1942 00C0      		rjmp .L184
 6267               	.LVL374:
 6268               	.L137:
 6269               	.LBE1497:
 6270               	.LBE1496:
 6271               	.LBE1498:
 6272               	.LBE1499:
 6273               	.LBE1502:
 6274               	.LBE1505:
 6275               	.LBE1508:
 6276               	.LBE1511:
 6277               	.LBE1539:
 6278               	.LBE1542:
 6279               	.LBE2012:
 6280               	.LBB2013:
 6281               	.LBB2008:
 6282               	.LBB1723:
 6283               	.LBB1720:
 6284               	.LBB1719:
 6285               	.LBB1718:
 6286               	.LBB1717:
 6287               	.LBB1716:
 6288               	.LBB1712:
 6289               	.LBB1710:
 6290               	.LBB1708:
 6291               	.LBB1707:
 6292               	.LBB1705:
 6293               	.LBB1706:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6294               		.loc 3 168 0
 6295 1944 352F      		mov r19,r21
 6296               	.LVL375:
 6297 1946 2093 0000 		sts endpoints+20,r18
 6298 194a 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6299               		.loc 3 169 0
 6300 194e 8093 0000 		sts endpoints+18,r24
 6301 1952 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6302               		.loc 3 176 0
 6303 1956 E0E0      		ldi r30,lo8(endpoints+24)
 6304 1958 F0E0      		ldi r31,hi8(endpoints+24)
 6305               	/* #APP */
 6306               	 ;  176 "usb/usb.h" 1
 6307 195a 04E1      		ldi r16, 20
 6308 195c 0693      		.dc.w 0x9306
 6309               		
 6310               	 ;  0 "" 2
 6311               	/* #NOAPP */
 6312 195e 00C0      		rjmp .L129
 6313               	.LVL376:
 6314               	.L167:
 6315               	.LBE1706:
 6316               	.LBE1705:
 6317               	.LBE1707:
 6318               	.LBE1708:
 6319               	.LBE1710:
 6320               	.LBE1712:
 6321               	.LBE1716:
 6322               	.LBE1717:
 6323               	.LBE1718:
 6324               	.LBE1719:
 6325               	.LBE1720:
 6326               	.LBE1723:
 6327               	.LBE2008:
 6328               	.LBB2009:
 6329               	.LBB1900:
 6330               	.LBB1897:
 6331               	.LBB1896:
 6332               	.LBB1895:
 6333               	.LBB1894:
 6334               	.LBB1893:
 6335               	.LBB1889:
 6336               	.LBB1887:
 6337               	.LBB1885:
 6338               	.LBB1884:
 6339               	.LBB1882:
 6340               	.LBB1883:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6341               		.loc 3 168 0
 6342 1960 4093 0000 		sts endpoints+20,r20
 6343 1964 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6344               		.loc 3 169 0
 6345 1968 8093 0000 		sts endpoints+18,r24
 6346 196c 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6347               		.loc 3 176 0
 6348 1970 E0E0      		ldi r30,lo8(endpoints+24)
 6349 1972 F0E0      		ldi r31,hi8(endpoints+24)
 6350               	/* #APP */
 6351               	 ;  176 "usb/usb.h" 1
 6352 1974 04E1      		ldi r16, 20
 6353 1976 0693      		.dc.w 0x9306
 6354               		
 6355               	 ;  0 "" 2
 6356               	/* #NOAPP */
 6357 1978 00C0      		rjmp .L159
 6358               	.LBE1883:
 6359               	.LBE1882:
 6360               	.LBE1884:
 6361               	.LBE1885:
 6362               	.LBE1887:
 6363               	.LBE1889:
 6364               	.LBE1893:
 6365               	.LBE1894:
 6366               	.LBE1895:
 6367               	.LBE1896:
 6368               	.LBE1897:
 6369               	.LBE1900:
 6370               	.LBE2009:
 6371               	.LBE2013:
 6372               		.cfi_endproc
 6373               	.LFE65:
 6375               	.global	uart_putchar
 6377               	uart_putchar:
 6378               	.LFB66:
 6379               		.file 9 "uart/uart.h"
   1:uart/uart.h   **** #include "Framework.h"
   2:uart/uart.h   **** #include <stdio.h>
   3:uart/uart.h   **** #include <stdlib.h>
   4:uart/uart.h   **** #include <string.h>
   5:uart/uart.h   **** 
   6:uart/uart.h   **** uint8_t debug = 0;
   7:uart/uart.h   **** 
   8:uart/uart.h   **** int uart_putchar(char c, USART_t* USART); 
   9:uart/uart.h   **** char uart_getchar(USART_t* USART);
  10:uart/uart.h   **** void send_uart(char*, USART_t* USART);
  11:uart/uart.h   **** 
  12:uart/uart.h   **** // code for communicating with the gprs module via uart
  13:uart/uart.h   **** int uart_putchar (char c, USART_t* USART) { 
 6380               		.loc 9 13 0
 6381               		.cfi_startproc
 6382               	.LVL377:
 6383               	/* prologue: function */
 6384               	/* frame size = 0 */
 6385               	/* stack size = 0 */
 6386               	.L__stack_usage = 0
 6387 197a FB01      		movw r30,r22
  14:uart/uart.h   ****     if (c == '\n') 
 6388               		.loc 9 14 0
 6389 197c 8A30      		cpi r24,lo8(10)
 6390 197e 01F0      		breq .L250
 6391               	.L249:
  15:uart/uart.h   ****         uart_putchar('\r', USART); 
  16:uart/uart.h   **** 
  17:uart/uart.h   ****     // Wait for the transmit buffer to be empty 
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 6392               		.loc 9 18 0 discriminator 1
 6393 1980 9181      		ldd r25,Z+1
 6394 1982 95FF      		sbrs r25,5
 6395 1984 00C0      		rjmp .L249
  19:uart/uart.h   **** 
  20:uart/uart.h   ****     // Put our character into the transmit buffer 
  21:uart/uart.h   ****     USART->DATA = c; 
 6396               		.loc 9 21 0
 6397 1986 8083      		st Z,r24
  22:uart/uart.h   **** 
  23:uart/uart.h   ****     return 0; 
  24:uart/uart.h   **** } 
 6398               		.loc 9 24 0
 6399 1988 80E0      		ldi r24,lo8(0)
 6400 198a 90E0      		ldi r25,hi8(0)
 6401               	.LVL378:
 6402               	/* epilogue start */
 6403 198c 0895      		ret
 6404               	.LVL379:
 6405               	.L250:
 6406               	.LBB2030:
 6407               	.LBB2031:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 6408               		.loc 9 18 0
 6409 198e 9181      		ldd r25,Z+1
 6410 1990 95FF      		sbrs r25,5
 6411 1992 00C0      		rjmp .L250
  21:uart/uart.h   ****     USART->DATA = c; 
 6412               		.loc 9 21 0
 6413 1994 9DE0      		ldi r25,lo8(13)
 6414 1996 9083      		st Z,r25
 6415 1998 00C0      		rjmp .L249
 6416               	.LBE2031:
 6417               	.LBE2030:
 6418               		.cfi_endproc
 6419               	.LFE66:
 6421               	.global	uart_getchar
 6423               	uart_getchar:
 6424               	.LFB67:
  25:uart/uart.h   **** 
  26:uart/uart.h   **** // code for communicating with the gprs module via uart
  27:uart/uart.h   **** char uart_getchar (USART_t* USART) { 
 6425               		.loc 9 27 0
 6426               		.cfi_startproc
 6427               	.LVL380:
 6428               	/* prologue: function */
 6429               	/* frame size = 0 */
 6430               	/* stack size = 0 */
 6431               	.L__stack_usage = 0
 6432 199a FC01      		movw r30,r24
 6433               	.LVL381:
 6434               	.L254:
  28:uart/uart.h   **** 
  29:uart/uart.h   ****     // Wait for the receive buffer to be empty 
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 6435               		.loc 9 30 0 discriminator 1
 6436 199c 8181      		ldd r24,Z+1
 6437 199e 87FF      		sbrs r24,7
 6438 19a0 00C0      		rjmp .L254
  31:uart/uart.h   **** 
  32:uart/uart.h   ****     // Receive char from receive buffer 
  33:uart/uart.h   ****     return USART->DATA; 
 6439               		.loc 9 33 0
 6440 19a2 8081      		ld r24,Z
 6441               	/* epilogue start */
  34:uart/uart.h   **** } 
 6442               		.loc 9 34 0
 6443 19a4 0895      		ret
 6444               		.cfi_endproc
 6445               	.LFE67:
 6447               	.global	send_uart
 6449               	send_uart:
 6450               	.LFB68:
  35:uart/uart.h   **** 
  36:uart/uart.h   **** void send_uart(char* text, USART_t* USART) {
 6451               		.loc 9 36 0
 6452               		.cfi_startproc
 6453               	.LVL382:
 6454 19a6 4F92      		push r4
 6455               	.LCFI91:
 6456               		.cfi_def_cfa_offset 3
 6457               		.cfi_offset 4, -2
 6458 19a8 5F92      		push r5
 6459               	.LCFI92:
 6460               		.cfi_def_cfa_offset 4
 6461               		.cfi_offset 5, -3
 6462 19aa 6F92      		push r6
 6463               	.LCFI93:
 6464               		.cfi_def_cfa_offset 5
 6465               		.cfi_offset 6, -4
 6466 19ac 7F92      		push r7
 6467               	.LCFI94:
 6468               		.cfi_def_cfa_offset 6
 6469               		.cfi_offset 7, -5
 6470 19ae 8F92      		push r8
 6471               	.LCFI95:
 6472               		.cfi_def_cfa_offset 7
 6473               		.cfi_offset 8, -6
 6474 19b0 9F92      		push r9
 6475               	.LCFI96:
 6476               		.cfi_def_cfa_offset 8
 6477               		.cfi_offset 9, -7
 6478 19b2 AF92      		push r10
 6479               	.LCFI97:
 6480               		.cfi_def_cfa_offset 9
 6481               		.cfi_offset 10, -8
 6482 19b4 BF92      		push r11
 6483               	.LCFI98:
 6484               		.cfi_def_cfa_offset 10
 6485               		.cfi_offset 11, -9
 6486 19b6 CF92      		push r12
 6487               	.LCFI99:
 6488               		.cfi_def_cfa_offset 11
 6489               		.cfi_offset 12, -10
 6490 19b8 DF92      		push r13
 6491               	.LCFI100:
 6492               		.cfi_def_cfa_offset 12
 6493               		.cfi_offset 13, -11
 6494 19ba EF92      		push r14
 6495               	.LCFI101:
 6496               		.cfi_def_cfa_offset 13
 6497               		.cfi_offset 14, -12
 6498 19bc FF92      		push r15
 6499               	.LCFI102:
 6500               		.cfi_def_cfa_offset 14
 6501               		.cfi_offset 15, -13
 6502 19be 0F93      		push r16
 6503               	.LCFI103:
 6504               		.cfi_def_cfa_offset 15
 6505               		.cfi_offset 16, -14
 6506 19c0 1F93      		push r17
 6507               	.LCFI104:
 6508               		.cfi_def_cfa_offset 16
 6509               		.cfi_offset 17, -15
 6510 19c2 CF93      		push r28
 6511               	.LCFI105:
 6512               		.cfi_def_cfa_offset 17
 6513               		.cfi_offset 28, -16
 6514 19c4 DF93      		push r29
 6515               	.LCFI106:
 6516               		.cfi_def_cfa_offset 18
 6517               		.cfi_offset 29, -17
 6518               	/* prologue: function */
 6519               	/* frame size = 0 */
 6520               	/* stack size = 16 */
 6521               	.L__stack_usage = 16
 6522 19c6 EC01      		movw r28,r24
 6523 19c8 7B01      		movw r14,r22
 6524               	.LVL383:
 6525               	.LBB2203:
 6526               	.LBB2204:
  15:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 6527               		.loc 7 15 0
 6528 19ca DC01      		movw r26,r24
 6529 19cc 0D90      		ld __tmp_reg__,X+
 6530 19ce 0020      		tst __tmp_reg__
 6531 19d0 01F4      		brne .-6
 6532 19d2 CD01      		movw r24,r26
 6533               	.LVL384:
 6534 19d4 8C1B      		sub r24,r28
 6535 19d6 9D0B      		sbc r25,r29
 6536 19d8 0196      		adiw r24,1
 6537 19da 0E94 0000 		call malloc
 6538               	.LVL385:
 6539 19de A92E      		mov r10,r25
 6540 19e0 C82E      		mov r12,r24
 6541 19e2 D92E      		mov r13,r25
 6542               	.LVL386:
  17:concat/concat.h ****     strcpy(result, s1);
 6543               		.loc 7 17 0
 6544 19e4 C601      		movw r24,r12
 6545 19e6 BE01      		movw r22,r28
 6546 19e8 0E94 0000 		call strcpy
  18:concat/concat.h ****     strcat(result, s2);
 6547               		.loc 7 18 0
 6548 19ec AC2D      		mov r26,r12
 6549 19ee BA2D      		mov r27,r10
 6550 19f0 FD01      		movw r30,r26
 6551 19f2 0190      		ld __tmp_reg__,Z+
 6552 19f4 0020      		tst __tmp_reg__
 6553 19f6 01F4      		brne .-6
 6554 19f8 3197      		sbiw r30,1
 6555 19fa EA1B      		sub r30,r26
 6556 19fc FB0B      		sbc r31,r27
 6557 19fe EC0D      		add r30,r12
 6558 1a00 FD1D      		adc r31,r13
 6559 1a02 8DE0      		ldi r24,lo8(13)
 6560 1a04 90E0      		ldi r25,hi8(13)
 6561 1a06 8083      		st Z,r24
 6562 1a08 9183      		std Z+1,r25
 6563               	.LBE2204:
 6564               	.LBE2203:
 6565               	.LBB2205:
 6566               	.LBB2206:
 6567               	.LBB2207:
 6568               	.LBB2208:
 6569               	.LBB2209:
 6570               	.LBB2210:
 6571               	.LBB2211:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 6572               		.loc 4 57 0
 6573 1a0a D6E0      		ldi r29,lo8(6)
 6574               	.LBE2211:
 6575               	.LBE2210:
 6576               	.LBE2209:
 6577               	.LBE2208:
 6578               	.LBE2207:
 6579               	.LBB2222:
 6580               	.LBB2223:
 6581               	.LBB2224:
 6582               	.LBB2225:
 6583               	.LBB2226:
 6584               	.LBB2227:
 6585               	.LBB2228:
 6586               	.LBB2229:
 6587               	.LBB2230:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 6588               		.loc 3 220 0
 6589 1a0c C0E0      		ldi r28,lo8(endpoints+24)
 6590 1a0e 6C2E      		mov r6,r28
 6591 1a10 C0E0      		ldi r28,hi8(endpoints+24)
 6592 1a12 7C2E      		mov r7,r28
 6593               	.LVL387:
 6594               	.LBE2230:
 6595               	.LBE2229:
 6596               	.LBB2232:
 6597               	.LBB2233:
 6598               		.loc 4 91 0
 6599 1a14 10E0      		ldi r17,lo8(ep_in_pipe_buffer)
 6600 1a16 412E      		mov r4,r17
 6601 1a18 10E0      		ldi r17,hi8(ep_in_pipe_buffer)
 6602 1a1a 512E      		mov r5,r17
 6603               	.LBE2233:
 6604               	.LBE2232:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 6605               		.loc 1 88 0
 6606 1a1c 12E0      		ldi r17,lo8(2)
 6607               	.LBB2236:
 6608               	.LBB2237:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6609               		.loc 1 69 0
 6610 1a1e 01E0      		ldi r16,lo8(1)
 6611 1a20 A02E      		mov r10,r16
 6612 1a22 B12C      		mov r11,__zero_reg__
 6613               	.LBE2237:
 6614               	.LBE2236:
 6615               	.LBB2247:
 6616               	.LBB2248:
 6617               	.LBB2249:
 6618               	.LBB2250:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6619               		.loc 3 169 0
 6620 1a24 20E4      		ldi r18,lo8(64)
 6621 1a26 822E      		mov r8,r18
 6622 1a28 912C      		mov r9,__zero_reg__
 6623               	.LVL388:
 6624               	.L300:
 6625               	.LBE2250:
 6626               	.LBE2249:
 6627               	.LBE2248:
 6628               	.LBE2247:
 6629               	.LBE2228:
 6630               	.LBE2227:
 6631               	.LBE2226:
 6632               	.LBE2225:
 6633               	.LBE2224:
 6634               	.LBE2223:
 6635               	.LBE2222:
 6636               	.LBE2206:
 6637               	.LBE2205:
  37:uart/uart.h   ****   char c;
  38:uart/uart.h   ****   char* new_text = concat(text, "\r");
  39:uart/uart.h   ****   while (*new_text != '\0') {  
 6638               		.loc 9 39 0 discriminator 1
 6639 1a2a D601      		movw r26,r12
 6640 1a2c CD91      		ld r28,X+
 6641 1a2e 6D01      		movw r12,r26
 6642 1a30 CC23      		tst r28
 6643 1a32 01F4      		brne .+2
 6644 1a34 00C0      		rjmp .L302
 6645               	.L275:
 6646               	.LVL389:
 6647               	.LBB2312:
 6648               	.LBB2313:
  14:uart/uart.h   ****     if (c == '\n') 
 6649               		.loc 9 14 0
 6650 1a36 CA30      		cpi r28,lo8(10)
 6651 1a38 01F4      		brne .+2
 6652 1a3a 00C0      		rjmp .L303
 6653               	.L294:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 6654               		.loc 9 18 0
 6655 1a3c F701      		movw r30,r14
 6656 1a3e 8181      		ldd r24,Z+1
 6657 1a40 85FF      		sbrs r24,5
 6658 1a42 00C0      		rjmp .L294
  21:uart/uart.h   ****     USART->DATA = c; 
 6659               		.loc 9 21 0
 6660 1a44 C083      		st Z,r28
 6661               	.LBE2313:
 6662               	.LBE2312:
  40:uart/uart.h   ****     uart_putchar(*new_text, USART);
  41:uart/uart.h   ****     new_text++;
  42:uart/uart.h   **** 
  43:uart/uart.h   ****     if (debug == 1) {
 6663               		.loc 9 43 0
 6664 1a46 8091 0000 		lds r24,debug
 6665 1a4a 8130      		cpi r24,lo8(1)
 6666 1a4c 01F4      		brne .L300
 6667               	.L293:
 6668               	.LBB2315:
 6669               	.LBB2316:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 6670               		.loc 9 30 0
 6671 1a4e D701      		movw r26,r14
 6672 1a50 1196      		adiw r26,1
 6673 1a52 8C91      		ld r24,X
 6674 1a54 1197      		sbiw r26,1
 6675 1a56 87FF      		sbrs r24,7
 6676 1a58 00C0      		rjmp .L293
  33:uart/uart.h   ****     return USART->DATA; 
 6677               		.loc 9 33 0
 6678 1a5a 2C91      		ld r18,X
 6679               	.LVL390:
 6680               	.L264:
 6681               	.LBE2316:
 6682               	.LBE2315:
 6683               	.LBB2317:
 6684               	.LBB2309:
 6685               	.LBB2302:
 6686               	.LBB2220:
 6687               	.LBB2218:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 6688               		.loc 1 123 0
 6689 1a5c 9FB7      		in r25,__SREG__
 6690               	.LVL391:
 6691               	.LBB2213:
 6692               	.LBB2214:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6693               		.loc 2 50 0
 6694               	/* #APP */
 6695               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6696 1a5e F894      		cli
 6697               	 ;  0 "" 2
 6698               	.LVL392:
 6699               	/* #NOAPP */
 6700               	.LBE2214:
 6701               	.LBE2213:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 6702               		.loc 1 124 0
 6703 1a60 8091 0000 		lds r24,ep_in_data+1
 6704 1a64 8823      		tst r24
 6705 1a66 01F4      		brne .+2
 6706 1a68 00C0      		rjmp .L304
 6707               	.L290:
 125:usb/usb_pipe.h **** 			r = false;
 6708               		.loc 1 125 0
 6709 1a6a 80E0      		ldi r24,lo8(0)
 6710               	.L262:
 6711               	.LBB2215:
 6712               	.LBB2216:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6713               		.loc 2 70 0
 6714 1a6c 9FBF      		out __SREG__,r25
 6715               		.loc 2 71 0
 6716               	.LBE2216:
 6717               	.LBE2215:
 6718               	.LBE2218:
 6719               	.LBE2220:
 6720               	.LBE2302:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 6721               		.loc 5 20 0
 6722 1a6e 8823      		tst r24
 6723 1a70 01F0      		breq .L264
 6724               	.LVL393:
 6725               	.LBB2303:
 6726               	.LBB2304:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 6727               		.loc 1 175 0
 6728 1a72 8091 0000 		lds r24,ep_in_data+2
 6729 1a76 9091 0000 		lds r25,ep_in_data+2+1
 6730 1a7a E091 0000 		lds r30,ep_in_pipe_data+2
 6731 1a7e F091 0000 		lds r31,ep_in_pipe_data+2+1
 6732 1a82 E80F      		add r30,r24
 6733 1a84 F91F      		adc r31,r25
 6734 1a86 2083      		st Z,r18
 6735 1a88 0196      		adiw r24,1
 6736 1a8a 8093 0000 		sts ep_in_data+2,r24
 6737 1a8e 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 6738               		.loc 1 176 0
 6739 1a92 8034      		cpi r24,64
 6740 1a94 9105      		cpc r25,__zero_reg__
 6741 1a96 01F4      		brne .L300
 6742               	.LBE2304:
 6743               	.LBE2303:
 6744               	.LBB2305:
 6745               	.LBB2299:
 6746               	.LBB2296:
 6747               	.LBB2293:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 6748               		.loc 1 177 0
 6749 1a98 AFB7      		in r26,__SREG__
 6750               	.LVL394:
 6751               	.LBB2284:
 6752               	.LBB2285:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6753               		.loc 2 50 0
 6754               	/* #APP */
 6755               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6756 1a9a F894      		cli
 6757               	 ;  0 "" 2
 6758               	.LVL395:
 6759               	/* #NOAPP */
 6760               	.LBE2285:
 6761               	.LBE2284:
 6762               		.loc 1 178 0
 6763 1a9c 1092 0000 		sts ep_in_data+2,__zero_reg__
 6764 1aa0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 6765               	.LVL396:
 6766               	.LBB2286:
 6767               	.LBB2287:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 6768               		.loc 4 81 0
 6769 1aa4 8091 0000 		lds r24,ep_in_pipe_data+4
 6770 1aa8 8F5F      		subi r24,lo8(-(1))
 6771 1aaa 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 6772               		.loc 4 82 0
 6773 1aae 8091 0000 		lds r24,ep_in_pipe_data+2
 6774 1ab2 9091 0000 		lds r25,ep_in_pipe_data+2+1
 6775 1ab6 805C      		subi r24,lo8(-(64))
 6776 1ab8 9F4F      		sbci r25,hi8(-(64))
 6777 1aba 8093 0000 		sts ep_in_pipe_data+2,r24
 6778 1abe 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 6779               		.loc 4 84 0
 6780 1ac2 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 6781 1ac4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 6782 1ac6 9B07      		cpc r25,r27
 6783 1ac8 01F4      		brne .L265
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 6784               		.loc 4 85 0
 6785 1aca 4092 0000 		sts ep_in_pipe_data+2,r4
 6786 1ace 5092 0000 		sts ep_in_pipe_data+2+1,r5
 6787               	.L265:
 6788               	.LVL397:
 6789               	.LBE2287:
 6790               	.LBE2286:
 6791               	.LBB2288:
 6792               	.LBB2281:
 6793               	.LBB2278:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 6794               		.loc 1 80 0
 6795 1ad2 5FB7      		in r21,__SREG__
 6796               	.LVL398:
 6797               	.LBB2257:
 6798               	.LBB2258:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6799               		.loc 2 50 0
 6800               	/* #APP */
 6801               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6802 1ad4 F894      		cli
 6803               	 ;  0 "" 2
 6804               	.LVL399:
 6805               	/* #NOAPP */
 6806               	.LBE2258:
 6807               	.LBE2257:
 6808               	.LBB2259:
 6809               	.LBB2231:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 6810               		.loc 3 220 0
 6811 1ad6 8091 0000 		lds r24,endpoints+24
 6812 1ada 8670      		andi r24,lo8(6)
 6813               	.LBE2231:
 6814               	.LBE2259:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 6815               		.loc 1 82 0
 6816 1adc 01F4      		brne .L305
 6817               	.LVL400:
 6818               	.L266:
 6819               	.LBB2260:
 6820               	.LBB2261:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6821               		.loc 2 70 0
 6822 1ade 5FBF      		out __SREG__,r21
 6823               		.loc 2 71 0
 6824               	.LVL401:
 6825               	.LBE2261:
 6826               	.LBE2260:
 6827               	.LBE2278:
 6828               	.LBE2281:
 6829               	.LBE2288:
 6830               	.LBB2289:
 6831               	.LBB2290:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6832               		.loc 2 70 0
 6833 1ae0 AFBF      		out __SREG__,r26
 6834               		.loc 2 71 0
 6835               	.LBE2290:
 6836               	.LBE2289:
 6837               	.LBE2293:
 6838               	.LBE2296:
 6839               	.LBE2299:
 6840               	.LBE2305:
 6841               	.LBE2309:
 6842               	.LBE2317:
  39:uart/uart.h   ****   while (*new_text != '\0') {  
 6843               		.loc 9 39 0
 6844 1ae2 D601      		movw r26,r12
 6845               	.LVL402:
 6846 1ae4 CD91      		ld r28,X+
 6847               	.LVL403:
 6848 1ae6 6D01      		movw r12,r26
 6849 1ae8 CC23      		tst r28
 6850 1aea 01F0      		breq .+2
 6851 1aec 00C0      		rjmp .L275
 6852               	.LVL404:
 6853               	.L302:
  44:uart/uart.h   ****       c = uart_getchar(USART);
  45:uart/uart.h   ****       send_byte(c);
  46:uart/uart.h   ****     }
  47:uart/uart.h   ****   }
  48:uart/uart.h   ****   if (debug == 1) {
 6854               		.loc 9 48 0
 6855 1aee 8091 0000 		lds r24,debug
 6856 1af2 8130      		cpi r24,lo8(1)
 6857 1af4 01F4      		brne .+2
 6858 1af6 00C0      		rjmp .L306
 6859               	.L256:
 6860               	/* epilogue start */
  49:uart/uart.h   ****     break_and_flush();
  50:uart/uart.h   ****   }
  51:uart/uart.h   **** }
 6861               		.loc 9 51 0
 6862 1af8 DF91      		pop r29
 6863 1afa CF91      		pop r28
 6864 1afc 1F91      		pop r17
 6865 1afe 0F91      		pop r16
 6866 1b00 FF90      		pop r15
 6867 1b02 EF90      		pop r14
 6868               	.LVL405:
 6869 1b04 DF90      		pop r13
 6870 1b06 CF90      		pop r12
 6871 1b08 BF90      		pop r11
 6872 1b0a AF90      		pop r10
 6873 1b0c 9F90      		pop r9
 6874 1b0e 8F90      		pop r8
 6875 1b10 7F90      		pop r7
 6876 1b12 6F90      		pop r6
 6877 1b14 5F90      		pop r5
 6878 1b16 4F90      		pop r4
 6879 1b18 0895      		ret
 6880               	.LVL406:
 6881               	.L304:
 6882               	.LBB2318:
 6883               	.LBB2310:
 6884               	.LBB2306:
 6885               	.LBB2221:
 6886               	.LBB2219:
 6887               	.LBB2217:
 6888               	.LBB2212:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 6889               		.loc 4 57 0
 6890 1b1a 8091 0000 		lds r24,ep_in_pipe_data+4
 6891 1b1e 3D2F      		mov r19,r29
 6892 1b20 381B      		sub r19,r24
 6893               	.LBE2212:
 6894               	.LBE2217:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 6895               		.loc 1 127 0
 6896 1b22 81E0      		ldi r24,lo8(1)
 6897 1b24 1316      		cp __zero_reg__,r19
 6898 1b26 04F4      		brge .+2
 6899 1b28 00C0      		rjmp .L262
 6900 1b2a 00C0      		rjmp .L290
 6901               	.LVL407:
 6902               	.L305:
 6903               	.LBE2219:
 6904               	.LBE2221:
 6905               	.LBE2306:
 6906               	.LBB2307:
 6907               	.LBB2300:
 6908               	.LBB2297:
 6909               	.LBB2294:
 6910               	.LBB2291:
 6911               	.LBB2282:
 6912               	.LBB2279:
 6913               	.LBB2262:
 6914               	.LBB2263:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 6915               		.loc 4 51 0
 6916 1b2c 4091 0000 		lds r20,ep_in_pipe_data+4
 6917               	.LBE2263:
 6918               	.LBE2262:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 6919               		.loc 1 83 0
 6920 1b30 1416      		cp __zero_reg__,r20
 6921 1b32 04F0      		brlt .+2
 6922 1b34 00C0      		rjmp .L267
 6923               	.LBB2264:
 6924               	.LBB2265:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 6925               		.loc 4 62 0
 6926 1b36 2091 0000 		lds r18,ep_in_pipe_data
 6927 1b3a 3091 0000 		lds r19,ep_in_pipe_data+1
 6928               	.LVL408:
 6929               	.LBE2265:
 6930               	.LBE2264:
 6931               	.LBB2266:
 6932               	.LBB2255:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 6933               		.loc 1 68 0
 6934 1b3e 6091 0000 		lds r22,ep_in_data
 6935               	.LVL409:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6936               		.loc 1 69 0
 6937 1b42 862F      		mov r24,r22
 6938 1b44 90E0      		ldi r25,lo8(0)
 6939               	.LVL410:
 6940 1b46 71E0      		ldi r23,lo8(1)
 6941 1b48 8A15      		cp r24,r10
 6942 1b4a 9B05      		cpc r25,r11
 6943 1b4c 01F4      		brne .L268
 6944 1b4e 70E0      		ldi r23,lo8(0)
 6945               	.L268:
 6946 1b50 7093 0000 		sts ep_in_data,r23
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 6947               		.loc 1 72 0
 6948 1b54 6623      		tst r22
 6949 1b56 01F4      		brne .L269
 6950               	.LVL411:
 6951               	.LBB2252:
 6952               	.LBB2253:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6953               		.loc 3 168 0
 6954 1b58 2093 0000 		sts endpoints+28,r18
 6955 1b5c 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6956               		.loc 3 169 0
 6957 1b60 8092 0000 		sts endpoints+26,r8
 6958 1b64 9092 0000 		sts endpoints+26+1,r9
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 6959               		.loc 3 174 0
 6960 1b68 F301      		movw r30,r6
 6961               	.LVL412:
 6962               	/* #APP */
 6963               	 ;  174 "usb/usb.h" 1
 6964 1b6a 02E2      		ldi r16, 34
 6965 1b6c 0693      		.dc.w 0x9306
 6966               		
 6967               	 ;  0 "" 2
 6968               	.LVL413:
 6969               	/* #NOAPP */
 6970               	.L270:
 6971               	.LBE2253:
 6972               	.LBE2252:
 6973               	.LBE2255:
 6974               	.LBE2266:
 6975               	.LBB2267:
 6976               	.LBB2268:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 6977               		.loc 4 72 0
 6978 1b6e 4150      		subi r20,lo8(-(-1))
 6979 1b70 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 6980               		.loc 4 73 0
 6981 1b74 C901      		movw r24,r18
 6982 1b76 805C      		subi r24,lo8(-(64))
 6983 1b78 9F4F      		sbci r25,hi8(-(64))
 6984 1b7a 8093 0000 		sts ep_in_pipe_data,r24
 6985 1b7e 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 6986               		.loc 4 75 0
 6987 1b82 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 6988 1b84 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 6989 1b86 9F07      		cpc r25,r31
 6990 1b88 01F0      		breq .+2
 6991 1b8a 00C0      		rjmp .L266
 6992               	.LBE2268:
 6993               	.LBE2267:
 6994               	.LBB2269:
 6995               	.LBB2234:
 6996               		.loc 4 91 0
 6997 1b8c 4092 0000 		sts ep_in_pipe_data,r4
 6998 1b90 5092 0000 		sts ep_in_pipe_data+1,r5
 6999               	.LVL414:
 7000 1b94 00C0      		rjmp .L266
 7001               	.LVL415:
 7002               	.L269:
 7003               	.LBE2234:
 7004               	.LBE2269:
 7005               	.LBB2270:
 7006               	.LBB2256:
 7007               	.LBB2254:
 7008               	.LBB2251:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7009               		.loc 3 168 0
 7010 1b96 2093 0000 		sts endpoints+20,r18
 7011 1b9a 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7012               		.loc 3 169 0
 7013 1b9e 8092 0000 		sts endpoints+18,r8
 7014 1ba2 9092 0000 		sts endpoints+18+1,r9
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 7015               		.loc 3 176 0
 7016 1ba6 F301      		movw r30,r6
 7017               	.LVL416:
 7018               	/* #APP */
 7019               	 ;  176 "usb/usb.h" 1
 7020 1ba8 04E1      		ldi r16, 20
 7021 1baa 0693      		.dc.w 0x9306
 7022               		
 7023               	 ;  0 "" 2
 7024               	/* #NOAPP */
 7025 1bac 00C0      		rjmp .L270
 7026               	.LVL417:
 7027               	.L267:
 7028               	.LBE2251:
 7029               	.LBE2254:
 7030               	.LBE2256:
 7031               	.LBE2270:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 7032               		.loc 1 87 0
 7033 1bae 8091 0000 		lds r24,ep_in_data+1
 7034 1bb2 8130      		cpi r24,lo8(1)
 7035 1bb4 01F0      		breq .L307
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 7036               		.loc 1 91 0
 7037 1bb6 8230      		cpi r24,lo8(2)
 7038 1bb8 01F0      		breq .+2
 7039 1bba 00C0      		rjmp .L266
 7040               	.LVL418:
 7041               	.LBB2271:
 7042               	.LBB2272:
 7043               	.LBB2273:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 7044               		.loc 3 228 0
 7045 1bbc 8091 0000 		lds r24,endpoints+24
 7046 1bc0 8670      		andi r24,lo8(6)
 7047               	.LBE2273:
 7048               	.LBE2272:
 7049               	.LBE2271:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 7050               		.loc 1 91 0
 7051 1bc2 8630      		cpi r24,lo8(6)
 7052 1bc4 01F0      		breq .+2
 7053 1bc6 00C0      		rjmp .L266
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 7054               		.loc 1 92 0
 7055 1bc8 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 7056               		.loc 1 93 0
 7057 1bcc 1092 0000 		sts ep_in_data+2,__zero_reg__
 7058 1bd0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 7059               	.LBB2274:
 7060               	.LBB2235:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 7061               		.loc 4 90 0
 7062 1bd4 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 7063               		.loc 4 91 0
 7064 1bd8 4092 0000 		sts ep_in_pipe_data+2,r4
 7065 1bdc 5092 0000 		sts ep_in_pipe_data+2+1,r5
 7066 1be0 4092 0000 		sts ep_in_pipe_data,r4
 7067 1be4 5092 0000 		sts ep_in_pipe_data+1,r5
 7068               	.LVL419:
 7069 1be8 00C0      		rjmp .L266
 7070               	.LVL420:
 7071               	.L303:
 7072               	.LBE2235:
 7073               	.LBE2274:
 7074               	.LBE2279:
 7075               	.LBE2282:
 7076               	.LBE2291:
 7077               	.LBE2294:
 7078               	.LBE2297:
 7079               	.LBE2300:
 7080               	.LBE2307:
 7081               	.LBE2310:
 7082               	.LBE2318:
 7083               	.LBB2319:
 7084               	.LBB2314:
  15:uart/uart.h   ****         uart_putchar('\r', USART); 
 7085               		.loc 9 15 0
 7086 1bea 8DE0      		ldi r24,lo8(13)
 7087 1bec B701      		movw r22,r14
 7088 1bee 0E94 0000 		call uart_putchar
 7089 1bf2 00C0      		rjmp .L294
 7090               	.LVL421:
 7091               	.L307:
 7092               	.LBE2314:
 7093               	.LBE2319:
 7094               	.LBB2320:
 7095               	.LBB2311:
 7096               	.LBB2308:
 7097               	.LBB2301:
 7098               	.LBB2298:
 7099               	.LBB2295:
 7100               	.LBB2292:
 7101               	.LBB2283:
 7102               	.LBB2280:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 7103               		.loc 1 88 0
 7104 1bf4 1093 0000 		sts ep_in_data+1,r17
 7105               	.LBB2275:
 7106               	.LBB2276:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 7107               		.loc 4 62 0
 7108 1bf8 7091 0000 		lds r23,ep_in_pipe_data
 7109 1bfc E091 0000 		lds r30,ep_in_pipe_data+1
 7110               	.LBE2276:
 7111               	.LBE2275:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 7112               		.loc 1 90 0
 7113 1c00 2091 0000 		lds r18,ep_in_data+2
 7114 1c04 3091 0000 		lds r19,ep_in_data+2+1
 7115               	.LVL422:
 7116               	.LBB2277:
 7117               	.LBB2246:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 7118               		.loc 1 68 0
 7119 1c08 6091 0000 		lds r22,ep_in_data
 7120               	.LVL423:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 7121               		.loc 1 69 0
 7122 1c0c 862F      		mov r24,r22
 7123 1c0e 90E0      		ldi r25,lo8(0)
 7124               	.LVL424:
 7125 1c10 41E0      		ldi r20,lo8(1)
 7126 1c12 8A15      		cp r24,r10
 7127 1c14 9B05      		cpc r25,r11
 7128 1c16 01F0      		breq .L308
 7129 1c18 4093 0000 		sts ep_in_data,r20
 7130               	.LBB2238:
 7131               	.LBB2239:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7132               		.loc 3 168 0
 7133 1c1c 872F      		mov r24,r23
 7134 1c1e 9E2F      		mov r25,r30
 7135               	.LBE2239:
 7136               	.LBE2238:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 7137               		.loc 1 72 0
 7138 1c20 6623      		tst r22
 7139 1c22 01F4      		brne .L274
 7140               	.L309:
 7141               	.LVL425:
 7142               	.LBB2242:
 7143               	.LBB2240:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7144               		.loc 3 168 0
 7145 1c24 8093 0000 		sts endpoints+28,r24
 7146 1c28 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7147               		.loc 3 169 0
 7148 1c2c 2093 0000 		sts endpoints+26,r18
 7149 1c30 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 7150               		.loc 3 174 0
 7151 1c34 F301      		movw r30,r6
 7152               	/* #APP */
 7153               	 ;  174 "usb/usb.h" 1
 7154 1c36 02E2      		ldi r16, 34
 7155 1c38 0693      		.dc.w 0x9306
 7156               		
 7157               	 ;  0 "" 2
 7158               	/* #NOAPP */
 7159 1c3a 00C0      		rjmp .L266
 7160               	.LVL426:
 7161               	.L274:
 7162               	.LBE2240:
 7163               	.LBE2242:
 7164               	.LBB2243:
 7165               	.LBB2244:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7166               		.loc 3 168 0
 7167 1c3c 8093 0000 		sts endpoints+20,r24
 7168 1c40 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7169               		.loc 3 169 0
 7170 1c44 2093 0000 		sts endpoints+18,r18
 7171 1c48 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 7172               		.loc 3 176 0
 7173 1c4c F301      		movw r30,r6
 7174               	/* #APP */
 7175               	 ;  176 "usb/usb.h" 1
 7176 1c4e 04E1      		ldi r16, 20
 7177 1c50 0693      		.dc.w 0x9306
 7178               		
 7179               	 ;  0 "" 2
 7180               	/* #NOAPP */
 7181 1c52 00C0      		rjmp .L266
 7182               	.LVL427:
 7183               	.L308:
 7184               	.LBE2244:
 7185               	.LBE2243:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 7186               		.loc 1 69 0
 7187 1c54 40E0      		ldi r20,lo8(0)
 7188 1c56 4093 0000 		sts ep_in_data,r20
 7189               	.LBB2245:
 7190               	.LBB2241:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7191               		.loc 3 168 0
 7192 1c5a 872F      		mov r24,r23
 7193 1c5c 9E2F      		mov r25,r30
 7194               	.LBE2241:
 7195               	.LBE2245:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 7196               		.loc 1 72 0
 7197 1c5e 6623      		tst r22
 7198 1c60 01F4      		brne .L274
 7199 1c62 00C0      		rjmp .L309
 7200               	.LVL428:
 7201               	.L306:
 7202               	.LBE2246:
 7203               	.LBE2277:
 7204               	.LBE2280:
 7205               	.LBE2283:
 7206               	.LBE2292:
 7207               	.LBE2295:
 7208               	.LBE2298:
 7209               	.LBE2301:
 7210               	.LBE2308:
 7211               	.LBE2311:
 7212               	.LBE2320:
 7213               	.LBB2321:
 7214               	.LBB2322:
 7215               	.LBB2323:
 7216               	.LBB2324:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 7217               		.loc 1 110 0
 7218 1c64 8093 0000 		sts ep_in_data+1,r24
 7219               	.LVL429:
 7220               	.LBB2325:
 7221               	.LBB2326:
 7222               	.LBB2327:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7223               		.loc 1 80 0
 7224 1c68 2FB7      		in r18,__SREG__
 7225               	.LVL430:
 7226               	.LBB2328:
 7227               	.LBB2329:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7228               		.loc 2 50 0
 7229               	/* #APP */
 7230               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7231 1c6a F894      		cli
 7232               	 ;  0 "" 2
 7233               	.LVL431:
 7234               	/* #NOAPP */
 7235               	.LBE2329:
 7236               	.LBE2328:
 7237               	.LBB2330:
 7238               	.LBB2331:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 7239               		.loc 3 220 0
 7240 1c6c 8091 0000 		lds r24,endpoints+24
 7241 1c70 8670      		andi r24,lo8(6)
 7242               	.LBE2331:
 7243               	.LBE2330:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 7244               		.loc 1 82 0
 7245 1c72 01F0      		breq .+2
 7246 1c74 00C0      		rjmp .L310
 7247               	.LVL432:
 7248               	.L277:
 7249               	.LBB2332:
 7250               	.LBB2333:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7251               		.loc 2 70 0
 7252 1c76 2FBF      		out __SREG__,r18
 7253               		.loc 2 71 0
 7254               	.LBE2333:
 7255               	.LBE2332:
 7256               	.LBE2327:
 7257               	.LBE2326:
 7258               	.LBE2325:
 7259               	.LBE2324:
 7260               	.LBE2323:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 7261               		.loc 5 27 0
 7262 1c78 82E0      		ldi r24,lo8(2)
 7263 1c7a E0EC      		ldi r30,lo8(1216)
 7264 1c7c F4E0      		ldi r31,hi8(1216)
 7265 1c7e 8587      		std Z+13,r24
 7266               	.LBB2365:
 7267               	.LBB2366:
 7268               	.LBB2367:
 7269               	.LBB2368:
 7270               	.LBB2369:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7271               		.loc 4 57 0
 7272 1c80 36E0      		ldi r19,lo8(6)
 7273               	.LVL433:
 7274               	.L286:
 7275               	.LBE2369:
 7276               	.LBE2368:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7277               		.loc 1 123 0
 7278 1c82 9FB7      		in r25,__SREG__
 7279               	.LVL434:
 7280               	.LBB2371:
 7281               	.LBB2372:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7282               		.loc 2 50 0
 7283               	/* #APP */
 7284               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7285 1c84 F894      		cli
 7286               	 ;  0 "" 2
 7287               	.LVL435:
 7288               	/* #NOAPP */
 7289               	.LBE2372:
 7290               	.LBE2371:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 7291               		.loc 1 124 0
 7292 1c86 8091 0000 		lds r24,ep_in_data+1
 7293 1c8a 8823      		tst r24
 7294 1c8c 01F0      		breq .L311
 7295               	.L291:
 125:usb/usb_pipe.h **** 			r = false;
 7296               		.loc 1 125 0
 7297 1c8e 80E0      		ldi r24,lo8(0)
 7298               	.L287:
 7299               	.LBB2373:
 7300               	.LBB2374:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7301               		.loc 2 70 0
 7302 1c90 9FBF      		out __SREG__,r25
 7303               		.loc 2 71 0
 7304               	.LBE2374:
 7305               	.LBE2373:
 7306               	.LBE2367:
 7307               	.LBE2366:
 7308               	.LBE2365:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 7309               		.loc 5 28 0
 7310 1c92 8823      		tst r24
 7311 1c94 01F0      		breq .+2
 7312 1c96 00C0      		rjmp .L256
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 7313               		.loc 5 29 0
 7314 1c98 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 7315 1c9c 8823      		tst r24
 7316 1c9e 01F0      		breq .L286
 7317               	.LVL436:
 7318               	.LBB2378:
 7319               	.LBB2379:
 7320               	.LBB2380:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7321               		.loc 1 54 0
 7322 1ca0 2FB7      		in r18,__SREG__
 7323               	.LVL437:
 7324               	.LBB2381:
 7325               	.LBB2382:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7326               		.loc 2 50 0
 7327               	/* #APP */
 7328               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7329 1ca2 F894      		cli
 7330               	 ;  0 "" 2
 7331               	.LVL438:
 7332               	/* #NOAPP */
 7333               	.LBE2382:
 7334               	.LBE2381:
 7335               	.LBB2383:
 7336               	.LBB2384:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 7337               		.loc 4 90 0
 7338 1ca4 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 7339               		.loc 4 91 0
 7340 1ca8 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7341 1caa 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7342 1cac 8093 0000 		sts ep_in_pipe_data+2,r24
 7343 1cb0 9093 0000 		sts ep_in_pipe_data+2+1,r25
 7344 1cb4 8093 0000 		sts ep_in_pipe_data,r24
 7345 1cb8 9093 0000 		sts ep_in_pipe_data+1,r25
 7346               	.LVL439:
 7347               	.LBE2384:
 7348               	.LBE2383:
 7349               	.LBB2385:
 7350               	.LBB2386:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 7351               		.loc 3 158 0
 7352 1cbc E0E0      		ldi r30,lo8(endpoints+24)
 7353 1cbe F0E0      		ldi r31,hi8(endpoints+24)
 7354               	/* #APP */
 7355               	 ;  158 "usb/usb.h" 1
 7356 1cc0 06E0      		ldi r16, 6
 7357 1cc2 0593      		.dc.w 0x9305
 7358               		
 7359               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 7360               		.loc 3 159 0
 7361               	 ;  159 "usb/usb.h" 1
 7362 1cc4 08E0      		ldi r16, 8
 7363 1cc6 0693      		.dc.w 0x9306
 7364               		
 7365               	 ;  0 "" 2
 7366               	/* #NOAPP */
 7367               	.LBE2386:
 7368               	.LBE2385:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 7369               		.loc 1 57 0
 7370 1cc8 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 7371               		.loc 1 58 0
 7372 1ccc 1092 0000 		sts ep_in_data+2,__zero_reg__
 7373 1cd0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 7374               		.loc 1 59 0
 7375 1cd4 1092 0000 		sts ep_in_data,__zero_reg__
 7376               	.LVL440:
 7377               	.LBB2387:
 7378               	.LBB2388:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7379               		.loc 2 70 0
 7380 1cd8 2FBF      		out __SREG__,r18
 7381               		.loc 2 71 0
 7382 1cda 00C0      		rjmp .L256
 7383               	.LVL441:
 7384               	.L311:
 7385               	.LBE2388:
 7386               	.LBE2387:
 7387               	.LBE2380:
 7388               	.LBE2379:
 7389               	.LBE2378:
 7390               	.LBB2389:
 7391               	.LBB2377:
 7392               	.LBB2376:
 7393               	.LBB2375:
 7394               	.LBB2370:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7395               		.loc 4 57 0
 7396 1cdc 8091 0000 		lds r24,ep_in_pipe_data+4
 7397 1ce0 232F      		mov r18,r19
 7398 1ce2 281B      		sub r18,r24
 7399               	.LBE2370:
 7400               	.LBE2375:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 7401               		.loc 1 127 0
 7402 1ce4 81E0      		ldi r24,lo8(1)
 7403 1ce6 1216      		cp __zero_reg__,r18
 7404 1ce8 04F0      		brlt .L287
 7405 1cea 00C0      		rjmp .L291
 7406               	.LVL442:
 7407               	.L310:
 7408               	.LBE2376:
 7409               	.LBE2377:
 7410               	.LBE2389:
 7411               	.LBB2390:
 7412               	.LBB2364:
 7413               	.LBB2363:
 7414               	.LBB2362:
 7415               	.LBB2361:
 7416               	.LBB2334:
 7417               	.LBB2335:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 7418               		.loc 4 51 0
 7419 1cec 3091 0000 		lds r19,ep_in_pipe_data+4
 7420               	.LBE2335:
 7421               	.LBE2334:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 7422               		.loc 1 83 0
 7423 1cf0 1316      		cp __zero_reg__,r19
 7424 1cf2 04F0      		brlt .+2
 7425 1cf4 00C0      		rjmp .L278
 7426               	.LBB2336:
 7427               	.LBB2337:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 7428               		.loc 4 62 0
 7429 1cf6 8091 0000 		lds r24,ep_in_pipe_data
 7430 1cfa 9091 0000 		lds r25,ep_in_pipe_data+1
 7431               	.LVL443:
 7432               	.LBE2337:
 7433               	.LBE2336:
 7434               	.LBB2338:
 7435               	.LBB2339:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 7436               		.loc 1 68 0
 7437 1cfe 4091 0000 		lds r20,ep_in_data
 7438               	.LVL444:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 7439               		.loc 1 69 0
 7440 1d02 51E0      		ldi r21,lo8(1)
 7441 1d04 4130      		cpi r20,lo8(1)
 7442 1d06 01F4      		brne .L279
 7443 1d08 50E0      		ldi r21,lo8(0)
 7444               	.L279:
 7445 1d0a 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 7446               		.loc 1 72 0
 7447 1d0e 4423      		tst r20
 7448 1d10 01F4      		brne .L280
 7449               	.LVL445:
 7450               	.LBB2340:
 7451               	.LBB2341:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7452               		.loc 3 168 0
 7453 1d12 8093 0000 		sts endpoints+28,r24
 7454 1d16 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7455               		.loc 3 169 0
 7456 1d1a 40E4      		ldi r20,lo8(64)
 7457 1d1c 50E0      		ldi r21,hi8(64)
 7458 1d1e 4093 0000 		sts endpoints+26,r20
 7459 1d22 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 7460               		.loc 3 174 0
 7461 1d26 E0E0      		ldi r30,lo8(endpoints+24)
 7462 1d28 F0E0      		ldi r31,hi8(endpoints+24)
 7463               	/* #APP */
 7464               	 ;  174 "usb/usb.h" 1
 7465 1d2a 02E2      		ldi r16, 34
 7466 1d2c 0693      		.dc.w 0x9306
 7467               		
 7468               	 ;  0 "" 2
 7469               	.LVL446:
 7470               	/* #NOAPP */
 7471               	.L281:
 7472               	.LBE2341:
 7473               	.LBE2340:
 7474               	.LBE2339:
 7475               	.LBE2338:
 7476               	.LBB2345:
 7477               	.LBB2346:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 7478               		.loc 4 72 0
 7479 1d2e 3150      		subi r19,lo8(-(-1))
 7480 1d30 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 7481               		.loc 4 73 0
 7482 1d34 805C      		subi r24,lo8(-(64))
 7483 1d36 9F4F      		sbci r25,hi8(-(64))
 7484 1d38 8093 0000 		sts ep_in_pipe_data,r24
 7485 1d3c 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 7486               		.loc 4 75 0
 7487 1d40 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 7488 1d42 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 7489 1d44 9B07      		cpc r25,r27
 7490 1d46 01F0      		breq .+2
 7491 1d48 00C0      		rjmp .L277
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 7492               		.loc 4 76 0
 7493 1d4a 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7494 1d4c 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7495 1d4e 8093 0000 		sts ep_in_pipe_data,r24
 7496 1d52 9093 0000 		sts ep_in_pipe_data+1,r25
 7497 1d56 00C0      		rjmp .L277
 7498               	.LVL447:
 7499               	.L280:
 7500               	.LBE2346:
 7501               	.LBE2345:
 7502               	.LBB2347:
 7503               	.LBB2344:
 7504               	.LBB2342:
 7505               	.LBB2343:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7506               		.loc 3 168 0
 7507 1d58 8093 0000 		sts endpoints+20,r24
 7508 1d5c 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7509               		.loc 3 169 0
 7510 1d60 40E4      		ldi r20,lo8(64)
 7511 1d62 50E0      		ldi r21,hi8(64)
 7512 1d64 4093 0000 		sts endpoints+18,r20
 7513 1d68 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 7514               		.loc 3 176 0
 7515 1d6c E0E0      		ldi r30,lo8(endpoints+24)
 7516 1d6e F0E0      		ldi r31,hi8(endpoints+24)
 7517               	/* #APP */
 7518               	 ;  176 "usb/usb.h" 1
 7519 1d70 04E1      		ldi r16, 20
 7520 1d72 0693      		.dc.w 0x9306
 7521               		
 7522               	 ;  0 "" 2
 7523               	/* #NOAPP */
 7524 1d74 00C0      		rjmp .L281
 7525               	.LVL448:
 7526               	.L278:
 7527               	.LBE2343:
 7528               	.LBE2342:
 7529               	.LBE2344:
 7530               	.LBE2347:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 7531               		.loc 1 87 0
 7532 1d76 8091 0000 		lds r24,ep_in_data+1
 7533 1d7a 8130      		cpi r24,lo8(1)
 7534 1d7c 01F0      		breq .L312
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 7535               		.loc 1 91 0
 7536 1d7e 8230      		cpi r24,lo8(2)
 7537 1d80 01F0      		breq .+2
 7538 1d82 00C0      		rjmp .L277
 7539               	.LVL449:
 7540               	.LBB2348:
 7541               	.LBB2349:
 7542               	.LBB2350:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 7543               		.loc 3 228 0
 7544 1d84 8091 0000 		lds r24,endpoints+24
 7545 1d88 8670      		andi r24,lo8(6)
 7546               	.LBE2350:
 7547               	.LBE2349:
 7548               	.LBE2348:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 7549               		.loc 1 91 0
 7550 1d8a 8630      		cpi r24,lo8(6)
 7551 1d8c 01F0      		breq .+2
 7552 1d8e 00C0      		rjmp .L277
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 7553               		.loc 1 92 0
 7554 1d90 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 7555               		.loc 1 93 0
 7556 1d94 1092 0000 		sts ep_in_data+2,__zero_reg__
 7557 1d98 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 7558               	.LBB2351:
 7559               	.LBB2352:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 7560               		.loc 4 90 0
 7561 1d9c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 7562               		.loc 4 91 0
 7563 1da0 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7564 1da2 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7565 1da4 8093 0000 		sts ep_in_pipe_data+2,r24
 7566 1da8 9093 0000 		sts ep_in_pipe_data+2+1,r25
 7567 1dac 8093 0000 		sts ep_in_pipe_data,r24
 7568 1db0 9093 0000 		sts ep_in_pipe_data+1,r25
 7569               	.LVL450:
 7570 1db4 00C0      		rjmp .L277
 7571               	.LVL451:
 7572               	.L312:
 7573               	.LBE2352:
 7574               	.LBE2351:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 7575               		.loc 1 88 0
 7576 1db6 82E0      		ldi r24,lo8(2)
 7577 1db8 8093 0000 		sts ep_in_data+1,r24
 7578               	.LBB2353:
 7579               	.LBB2354:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 7580               		.loc 4 62 0
 7581 1dbc 6091 0000 		lds r22,ep_in_pipe_data
 7582 1dc0 3091 0000 		lds r19,ep_in_pipe_data+1
 7583               	.LBE2354:
 7584               	.LBE2353:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 7585               		.loc 1 90 0
 7586 1dc4 4091 0000 		lds r20,ep_in_data+2
 7587 1dc8 5091 0000 		lds r21,ep_in_data+2+1
 7588               	.LVL452:
 7589               	.LBB2355:
 7590               	.LBB2356:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 7591               		.loc 1 68 0
 7592 1dcc 8091 0000 		lds r24,ep_in_data
 7593               	.LVL453:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 7594               		.loc 1 69 0
 7595 1dd0 91E0      		ldi r25,lo8(1)
 7596 1dd2 8130      		cpi r24,lo8(1)
 7597 1dd4 01F4      		brne .L284
 7598 1dd6 90E0      		ldi r25,lo8(0)
 7599               	.L284:
 7600 1dd8 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 7601               		.loc 1 72 0
 7602 1ddc 8823      		tst r24
 7603 1dde 01F4      		brne .L285
 7604               	.LVL454:
 7605               	.LBB2357:
 7606               	.LBB2358:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7607               		.loc 3 168 0
 7608 1de0 862F      		mov r24,r22
 7609 1de2 932F      		mov r25,r19
 7610 1de4 8093 0000 		sts endpoints+28,r24
 7611 1de8 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7612               		.loc 3 169 0
 7613 1dec 4093 0000 		sts endpoints+26,r20
 7614 1df0 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 7615               		.loc 3 174 0
 7616 1df4 E0E0      		ldi r30,lo8(endpoints+24)
 7617 1df6 F0E0      		ldi r31,hi8(endpoints+24)
 7618               	/* #APP */
 7619               	 ;  174 "usb/usb.h" 1
 7620 1df8 02E2      		ldi r16, 34
 7621 1dfa 0693      		.dc.w 0x9306
 7622               		
 7623               	 ;  0 "" 2
 7624               	/* #NOAPP */
 7625 1dfc 00C0      		rjmp .L277
 7626               	.LVL455:
 7627               	.L285:
 7628               	.LBE2358:
 7629               	.LBE2357:
 7630               	.LBB2359:
 7631               	.LBB2360:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7632               		.loc 3 168 0
 7633 1dfe 862F      		mov r24,r22
 7634 1e00 932F      		mov r25,r19
 7635 1e02 8093 0000 		sts endpoints+20,r24
 7636 1e06 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7637               		.loc 3 169 0
 7638 1e0a 4093 0000 		sts endpoints+18,r20
 7639 1e0e 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 7640               		.loc 3 176 0
 7641 1e12 E0E0      		ldi r30,lo8(endpoints+24)
 7642 1e14 F0E0      		ldi r31,hi8(endpoints+24)
 7643               	/* #APP */
 7644               	 ;  176 "usb/usb.h" 1
 7645 1e16 04E1      		ldi r16, 20
 7646 1e18 0693      		.dc.w 0x9306
 7647               		
 7648               	 ;  0 "" 2
 7649               	/* #NOAPP */
 7650 1e1a 00C0      		rjmp .L277
 7651               	.LBE2360:
 7652               	.LBE2359:
 7653               	.LBE2356:
 7654               	.LBE2355:
 7655               	.LBE2361:
 7656               	.LBE2362:
 7657               	.LBE2363:
 7658               	.LBE2364:
 7659               	.LBE2390:
 7660               	.LBE2322:
 7661               	.LBE2321:
 7662               		.cfi_endproc
 7663               	.LFE68:
 7665               		.data
 7666               	.LC4:
 7667 0045 5475 726E 		.string	"Turn on -- wait 10 seconds"
 7667      206F 6E20 
 7667      2D2D 2077 
 7667      6169 7420 
 7667      3130 2073 
 7668               		.text
 7669               	.global	turn_on_gps
 7671               	turn_on_gps:
 7672               	.LFB69:
 7673               		.file 10 "gps/gps.h"
   1:gps/gps.h     **** void gps_init (void);
   2:gps/gps.h     **** void turn_on_gps(void);
   3:gps/gps.h     **** void wake_up_gps(void);
   4:gps/gps.h     **** 
   5:gps/gps.h     **** #define ON_OFF 5
   6:gps/gps.h     **** #define RESET 4
   7:gps/gps.h     **** 
   8:gps/gps.h     **** void turn_on_gps(void) {
 7674               		.loc 10 8 0
 7675               		.cfi_startproc
 7676 1e1c AF92      		push r10
 7677               	.LCFI107:
 7678               		.cfi_def_cfa_offset 3
 7679               		.cfi_offset 10, -2
 7680 1e1e BF92      		push r11
 7681               	.LCFI108:
 7682               		.cfi_def_cfa_offset 4
 7683               		.cfi_offset 11, -3
 7684 1e20 CF92      		push r12
 7685               	.LCFI109:
 7686               		.cfi_def_cfa_offset 5
 7687               		.cfi_offset 12, -4
 7688 1e22 DF92      		push r13
 7689               	.LCFI110:
 7690               		.cfi_def_cfa_offset 6
 7691               		.cfi_offset 13, -5
 7692 1e24 EF92      		push r14
 7693               	.LCFI111:
 7694               		.cfi_def_cfa_offset 7
 7695               		.cfi_offset 14, -6
 7696 1e26 FF92      		push r15
 7697               	.LCFI112:
 7698               		.cfi_def_cfa_offset 8
 7699               		.cfi_offset 15, -7
 7700 1e28 0F93      		push r16
 7701               	.LCFI113:
 7702               		.cfi_def_cfa_offset 9
 7703               		.cfi_offset 16, -8
 7704 1e2a 1F93      		push r17
 7705               	.LCFI114:
 7706               		.cfi_def_cfa_offset 10
 7707               		.cfi_offset 17, -9
 7708 1e2c CF93      		push r28
 7709               	.LCFI115:
 7710               		.cfi_def_cfa_offset 11
 7711               		.cfi_offset 28, -10
 7712 1e2e DF93      		push r29
 7713               	.LCFI116:
 7714               		.cfi_def_cfa_offset 12
 7715               		.cfi_offset 29, -11
 7716               	/* prologue: function */
 7717               	/* frame size = 0 */
 7718               	/* stack size = 10 */
 7719               	.L__stack_usage = 10
 7720               	.LVL456:
 7721               	.LBB3182:
 7722               	.LBB3183:
 7723               		.file 11 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h"
   1:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /* Copyright (c) 2002, Marek Michalkiewicz
   2:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Copyright (c) 2004,2005,2007 Joerg Wunsch
   3:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Copyright (c) 2007  Florin-Viorel Petrov
   4:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    All rights reserved.
   5:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
   6:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Redistribution and use in source and binary forms, with or without
   7:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    modification, are permitted provided that the following conditions are met:
   8:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
   9:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    * Redistributions of source code must retain the above copyright
  10:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      notice, this list of conditions and the following disclaimer.
  11:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  12:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    * Redistributions in binary form must reproduce the above copyright
  13:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      notice, this list of conditions and the following disclaimer in
  14:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      the documentation and/or other materials provided with the
  15:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      distribution.
  16:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  17:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    * Neither the name of the copyright holders nor the names of
  18:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      contributors may be used to endorse or promote products derived
  19:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      from this software without specific prior written permission.
  20:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  21:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  25:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   POSSIBILITY OF SUCH DAMAGE. */
  32:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  33:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /* $Id: delay.h.in 2251 2011-09-14 08:20:33Z joerg_wunsch $ */
  34:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  35:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef _UTIL_DELAY_H_
  36:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #define _UTIL_DELAY_H_ 1
  37:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  38:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef __HAS_DELAY_CYCLES
  39:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #define __HAS_DELAY_CYCLES 1
  40:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  41:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  42:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #include <inttypes.h>
  43:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #include <util/delay_basic.h>
  44:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #include <math.h>
  45:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  46:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /** \file */
  47:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /** \defgroup util_delay <util/delay.h>: Convenience functions for busy-wait delay loops
  48:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \code
  49:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     #define F_CPU 1000000UL  // 1 MHz
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     //#define F_CPU 14.7456E6
  51:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     #include <util/delay.h>
  52:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \endcode
  53:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  54:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \note As an alternative method, it is possible to pass the
  55:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     F_CPU macro down to the compiler from the Makefile.
  56:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     Obviously, in that case, no \c \#define statement should be
  57:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     used.
  58:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  59:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     The functions in this header file are wrappers around the basic
  60:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     busy-wait functions from <util/delay_basic.h>.  They are meant as
  61:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     convenience functions where actual time values can be specified
  62:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     rather than a number of cycles to wait for.  The idea behind is
  63:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     that compile-time constant expressions will be eliminated by
  64:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     compiler optimization so floating-point expressions can be used
  65:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     to calculate the number of delay cycles needed based on the CPU
  66:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     frequency passed by the macro F_CPU.
  67:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  68:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \note In order for these functions to work as intended, compiler
  69:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     optimizations <em>must</em> be enabled, and the delay time
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     <em>must</em> be an expression that is a known constant at
  71:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     compile-time.  If these requirements are not met, the resulting
  72:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     delay will be much longer (and basically unpredictable), and
  73:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     applications that otherwise do not use floating-point calculations
  74:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     will experience severe code bloat by the floating-point library
  75:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     routines linked into the application.
  76:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  77:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     The functions available allow the specification of microsecond, and
  78:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     millisecond delays directly, using the application-supplied macro
  79:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     F_CPU as the CPU clock frequency (in Hertz).
  80:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  81:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** */
  82:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  83:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #if !defined(__DOXYGEN__)
  84:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** static inline void _delay_us(double __us) __attribute__((always_inline));
  85:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** static inline void _delay_ms(double __ms) __attribute__((always_inline));
  86:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  87:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  88:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef F_CPU
  89:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /* prevent compiler error by supplying a default */
  90:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** # warning "F_CPU not defined for <util/delay.h>"
  91:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** # define F_CPU 1000000UL
  92:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  93:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  94:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef __OPTIMIZE__
  95:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** # warning "Compiler optimizations disabled; functions from <util/delay.h> won't work as designed"
  96:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  97:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  98:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #if __HAS_DELAY_CYCLES && defined(__OPTIMIZE__) && \
  99:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   !defined(__DELAY_BACKWARD_COMPATIBLE__) &&	   \
 100:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   __STDC_HOSTED__
 101:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #  include <math.h>
 102:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
 103:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 104:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /**
 105:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    \ingroup util_delay
 106:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 107:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Perform a delay of \c __ms milliseconds, using _delay_loop_2().
 108:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 109:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    The macro F_CPU is supposed to be defined to a
 110:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    constant defining the CPU clock frequency (in Hertz).
 111:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 112:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    The maximal possible delay is 262.14 ms / F_CPU in MHz.
 113:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 114:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    When the user request delay which exceed the maximum possible one,
 115:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    _delay_ms() provides a decreased resolution functionality. In this
 116:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    mode _delay_ms() will work with a resolution of 1/10 ms, providing
 117:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    delays up to 6.5535 seconds (independent from CPU frequency).  The
 118:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    user will not be informed about decreased resolution.
 119:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 120:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    If the avr-gcc toolchain has __builtin_avr_delay_cycles(unsigned long)
 121:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    support, maximal possible delay is 4294967.295 ms/ F_CPU in MHz. For
 122:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    values greater than the maximal possible delay, overflows results in
 123:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    no delay i.e., 0ms.
 124:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 125:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Conversion of __us into clock cycles may not always result in integer.
 126:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    By default, the clock cycles rounded up to next integer. This ensures that
 127:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    the user gets atleast __us microseconds of delay.
 128:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 129:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Alternatively, user can define __DELAY_ROUND_DOWN__ and __DELAY_ROUND_CLOSEST__
 130:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    to round down and round to closest integer.
 131:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 132:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Note: The new implementation of _delay_ms(double __ms) with 
 133:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     __builtin_avr_delay_cycles(unsigned long) support is not backward compatible. 
 134:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    User can define __DELAY_BACKWARD_COMPATIBLE__ to get a backward compatible delay.
 135:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Also, the backward compatible
 136:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    algorithm will be chosen if the code is compiled in a <em>freestanding
 137:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    environment</em> (GCC option \c -ffreestanding), as the math functions
 138:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    required for rounding are not available to the compiler then.
 139:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 140:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****  */
 141:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** void
 142:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** _delay_ms(double __ms)
 143:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** {
 144:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	uint16_t __ticks;
 145:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	double __tmp ; 
 146:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #if __HAS_DELAY_CYCLES && defined(__OPTIMIZE__) && \
 147:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   !defined(__DELAY_BACKWARD_COMPATIBLE__) &&	   \
 148:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   __STDC_HOSTED__
 149:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	uint32_t __ticks_dc;
 150:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	extern void __builtin_avr_delay_cycles(unsigned long);
 151:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	__tmp = ((F_CPU) / 1e3) * __ms;
 152:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 153:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#if defined(__DELAY_ROUND_DOWN__)
 154:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		__ticks_dc = (uint32_t)fabs(__tmp);
 155:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 156:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#elif defined(__DELAY_ROUND_CLOSEST__)
 157:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		__ticks_dc = (uint32_t)(fabs(__tmp)+0.5);
 158:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 159:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#else
 160:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		//round up by default
 161:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		__ticks_dc = (uint32_t)(ceil(fabs(__tmp)));
 162:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#endif
 163:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 164:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	__builtin_avr_delay_cycles(__ticks_dc);
 7724               		.loc 11 164 0
 7725 1e30 2FEF      		 ldi r18,lo8(6399999)
 7726 1e32 37EA      	    ldi r19,hi8(6399999)
 7727 1e34 41E6      	    ldi r20,hlo8(6399999)
 7728 1e36 2150      	    1:subi r18,1
 7729 1e38 3040      	    sbci r19,0
 7730 1e3a 4040      	    sbci r20,0
 7731 1e3c 01F4      	    brne 1b
 7732 1e3e 00C0      		rjmp .
 7733 1e40 0000      		nop
 7734               	.LBE3183:
 7735               	.LBE3182:
   9:gps/gps.h     ****   // wait one second after powering on, as recommended by a2235-h data sheet
  10:gps/gps.h     ****   _delay_ms(1000);
  11:gps/gps.h     **** 
  12:gps/gps.h     ****   // send_string("Begin");
  13:gps/gps.h     ****   // pinMode(AXE, OUTPUT);
  14:gps/gps.h     ****   // pinMode(LIFESUPPORT , OUTPUT);
  15:gps/gps.h     **** 
  16:gps/gps.h     ****   // digitalWrite(AXE , 0);
  17:gps/gps.h     ****   // digitalWrite(LIFESUPPORT , 1);
  18:gps/gps.h     **** 
  19:gps/gps.h     ****   // Set PD5 direction to output
  20:gps/gps.h     **** 
  21:gps/gps.h     ****   //Flip a 0 to a 1
  22:gps/gps.h     ****   //00000000
  23:gps/gps.h     ****   //   OR
  24:gps/gps.h     ****   //00100000
  25:gps/gps.h     ****   //   =
  26:gps/gps.h     ****   //00100000
  27:gps/gps.h     **** 
  28:gps/gps.h     ****   //Flip a 1 to a 0
  29:gps/gps.h     ****   //00100000
  30:gps/gps.h     ****   //   ~
  31:gps/gps.h     ****   //11011111
  32:gps/gps.h     ****   //  AND
  33:gps/gps.h     ****   //00100000
  34:gps/gps.h     ****   //   =
  35:gps/gps.h     ****   //00000000
  36:gps/gps.h     **** 
  37:gps/gps.h     ****   //76543210
  38:gps/gps.h     **** 
  39:gps/gps.h     ****   PORTD.DIRSET = PORTD.DIRSET | PIN5_bm;
 7736               		.loc 10 39 0
 7737 1e42 8091 6106 		lds r24,1633
 7738 1e46 8062      		ori r24,lo8(32)
 7739 1e48 E0E6      		ldi r30,lo8(1632)
 7740 1e4a F6E0      		ldi r31,hi8(1632)
 7741 1e4c 8183      		std Z+1,r24
  40:gps/gps.h     ****   send_byte(PORTD.DIRSET);
 7742               		.loc 10 40 0
 7743 1e4e 4091 6106 		lds r20,1633
 7744               	.LVL457:
 7745               	.LBB3184:
 7746               	.LBB3185:
 7747               	.LBB3186:
 7748               	.LBB3187:
 7749               	.LBB3188:
 7750               	.LBB3189:
 7751               	.LBB3190:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7752               		.loc 4 57 0
 7753 1e52 36E0      		ldi r19,lo8(6)
 7754               	.L316:
 7755               	.LVL458:
 7756               	.LBE3190:
 7757               	.LBE3189:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7758               		.loc 1 123 0
 7759 1e54 9FB7      		in r25,__SREG__
 7760               	.LVL459:
 7761               	.LBB3192:
 7762               	.LBB3193:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7763               		.loc 2 50 0
 7764               	/* #APP */
 7765               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7766 1e56 F894      		cli
 7767               	 ;  0 "" 2
 7768               	.LVL460:
 7769               	/* #NOAPP */
 7770               	.LBE3193:
 7771               	.LBE3192:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 7772               		.loc 1 124 0
 7773 1e58 8091 0000 		lds r24,ep_in_data+1
 7774 1e5c 8823      		tst r24
 7775 1e5e 01F4      		brne .+2
 7776 1e60 00C0      		rjmp .L474
 7777               	.L444:
 125:usb/usb_pipe.h **** 			r = false;
 7778               		.loc 1 125 0
 7779 1e62 80E0      		ldi r24,lo8(0)
 7780               	.L314:
 7781               	.LBB3194:
 7782               	.LBB3195:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7783               		.loc 2 70 0
 7784 1e64 9FBF      		out __SREG__,r25
 7785               		.loc 2 71 0
 7786               	.LBE3195:
 7787               	.LBE3194:
 7788               	.LBE3188:
 7789               	.LBE3187:
 7790               	.LBE3186:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 7791               		.loc 5 20 0
 7792 1e66 8823      		tst r24
 7793 1e68 01F0      		breq .L316
 7794               	.LVL461:
 7795               	.LBB3199:
 7796               	.LBB3200:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 7797               		.loc 1 175 0
 7798 1e6a 8091 0000 		lds r24,ep_in_data+2
 7799 1e6e 9091 0000 		lds r25,ep_in_data+2+1
 7800 1e72 E091 0000 		lds r30,ep_in_pipe_data+2
 7801 1e76 F091 0000 		lds r31,ep_in_pipe_data+2+1
 7802 1e7a E80F      		add r30,r24
 7803 1e7c F91F      		adc r31,r25
 7804 1e7e 4083      		st Z,r20
 7805 1e80 0196      		adiw r24,1
 7806 1e82 8093 0000 		sts ep_in_data+2,r24
 7807 1e86 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 7808               		.loc 1 176 0
 7809 1e8a 8034      		cpi r24,64
 7810 1e8c 9105      		cpc r25,__zero_reg__
 7811 1e8e 01F4      		brne .+2
 7812 1e90 00C0      		rjmp .L475
 7813               	.LVL462:
 7814               	.L317:
 7815               	.LBE3200:
 7816               	.LBE3199:
 7817               	.LBE3185:
 7818               	.LBE3184:
 7819               	.LBB3271:
 7820               	.LBB3272:
 7821               	.LBB3273:
 7822               	.LBB3274:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 7823               		.loc 1 110 0
 7824 1e92 81E0      		ldi r24,lo8(1)
 7825 1e94 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 7826               		.loc 1 111 0
 7827 1e98 0E94 0000 		call usb_pipe_handle.constprop.9
 7828               	.LVL463:
 7829               	.LBE3274:
 7830               	.LBE3273:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 7831               		.loc 5 27 0
 7832 1e9c 82E0      		ldi r24,lo8(2)
 7833 1e9e E0EC      		ldi r30,lo8(1216)
 7834 1ea0 F4E0      		ldi r31,hi8(1216)
 7835 1ea2 8587      		std Z+13,r24
 7836               	.LBB3275:
 7837               	.LBB3276:
 7838               	.LBB3277:
 7839               	.LBB3278:
 7840               	.LBB3279:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7841               		.loc 4 57 0
 7842 1ea4 36E0      		ldi r19,lo8(6)
 7843               	.L328:
 7844               	.LVL464:
 7845               	.LBE3279:
 7846               	.LBE3278:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7847               		.loc 1 123 0
 7848 1ea6 9FB7      		in r25,__SREG__
 7849               	.LVL465:
 7850               	.LBB3281:
 7851               	.LBB3282:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7852               		.loc 2 50 0
 7853               	/* #APP */
 7854               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7855 1ea8 F894      		cli
 7856               	 ;  0 "" 2
 7857               	.LVL466:
 7858               	/* #NOAPP */
 7859               	.LBE3282:
 7860               	.LBE3281:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 7861               		.loc 1 124 0
 7862 1eaa 8091 0000 		lds r24,ep_in_data+1
 7863 1eae 8823      		tst r24
 7864 1eb0 01F4      		brne .+2
 7865 1eb2 00C0      		rjmp .L476
 7866               	.L445:
 125:usb/usb_pipe.h **** 			r = false;
 7867               		.loc 1 125 0
 7868 1eb4 80E0      		ldi r24,lo8(0)
 7869               	.L330:
 7870               	.LBB3283:
 7871               	.LBB3284:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7872               		.loc 2 70 0
 7873 1eb6 9FBF      		out __SREG__,r25
 7874               		.loc 2 71 0
 7875               	.LBE3284:
 7876               	.LBE3283:
 7877               	.LBE3277:
 7878               	.LBE3276:
 7879               	.LBE3275:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 7880               		.loc 5 28 0
 7881 1eb8 8823      		tst r24
 7882 1eba 01F4      		brne .L329
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 7883               		.loc 5 29 0
 7884 1ebc 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 7885 1ec0 8823      		tst r24
 7886 1ec2 01F0      		breq .L328
 7887               	.LVL467:
 7888               	.LBB3288:
 7889               	.LBB3289:
 7890               	.LBB3290:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7891               		.loc 1 54 0
 7892 1ec4 2FB7      		in r18,__SREG__
 7893               	.LVL468:
 7894               	.LBB3291:
 7895               	.LBB3292:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7896               		.loc 2 50 0
 7897               	/* #APP */
 7898               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7899 1ec6 F894      		cli
 7900               	 ;  0 "" 2
 7901               	.LVL469:
 7902               	/* #NOAPP */
 7903               	.LBE3292:
 7904               	.LBE3291:
 7905               	.LBB3293:
 7906               	.LBB3294:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 7907               		.loc 4 90 0
 7908 1ec8 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 7909               		.loc 4 91 0
 7910 1ecc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7911 1ece 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7912 1ed0 8093 0000 		sts ep_in_pipe_data+2,r24
 7913 1ed4 9093 0000 		sts ep_in_pipe_data+2+1,r25
 7914 1ed8 8093 0000 		sts ep_in_pipe_data,r24
 7915 1edc 9093 0000 		sts ep_in_pipe_data+1,r25
 7916               	.LVL470:
 7917               	.LBE3294:
 7918               	.LBE3293:
 7919               	.LBB3295:
 7920               	.LBB3296:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 7921               		.loc 3 158 0
 7922 1ee0 E0E0      		ldi r30,lo8(endpoints+24)
 7923 1ee2 F0E0      		ldi r31,hi8(endpoints+24)
 7924               	/* #APP */
 7925               	 ;  158 "usb/usb.h" 1
 7926 1ee4 06E0      		ldi r16, 6
 7927 1ee6 0593      		.dc.w 0x9305
 7928               		
 7929               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 7930               		.loc 3 159 0
 7931               	 ;  159 "usb/usb.h" 1
 7932 1ee8 08E0      		ldi r16, 8
 7933 1eea 0693      		.dc.w 0x9306
 7934               		
 7935               	 ;  0 "" 2
 7936               	/* #NOAPP */
 7937               	.LBE3296:
 7938               	.LBE3295:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 7939               		.loc 1 57 0
 7940 1eec 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 7941               		.loc 1 58 0
 7942 1ef0 1092 0000 		sts ep_in_data+2,__zero_reg__
 7943 1ef4 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 7944               		.loc 1 59 0
 7945 1ef8 1092 0000 		sts ep_in_data,__zero_reg__
 7946               	.LVL471:
 7947               	.LBB3297:
 7948               	.LBB3298:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7949               		.loc 2 70 0
 7950 1efc 2FBF      		out __SREG__,r18
 7951               		.loc 2 71 0
 7952               	.LVL472:
 7953               	.L329:
 7954               	.LBE3298:
 7955               	.LBE3297:
 7956               	.LBE3290:
 7957               	.LBE3289:
 7958               	.LBE3288:
 7959               	.LBE3272:
 7960               	.LBE3271:
  41:gps/gps.h     ****   break_and_flush();
  42:gps/gps.h     **** 
  43:gps/gps.h     ****   // PIN 5 -- ON_OFF
  44:gps/gps.h     ****   // Set PD5 to low
  45:gps/gps.h     ****   PORTD.OUTSET &= (~PIN5_bm);
 7961               		.loc 10 45 0
 7962 1efe 8091 6506 		lds r24,1637
 7963 1f02 8F7D      		andi r24,lo8(-33)
 7964 1f04 E0E6      		ldi r30,lo8(1632)
 7965 1f06 F6E0      		ldi r31,hi8(1632)
 7966 1f08 8583      		std Z+5,r24
  46:gps/gps.h     ****   send_byte(PORTD.OUTSET);
 7967               		.loc 10 46 0
 7968 1f0a 4091 6506 		lds r20,1637
 7969               	.LVL473:
 7970               	.LBB3301:
 7971               	.LBB3302:
 7972               	.LBB3303:
 7973               	.LBB3304:
 7974               	.LBB3305:
 7975               	.LBB3306:
 7976               	.LBB3307:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7977               		.loc 4 57 0
 7978 1f0e 36E0      		ldi r19,lo8(6)
 7979               	.LVL474:
 7980               	.L335:
 7981               	.LBE3307:
 7982               	.LBE3306:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7983               		.loc 1 123 0
 7984 1f10 9FB7      		in r25,__SREG__
 7985               	.LVL475:
 7986               	.LBB3309:
 7987               	.LBB3310:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7988               		.loc 2 50 0
 7989               	/* #APP */
 7990               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7991 1f12 F894      		cli
 7992               	 ;  0 "" 2
 7993               	.LVL476:
 7994               	/* #NOAPP */
 7995               	.LBE3310:
 7996               	.LBE3309:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 7997               		.loc 1 124 0
 7998 1f14 8091 0000 		lds r24,ep_in_data+1
 7999 1f18 8823      		tst r24
 8000 1f1a 01F4      		brne .+2
 8001 1f1c 00C0      		rjmp .L477
 8002               	.L446:
 125:usb/usb_pipe.h **** 			r = false;
 8003               		.loc 1 125 0
 8004 1f1e 80E0      		ldi r24,lo8(0)
 8005               	.L333:
 8006               	.LBB3311:
 8007               	.LBB3312:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8008               		.loc 2 70 0
 8009 1f20 9FBF      		out __SREG__,r25
 8010               		.loc 2 71 0
 8011               	.LBE3312:
 8012               	.LBE3311:
 8013               	.LBE3305:
 8014               	.LBE3304:
 8015               	.LBE3303:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 8016               		.loc 5 20 0
 8017 1f22 8823      		tst r24
 8018 1f24 01F0      		breq .L335
 8019               	.LVL477:
 8020               	.LBB3316:
 8021               	.LBB3317:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 8022               		.loc 1 175 0
 8023 1f26 8091 0000 		lds r24,ep_in_data+2
 8024 1f2a 9091 0000 		lds r25,ep_in_data+2+1
 8025 1f2e E091 0000 		lds r30,ep_in_pipe_data+2
 8026 1f32 F091 0000 		lds r31,ep_in_pipe_data+2+1
 8027 1f36 E80F      		add r30,r24
 8028 1f38 F91F      		adc r31,r25
 8029 1f3a 4083      		st Z,r20
 8030 1f3c 0196      		adiw r24,1
 8031 1f3e 8093 0000 		sts ep_in_data+2,r24
 8032 1f42 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 8033               		.loc 1 176 0
 8034 1f46 8034      		cpi r24,64
 8035 1f48 9105      		cpc r25,__zero_reg__
 8036 1f4a 01F4      		brne .+2
 8037 1f4c 00C0      		rjmp .L478
 8038               	.LVL478:
 8039               	.L336:
 8040               	.LBE3317:
 8041               	.LBE3316:
 8042               	.LBE3302:
 8043               	.LBE3301:
 8044               	.LBB3388:
 8045               	.LBB3389:
 8046               	.LBB3390:
 8047               	.LBB3391:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 8048               		.loc 1 110 0
 8049 1f4e 81E0      		ldi r24,lo8(1)
 8050 1f50 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 8051               		.loc 1 111 0
 8052 1f54 0E94 0000 		call usb_pipe_handle.constprop.9
 8053               	.LVL479:
 8054               	.LBE3391:
 8055               	.LBE3390:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 8056               		.loc 5 27 0
 8057 1f58 82E0      		ldi r24,lo8(2)
 8058 1f5a E0EC      		ldi r30,lo8(1216)
 8059 1f5c F4E0      		ldi r31,hi8(1216)
 8060 1f5e 8587      		std Z+13,r24
 8061               	.LBB3392:
 8062               	.LBB3393:
 8063               	.LBB3394:
 8064               	.LBB3395:
 8065               	.LBB3396:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8066               		.loc 4 57 0
 8067 1f60 36E0      		ldi r19,lo8(6)
 8068               	.L347:
 8069               	.LVL480:
 8070               	.LBE3396:
 8071               	.LBE3395:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8072               		.loc 1 123 0
 8073 1f62 9FB7      		in r25,__SREG__
 8074               	.LVL481:
 8075               	.LBB3398:
 8076               	.LBB3399:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8077               		.loc 2 50 0
 8078               	/* #APP */
 8079               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8080 1f64 F894      		cli
 8081               	 ;  0 "" 2
 8082               	.LVL482:
 8083               	/* #NOAPP */
 8084               	.LBE3399:
 8085               	.LBE3398:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8086               		.loc 1 124 0
 8087 1f66 8091 0000 		lds r24,ep_in_data+1
 8088 1f6a 8823      		tst r24
 8089 1f6c 01F4      		brne .+2
 8090 1f6e 00C0      		rjmp .L479
 8091               	.L447:
 125:usb/usb_pipe.h **** 			r = false;
 8092               		.loc 1 125 0
 8093 1f70 80E0      		ldi r24,lo8(0)
 8094               	.L349:
 8095               	.LBB3400:
 8096               	.LBB3401:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8097               		.loc 2 70 0
 8098 1f72 9FBF      		out __SREG__,r25
 8099               		.loc 2 71 0
 8100               	.LBE3401:
 8101               	.LBE3400:
 8102               	.LBE3394:
 8103               	.LBE3393:
 8104               	.LBE3392:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 8105               		.loc 5 28 0
 8106 1f74 8823      		tst r24
 8107 1f76 01F4      		brne .L348
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 8108               		.loc 5 29 0
 8109 1f78 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 8110 1f7c 8823      		tst r24
 8111 1f7e 01F0      		breq .L347
 8112               	.LVL483:
 8113               	.LBB3405:
 8114               	.LBB3406:
 8115               	.LBB3407:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8116               		.loc 1 54 0
 8117 1f80 2FB7      		in r18,__SREG__
 8118               	.LVL484:
 8119               	.LBB3408:
 8120               	.LBB3409:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8121               		.loc 2 50 0
 8122               	/* #APP */
 8123               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8124 1f82 F894      		cli
 8125               	 ;  0 "" 2
 8126               	.LVL485:
 8127               	/* #NOAPP */
 8128               	.LBE3409:
 8129               	.LBE3408:
 8130               	.LBB3410:
 8131               	.LBB3411:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 8132               		.loc 4 90 0
 8133 1f84 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 8134               		.loc 4 91 0
 8135 1f88 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 8136 1f8a 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 8137 1f8c 8093 0000 		sts ep_in_pipe_data+2,r24
 8138 1f90 9093 0000 		sts ep_in_pipe_data+2+1,r25
 8139 1f94 8093 0000 		sts ep_in_pipe_data,r24
 8140 1f98 9093 0000 		sts ep_in_pipe_data+1,r25
 8141               	.LVL486:
 8142               	.LBE3411:
 8143               	.LBE3410:
 8144               	.LBB3412:
 8145               	.LBB3413:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8146               		.loc 3 158 0
 8147 1f9c E0E0      		ldi r30,lo8(endpoints+24)
 8148 1f9e F0E0      		ldi r31,hi8(endpoints+24)
 8149               	/* #APP */
 8150               	 ;  158 "usb/usb.h" 1
 8151 1fa0 06E0      		ldi r16, 6
 8152 1fa2 0593      		.dc.w 0x9305
 8153               		
 8154               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 8155               		.loc 3 159 0
 8156               	 ;  159 "usb/usb.h" 1
 8157 1fa4 08E0      		ldi r16, 8
 8158 1fa6 0693      		.dc.w 0x9306
 8159               		
 8160               	 ;  0 "" 2
 8161               	/* #NOAPP */
 8162               	.LBE3413:
 8163               	.LBE3412:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 8164               		.loc 1 57 0
 8165 1fa8 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 8166               		.loc 1 58 0
 8167 1fac 1092 0000 		sts ep_in_data+2,__zero_reg__
 8168 1fb0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 8169               		.loc 1 59 0
 8170 1fb4 1092 0000 		sts ep_in_data,__zero_reg__
 8171               	.LVL487:
 8172               	.LBB3414:
 8173               	.LBB3415:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8174               		.loc 2 70 0
 8175 1fb8 2FBF      		out __SREG__,r18
 8176               		.loc 2 71 0
 8177               	.LVL488:
 8178               	.L348:
 8179               	.LBE3415:
 8180               	.LBE3414:
 8181               	.LBE3407:
 8182               	.LBE3406:
 8183               	.LBE3405:
 8184               	.LBE3389:
 8185               	.LBE3388:
  47:gps/gps.h     ****   break_and_flush();
  48:gps/gps.h     **** 
  49:gps/gps.h     ****   // Set PD4 to high
  50:gps/gps.h     ****   PORTD.OUTSET |= PIN4_bm;
 8186               		.loc 10 50 0
 8187 1fba 8091 6506 		lds r24,1637
 8188 1fbe 8061      		ori r24,lo8(16)
 8189 1fc0 E0E6      		ldi r30,lo8(1632)
 8190 1fc2 F6E0      		ldi r31,hi8(1632)
 8191 1fc4 8583      		std Z+5,r24
  51:gps/gps.h     ****   send_byte(PORTD.OUTSET);
 8192               		.loc 10 51 0
 8193 1fc6 4091 6506 		lds r20,1637
 8194               	.LVL489:
 8195               	.LBB3418:
 8196               	.LBB3419:
 8197               	.LBB3420:
 8198               	.LBB3421:
 8199               	.LBB3422:
 8200               	.LBB3423:
 8201               	.LBB3424:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8202               		.loc 4 57 0
 8203 1fca 36E0      		ldi r19,lo8(6)
 8204               	.LVL490:
 8205               	.L354:
 8206               	.LBE3424:
 8207               	.LBE3423:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8208               		.loc 1 123 0
 8209 1fcc 9FB7      		in r25,__SREG__
 8210               	.LVL491:
 8211               	.LBB3426:
 8212               	.LBB3427:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8213               		.loc 2 50 0
 8214               	/* #APP */
 8215               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8216 1fce F894      		cli
 8217               	 ;  0 "" 2
 8218               	.LVL492:
 8219               	/* #NOAPP */
 8220               	.LBE3427:
 8221               	.LBE3426:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8222               		.loc 1 124 0
 8223 1fd0 8091 0000 		lds r24,ep_in_data+1
 8224 1fd4 8823      		tst r24
 8225 1fd6 01F4      		brne .+2
 8226 1fd8 00C0      		rjmp .L480
 8227               	.L448:
 125:usb/usb_pipe.h **** 			r = false;
 8228               		.loc 1 125 0
 8229 1fda 80E0      		ldi r24,lo8(0)
 8230               	.L352:
 8231               	.LBB3428:
 8232               	.LBB3429:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8233               		.loc 2 70 0
 8234 1fdc 9FBF      		out __SREG__,r25
 8235               		.loc 2 71 0
 8236               	.LBE3429:
 8237               	.LBE3428:
 8238               	.LBE3422:
 8239               	.LBE3421:
 8240               	.LBE3420:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 8241               		.loc 5 20 0
 8242 1fde 8823      		tst r24
 8243 1fe0 01F0      		breq .L354
 8244               	.LVL493:
 8245               	.LBB3433:
 8246               	.LBB3434:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 8247               		.loc 1 175 0
 8248 1fe2 8091 0000 		lds r24,ep_in_data+2
 8249 1fe6 9091 0000 		lds r25,ep_in_data+2+1
 8250 1fea E091 0000 		lds r30,ep_in_pipe_data+2
 8251 1fee F091 0000 		lds r31,ep_in_pipe_data+2+1
 8252 1ff2 E80F      		add r30,r24
 8253 1ff4 F91F      		adc r31,r25
 8254 1ff6 4083      		st Z,r20
 8255 1ff8 0196      		adiw r24,1
 8256 1ffa 8093 0000 		sts ep_in_data+2,r24
 8257 1ffe 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 8258               		.loc 1 176 0
 8259 2002 8034      		cpi r24,64
 8260 2004 9105      		cpc r25,__zero_reg__
 8261 2006 01F4      		brne .+2
 8262 2008 00C0      		rjmp .L481
 8263               	.LVL494:
 8264               	.L355:
 8265               	.LBE3434:
 8266               	.LBE3433:
 8267               	.LBE3419:
 8268               	.LBE3418:
 8269               	.LBB3505:
 8270               	.LBB3506:
 8271               	.LBB3507:
 8272               	.LBB3508:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 8273               		.loc 1 110 0
 8274 200a 81E0      		ldi r24,lo8(1)
 8275 200c 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 8276               		.loc 1 111 0
 8277 2010 0E94 0000 		call usb_pipe_handle.constprop.9
 8278               	.LVL495:
 8279               	.LBE3508:
 8280               	.LBE3507:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 8281               		.loc 5 27 0
 8282 2014 82E0      		ldi r24,lo8(2)
 8283 2016 E0EC      		ldi r30,lo8(1216)
 8284 2018 F4E0      		ldi r31,hi8(1216)
 8285 201a 8587      		std Z+13,r24
 8286               	.LBB3509:
 8287               	.LBB3510:
 8288               	.LBB3511:
 8289               	.LBB3512:
 8290               	.LBB3513:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8291               		.loc 4 57 0
 8292 201c 36E0      		ldi r19,lo8(6)
 8293               	.L366:
 8294               	.LVL496:
 8295               	.LBE3513:
 8296               	.LBE3512:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8297               		.loc 1 123 0
 8298 201e 9FB7      		in r25,__SREG__
 8299               	.LVL497:
 8300               	.LBB3515:
 8301               	.LBB3516:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8302               		.loc 2 50 0
 8303               	/* #APP */
 8304               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8305 2020 F894      		cli
 8306               	 ;  0 "" 2
 8307               	.LVL498:
 8308               	/* #NOAPP */
 8309               	.LBE3516:
 8310               	.LBE3515:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8311               		.loc 1 124 0
 8312 2022 8091 0000 		lds r24,ep_in_data+1
 8313 2026 8823      		tst r24
 8314 2028 01F4      		brne .+2
 8315 202a 00C0      		rjmp .L482
 8316               	.L449:
 125:usb/usb_pipe.h **** 			r = false;
 8317               		.loc 1 125 0
 8318 202c 80E0      		ldi r24,lo8(0)
 8319               	.L368:
 8320               	.LBB3517:
 8321               	.LBB3518:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8322               		.loc 2 70 0
 8323 202e 9FBF      		out __SREG__,r25
 8324               		.loc 2 71 0
 8325               	.LBE3518:
 8326               	.LBE3517:
 8327               	.LBE3511:
 8328               	.LBE3510:
 8329               	.LBE3509:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 8330               		.loc 5 28 0
 8331 2030 8823      		tst r24
 8332 2032 01F4      		brne .L371
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 8333               		.loc 5 29 0
 8334 2034 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 8335 2038 8823      		tst r24
 8336 203a 01F0      		breq .L366
 8337               	.LVL499:
 8338               	.LBB3522:
 8339               	.LBB3523:
 8340               	.LBB3524:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8341               		.loc 1 54 0
 8342 203c 2FB7      		in r18,__SREG__
 8343               	.LVL500:
 8344               	.LBB3525:
 8345               	.LBB3526:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8346               		.loc 2 50 0
 8347               	/* #APP */
 8348               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8349 203e F894      		cli
 8350               	 ;  0 "" 2
 8351               	.LVL501:
 8352               	/* #NOAPP */
 8353               	.LBE3526:
 8354               	.LBE3525:
 8355               	.LBB3527:
 8356               	.LBB3528:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 8357               		.loc 4 90 0
 8358 2040 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 8359               		.loc 4 91 0
 8360 2044 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 8361 2046 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 8362 2048 8093 0000 		sts ep_in_pipe_data+2,r24
 8363 204c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 8364 2050 8093 0000 		sts ep_in_pipe_data,r24
 8365 2054 9093 0000 		sts ep_in_pipe_data+1,r25
 8366               	.LVL502:
 8367               	.LBE3528:
 8368               	.LBE3527:
 8369               	.LBB3529:
 8370               	.LBB3530:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8371               		.loc 3 158 0
 8372 2058 E0E0      		ldi r30,lo8(endpoints+24)
 8373 205a F0E0      		ldi r31,hi8(endpoints+24)
 8374               	/* #APP */
 8375               	 ;  158 "usb/usb.h" 1
 8376 205c 06E0      		ldi r16, 6
 8377 205e 0593      		.dc.w 0x9305
 8378               		
 8379               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 8380               		.loc 3 159 0
 8381               	 ;  159 "usb/usb.h" 1
 8382 2060 08E0      		ldi r16, 8
 8383 2062 0693      		.dc.w 0x9306
 8384               		
 8385               	 ;  0 "" 2
 8386               	/* #NOAPP */
 8387               	.LBE3530:
 8388               	.LBE3529:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 8389               		.loc 1 57 0
 8390 2064 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 8391               		.loc 1 58 0
 8392 2068 1092 0000 		sts ep_in_data+2,__zero_reg__
 8393 206c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 8394               		.loc 1 59 0
 8395 2070 1092 0000 		sts ep_in_data,__zero_reg__
 8396               	.LVL503:
 8397               	.LBB3531:
 8398               	.LBB3532:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8399               		.loc 2 70 0
 8400 2074 2FBF      		out __SREG__,r18
 8401               		.loc 2 71 0
 8402               	.LVL504:
 8403               	.L371:
 8404 2076 30E0      		ldi r19,lo8(.LC4+1)
 8405 2078 C32E      		mov r12,r19
 8406 207a 30E0      		ldi r19,hi8(.LC4+1)
 8407 207c D32E      		mov r13,r19
 8408               	.LBE3532:
 8409               	.LBE3531:
 8410               	.LBE3524:
 8411               	.LBE3523:
 8412               	.LBE3522:
 8413               	.LBE3506:
 8414               	.LBE3505:
 8415               	.LBB3535:
 8416               	.LBB3536:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 8417               		.loc 7 5 0
 8418 207e 24E5      		ldi r18,lo8(84)
 8419               	.LBB3537:
 8420               	.LBB3538:
 8421               	.LBB3539:
 8422               	.LBB3540:
 8423               	.LBB3541:
 8424               	.LBB3542:
 8425               	.LBB3543:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8426               		.loc 4 57 0
 8427 2080 46E0      		ldi r20,lo8(6)
 8428               	.LBE3543:
 8429               	.LBE3542:
 8430               	.LBE3541:
 8431               	.LBE3540:
 8432               	.LBE3539:
 8433               	.LBB3556:
 8434               	.LBB3557:
 8435               	.LBB3558:
 8436               	.LBB3559:
 8437               	.LBB3560:
 8438               	.LBB3561:
 8439               	.LBB3562:
 8440               	.LBB3563:
 8441               	.LBB3564:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8442               		.loc 3 220 0
 8443 2082 60E0      		ldi r22,lo8(endpoints+24)
 8444 2084 70E0      		ldi r23,hi8(endpoints+24)
 8445               	.LBE3564:
 8446               	.LBE3563:
 8447               	.LBB3566:
 8448               	.LBB3567:
 8449               		.loc 4 91 0
 8450 2086 50E0      		ldi r21,lo8(ep_in_pipe_buffer)
 8451 2088 A52E      		mov r10,r21
 8452 208a 50E0      		ldi r21,hi8(ep_in_pipe_buffer)
 8453 208c B52E      		mov r11,r21
 8454               	.LBE3567:
 8455               	.LBE3566:
 8456               	.LBB3570:
 8457               	.LBB3571:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 8458               		.loc 1 69 0
 8459 208e C1E0      		ldi r28,lo8(1)
 8460 2090 D0E0      		ldi r29,hi8(1)
 8461               	.LBE3571:
 8462               	.LBE3570:
 8463               	.LBB3580:
 8464               	.LBB3581:
 8465               	.LBB3582:
 8466               	.LBB3583:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 8467               		.loc 3 169 0
 8468 2092 E0E4      		ldi r30,lo8(64)
 8469 2094 EE2E      		mov r14,r30
 8470 2096 F12C      		mov r15,__zero_reg__
 8471               	.LVL505:
 8472               	.L472:
 8473               	.LBE3583:
 8474               	.LBE3582:
 8475               	.LBE3581:
 8476               	.LBE3580:
 8477               	.LBE3562:
 8478               	.LBE3561:
 8479               	.LBE3560:
 8480               	.LBE3559:
 8481               	.LBE3558:
 8482               	.LBE3557:
 8483               	.LBE3556:
 8484               	.LBB3636:
 8485               	.LBB3554:
 8486               	.LBB3552:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8487               		.loc 1 123 0
 8488 2098 9FB7      		in r25,__SREG__
 8489               	.LVL506:
 8490               	.LBB3545:
 8491               	.LBB3546:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8492               		.loc 2 50 0
 8493               	/* #APP */
 8494               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8495 209a F894      		cli
 8496               	 ;  0 "" 2
 8497               	.LVL507:
 8498               	/* #NOAPP */
 8499               	.LBE3546:
 8500               	.LBE3545:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8501               		.loc 1 124 0
 8502 209c 8091 0000 		lds r24,ep_in_data+1
 8503 20a0 8823      		tst r24
 8504 20a2 01F0      		breq .L483
 8505               	.L450:
 125:usb/usb_pipe.h **** 			r = false;
 8506               		.loc 1 125 0
 8507 20a4 80E0      		ldi r24,lo8(0)
 8508               	.L372:
 8509               	.LBB3548:
 8510               	.LBB3549:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8511               		.loc 2 70 0
 8512 20a6 9FBF      		out __SREG__,r25
 8513               		.loc 2 71 0
 8514               	.LBE3549:
 8515               	.LBE3548:
 8516               	.LBE3552:
 8517               	.LBE3554:
 8518               	.LBE3636:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 8519               		.loc 5 20 0
 8520 20a8 8823      		tst r24
 8521 20aa 01F0      		breq .L472
 8522               	.LVL508:
 8523               	.LBB3637:
 8524               	.LBB3638:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 8525               		.loc 1 175 0
 8526 20ac 8091 0000 		lds r24,ep_in_data+2
 8527 20b0 9091 0000 		lds r25,ep_in_data+2+1
 8528 20b4 E091 0000 		lds r30,ep_in_pipe_data+2
 8529 20b8 F091 0000 		lds r31,ep_in_pipe_data+2+1
 8530 20bc E80F      		add r30,r24
 8531 20be F91F      		adc r31,r25
 8532 20c0 2083      		st Z,r18
 8533 20c2 0196      		adiw r24,1
 8534 20c4 8093 0000 		sts ep_in_data+2,r24
 8535 20c8 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 8536               		.loc 1 176 0
 8537 20cc 8034      		cpi r24,64
 8538 20ce 9105      		cpc r25,__zero_reg__
 8539 20d0 01F4      		brne .+2
 8540 20d2 00C0      		rjmp .L484
 8541               	.LBE3638:
 8542               	.LBE3637:
 8543               	.LBE3538:
 8544               	.LBE3537:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 8545               		.loc 7 5 0
 8546 20d4 F601      		movw r30,r12
 8547 20d6 2191      		ld r18,Z+
 8548               	.LVL509:
 8549 20d8 2223      		tst r18
 8550 20da 01F4      		brne .+2
 8551 20dc 00C0      		rjmp .L386
 8552               	.LVL510:
 8553               	.L486:
 8554 20de C114      		cp r12,__zero_reg__
 8555 20e0 D104      		cpc r13,__zero_reg__
 8556 20e2 01F4      		brne .+2
 8557 20e4 00C0      		rjmp .L386
 8558 20e6 6F01      		movw r12,r30
 8559               	.LBB3647:
 8560               	.LBB3643:
 8561               	.LBB3639:
 8562               	.LBB3555:
 8563               	.LBB3553:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8564               		.loc 1 123 0
 8565 20e8 9FB7      		in r25,__SREG__
 8566               	.LVL511:
 8567               	.LBB3550:
 8568               	.LBB3547:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8569               		.loc 2 50 0
 8570               	/* #APP */
 8571               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8572 20ea F894      		cli
 8573               	 ;  0 "" 2
 8574               	/* #NOAPP */
 8575               	.LBE3547:
 8576               	.LBE3550:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8577               		.loc 1 124 0
 8578 20ec 8091 0000 		lds r24,ep_in_data+1
 8579 20f0 8823      		tst r24
 8580 20f2 01F4      		brne .L450
 8581               	.LVL512:
 8582               	.L483:
 8583               	.LBB3551:
 8584               	.LBB3544:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8585               		.loc 4 57 0
 8586 20f4 8091 0000 		lds r24,ep_in_pipe_data+4
 8587 20f8 342F      		mov r19,r20
 8588 20fa 381B      		sub r19,r24
 8589               	.LBE3544:
 8590               	.LBE3551:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8591               		.loc 1 127 0
 8592 20fc 81E0      		ldi r24,lo8(1)
 8593 20fe 1316      		cp __zero_reg__,r19
 8594 2100 04F0      		brlt .L372
 8595 2102 00C0      		rjmp .L450
 8596               	.LVL513:
 8597               	.L476:
 8598               	.LBE3553:
 8599               	.LBE3555:
 8600               	.LBE3639:
 8601               	.LBE3643:
 8602               	.LBE3647:
 8603               	.LBE3536:
 8604               	.LBE3535:
 8605               	.LBB3685:
 8606               	.LBB3300:
 8607               	.LBB3299:
 8608               	.LBB3287:
 8609               	.LBB3286:
 8610               	.LBB3285:
 8611               	.LBB3280:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8612               		.loc 4 57 0
 8613 2104 8091 0000 		lds r24,ep_in_pipe_data+4
 8614 2108 232F      		mov r18,r19
 8615 210a 281B      		sub r18,r24
 8616               	.LBE3280:
 8617               	.LBE3285:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8618               		.loc 1 127 0
 8619 210c 81E0      		ldi r24,lo8(1)
 8620 210e 1216      		cp __zero_reg__,r18
 8621 2110 04F4      		brge .+2
 8622 2112 00C0      		rjmp .L330
 8623 2114 00C0      		rjmp .L445
 8624               	.LVL514:
 8625               	.L474:
 8626               	.LBE3286:
 8627               	.LBE3287:
 8628               	.LBE3299:
 8629               	.LBE3300:
 8630               	.LBE3685:
 8631               	.LBB3686:
 8632               	.LBB3267:
 8633               	.LBB3201:
 8634               	.LBB3198:
 8635               	.LBB3197:
 8636               	.LBB3196:
 8637               	.LBB3191:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8638               		.loc 4 57 0
 8639 2116 8091 0000 		lds r24,ep_in_pipe_data+4
 8640 211a 232F      		mov r18,r19
 8641 211c 281B      		sub r18,r24
 8642               	.LBE3191:
 8643               	.LBE3196:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8644               		.loc 1 127 0
 8645 211e 81E0      		ldi r24,lo8(1)
 8646 2120 1216      		cp __zero_reg__,r18
 8647 2122 04F4      		brge .+2
 8648 2124 00C0      		rjmp .L314
 8649 2126 00C0      		rjmp .L444
 8650               	.LVL515:
 8651               	.L479:
 8652               	.LBE3197:
 8653               	.LBE3198:
 8654               	.LBE3201:
 8655               	.LBE3267:
 8656               	.LBE3686:
 8657               	.LBB3687:
 8658               	.LBB3417:
 8659               	.LBB3416:
 8660               	.LBB3404:
 8661               	.LBB3403:
 8662               	.LBB3402:
 8663               	.LBB3397:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8664               		.loc 4 57 0
 8665 2128 8091 0000 		lds r24,ep_in_pipe_data+4
 8666 212c 232F      		mov r18,r19
 8667 212e 281B      		sub r18,r24
 8668               	.LBE3397:
 8669               	.LBE3402:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8670               		.loc 1 127 0
 8671 2130 81E0      		ldi r24,lo8(1)
 8672 2132 1216      		cp __zero_reg__,r18
 8673 2134 04F4      		brge .+2
 8674 2136 00C0      		rjmp .L349
 8675 2138 00C0      		rjmp .L447
 8676               	.LVL516:
 8677               	.L477:
 8678               	.LBE3403:
 8679               	.LBE3404:
 8680               	.LBE3416:
 8681               	.LBE3417:
 8682               	.LBE3687:
 8683               	.LBB3688:
 8684               	.LBB3384:
 8685               	.LBB3318:
 8686               	.LBB3315:
 8687               	.LBB3314:
 8688               	.LBB3313:
 8689               	.LBB3308:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8690               		.loc 4 57 0
 8691 213a 8091 0000 		lds r24,ep_in_pipe_data+4
 8692 213e 232F      		mov r18,r19
 8693 2140 281B      		sub r18,r24
 8694               	.LBE3308:
 8695               	.LBE3313:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8696               		.loc 1 127 0
 8697 2142 81E0      		ldi r24,lo8(1)
 8698 2144 1216      		cp __zero_reg__,r18
 8699 2146 04F4      		brge .+2
 8700 2148 00C0      		rjmp .L333
 8701 214a 00C0      		rjmp .L446
 8702               	.LVL517:
 8703               	.L482:
 8704               	.LBE3314:
 8705               	.LBE3315:
 8706               	.LBE3318:
 8707               	.LBE3384:
 8708               	.LBE3688:
 8709               	.LBB3689:
 8710               	.LBB3534:
 8711               	.LBB3533:
 8712               	.LBB3521:
 8713               	.LBB3520:
 8714               	.LBB3519:
 8715               	.LBB3514:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8716               		.loc 4 57 0
 8717 214c 8091 0000 		lds r24,ep_in_pipe_data+4
 8718 2150 232F      		mov r18,r19
 8719 2152 281B      		sub r18,r24
 8720               	.LBE3514:
 8721               	.LBE3519:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8722               		.loc 1 127 0
 8723 2154 81E0      		ldi r24,lo8(1)
 8724 2156 1216      		cp __zero_reg__,r18
 8725 2158 04F4      		brge .+2
 8726 215a 00C0      		rjmp .L368
 8727 215c 00C0      		rjmp .L449
 8728               	.LVL518:
 8729               	.L480:
 8730               	.LBE3520:
 8731               	.LBE3521:
 8732               	.LBE3533:
 8733               	.LBE3534:
 8734               	.LBE3689:
 8735               	.LBB3690:
 8736               	.LBB3501:
 8737               	.LBB3435:
 8738               	.LBB3432:
 8739               	.LBB3431:
 8740               	.LBB3430:
 8741               	.LBB3425:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8742               		.loc 4 57 0
 8743 215e 8091 0000 		lds r24,ep_in_pipe_data+4
 8744 2162 232F      		mov r18,r19
 8745 2164 281B      		sub r18,r24
 8746               	.LBE3425:
 8747               	.LBE3430:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8748               		.loc 1 127 0
 8749 2166 81E0      		ldi r24,lo8(1)
 8750 2168 1216      		cp __zero_reg__,r18
 8751 216a 04F4      		brge .+2
 8752 216c 00C0      		rjmp .L352
 8753 216e 00C0      		rjmp .L448
 8754               	.LVL519:
 8755               	.L484:
 8756               	.LBE3431:
 8757               	.LBE3432:
 8758               	.LBE3435:
 8759               	.LBE3501:
 8760               	.LBE3690:
 8761               	.LBB3691:
 8762               	.LBB3682:
 8763               	.LBB3648:
 8764               	.LBB3644:
 8765               	.LBB3640:
 8766               	.LBB3633:
 8767               	.LBB3630:
 8768               	.LBB3627:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 8769               		.loc 1 177 0
 8770 2170 BFB7      		in r27,__SREG__
 8771               	.LVL520:
 8772               	.LBB3618:
 8773               	.LBB3619:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8774               		.loc 2 50 0
 8775               	/* #APP */
 8776               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8777 2172 F894      		cli
 8778               	 ;  0 "" 2
 8779               	.LVL521:
 8780               	/* #NOAPP */
 8781               	.LBE3619:
 8782               	.LBE3618:
 8783               		.loc 1 178 0
 8784 2174 1092 0000 		sts ep_in_data+2,__zero_reg__
 8785 2178 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 8786               	.LVL522:
 8787               	.LBB3620:
 8788               	.LBB3621:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 8789               		.loc 4 81 0
 8790 217c 8091 0000 		lds r24,ep_in_pipe_data+4
 8791 2180 8F5F      		subi r24,lo8(-(1))
 8792 2182 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 8793               		.loc 4 82 0
 8794 2186 8091 0000 		lds r24,ep_in_pipe_data+2
 8795 218a 9091 0000 		lds r25,ep_in_pipe_data+2+1
 8796 218e 805C      		subi r24,lo8(-(64))
 8797 2190 9F4F      		sbci r25,hi8(-(64))
 8798 2192 8093 0000 		sts ep_in_pipe_data+2,r24
 8799 2196 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 8800               		.loc 4 84 0
 8801 219a 20E0      		ldi r18,hi8(ep_in_pipe_buffer+512)
 8802 219c 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 8803 219e 9207      		cpc r25,r18
 8804               	.LVL523:
 8805 21a0 01F4      		brne .L376
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 8806               		.loc 4 85 0
 8807 21a2 A092 0000 		sts ep_in_pipe_data+2,r10
 8808 21a6 B092 0000 		sts ep_in_pipe_data+2+1,r11
 8809               	.L376:
 8810               	.LVL524:
 8811               	.LBE3621:
 8812               	.LBE3620:
 8813               	.LBB3622:
 8814               	.LBB3615:
 8815               	.LBB3612:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8816               		.loc 1 80 0
 8817 21aa 5FB7      		in r21,__SREG__
 8818               	.LVL525:
 8819               	.LBB3590:
 8820               	.LBB3591:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8821               		.loc 2 50 0
 8822               	/* #APP */
 8823               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8824 21ac F894      		cli
 8825               	 ;  0 "" 2
 8826               	.LVL526:
 8827               	/* #NOAPP */
 8828               	.LBE3591:
 8829               	.LBE3590:
 8830               	.LBB3592:
 8831               	.LBB3565:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8832               		.loc 3 220 0
 8833 21ae 8091 0000 		lds r24,endpoints+24
 8834 21b2 8670      		andi r24,lo8(6)
 8835               	.LBE3565:
 8836               	.LBE3592:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 8837               		.loc 1 82 0
 8838 21b4 01F0      		breq .+2
 8839 21b6 00C0      		rjmp .L485
 8840               	.LVL527:
 8841               	.L377:
 8842               	.LBB3593:
 8843               	.LBB3594:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8844               		.loc 2 70 0
 8845 21b8 5FBF      		out __SREG__,r21
 8846               		.loc 2 71 0
 8847               	.LVL528:
 8848               	.LBE3594:
 8849               	.LBE3593:
 8850               	.LBE3612:
 8851               	.LBE3615:
 8852               	.LBE3622:
 8853               	.LBB3623:
 8854               	.LBB3624:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8855               		.loc 2 70 0
 8856 21ba BFBF      		out __SREG__,r27
 8857               		.loc 2 71 0
 8858               	.LBE3624:
 8859               	.LBE3623:
 8860               	.LBE3627:
 8861               	.LBE3630:
 8862               	.LBE3633:
 8863               	.LBE3640:
 8864               	.LBE3644:
 8865               	.LBE3648:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 8866               		.loc 7 5 0
 8867 21bc F601      		movw r30,r12
 8868 21be 2191      		ld r18,Z+
 8869 21c0 2223      		tst r18
 8870 21c2 01F0      		breq .+2
 8871 21c4 00C0      		rjmp .L486
 8872               	.LVL529:
 8873               	.L386:
 8874               	.LBB3649:
 8875               	.LBB3650:
 8876               	.LBB3651:
 8877               	.LBB3652:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 8878               		.loc 1 110 0
 8879 21c6 81E0      		ldi r24,lo8(1)
 8880 21c8 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 8881               		.loc 1 111 0
 8882 21cc 0E94 0000 		call usb_pipe_handle.constprop.9
 8883               	.LVL530:
 8884               	.LBE3652:
 8885               	.LBE3651:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 8886               		.loc 5 27 0
 8887 21d0 82E0      		ldi r24,lo8(2)
 8888 21d2 E0EC      		ldi r30,lo8(1216)
 8889 21d4 F4E0      		ldi r31,hi8(1216)
 8890 21d6 8587      		std Z+13,r24
 8891               	.LBB3653:
 8892               	.LBB3654:
 8893               	.LBB3655:
 8894               	.LBB3656:
 8895               	.LBB3657:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8896               		.loc 4 57 0
 8897 21d8 36E0      		ldi r19,lo8(6)
 8898               	.L387:
 8899               	.LVL531:
 8900               	.LBE3657:
 8901               	.LBE3656:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8902               		.loc 1 123 0
 8903 21da 9FB7      		in r25,__SREG__
 8904               	.LVL532:
 8905               	.LBB3659:
 8906               	.LBB3660:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8907               		.loc 2 50 0
 8908               	/* #APP */
 8909               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8910 21dc F894      		cli
 8911               	 ;  0 "" 2
 8912               	.LVL533:
 8913               	/* #NOAPP */
 8914               	.LBE3660:
 8915               	.LBE3659:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8916               		.loc 1 124 0
 8917 21de 8091 0000 		lds r24,ep_in_data+1
 8918 21e2 8823      		tst r24
 8919 21e4 01F4      		brne .+2
 8920 21e6 00C0      		rjmp .L487
 8921               	.L452:
 125:usb/usb_pipe.h **** 			r = false;
 8922               		.loc 1 125 0
 8923 21e8 80E0      		ldi r24,lo8(0)
 8924               	.L389:
 8925               	.LBB3661:
 8926               	.LBB3662:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8927               		.loc 2 70 0
 8928 21ea 9FBF      		out __SREG__,r25
 8929               		.loc 2 71 0
 8930               	.LBE3662:
 8931               	.LBE3661:
 8932               	.LBE3655:
 8933               	.LBE3654:
 8934               	.LBE3653:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 8935               		.loc 5 28 0
 8936 21ec 8823      		tst r24
 8937 21ee 01F4      		brne .L388
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 8938               		.loc 5 29 0
 8939 21f0 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 8940 21f4 8823      		tst r24
 8941 21f6 01F0      		breq .L387
 8942               	.LVL534:
 8943               	.LBB3666:
 8944               	.LBB3667:
 8945               	.LBB3668:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8946               		.loc 1 54 0
 8947 21f8 2FB7      		in r18,__SREG__
 8948               	.LVL535:
 8949               	.LBB3669:
 8950               	.LBB3670:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8951               		.loc 2 50 0
 8952               	/* #APP */
 8953               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8954 21fa F894      		cli
 8955               	 ;  0 "" 2
 8956               	.LVL536:
 8957               	/* #NOAPP */
 8958               	.LBE3670:
 8959               	.LBE3669:
 8960               	.LBB3671:
 8961               	.LBB3672:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 8962               		.loc 4 90 0
 8963 21fc 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 8964               		.loc 4 91 0
 8965 2200 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 8966 2202 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 8967 2204 8093 0000 		sts ep_in_pipe_data+2,r24
 8968 2208 9093 0000 		sts ep_in_pipe_data+2+1,r25
 8969 220c 8093 0000 		sts ep_in_pipe_data,r24
 8970 2210 9093 0000 		sts ep_in_pipe_data+1,r25
 8971               	.LVL537:
 8972               	.LBE3672:
 8973               	.LBE3671:
 8974               	.LBB3673:
 8975               	.LBB3674:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8976               		.loc 3 158 0
 8977 2214 E0E0      		ldi r30,lo8(endpoints+24)
 8978 2216 F0E0      		ldi r31,hi8(endpoints+24)
 8979               	/* #APP */
 8980               	 ;  158 "usb/usb.h" 1
 8981 2218 06E0      		ldi r16, 6
 8982 221a 0593      		.dc.w 0x9305
 8983               		
 8984               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 8985               		.loc 3 159 0
 8986               	 ;  159 "usb/usb.h" 1
 8987 221c 08E0      		ldi r16, 8
 8988 221e 0693      		.dc.w 0x9306
 8989               		
 8990               	 ;  0 "" 2
 8991               	/* #NOAPP */
 8992               	.LBE3674:
 8993               	.LBE3673:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 8994               		.loc 1 57 0
 8995 2220 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 8996               		.loc 1 58 0
 8997 2224 1092 0000 		sts ep_in_data+2,__zero_reg__
 8998 2228 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 8999               		.loc 1 59 0
 9000 222c 1092 0000 		sts ep_in_data,__zero_reg__
 9001               	.LVL538:
 9002               	.LBB3675:
 9003               	.LBB3676:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9004               		.loc 2 70 0
 9005 2230 2FBF      		out __SREG__,r18
 9006               		.loc 2 71 0
 9007               	.LVL539:
 9008               	.L388:
 9009               	.LBE3676:
 9010               	.LBE3675:
 9011               	.LBE3668:
 9012               	.LBE3667:
 9013               	.LBE3666:
 9014               	.LBE3650:
 9015               	.LBE3649:
 9016               	.LBE3682:
 9017               	.LBE3691:
  52:gps/gps.h     ****   break_and_flush();
  53:gps/gps.h     **** 
  54:gps/gps.h     ****   // send_string("Delay complete");
  55:gps/gps.h     **** 
  56:gps/gps.h     ****   // LOW/HIGH transmission of PD5 to wakeup gps module 
  57:gps/gps.h     ****   send_string("Turn on -- wait 10 seconds");
  58:gps/gps.h     ****   PORTD.OUTTGL = PIN5_bm;
 9018               		.loc 10 58 0
 9019 2232 E0E6      		ldi r30,lo8(1632)
 9020 2234 F6E0      		ldi r31,hi8(1632)
 9021 2236 80E2      		ldi r24,lo8(32)
 9022 2238 8783      		std Z+7,r24
 9023               	.LVL540:
 9024               	.LBB3692:
 9025               	.LBB3693:
 9026               		.loc 11 164 0
 9027 223a 2FEF      		 ldi r18,lo8(1599999)
 9028 223c 39E6      	    ldi r19,hi8(1599999)
 9029 223e 48E1      	    ldi r20,hlo8(1599999)
 9030 2240 2150      	    1:subi r18,1
 9031 2242 3040      	    sbci r19,0
 9032 2244 4040      	    sbci r20,0
 9033 2246 01F4      	    brne 1b
 9034 2248 00C0      		rjmp .
 9035 224a 0000      		nop
 9036               	.LBE3693:
 9037               	.LBE3692:
  59:gps/gps.h     ****   _delay_ms(250);
  60:gps/gps.h     ****   PORTD.OUTTGL = PIN5_bm;
 9038               		.loc 10 60 0
 9039 224c 8783      		std Z+7,r24
  61:gps/gps.h     ****   send_byte(PORTD.OUTTGL);
 9040               		.loc 10 61 0
 9041 224e 4091 6706 		lds r20,1639
 9042               	.LVL541:
 9043               	.LBB3694:
 9044               	.LBB3695:
 9045               	.LBB3696:
 9046               	.LBB3697:
 9047               	.LBB3698:
 9048               	.LBB3699:
 9049               	.LBB3700:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9050               		.loc 4 57 0
 9051 2252 36E0      		ldi r19,lo8(6)
 9052               	.LVL542:
 9053               	.L394:
 9054               	.LBE3700:
 9055               	.LBE3699:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9056               		.loc 1 123 0
 9057 2254 9FB7      		in r25,__SREG__
 9058               	.LVL543:
 9059               	.LBB3702:
 9060               	.LBB3703:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9061               		.loc 2 50 0
 9062               	/* #APP */
 9063               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9064 2256 F894      		cli
 9065               	 ;  0 "" 2
 9066               	.LVL544:
 9067               	/* #NOAPP */
 9068               	.LBE3703:
 9069               	.LBE3702:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9070               		.loc 1 124 0
 9071 2258 8091 0000 		lds r24,ep_in_data+1
 9072 225c 8823      		tst r24
 9073 225e 01F4      		brne .+2
 9074 2260 00C0      		rjmp .L488
 9075               	.L453:
 125:usb/usb_pipe.h **** 			r = false;
 9076               		.loc 1 125 0
 9077 2262 80E0      		ldi r24,lo8(0)
 9078               	.L392:
 9079               	.LBB3704:
 9080               	.LBB3705:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9081               		.loc 2 70 0
 9082 2264 9FBF      		out __SREG__,r25
 9083               		.loc 2 71 0
 9084               	.LBE3705:
 9085               	.LBE3704:
 9086               	.LBE3698:
 9087               	.LBE3697:
 9088               	.LBE3696:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 9089               		.loc 5 20 0
 9090 2266 8823      		tst r24
 9091 2268 01F0      		breq .L394
 9092               	.LVL545:
 9093               	.LBB3709:
 9094               	.LBB3710:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 9095               		.loc 1 175 0
 9096 226a 8091 0000 		lds r24,ep_in_data+2
 9097 226e 9091 0000 		lds r25,ep_in_data+2+1
 9098 2272 E091 0000 		lds r30,ep_in_pipe_data+2
 9099 2276 F091 0000 		lds r31,ep_in_pipe_data+2+1
 9100 227a E80F      		add r30,r24
 9101 227c F91F      		adc r31,r25
 9102 227e 4083      		st Z,r20
 9103 2280 0196      		adiw r24,1
 9104 2282 8093 0000 		sts ep_in_data+2,r24
 9105 2286 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 9106               		.loc 1 176 0
 9107 228a 8034      		cpi r24,64
 9108 228c 9105      		cpc r25,__zero_reg__
 9109 228e 01F4      		brne .+2
 9110 2290 00C0      		rjmp .L489
 9111               	.LVL546:
 9112               	.L395:
 9113               	.LBE3710:
 9114               	.LBE3709:
 9115               	.LBE3695:
 9116               	.LBE3694:
 9117               	.LBB3781:
 9118               	.LBB3782:
 9119               		.loc 11 164 0
 9120 2292 84E5      		 ldi r24,lo8(53333332)
 9121 2294 9DEC      	    ldi r25,hi8(53333332)
 9122 2296 ADE2      	    ldi r26,hlo8(53333332)
 9123 2298 B3E0      	    ldi r27,hhi8(53333332)
 9124 229a 8150      	    1:subi r24,1
 9125 229c 9040      	    sbci r25,0
 9126 229e A040      	    sbci r26,0
 9127 22a0 B040      	    sbci r27,0
 9128 22a2 01F4      	    brne 1b
 9129 22a4 00C0      		rjmp .
 9130 22a6 00C0      		rjmp .
 9131 22a8 0000      		nop
 9132               	.LBE3782:
 9133               	.LBE3781:
  62:gps/gps.h     ****   // break_and_flush();
  63:gps/gps.h     ****   _delay_ms(10000);
  64:gps/gps.h     **** 
  65:gps/gps.h     ****   // send_string("Wake up gps");
  66:gps/gps.h     **** 
  67:gps/gps.h     ****   // Set the TxD pin as an output - set PORTD OUT register bit 3 to 1 
  68:gps/gps.h     ****   PORTD.DIRSET |= PIN3_bm; 
 9134               		.loc 10 68 0
 9135 22aa 8091 6106 		lds r24,1633
 9136 22ae 8860      		ori r24,lo8(8)
 9137 22b0 E0E6      		ldi r30,lo8(1632)
 9138 22b2 F6E0      		ldi r31,hi8(1632)
 9139 22b4 8183      		std Z+1,r24
  69:gps/gps.h     ****   send_byte(PORTD.DIRSET);
 9140               		.loc 10 69 0
 9141 22b6 4091 6106 		lds r20,1633
 9142               	.LVL547:
 9143               	.LBB3783:
 9144               	.LBB3784:
 9145               	.LBB3785:
 9146               	.LBB3786:
 9147               	.LBB3787:
 9148               	.LBB3788:
 9149               	.LBB3789:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9150               		.loc 4 57 0
 9151 22ba 36E0      		ldi r19,lo8(6)
 9152               	.L408:
 9153               	.LBE3789:
 9154               	.LBE3788:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9155               		.loc 1 123 0
 9156 22bc 9FB7      		in r25,__SREG__
 9157               	.LVL548:
 9158               	.LBB3791:
 9159               	.LBB3792:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9160               		.loc 2 50 0
 9161               	/* #APP */
 9162               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9163 22be F894      		cli
 9164               	 ;  0 "" 2
 9165               	.LVL549:
 9166               	/* #NOAPP */
 9167               	.LBE3792:
 9168               	.LBE3791:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9169               		.loc 1 124 0
 9170 22c0 8091 0000 		lds r24,ep_in_data+1
 9171 22c4 8823      		tst r24
 9172 22c6 01F4      		brne .+2
 9173 22c8 00C0      		rjmp .L490
 9174               	.L454:
 125:usb/usb_pipe.h **** 			r = false;
 9175               		.loc 1 125 0
 9176 22ca 80E0      		ldi r24,lo8(0)
 9177               	.L406:
 9178               	.LBB3793:
 9179               	.LBB3794:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9180               		.loc 2 70 0
 9181 22cc 9FBF      		out __SREG__,r25
 9182               		.loc 2 71 0
 9183               	.LBE3794:
 9184               	.LBE3793:
 9185               	.LBE3787:
 9186               	.LBE3786:
 9187               	.LBE3785:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 9188               		.loc 5 20 0
 9189 22ce 8823      		tst r24
 9190 22d0 01F0      		breq .L408
 9191               	.LVL550:
 9192               	.LBB3798:
 9193               	.LBB3799:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 9194               		.loc 1 175 0
 9195 22d2 8091 0000 		lds r24,ep_in_data+2
 9196 22d6 9091 0000 		lds r25,ep_in_data+2+1
 9197 22da E091 0000 		lds r30,ep_in_pipe_data+2
 9198 22de F091 0000 		lds r31,ep_in_pipe_data+2+1
 9199 22e2 E80F      		add r30,r24
 9200 22e4 F91F      		adc r31,r25
 9201 22e6 4083      		st Z,r20
 9202 22e8 0196      		adiw r24,1
 9203 22ea 8093 0000 		sts ep_in_data+2,r24
 9204 22ee 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 9205               		.loc 1 176 0
 9206 22f2 8034      		cpi r24,64
 9207 22f4 9105      		cpc r25,__zero_reg__
 9208 22f6 01F4      		brne .+2
 9209 22f8 00C0      		rjmp .L491
 9210               	.LVL551:
 9211               	.L409:
 9212               	.LBE3799:
 9213               	.LBE3798:
 9214               	.LBE3784:
 9215               	.LBE3783:
 9216               	.LBB3870:
 9217               	.LBB3871:
 9218               	.LBB3872:
 9219               	.LBB3873:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 9220               		.loc 1 110 0
 9221 22fa 81E0      		ldi r24,lo8(1)
 9222 22fc 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 9223               		.loc 1 111 0
 9224 2300 0E94 0000 		call usb_pipe_handle.constprop.9
 9225               	.LVL552:
 9226               	.LBE3873:
 9227               	.LBE3872:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 9228               		.loc 5 27 0
 9229 2304 82E0      		ldi r24,lo8(2)
 9230 2306 E0EC      		ldi r30,lo8(1216)
 9231 2308 F4E0      		ldi r31,hi8(1216)
 9232 230a 8587      		std Z+13,r24
 9233               	.LBB3874:
 9234               	.LBB3875:
 9235               	.LBB3876:
 9236               	.LBB3877:
 9237               	.LBB3878:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9238               		.loc 4 57 0
 9239 230c 36E0      		ldi r19,lo8(6)
 9240               	.L420:
 9241               	.LVL553:
 9242               	.LBE3878:
 9243               	.LBE3877:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9244               		.loc 1 123 0
 9245 230e 9FB7      		in r25,__SREG__
 9246               	.LVL554:
 9247               	.LBB3880:
 9248               	.LBB3881:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9249               		.loc 2 50 0
 9250               	/* #APP */
 9251               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9252 2310 F894      		cli
 9253               	 ;  0 "" 2
 9254               	.LVL555:
 9255               	/* #NOAPP */
 9256               	.LBE3881:
 9257               	.LBE3880:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9258               		.loc 1 124 0
 9259 2312 8091 0000 		lds r24,ep_in_data+1
 9260 2316 8823      		tst r24
 9261 2318 01F4      		brne .+2
 9262 231a 00C0      		rjmp .L492
 9263               	.L455:
 125:usb/usb_pipe.h **** 			r = false;
 9264               		.loc 1 125 0
 9265 231c 80E0      		ldi r24,lo8(0)
 9266               	.L422:
 9267               	.LBB3882:
 9268               	.LBB3883:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9269               		.loc 2 70 0
 9270 231e 9FBF      		out __SREG__,r25
 9271               		.loc 2 71 0
 9272               	.LBE3883:
 9273               	.LBE3882:
 9274               	.LBE3876:
 9275               	.LBE3875:
 9276               	.LBE3874:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 9277               		.loc 5 28 0
 9278 2320 8823      		tst r24
 9279 2322 01F4      		brne .L421
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 9280               		.loc 5 29 0
 9281 2324 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 9282 2328 8823      		tst r24
 9283 232a 01F0      		breq .L420
 9284               	.LVL556:
 9285               	.LBB3887:
 9286               	.LBB3888:
 9287               	.LBB3889:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9288               		.loc 1 54 0
 9289 232c 2FB7      		in r18,__SREG__
 9290               	.LVL557:
 9291               	.LBB3890:
 9292               	.LBB3891:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9293               		.loc 2 50 0
 9294               	/* #APP */
 9295               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9296 232e F894      		cli
 9297               	 ;  0 "" 2
 9298               	.LVL558:
 9299               	/* #NOAPP */
 9300               	.LBE3891:
 9301               	.LBE3890:
 9302               	.LBB3892:
 9303               	.LBB3893:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 9304               		.loc 4 90 0
 9305 2330 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 9306               		.loc 4 91 0
 9307 2334 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 9308 2336 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 9309 2338 8093 0000 		sts ep_in_pipe_data+2,r24
 9310 233c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 9311 2340 8093 0000 		sts ep_in_pipe_data,r24
 9312 2344 9093 0000 		sts ep_in_pipe_data+1,r25
 9313               	.LVL559:
 9314               	.LBE3893:
 9315               	.LBE3892:
 9316               	.LBB3894:
 9317               	.LBB3895:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9318               		.loc 3 158 0
 9319 2348 E0E0      		ldi r30,lo8(endpoints+24)
 9320 234a F0E0      		ldi r31,hi8(endpoints+24)
 9321               	/* #APP */
 9322               	 ;  158 "usb/usb.h" 1
 9323 234c 06E0      		ldi r16, 6
 9324 234e 0593      		.dc.w 0x9305
 9325               		
 9326               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 9327               		.loc 3 159 0
 9328               	 ;  159 "usb/usb.h" 1
 9329 2350 08E0      		ldi r16, 8
 9330 2352 0693      		.dc.w 0x9306
 9331               		
 9332               	 ;  0 "" 2
 9333               	/* #NOAPP */
 9334               	.LBE3895:
 9335               	.LBE3894:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 9336               		.loc 1 57 0
 9337 2354 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 9338               		.loc 1 58 0
 9339 2358 1092 0000 		sts ep_in_data+2,__zero_reg__
 9340 235c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 9341               		.loc 1 59 0
 9342 2360 1092 0000 		sts ep_in_data,__zero_reg__
 9343               	.LVL560:
 9344               	.LBB3896:
 9345               	.LBB3897:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9346               		.loc 2 70 0
 9347 2364 2FBF      		out __SREG__,r18
 9348               		.loc 2 71 0
 9349               	.LVL561:
 9350               	.L421:
 9351               	.LBE3897:
 9352               	.LBE3896:
 9353               	.LBE3889:
 9354               	.LBE3888:
 9355               	.LBE3887:
 9356               	.LBE3871:
 9357               	.LBE3870:
  70:gps/gps.h     ****   break_and_flush();
  71:gps/gps.h     **** 
  72:gps/gps.h     ****   // Set the TxD pin high - set PORTD DIR register bit 3 to 1 
  73:gps/gps.h     ****   PORTD.OUTSET |= PIN3_bm; 
 9358               		.loc 10 73 0
 9359 2366 8091 6506 		lds r24,1637
 9360 236a 8860      		ori r24,lo8(8)
 9361 236c E0E6      		ldi r30,lo8(1632)
 9362 236e F6E0      		ldi r31,hi8(1632)
 9363 2370 8583      		std Z+5,r24
  74:gps/gps.h     ****   send_byte(PORTD.OUTSET);
 9364               		.loc 10 74 0
 9365 2372 4091 6506 		lds r20,1637
 9366               	.LVL562:
 9367               	.LBB3900:
 9368               	.LBB3901:
 9369               	.LBB3902:
 9370               	.LBB3903:
 9371               	.LBB3904:
 9372               	.LBB3905:
 9373               	.LBB3906:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9374               		.loc 4 57 0
 9375 2376 36E0      		ldi r19,lo8(6)
 9376               	.LVL563:
 9377               	.L427:
 9378               	.LBE3906:
 9379               	.LBE3905:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9380               		.loc 1 123 0
 9381 2378 9FB7      		in r25,__SREG__
 9382               	.LVL564:
 9383               	.LBB3908:
 9384               	.LBB3909:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9385               		.loc 2 50 0
 9386               	/* #APP */
 9387               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9388 237a F894      		cli
 9389               	 ;  0 "" 2
 9390               	.LVL565:
 9391               	/* #NOAPP */
 9392               	.LBE3909:
 9393               	.LBE3908:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9394               		.loc 1 124 0
 9395 237c 8091 0000 		lds r24,ep_in_data+1
 9396 2380 8823      		tst r24
 9397 2382 01F4      		brne .+2
 9398 2384 00C0      		rjmp .L493
 9399               	.L456:
 125:usb/usb_pipe.h **** 			r = false;
 9400               		.loc 1 125 0
 9401 2386 80E0      		ldi r24,lo8(0)
 9402               	.L425:
 9403               	.LBB3910:
 9404               	.LBB3911:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9405               		.loc 2 70 0
 9406 2388 9FBF      		out __SREG__,r25
 9407               		.loc 2 71 0
 9408               	.LBE3911:
 9409               	.LBE3910:
 9410               	.LBE3904:
 9411               	.LBE3903:
 9412               	.LBE3902:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 9413               		.loc 5 20 0
 9414 238a 8823      		tst r24
 9415 238c 01F0      		breq .L427
 9416               	.LVL566:
 9417               	.LBB3915:
 9418               	.LBB3916:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 9419               		.loc 1 175 0
 9420 238e 8091 0000 		lds r24,ep_in_data+2
 9421 2392 9091 0000 		lds r25,ep_in_data+2+1
 9422 2396 E091 0000 		lds r30,ep_in_pipe_data+2
 9423 239a F091 0000 		lds r31,ep_in_pipe_data+2+1
 9424 239e E80F      		add r30,r24
 9425 23a0 F91F      		adc r31,r25
 9426 23a2 4083      		st Z,r20
 9427 23a4 0196      		adiw r24,1
 9428 23a6 8093 0000 		sts ep_in_data+2,r24
 9429 23aa 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 9430               		.loc 1 176 0
 9431 23ae 8034      		cpi r24,64
 9432 23b0 9105      		cpc r25,__zero_reg__
 9433 23b2 01F4      		brne .+2
 9434 23b4 00C0      		rjmp .L494
 9435               	.LVL567:
 9436               	.L428:
 9437               	.LBE3916:
 9438               	.LBE3915:
 9439               	.LBE3901:
 9440               	.LBE3900:
 9441               	.LBB3987:
 9442               	.LBB3988:
 9443               	.LBB3989:
 9444               	.LBB3990:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 9445               		.loc 1 110 0
 9446 23b6 81E0      		ldi r24,lo8(1)
 9447 23b8 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 9448               		.loc 1 111 0
 9449 23bc 0E94 0000 		call usb_pipe_handle.constprop.9
 9450               	.LVL568:
 9451               	.LBE3990:
 9452               	.LBE3989:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 9453               		.loc 5 27 0
 9454 23c0 82E0      		ldi r24,lo8(2)
 9455 23c2 E0EC      		ldi r30,lo8(1216)
 9456 23c4 F4E0      		ldi r31,hi8(1216)
 9457 23c6 8587      		std Z+13,r24
 9458               	.LBB3991:
 9459               	.LBB3992:
 9460               	.LBB3993:
 9461               	.LBB3994:
 9462               	.LBB3995:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9463               		.loc 4 57 0
 9464 23c8 36E0      		ldi r19,lo8(6)
 9465               	.L439:
 9466               	.LVL569:
 9467               	.LBE3995:
 9468               	.LBE3994:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9469               		.loc 1 123 0
 9470 23ca 9FB7      		in r25,__SREG__
 9471               	.LVL570:
 9472               	.LBB3997:
 9473               	.LBB3998:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9474               		.loc 2 50 0
 9475               	/* #APP */
 9476               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9477 23cc F894      		cli
 9478               	 ;  0 "" 2
 9479               	.LVL571:
 9480               	/* #NOAPP */
 9481               	.LBE3998:
 9482               	.LBE3997:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9483               		.loc 1 124 0
 9484 23ce 8091 0000 		lds r24,ep_in_data+1
 9485 23d2 8823      		tst r24
 9486 23d4 01F4      		brne .+2
 9487 23d6 00C0      		rjmp .L495
 9488               	.L457:
 125:usb/usb_pipe.h **** 			r = false;
 9489               		.loc 1 125 0
 9490 23d8 80E0      		ldi r24,lo8(0)
 9491               	.L441:
 9492               	.LBB3999:
 9493               	.LBB4000:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9494               		.loc 2 70 0
 9495 23da 9FBF      		out __SREG__,r25
 9496               		.loc 2 71 0
 9497               	.LBE4000:
 9498               	.LBE3999:
 9499               	.LBE3993:
 9500               	.LBE3992:
 9501               	.LBE3991:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 9502               		.loc 5 28 0
 9503 23dc 8823      		tst r24
 9504 23de 01F4      		brne .L313
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 9505               		.loc 5 29 0
 9506 23e0 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 9507 23e4 8823      		tst r24
 9508 23e6 01F0      		breq .L439
 9509               	.LVL572:
 9510               	.LBB4004:
 9511               	.LBB4005:
 9512               	.LBB4006:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9513               		.loc 1 54 0
 9514 23e8 2FB7      		in r18,__SREG__
 9515               	.LVL573:
 9516               	.LBB4007:
 9517               	.LBB4008:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9518               		.loc 2 50 0
 9519               	/* #APP */
 9520               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9521 23ea F894      		cli
 9522               	 ;  0 "" 2
 9523               	.LVL574:
 9524               	/* #NOAPP */
 9525               	.LBE4008:
 9526               	.LBE4007:
 9527               	.LBB4009:
 9528               	.LBB4010:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 9529               		.loc 4 90 0
 9530 23ec 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 9531               		.loc 4 91 0
 9532 23f0 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 9533 23f2 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 9534 23f4 8093 0000 		sts ep_in_pipe_data+2,r24
 9535 23f8 9093 0000 		sts ep_in_pipe_data+2+1,r25
 9536 23fc 8093 0000 		sts ep_in_pipe_data,r24
 9537 2400 9093 0000 		sts ep_in_pipe_data+1,r25
 9538               	.LVL575:
 9539               	.LBE4010:
 9540               	.LBE4009:
 9541               	.LBB4011:
 9542               	.LBB4012:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9543               		.loc 3 158 0
 9544 2404 E0E0      		ldi r30,lo8(endpoints+24)
 9545 2406 F0E0      		ldi r31,hi8(endpoints+24)
 9546               	/* #APP */
 9547               	 ;  158 "usb/usb.h" 1
 9548 2408 06E0      		ldi r16, 6
 9549 240a 0593      		.dc.w 0x9305
 9550               		
 9551               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 9552               		.loc 3 159 0
 9553               	 ;  159 "usb/usb.h" 1
 9554 240c 08E0      		ldi r16, 8
 9555 240e 0693      		.dc.w 0x9306
 9556               		
 9557               	 ;  0 "" 2
 9558               	/* #NOAPP */
 9559               	.LBE4012:
 9560               	.LBE4011:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 9561               		.loc 1 57 0
 9562 2410 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 9563               		.loc 1 58 0
 9564 2414 1092 0000 		sts ep_in_data+2,__zero_reg__
 9565 2418 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 9566               		.loc 1 59 0
 9567 241c 1092 0000 		sts ep_in_data,__zero_reg__
 9568               	.LVL576:
 9569               	.LBB4013:
 9570               	.LBB4014:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9571               		.loc 2 70 0
 9572 2420 2FBF      		out __SREG__,r18
 9573               		.loc 2 71 0
 9574               	.LVL577:
 9575               	.L313:
 9576               	/* epilogue start */
 9577               	.LBE4014:
 9578               	.LBE4013:
 9579               	.LBE4006:
 9580               	.LBE4005:
 9581               	.LBE4004:
 9582               	.LBE3988:
 9583               	.LBE3987:
  75:gps/gps.h     ****   break_and_flush();
  76:gps/gps.h     **** 
  77:gps/gps.h     **** }
 9584               		.loc 10 77 0
 9585 2422 DF91      		pop r29
 9586 2424 CF91      		pop r28
 9587 2426 1F91      		pop r17
 9588 2428 0F91      		pop r16
 9589 242a FF90      		pop r15
 9590 242c EF90      		pop r14
 9591 242e DF90      		pop r13
 9592 2430 CF90      		pop r12
 9593 2432 BF90      		pop r11
 9594 2434 AF90      		pop r10
 9595 2436 0895      		ret
 9596               	.LVL578:
 9597               	.L485:
 9598               	.LBB4017:
 9599               	.LBB3683:
 9600               	.LBB3679:
 9601               	.LBB3645:
 9602               	.LBB3641:
 9603               	.LBB3634:
 9604               	.LBB3631:
 9605               	.LBB3628:
 9606               	.LBB3625:
 9607               	.LBB3616:
 9608               	.LBB3613:
 9609               	.LBB3595:
 9610               	.LBB3596:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 9611               		.loc 4 51 0
 9612 2438 A091 0000 		lds r26,ep_in_pipe_data+4
 9613               	.LBE3596:
 9614               	.LBE3595:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 9615               		.loc 1 83 0
 9616 243c 1A16      		cp __zero_reg__,r26
 9617 243e 04F0      		brlt .+2
 9618 2440 00C0      		rjmp .L378
 9619               	.LBB3597:
 9620               	.LBB3598:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 9621               		.loc 4 62 0
 9622 2442 2091 0000 		lds r18,ep_in_pipe_data
 9623 2446 3091 0000 		lds r19,ep_in_pipe_data+1
 9624               	.LVL579:
 9625               	.LBE3598:
 9626               	.LBE3597:
 9627               	.LBB3599:
 9628               	.LBB3588:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 9629               		.loc 1 68 0
 9630 244a E091 0000 		lds r30,ep_in_data
 9631               	.LVL580:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 9632               		.loc 1 69 0
 9633 244e 8E2F      		mov r24,r30
 9634 2450 90E0      		ldi r25,lo8(0)
 9635               	.LVL581:
 9636 2452 F1E0      		ldi r31,lo8(1)
 9637 2454 8C17      		cp r24,r28
 9638 2456 9D07      		cpc r25,r29
 9639 2458 01F4      		brne .L379
 9640 245a F0E0      		ldi r31,lo8(0)
 9641               	.L379:
 9642 245c F093 0000 		sts ep_in_data,r31
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 9643               		.loc 1 72 0
 9644 2460 EE23      		tst r30
 9645 2462 01F4      		brne .L380
 9646               	.LVL582:
 9647               	.LBB3585:
 9648               	.LBB3586:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9649               		.loc 3 168 0
 9650 2464 2093 0000 		sts endpoints+28,r18
 9651 2468 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9652               		.loc 3 169 0
 9653 246c E092 0000 		sts endpoints+26,r14
 9654 2470 F092 0000 		sts endpoints+26+1,r15
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 9655               		.loc 3 174 0
 9656 2474 FB01      		movw r30,r22
 9657               	/* #APP */
 9658               	 ;  174 "usb/usb.h" 1
 9659 2476 02E2      		ldi r16, 34
 9660 2478 0693      		.dc.w 0x9306
 9661               		
 9662               	 ;  0 "" 2
 9663               	.LVL583:
 9664               	/* #NOAPP */
 9665               	.L381:
 9666               	.LBE3586:
 9667               	.LBE3585:
 9668               	.LBE3588:
 9669               	.LBE3599:
 9670               	.LBB3600:
 9671               	.LBB3601:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 9672               		.loc 4 72 0
 9673 247a A150      		subi r26,lo8(-(-1))
 9674 247c A093 0000 		sts ep_in_pipe_data+4,r26
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 9675               		.loc 4 73 0
 9676 2480 C901      		movw r24,r18
 9677 2482 805C      		subi r24,lo8(-(64))
 9678 2484 9F4F      		sbci r25,hi8(-(64))
 9679 2486 8093 0000 		sts ep_in_pipe_data,r24
 9680 248a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 9681               		.loc 4 75 0
 9682 248e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 9683 2490 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 9684 2492 9F07      		cpc r25,r31
 9685 2494 01F0      		breq .+2
 9686 2496 00C0      		rjmp .L377
 9687               	.LBE3601:
 9688               	.LBE3600:
 9689               	.LBB3602:
 9690               	.LBB3568:
 9691               		.loc 4 91 0
 9692 2498 A092 0000 		sts ep_in_pipe_data,r10
 9693 249c B092 0000 		sts ep_in_pipe_data+1,r11
 9694               	.LVL584:
 9695 24a0 00C0      		rjmp .L377
 9696               	.LVL585:
 9697               	.L380:
 9698               	.LBE3568:
 9699               	.LBE3602:
 9700               	.LBB3603:
 9701               	.LBB3589:
 9702               	.LBB3587:
 9703               	.LBB3584:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9704               		.loc 3 168 0
 9705 24a2 2093 0000 		sts endpoints+20,r18
 9706 24a6 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9707               		.loc 3 169 0
 9708 24aa E092 0000 		sts endpoints+18,r14
 9709 24ae F092 0000 		sts endpoints+18+1,r15
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 9710               		.loc 3 176 0
 9711 24b2 FB01      		movw r30,r22
 9712               	/* #APP */
 9713               	 ;  176 "usb/usb.h" 1
 9714 24b4 04E1      		ldi r16, 20
 9715 24b6 0693      		.dc.w 0x9306
 9716               		
 9717               	 ;  0 "" 2
 9718               	/* #NOAPP */
 9719 24b8 00C0      		rjmp .L381
 9720               	.LVL586:
 9721               	.L378:
 9722               	.LBE3584:
 9723               	.LBE3587:
 9724               	.LBE3589:
 9725               	.LBE3603:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 9726               		.loc 1 87 0
 9727 24ba 8091 0000 		lds r24,ep_in_data+1
 9728 24be 8130      		cpi r24,lo8(1)
 9729 24c0 01F0      		breq .L496
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 9730               		.loc 1 91 0
 9731 24c2 8230      		cpi r24,lo8(2)
 9732 24c4 01F0      		breq .+2
 9733 24c6 00C0      		rjmp .L377
 9734               	.LVL587:
 9735               	.LBB3604:
 9736               	.LBB3605:
 9737               	.LBB3606:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 9738               		.loc 3 228 0
 9739 24c8 8091 0000 		lds r24,endpoints+24
 9740 24cc 8670      		andi r24,lo8(6)
 9741               	.LBE3606:
 9742               	.LBE3605:
 9743               	.LBE3604:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 9744               		.loc 1 91 0
 9745 24ce 8630      		cpi r24,lo8(6)
 9746 24d0 01F0      		breq .+2
 9747 24d2 00C0      		rjmp .L377
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 9748               		.loc 1 92 0
 9749 24d4 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 9750               		.loc 1 93 0
 9751 24d8 1092 0000 		sts ep_in_data+2,__zero_reg__
 9752 24dc 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 9753               	.LBB3607:
 9754               	.LBB3569:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 9755               		.loc 4 90 0
 9756 24e0 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 9757               		.loc 4 91 0
 9758 24e4 A092 0000 		sts ep_in_pipe_data+2,r10
 9759 24e8 B092 0000 		sts ep_in_pipe_data+2+1,r11
 9760 24ec A092 0000 		sts ep_in_pipe_data,r10
 9761 24f0 B092 0000 		sts ep_in_pipe_data+1,r11
 9762               	.LVL588:
 9763 24f4 00C0      		rjmp .L377
 9764               	.LVL589:
 9765               	.L496:
 9766               	.LBE3569:
 9767               	.LBE3607:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 9768               		.loc 1 88 0
 9769 24f6 22E0      		ldi r18,lo8(2)
 9770 24f8 2093 0000 		sts ep_in_data+1,r18
 9771               	.LBB3608:
 9772               	.LBB3609:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 9773               		.loc 4 62 0
 9774 24fc A091 0000 		lds r26,ep_in_pipe_data
 9775 2500 1091 0000 		lds r17,ep_in_pipe_data+1
 9776               	.LBE3609:
 9777               	.LBE3608:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 9778               		.loc 1 90 0
 9779 2504 2091 0000 		lds r18,ep_in_data+2
 9780 2508 3091 0000 		lds r19,ep_in_data+2+1
 9781               	.LVL590:
 9782               	.LBB3610:
 9783               	.LBB3578:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 9784               		.loc 1 68 0
 9785 250c F091 0000 		lds r31,ep_in_data
 9786               	.LVL591:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 9787               		.loc 1 69 0
 9788 2510 8F2F      		mov r24,r31
 9789 2512 90E0      		ldi r25,lo8(0)
 9790 2514 E1E0      		ldi r30,lo8(1)
 9791               	.LVL592:
 9792 2516 8C17      		cp r24,r28
 9793 2518 9D07      		cpc r25,r29
 9794 251a 01F4      		brne .L384
 9795 251c E0E0      		ldi r30,lo8(0)
 9796               	.L384:
 9797 251e E093 0000 		sts ep_in_data,r30
 9798               	.LBB3572:
 9799               	.LBB3573:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9800               		.loc 3 168 0
 9801 2522 8A2F      		mov r24,r26
 9802 2524 912F      		mov r25,r17
 9803               	.LBE3573:
 9804               	.LBE3572:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 9805               		.loc 1 72 0
 9806 2526 FF23      		tst r31
 9807 2528 01F0      		breq .+2
 9808 252a 00C0      		rjmp .L385
 9809               	.LVL593:
 9810               	.LBB3575:
 9811               	.LBB3574:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9812               		.loc 3 168 0
 9813 252c 8093 0000 		sts endpoints+28,r24
 9814 2530 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9815               		.loc 3 169 0
 9816 2534 2093 0000 		sts endpoints+26,r18
 9817 2538 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 9818               		.loc 3 174 0
 9819 253c FB01      		movw r30,r22
 9820               	/* #APP */
 9821               	 ;  174 "usb/usb.h" 1
 9822 253e 02E2      		ldi r16, 34
 9823 2540 0693      		.dc.w 0x9306
 9824               		
 9825               	 ;  0 "" 2
 9826               	/* #NOAPP */
 9827 2542 00C0      		rjmp .L377
 9828               	.LVL594:
 9829               	.L487:
 9830               	.LBE3574:
 9831               	.LBE3575:
 9832               	.LBE3578:
 9833               	.LBE3610:
 9834               	.LBE3613:
 9835               	.LBE3616:
 9836               	.LBE3625:
 9837               	.LBE3628:
 9838               	.LBE3631:
 9839               	.LBE3634:
 9840               	.LBE3641:
 9841               	.LBE3645:
 9842               	.LBE3679:
 9843               	.LBB3680:
 9844               	.LBB3678:
 9845               	.LBB3677:
 9846               	.LBB3665:
 9847               	.LBB3664:
 9848               	.LBB3663:
 9849               	.LBB3658:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9850               		.loc 4 57 0
 9851 2544 8091 0000 		lds r24,ep_in_pipe_data+4
 9852 2548 232F      		mov r18,r19
 9853 254a 281B      		sub r18,r24
 9854               	.LBE3658:
 9855               	.LBE3663:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9856               		.loc 1 127 0
 9857 254c 81E0      		ldi r24,lo8(1)
 9858 254e 1216      		cp __zero_reg__,r18
 9859 2550 04F4      		brge .+2
 9860 2552 00C0      		rjmp .L389
 9861 2554 00C0      		rjmp .L452
 9862               	.LVL595:
 9863               	.L492:
 9864               	.LBE3664:
 9865               	.LBE3665:
 9866               	.LBE3677:
 9867               	.LBE3678:
 9868               	.LBE3680:
 9869               	.LBE3683:
 9870               	.LBE4017:
 9871               	.LBB4018:
 9872               	.LBB3899:
 9873               	.LBB3898:
 9874               	.LBB3886:
 9875               	.LBB3885:
 9876               	.LBB3884:
 9877               	.LBB3879:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9878               		.loc 4 57 0
 9879 2556 8091 0000 		lds r24,ep_in_pipe_data+4
 9880 255a 232F      		mov r18,r19
 9881 255c 281B      		sub r18,r24
 9882               	.LBE3879:
 9883               	.LBE3884:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9884               		.loc 1 127 0
 9885 255e 81E0      		ldi r24,lo8(1)
 9886 2560 1216      		cp __zero_reg__,r18
 9887 2562 04F4      		brge .+2
 9888 2564 00C0      		rjmp .L422
 9889 2566 00C0      		rjmp .L455
 9890               	.LVL596:
 9891               	.L490:
 9892               	.LBE3885:
 9893               	.LBE3886:
 9894               	.LBE3898:
 9895               	.LBE3899:
 9896               	.LBE4018:
 9897               	.LBB4019:
 9898               	.LBB3866:
 9899               	.LBB3800:
 9900               	.LBB3797:
 9901               	.LBB3796:
 9902               	.LBB3795:
 9903               	.LBB3790:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9904               		.loc 4 57 0
 9905 2568 8091 0000 		lds r24,ep_in_pipe_data+4
 9906 256c 232F      		mov r18,r19
 9907 256e 281B      		sub r18,r24
 9908               	.LBE3790:
 9909               	.LBE3795:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9910               		.loc 1 127 0
 9911 2570 81E0      		ldi r24,lo8(1)
 9912 2572 1216      		cp __zero_reg__,r18
 9913 2574 04F4      		brge .+2
 9914 2576 00C0      		rjmp .L406
 9915 2578 00C0      		rjmp .L454
 9916               	.LVL597:
 9917               	.L488:
 9918               	.LBE3796:
 9919               	.LBE3797:
 9920               	.LBE3800:
 9921               	.LBE3866:
 9922               	.LBE4019:
 9923               	.LBB4020:
 9924               	.LBB3777:
 9925               	.LBB3711:
 9926               	.LBB3708:
 9927               	.LBB3707:
 9928               	.LBB3706:
 9929               	.LBB3701:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9930               		.loc 4 57 0
 9931 257a 8091 0000 		lds r24,ep_in_pipe_data+4
 9932 257e 232F      		mov r18,r19
 9933 2580 281B      		sub r18,r24
 9934               	.LBE3701:
 9935               	.LBE3706:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9936               		.loc 1 127 0
 9937 2582 81E0      		ldi r24,lo8(1)
 9938 2584 1216      		cp __zero_reg__,r18
 9939 2586 04F4      		brge .+2
 9940 2588 00C0      		rjmp .L392
 9941 258a 00C0      		rjmp .L453
 9942               	.LVL598:
 9943               	.L495:
 9944               	.LBE3707:
 9945               	.LBE3708:
 9946               	.LBE3711:
 9947               	.LBE3777:
 9948               	.LBE4020:
 9949               	.LBB4021:
 9950               	.LBB4016:
 9951               	.LBB4015:
 9952               	.LBB4003:
 9953               	.LBB4002:
 9954               	.LBB4001:
 9955               	.LBB3996:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9956               		.loc 4 57 0
 9957 258c 8091 0000 		lds r24,ep_in_pipe_data+4
 9958 2590 232F      		mov r18,r19
 9959 2592 281B      		sub r18,r24
 9960               	.LBE3996:
 9961               	.LBE4001:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9962               		.loc 1 127 0
 9963 2594 81E0      		ldi r24,lo8(1)
 9964 2596 1216      		cp __zero_reg__,r18
 9965 2598 04F4      		brge .+2
 9966 259a 00C0      		rjmp .L441
 9967 259c 00C0      		rjmp .L457
 9968               	.LVL599:
 9969               	.L493:
 9970               	.LBE4002:
 9971               	.LBE4003:
 9972               	.LBE4015:
 9973               	.LBE4016:
 9974               	.LBE4021:
 9975               	.LBB4022:
 9976               	.LBB3983:
 9977               	.LBB3917:
 9978               	.LBB3914:
 9979               	.LBB3913:
 9980               	.LBB3912:
 9981               	.LBB3907:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9982               		.loc 4 57 0
 9983 259e 8091 0000 		lds r24,ep_in_pipe_data+4
 9984 25a2 232F      		mov r18,r19
 9985 25a4 281B      		sub r18,r24
 9986               	.LBE3907:
 9987               	.LBE3912:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9988               		.loc 1 127 0
 9989 25a6 81E0      		ldi r24,lo8(1)
 9990 25a8 1216      		cp __zero_reg__,r18
 9991 25aa 04F4      		brge .+2
 9992 25ac 00C0      		rjmp .L425
 9993 25ae 00C0      		rjmp .L456
 9994               	.LVL600:
 9995               	.L385:
 9996               	.LBE3913:
 9997               	.LBE3914:
 9998               	.LBE3917:
 9999               	.LBE3983:
 10000               	.LBE4022:
 10001               	.LBB4023:
 10002               	.LBB3684:
 10003               	.LBB3681:
 10004               	.LBB3646:
 10005               	.LBB3642:
 10006               	.LBB3635:
 10007               	.LBB3632:
 10008               	.LBB3629:
 10009               	.LBB3626:
 10010               	.LBB3617:
 10011               	.LBB3614:
 10012               	.LBB3611:
 10013               	.LBB3579:
 10014               	.LBB3576:
 10015               	.LBB3577:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10016               		.loc 3 168 0
 10017 25b0 8093 0000 		sts endpoints+20,r24
 10018 25b4 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10019               		.loc 3 169 0
 10020 25b8 2093 0000 		sts endpoints+18,r18
 10021 25bc 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10022               		.loc 3 176 0
 10023 25c0 FB01      		movw r30,r22
 10024               	/* #APP */
 10025               	 ;  176 "usb/usb.h" 1
 10026 25c2 04E1      		ldi r16, 20
 10027 25c4 0693      		.dc.w 0x9306
 10028               		
 10029               	 ;  0 "" 2
 10030               	/* #NOAPP */
 10031 25c6 00C0      		rjmp .L377
 10032               	.LVL601:
 10033               	.L475:
 10034               	.LBE3577:
 10035               	.LBE3576:
 10036               	.LBE3579:
 10037               	.LBE3611:
 10038               	.LBE3614:
 10039               	.LBE3617:
 10040               	.LBE3626:
 10041               	.LBE3629:
 10042               	.LBE3632:
 10043               	.LBE3635:
 10044               	.LBE3642:
 10045               	.LBE3646:
 10046               	.LBE3681:
 10047               	.LBE3684:
 10048               	.LBE4023:
 10049               	.LBB4024:
 10050               	.LBB3268:
 10051               	.LBB3202:
 10052               	.LBB3203:
 10053               	.LBB3204:
 10054               	.LBB3205:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 10055               		.loc 1 177 0
 10056 25c8 3FB7      		in r19,__SREG__
 10057               	.LVL602:
 10058               	.LBB3206:
 10059               	.LBB3207:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 10060               		.loc 2 50 0
 10061               	/* #APP */
 10062               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 10063 25ca F894      		cli
 10064               	 ;  0 "" 2
 10065               	.LVL603:
 10066               	/* #NOAPP */
 10067               	.LBE3207:
 10068               	.LBE3206:
 10069               		.loc 1 178 0
 10070 25cc 1092 0000 		sts ep_in_data+2,__zero_reg__
 10071 25d0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10072               	.LVL604:
 10073               	.LBB3208:
 10074               	.LBB3209:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 10075               		.loc 4 81 0
 10076 25d4 8091 0000 		lds r24,ep_in_pipe_data+4
 10077 25d8 8F5F      		subi r24,lo8(-(1))
 10078 25da 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 10079               		.loc 4 82 0
 10080 25de 8091 0000 		lds r24,ep_in_pipe_data+2
 10081 25e2 9091 0000 		lds r25,ep_in_pipe_data+2+1
 10082 25e6 805C      		subi r24,lo8(-(64))
 10083 25e8 9F4F      		sbci r25,hi8(-(64))
 10084 25ea 8093 0000 		sts ep_in_pipe_data+2,r24
 10085 25ee 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10086               		.loc 4 84 0
 10087 25f2 40E0      		ldi r20,hi8(ep_in_pipe_buffer+512)
 10088 25f4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10089 25f6 9407      		cpc r25,r20
 10090               	.LVL605:
 10091 25f8 01F4      		brne .L318
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 10092               		.loc 4 85 0
 10093 25fa 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10094 25fc 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10095 25fe 8093 0000 		sts ep_in_pipe_data+2,r24
 10096 2602 9093 0000 		sts ep_in_pipe_data+2+1,r25
 10097               	.L318:
 10098               	.LVL606:
 10099               	.LBE3209:
 10100               	.LBE3208:
 10101               	.LBB3210:
 10102               	.LBB3211:
 10103               	.LBB3212:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 10104               		.loc 1 80 0
 10105 2606 2FB7      		in r18,__SREG__
 10106               	.LVL607:
 10107               	.LBB3213:
 10108               	.LBB3214:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 10109               		.loc 2 50 0
 10110               	/* #APP */
 10111               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 10112 2608 F894      		cli
 10113               	 ;  0 "" 2
 10114               	.LVL608:
 10115               	/* #NOAPP */
 10116               	.LBE3214:
 10117               	.LBE3213:
 10118               	.LBB3215:
 10119               	.LBB3216:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 10120               		.loc 3 220 0
 10121 260a 8091 0000 		lds r24,endpoints+24
 10122 260e 8670      		andi r24,lo8(6)
 10123               	.LBE3216:
 10124               	.LBE3215:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 10125               		.loc 1 82 0
 10126 2610 01F4      		brne .L497
 10127               	.LVL609:
 10128               	.L319:
 10129               	.LBB3217:
 10130               	.LBB3218:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 10131               		.loc 2 70 0
 10132 2612 2FBF      		out __SREG__,r18
 10133               		.loc 2 71 0
 10134               	.LVL610:
 10135               	.LBE3218:
 10136               	.LBE3217:
 10137               	.LBE3212:
 10138               	.LBE3211:
 10139               	.LBE3210:
 10140               	.LBB3254:
 10141               	.LBB3255:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 10142               		.loc 2 70 0
 10143 2614 3FBF      		out __SREG__,r19
 10144               		.loc 2 71 0
 10145 2616 00C0      		rjmp .L317
 10146               	.LVL611:
 10147               	.L497:
 10148               	.LBE3255:
 10149               	.LBE3254:
 10150               	.LBB3256:
 10151               	.LBB3251:
 10152               	.LBB3248:
 10153               	.LBB3219:
 10154               	.LBB3220:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 10155               		.loc 4 51 0
 10156 2618 6091 0000 		lds r22,ep_in_pipe_data+4
 10157               	.LBE3220:
 10158               	.LBE3219:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 10159               		.loc 1 83 0
 10160 261c 1616      		cp __zero_reg__,r22
 10161 261e 04F0      		brlt .+2
 10162 2620 00C0      		rjmp .L320
 10163               	.LBB3221:
 10164               	.LBB3222:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10165               		.loc 4 62 0
 10166 2622 8091 0000 		lds r24,ep_in_pipe_data
 10167 2626 9091 0000 		lds r25,ep_in_pipe_data+1
 10168               	.LVL612:
 10169               	.LBE3222:
 10170               	.LBE3221:
 10171               	.LBB3223:
 10172               	.LBB3224:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10173               		.loc 1 68 0
 10174 262a 4091 0000 		lds r20,ep_in_data
 10175               	.LVL613:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10176               		.loc 1 69 0
 10177 262e 51E0      		ldi r21,lo8(1)
 10178 2630 4130      		cpi r20,lo8(1)
 10179 2632 01F4      		brne .L321
 10180 2634 50E0      		ldi r21,lo8(0)
 10181               	.L321:
 10182 2636 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10183               		.loc 1 72 0
 10184 263a 4423      		tst r20
 10185 263c 01F4      		brne .L322
 10186               	.LVL614:
 10187               	.LBB3225:
 10188               	.LBB3226:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10189               		.loc 3 168 0
 10190 263e 8093 0000 		sts endpoints+28,r24
 10191 2642 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10192               		.loc 3 169 0
 10193 2646 40E4      		ldi r20,lo8(64)
 10194 2648 50E0      		ldi r21,hi8(64)
 10195 264a 4093 0000 		sts endpoints+26,r20
 10196 264e 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10197               		.loc 3 174 0
 10198 2652 E0E0      		ldi r30,lo8(endpoints+24)
 10199 2654 F0E0      		ldi r31,hi8(endpoints+24)
 10200               	.LVL615:
 10201               	/* #APP */
 10202               	 ;  174 "usb/usb.h" 1
 10203 2656 02E2      		ldi r16, 34
 10204 2658 0693      		.dc.w 0x9306
 10205               		
 10206               	 ;  0 "" 2
 10207               	.LVL616:
 10208               	/* #NOAPP */
 10209               	.L323:
 10210               	.LBE3226:
 10211               	.LBE3225:
 10212               	.LBE3224:
 10213               	.LBE3223:
 10214               	.LBB3230:
 10215               	.LBB3231:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 10216               		.loc 4 72 0
 10217 265a 6150      		subi r22,lo8(-(-1))
 10218 265c 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 10219               		.loc 4 73 0
 10220 2660 805C      		subi r24,lo8(-(64))
 10221 2662 9F4F      		sbci r25,hi8(-(64))
 10222 2664 8093 0000 		sts ep_in_pipe_data,r24
 10223 2668 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10224               		.loc 4 75 0
 10225 266c 50E0      		ldi r21,hi8(ep_in_pipe_buffer+512)
 10226 266e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10227 2670 9507      		cpc r25,r21
 10228 2672 01F4      		brne .L319
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 10229               		.loc 4 76 0
 10230 2674 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10231 2676 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10232 2678 8093 0000 		sts ep_in_pipe_data,r24
 10233 267c 9093 0000 		sts ep_in_pipe_data+1,r25
 10234 2680 00C0      		rjmp .L319
 10235               	.LVL617:
 10236               	.L322:
 10237               	.LBE3231:
 10238               	.LBE3230:
 10239               	.LBB3232:
 10240               	.LBB3229:
 10241               	.LBB3227:
 10242               	.LBB3228:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10243               		.loc 3 168 0
 10244 2682 8093 0000 		sts endpoints+20,r24
 10245 2686 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10246               		.loc 3 169 0
 10247 268a 40E4      		ldi r20,lo8(64)
 10248 268c 50E0      		ldi r21,hi8(64)
 10249 268e 4093 0000 		sts endpoints+18,r20
 10250 2692 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10251               		.loc 3 176 0
 10252 2696 E0E0      		ldi r30,lo8(endpoints+24)
 10253 2698 F0E0      		ldi r31,hi8(endpoints+24)
 10254               	.LVL618:
 10255               	/* #APP */
 10256               	 ;  176 "usb/usb.h" 1
 10257 269a 04E1      		ldi r16, 20
 10258 269c 0693      		.dc.w 0x9306
 10259               		
 10260               	 ;  0 "" 2
 10261               	/* #NOAPP */
 10262 269e 00C0      		rjmp .L323
 10263               	.LVL619:
 10264               	.L320:
 10265               	.LBE3228:
 10266               	.LBE3227:
 10267               	.LBE3229:
 10268               	.LBE3232:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 10269               		.loc 1 87 0
 10270 26a0 8091 0000 		lds r24,ep_in_data+1
 10271 26a4 8130      		cpi r24,lo8(1)
 10272 26a6 01F4      		brne .+2
 10273 26a8 00C0      		rjmp .L498
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10274               		.loc 1 91 0
 10275 26aa 8230      		cpi r24,lo8(2)
 10276 26ac 01F0      		breq .+2
 10277 26ae 00C0      		rjmp .L319
 10278               	.LVL620:
 10279               	.LBB3233:
 10280               	.LBB3234:
 10281               	.LBB3235:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 10282               		.loc 3 228 0
 10283 26b0 8091 0000 		lds r24,endpoints+24
 10284 26b4 8670      		andi r24,lo8(6)
 10285               	.LBE3235:
 10286               	.LBE3234:
 10287               	.LBE3233:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10288               		.loc 1 91 0
 10289 26b6 8630      		cpi r24,lo8(6)
 10290 26b8 01F0      		breq .+2
 10291 26ba 00C0      		rjmp .L319
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 10292               		.loc 1 92 0
 10293 26bc 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 10294               		.loc 1 93 0
 10295 26c0 1092 0000 		sts ep_in_data+2,__zero_reg__
 10296 26c4 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10297               	.LBB3236:
 10298               	.LBB3237:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 10299               		.loc 4 90 0
 10300 26c8 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 10301               		.loc 4 91 0
 10302 26cc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10303 26ce 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10304 26d0 8093 0000 		sts ep_in_pipe_data+2,r24
 10305 26d4 9093 0000 		sts ep_in_pipe_data+2+1,r25
 10306 26d8 8093 0000 		sts ep_in_pipe_data,r24
 10307 26dc 9093 0000 		sts ep_in_pipe_data+1,r25
 10308               	.LVL621:
 10309 26e0 00C0      		rjmp .L319
 10310               	.LVL622:
 10311               	.L494:
 10312               	.LBE3237:
 10313               	.LBE3236:
 10314               	.LBE3248:
 10315               	.LBE3251:
 10316               	.LBE3256:
 10317               	.LBE3205:
 10318               	.LBE3204:
 10319               	.LBE3203:
 10320               	.LBE3202:
 10321               	.LBE3268:
 10322               	.LBE4024:
 10323               	.LBB4025:
 10324               	.LBB3984:
 10325               	.LBB3918:
 10326               	.LBB3919:
 10327               	.LBB3920:
 10328               	.LBB3921:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 10329               		.loc 1 177 0
 10330 26e2 3FB7      		in r19,__SREG__
 10331               	.LVL623:
 10332               	.LBB3922:
 10333               	.LBB3923:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 10334               		.loc 2 50 0
 10335               	/* #APP */
 10336               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 10337 26e4 F894      		cli
 10338               	 ;  0 "" 2
 10339               	.LVL624:
 10340               	/* #NOAPP */
 10341               	.LBE3923:
 10342               	.LBE3922:
 10343               		.loc 1 178 0
 10344 26e6 1092 0000 		sts ep_in_data+2,__zero_reg__
 10345 26ea 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10346               	.LVL625:
 10347               	.LBB3924:
 10348               	.LBB3925:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 10349               		.loc 4 81 0
 10350 26ee 8091 0000 		lds r24,ep_in_pipe_data+4
 10351 26f2 8F5F      		subi r24,lo8(-(1))
 10352 26f4 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 10353               		.loc 4 82 0
 10354 26f8 8091 0000 		lds r24,ep_in_pipe_data+2
 10355 26fc 9091 0000 		lds r25,ep_in_pipe_data+2+1
 10356 2700 805C      		subi r24,lo8(-(64))
 10357 2702 9F4F      		sbci r25,hi8(-(64))
 10358 2704 8093 0000 		sts ep_in_pipe_data+2,r24
 10359 2708 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10360               		.loc 4 84 0
 10361 270c E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 10362 270e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10363 2710 9E07      		cpc r25,r30
 10364 2712 01F4      		brne .L429
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 10365               		.loc 4 85 0
 10366 2714 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10367 2716 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10368 2718 8093 0000 		sts ep_in_pipe_data+2,r24
 10369 271c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 10370               	.L429:
 10371               	.LVL626:
 10372               	.LBE3925:
 10373               	.LBE3924:
 10374               	.LBB3926:
 10375               	.LBB3927:
 10376               	.LBB3928:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 10377               		.loc 1 80 0
 10378 2720 2FB7      		in r18,__SREG__
 10379               	.LVL627:
 10380               	.LBB3929:
 10381               	.LBB3930:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 10382               		.loc 2 50 0
 10383               	/* #APP */
 10384               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 10385 2722 F894      		cli
 10386               	 ;  0 "" 2
 10387               	.LVL628:
 10388               	/* #NOAPP */
 10389               	.LBE3930:
 10390               	.LBE3929:
 10391               	.LBB3931:
 10392               	.LBB3932:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 10393               		.loc 3 220 0
 10394 2724 8091 0000 		lds r24,endpoints+24
 10395 2728 8670      		andi r24,lo8(6)
 10396               	.LBE3932:
 10397               	.LBE3931:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 10398               		.loc 1 82 0
 10399 272a 01F4      		brne .L499
 10400               	.LVL629:
 10401               	.L430:
 10402               	.LBB3933:
 10403               	.LBB3934:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 10404               		.loc 2 70 0
 10405 272c 2FBF      		out __SREG__,r18
 10406               		.loc 2 71 0
 10407               	.LVL630:
 10408               	.LBE3934:
 10409               	.LBE3933:
 10410               	.LBE3928:
 10411               	.LBE3927:
 10412               	.LBE3926:
 10413               	.LBB3970:
 10414               	.LBB3971:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 10415               		.loc 2 70 0
 10416 272e 3FBF      		out __SREG__,r19
 10417               		.loc 2 71 0
 10418 2730 00C0      		rjmp .L428
 10419               	.LVL631:
 10420               	.L499:
 10421               	.LBE3971:
 10422               	.LBE3970:
 10423               	.LBB3972:
 10424               	.LBB3967:
 10425               	.LBB3964:
 10426               	.LBB3935:
 10427               	.LBB3936:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 10428               		.loc 4 51 0
 10429 2732 6091 0000 		lds r22,ep_in_pipe_data+4
 10430               	.LBE3936:
 10431               	.LBE3935:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 10432               		.loc 1 83 0
 10433 2736 1616      		cp __zero_reg__,r22
 10434 2738 04F0      		brlt .+2
 10435 273a 00C0      		rjmp .L431
 10436               	.LBB3937:
 10437               	.LBB3938:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10438               		.loc 4 62 0
 10439 273c 8091 0000 		lds r24,ep_in_pipe_data
 10440 2740 9091 0000 		lds r25,ep_in_pipe_data+1
 10441               	.LVL632:
 10442               	.LBE3938:
 10443               	.LBE3937:
 10444               	.LBB3939:
 10445               	.LBB3940:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10446               		.loc 1 68 0
 10447 2744 4091 0000 		lds r20,ep_in_data
 10448               	.LVL633:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10449               		.loc 1 69 0
 10450 2748 51E0      		ldi r21,lo8(1)
 10451 274a 4130      		cpi r20,lo8(1)
 10452 274c 01F4      		brne .L432
 10453 274e 50E0      		ldi r21,lo8(0)
 10454               	.L432:
 10455 2750 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10456               		.loc 1 72 0
 10457 2754 4423      		tst r20
 10458 2756 01F4      		brne .L433
 10459               	.LVL634:
 10460               	.LBB3941:
 10461               	.LBB3942:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10462               		.loc 3 168 0
 10463 2758 8093 0000 		sts endpoints+28,r24
 10464 275c 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10465               		.loc 3 169 0
 10466 2760 40E4      		ldi r20,lo8(64)
 10467 2762 50E0      		ldi r21,hi8(64)
 10468 2764 4093 0000 		sts endpoints+26,r20
 10469 2768 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10470               		.loc 3 174 0
 10471 276c E0E0      		ldi r30,lo8(endpoints+24)
 10472 276e F0E0      		ldi r31,hi8(endpoints+24)
 10473               	.LVL635:
 10474               	/* #APP */
 10475               	 ;  174 "usb/usb.h" 1
 10476 2770 02E2      		ldi r16, 34
 10477 2772 0693      		.dc.w 0x9306
 10478               		
 10479               	 ;  0 "" 2
 10480               	.LVL636:
 10481               	/* #NOAPP */
 10482               	.L434:
 10483               	.LBE3942:
 10484               	.LBE3941:
 10485               	.LBE3940:
 10486               	.LBE3939:
 10487               	.LBB3946:
 10488               	.LBB3947:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 10489               		.loc 4 72 0
 10490 2774 6150      		subi r22,lo8(-(-1))
 10491 2776 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 10492               		.loc 4 73 0
 10493 277a 805C      		subi r24,lo8(-(64))
 10494 277c 9F4F      		sbci r25,hi8(-(64))
 10495 277e 8093 0000 		sts ep_in_pipe_data,r24
 10496 2782 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10497               		.loc 4 75 0
 10498 2786 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 10499 2788 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10500 278a 9F07      		cpc r25,r31
 10501 278c 01F4      		brne .L430
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 10502               		.loc 4 76 0
 10503 278e 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10504 2790 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10505 2792 8093 0000 		sts ep_in_pipe_data,r24
 10506 2796 9093 0000 		sts ep_in_pipe_data+1,r25
 10507 279a 00C0      		rjmp .L430
 10508               	.LVL637:
 10509               	.L433:
 10510               	.LBE3947:
 10511               	.LBE3946:
 10512               	.LBB3948:
 10513               	.LBB3945:
 10514               	.LBB3943:
 10515               	.LBB3944:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10516               		.loc 3 168 0
 10517 279c 8093 0000 		sts endpoints+20,r24
 10518 27a0 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10519               		.loc 3 169 0
 10520 27a4 40E4      		ldi r20,lo8(64)
 10521 27a6 50E0      		ldi r21,hi8(64)
 10522 27a8 4093 0000 		sts endpoints+18,r20
 10523 27ac 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10524               		.loc 3 176 0
 10525 27b0 E0E0      		ldi r30,lo8(endpoints+24)
 10526 27b2 F0E0      		ldi r31,hi8(endpoints+24)
 10527               	/* #APP */
 10528               	 ;  176 "usb/usb.h" 1
 10529 27b4 04E1      		ldi r16, 20
 10530 27b6 0693      		.dc.w 0x9306
 10531               		
 10532               	 ;  0 "" 2
 10533               	/* #NOAPP */
 10534 27b8 00C0      		rjmp .L434
 10535               	.LVL638:
 10536               	.L431:
 10537               	.LBE3944:
 10538               	.LBE3943:
 10539               	.LBE3945:
 10540               	.LBE3948:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 10541               		.loc 1 87 0
 10542 27ba 8091 0000 		lds r24,ep_in_data+1
 10543 27be 8130      		cpi r24,lo8(1)
 10544 27c0 01F4      		brne .+2
 10545 27c2 00C0      		rjmp .L500
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10546               		.loc 1 91 0
 10547 27c4 8230      		cpi r24,lo8(2)
 10548 27c6 01F0      		breq .+2
 10549 27c8 00C0      		rjmp .L430
 10550               	.LVL639:
 10551               	.LBB3949:
 10552               	.LBB3950:
 10553               	.LBB3951:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 10554               		.loc 3 228 0
 10555 27ca 8091 0000 		lds r24,endpoints+24
 10556 27ce 8670      		andi r24,lo8(6)
 10557               	.LBE3951:
 10558               	.LBE3950:
 10559               	.LBE3949:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10560               		.loc 1 91 0
 10561 27d0 8630      		cpi r24,lo8(6)
 10562 27d2 01F0      		breq .+2
 10563 27d4 00C0      		rjmp .L430
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 10564               		.loc 1 92 0
 10565 27d6 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 10566               		.loc 1 93 0
 10567 27da 1092 0000 		sts ep_in_data+2,__zero_reg__
 10568 27de 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10569               	.LBB3952:
 10570               	.LBB3953:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 10571               		.loc 4 90 0
 10572 27e2 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 10573               		.loc 4 91 0
 10574 27e6 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10575 27e8 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10576 27ea 8093 0000 		sts ep_in_pipe_data+2,r24
 10577 27ee 9093 0000 		sts ep_in_pipe_data+2+1,r25
 10578 27f2 8093 0000 		sts ep_in_pipe_data,r24
 10579 27f6 9093 0000 		sts ep_in_pipe_data+1,r25
 10580               	.LVL640:
 10581 27fa 00C0      		rjmp .L430
 10582               	.LVL641:
 10583               	.L498:
 10584               	.LBE3953:
 10585               	.LBE3952:
 10586               	.LBE3964:
 10587               	.LBE3967:
 10588               	.LBE3972:
 10589               	.LBE3921:
 10590               	.LBE3920:
 10591               	.LBE3919:
 10592               	.LBE3918:
 10593               	.LBE3984:
 10594               	.LBE4025:
 10595               	.LBB4026:
 10596               	.LBB3269:
 10597               	.LBB3265:
 10598               	.LBB3263:
 10599               	.LBB3261:
 10600               	.LBB3259:
 10601               	.LBB3257:
 10602               	.LBB3252:
 10603               	.LBB3249:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 10604               		.loc 1 88 0
 10605 27fc 82E0      		ldi r24,lo8(2)
 10606 27fe 8093 0000 		sts ep_in_data+1,r24
 10607               	.LBB3238:
 10608               	.LBB3239:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10609               		.loc 4 62 0
 10610 2802 7091 0000 		lds r23,ep_in_pipe_data
 10611 2806 6091 0000 		lds r22,ep_in_pipe_data+1
 10612               	.LBE3239:
 10613               	.LBE3238:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 10614               		.loc 1 90 0
 10615 280a 4091 0000 		lds r20,ep_in_data+2
 10616 280e 5091 0000 		lds r21,ep_in_data+2+1
 10617               	.LVL642:
 10618               	.LBB3240:
 10619               	.LBB3241:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10620               		.loc 1 68 0
 10621 2812 8091 0000 		lds r24,ep_in_data
 10622               	.LVL643:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10623               		.loc 1 69 0
 10624 2816 91E0      		ldi r25,lo8(1)
 10625               	.LVL644:
 10626 2818 8130      		cpi r24,lo8(1)
 10627 281a 01F4      		brne .L326
 10628 281c 90E0      		ldi r25,lo8(0)
 10629               	.L326:
 10630 281e 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10631               		.loc 1 72 0
 10632 2822 8823      		tst r24
 10633 2824 01F0      		breq .+2
 10634 2826 00C0      		rjmp .L327
 10635               	.LVL645:
 10636               	.LBB3242:
 10637               	.LBB3243:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10638               		.loc 3 168 0
 10639 2828 872F      		mov r24,r23
 10640 282a 962F      		mov r25,r22
 10641 282c 8093 0000 		sts endpoints+28,r24
 10642 2830 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10643               		.loc 3 169 0
 10644 2834 4093 0000 		sts endpoints+26,r20
 10645 2838 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10646               		.loc 3 174 0
 10647 283c E0E0      		ldi r30,lo8(endpoints+24)
 10648 283e F0E0      		ldi r31,hi8(endpoints+24)
 10649               	.LVL646:
 10650               	/* #APP */
 10651               	 ;  174 "usb/usb.h" 1
 10652 2840 02E2      		ldi r16, 34
 10653 2842 0693      		.dc.w 0x9306
 10654               		
 10655               	 ;  0 "" 2
 10656               	/* #NOAPP */
 10657 2844 00C0      		rjmp .L319
 10658               	.LVL647:
 10659               	.L500:
 10660               	.LBE3243:
 10661               	.LBE3242:
 10662               	.LBE3241:
 10663               	.LBE3240:
 10664               	.LBE3249:
 10665               	.LBE3252:
 10666               	.LBE3257:
 10667               	.LBE3259:
 10668               	.LBE3261:
 10669               	.LBE3263:
 10670               	.LBE3265:
 10671               	.LBE3269:
 10672               	.LBE4026:
 10673               	.LBB4027:
 10674               	.LBB3985:
 10675               	.LBB3981:
 10676               	.LBB3979:
 10677               	.LBB3977:
 10678               	.LBB3975:
 10679               	.LBB3973:
 10680               	.LBB3968:
 10681               	.LBB3965:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 10682               		.loc 1 88 0
 10683 2846 82E0      		ldi r24,lo8(2)
 10684 2848 8093 0000 		sts ep_in_data+1,r24
 10685               	.LBB3954:
 10686               	.LBB3955:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10687               		.loc 4 62 0
 10688 284c 7091 0000 		lds r23,ep_in_pipe_data
 10689 2850 6091 0000 		lds r22,ep_in_pipe_data+1
 10690               	.LBE3955:
 10691               	.LBE3954:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 10692               		.loc 1 90 0
 10693 2854 4091 0000 		lds r20,ep_in_data+2
 10694 2858 5091 0000 		lds r21,ep_in_data+2+1
 10695               	.LVL648:
 10696               	.LBB3956:
 10697               	.LBB3957:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10698               		.loc 1 68 0
 10699 285c 8091 0000 		lds r24,ep_in_data
 10700               	.LVL649:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10701               		.loc 1 69 0
 10702 2860 91E0      		ldi r25,lo8(1)
 10703               	.LVL650:
 10704 2862 8130      		cpi r24,lo8(1)
 10705 2864 01F4      		brne .L437
 10706 2866 90E0      		ldi r25,lo8(0)
 10707               	.L437:
 10708 2868 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10709               		.loc 1 72 0
 10710 286c 8823      		tst r24
 10711 286e 01F0      		breq .+2
 10712 2870 00C0      		rjmp .L438
 10713               	.LVL651:
 10714               	.LBB3958:
 10715               	.LBB3959:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10716               		.loc 3 168 0
 10717 2872 872F      		mov r24,r23
 10718 2874 962F      		mov r25,r22
 10719 2876 8093 0000 		sts endpoints+28,r24
 10720 287a 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10721               		.loc 3 169 0
 10722 287e 4093 0000 		sts endpoints+26,r20
 10723 2882 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10724               		.loc 3 174 0
 10725 2886 E0E0      		ldi r30,lo8(endpoints+24)
 10726 2888 F0E0      		ldi r31,hi8(endpoints+24)
 10727               	.LVL652:
 10728               	/* #APP */
 10729               	 ;  174 "usb/usb.h" 1
 10730 288a 02E2      		ldi r16, 34
 10731 288c 0693      		.dc.w 0x9306
 10732               		
 10733               	 ;  0 "" 2
 10734               	/* #NOAPP */
 10735 288e 00C0      		rjmp .L430
 10736               	.LVL653:
 10737               	.L491:
 10738               	.LBE3959:
 10739               	.LBE3958:
 10740               	.LBE3957:
 10741               	.LBE3956:
 10742               	.LBE3965:
 10743               	.LBE3968:
 10744               	.LBE3973:
 10745               	.LBE3975:
 10746               	.LBE3977:
 10747               	.LBE3979:
 10748               	.LBE3981:
 10749               	.LBE3985:
 10750               	.LBE4027:
 10751               	.LBB4028:
 10752               	.LBB3867:
 10753               	.LBB3801:
 10754               	.LBB3802:
 10755               	.LBB3803:
 10756               	.LBB3804:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 10757               		.loc 1 177 0
 10758 2890 3FB7      		in r19,__SREG__
 10759               	.LVL654:
 10760               	.LBB3805:
 10761               	.LBB3806:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 10762               		.loc 2 50 0
 10763               	/* #APP */
 10764               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 10765 2892 F894      		cli
 10766               	 ;  0 "" 2
 10767               	.LVL655:
 10768               	/* #NOAPP */
 10769               	.LBE3806:
 10770               	.LBE3805:
 10771               		.loc 1 178 0
 10772 2894 1092 0000 		sts ep_in_data+2,__zero_reg__
 10773 2898 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10774               	.LVL656:
 10775               	.LBB3807:
 10776               	.LBB3808:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 10777               		.loc 4 81 0
 10778 289c 8091 0000 		lds r24,ep_in_pipe_data+4
 10779 28a0 8F5F      		subi r24,lo8(-(1))
 10780 28a2 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 10781               		.loc 4 82 0
 10782 28a6 8091 0000 		lds r24,ep_in_pipe_data+2
 10783 28aa 9091 0000 		lds r25,ep_in_pipe_data+2+1
 10784 28ae 805C      		subi r24,lo8(-(64))
 10785 28b0 9F4F      		sbci r25,hi8(-(64))
 10786 28b2 8093 0000 		sts ep_in_pipe_data+2,r24
 10787 28b6 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10788               		.loc 4 84 0
 10789 28ba A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 10790 28bc 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10791 28be 9A07      		cpc r25,r26
 10792 28c0 01F4      		brne .L410
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 10793               		.loc 4 85 0
 10794 28c2 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10795 28c4 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10796 28c6 8093 0000 		sts ep_in_pipe_data+2,r24
 10797 28ca 9093 0000 		sts ep_in_pipe_data+2+1,r25
 10798               	.L410:
 10799               	.LVL657:
 10800               	.LBE3808:
 10801               	.LBE3807:
 10802               	.LBB3809:
 10803               	.LBB3810:
 10804               	.LBB3811:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 10805               		.loc 1 80 0
 10806 28ce 2FB7      		in r18,__SREG__
 10807               	.LVL658:
 10808               	.LBB3812:
 10809               	.LBB3813:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 10810               		.loc 2 50 0
 10811               	/* #APP */
 10812               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 10813 28d0 F894      		cli
 10814               	 ;  0 "" 2
 10815               	.LVL659:
 10816               	/* #NOAPP */
 10817               	.LBE3813:
 10818               	.LBE3812:
 10819               	.LBB3814:
 10820               	.LBB3815:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 10821               		.loc 3 220 0
 10822 28d2 8091 0000 		lds r24,endpoints+24
 10823 28d6 8670      		andi r24,lo8(6)
 10824               	.LBE3815:
 10825               	.LBE3814:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 10826               		.loc 1 82 0
 10827 28d8 01F4      		brne .L501
 10828               	.LVL660:
 10829               	.L411:
 10830               	.LBB3816:
 10831               	.LBB3817:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 10832               		.loc 2 70 0
 10833 28da 2FBF      		out __SREG__,r18
 10834               		.loc 2 71 0
 10835               	.LVL661:
 10836               	.LBE3817:
 10837               	.LBE3816:
 10838               	.LBE3811:
 10839               	.LBE3810:
 10840               	.LBE3809:
 10841               	.LBB3853:
 10842               	.LBB3854:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 10843               		.loc 2 70 0
 10844 28dc 3FBF      		out __SREG__,r19
 10845               		.loc 2 71 0
 10846 28de 00C0      		rjmp .L409
 10847               	.LVL662:
 10848               	.L501:
 10849               	.LBE3854:
 10850               	.LBE3853:
 10851               	.LBB3855:
 10852               	.LBB3850:
 10853               	.LBB3847:
 10854               	.LBB3818:
 10855               	.LBB3819:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 10856               		.loc 4 51 0
 10857 28e0 6091 0000 		lds r22,ep_in_pipe_data+4
 10858               	.LBE3819:
 10859               	.LBE3818:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 10860               		.loc 1 83 0
 10861 28e4 1616      		cp __zero_reg__,r22
 10862 28e6 04F0      		brlt .+2
 10863 28e8 00C0      		rjmp .L412
 10864               	.LBB3820:
 10865               	.LBB3821:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10866               		.loc 4 62 0
 10867 28ea 8091 0000 		lds r24,ep_in_pipe_data
 10868 28ee 9091 0000 		lds r25,ep_in_pipe_data+1
 10869               	.LVL663:
 10870               	.LBE3821:
 10871               	.LBE3820:
 10872               	.LBB3822:
 10873               	.LBB3823:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10874               		.loc 1 68 0
 10875 28f2 4091 0000 		lds r20,ep_in_data
 10876               	.LVL664:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10877               		.loc 1 69 0
 10878 28f6 51E0      		ldi r21,lo8(1)
 10879 28f8 4130      		cpi r20,lo8(1)
 10880 28fa 01F4      		brne .L413
 10881 28fc 50E0      		ldi r21,lo8(0)
 10882               	.L413:
 10883 28fe 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10884               		.loc 1 72 0
 10885 2902 4423      		tst r20
 10886 2904 01F4      		brne .L414
 10887               	.LVL665:
 10888               	.LBB3824:
 10889               	.LBB3825:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10890               		.loc 3 168 0
 10891 2906 8093 0000 		sts endpoints+28,r24
 10892 290a 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10893               		.loc 3 169 0
 10894 290e 40E4      		ldi r20,lo8(64)
 10895 2910 50E0      		ldi r21,hi8(64)
 10896 2912 4093 0000 		sts endpoints+26,r20
 10897 2916 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10898               		.loc 3 174 0
 10899 291a E0E0      		ldi r30,lo8(endpoints+24)
 10900 291c F0E0      		ldi r31,hi8(endpoints+24)
 10901               	.LVL666:
 10902               	/* #APP */
 10903               	 ;  174 "usb/usb.h" 1
 10904 291e 02E2      		ldi r16, 34
 10905 2920 0693      		.dc.w 0x9306
 10906               		
 10907               	 ;  0 "" 2
 10908               	.LVL667:
 10909               	/* #NOAPP */
 10910               	.L415:
 10911               	.LBE3825:
 10912               	.LBE3824:
 10913               	.LBE3823:
 10914               	.LBE3822:
 10915               	.LBB3829:
 10916               	.LBB3830:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 10917               		.loc 4 72 0
 10918 2922 6150      		subi r22,lo8(-(-1))
 10919 2924 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 10920               		.loc 4 73 0
 10921 2928 805C      		subi r24,lo8(-(64))
 10922 292a 9F4F      		sbci r25,hi8(-(64))
 10923 292c 8093 0000 		sts ep_in_pipe_data,r24
 10924 2930 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10925               		.loc 4 75 0
 10926 2934 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 10927 2936 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10928 2938 9B07      		cpc r25,r27
 10929 293a 01F4      		brne .L411
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 10930               		.loc 4 76 0
 10931 293c 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 10932 293e 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 10933 2940 8093 0000 		sts ep_in_pipe_data,r24
 10934 2944 9093 0000 		sts ep_in_pipe_data+1,r25
 10935 2948 00C0      		rjmp .L411
 10936               	.LVL668:
 10937               	.L414:
 10938               	.LBE3830:
 10939               	.LBE3829:
 10940               	.LBB3831:
 10941               	.LBB3828:
 10942               	.LBB3826:
 10943               	.LBB3827:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10944               		.loc 3 168 0
 10945 294a 8093 0000 		sts endpoints+20,r24
 10946 294e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10947               		.loc 3 169 0
 10948 2952 40E4      		ldi r20,lo8(64)
 10949 2954 50E0      		ldi r21,hi8(64)
 10950 2956 4093 0000 		sts endpoints+18,r20
 10951 295a 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10952               		.loc 3 176 0
 10953 295e E0E0      		ldi r30,lo8(endpoints+24)
 10954 2960 F0E0      		ldi r31,hi8(endpoints+24)
 10955               	.LVL669:
 10956               	/* #APP */
 10957               	 ;  176 "usb/usb.h" 1
 10958 2962 04E1      		ldi r16, 20
 10959 2964 0693      		.dc.w 0x9306
 10960               		
 10961               	 ;  0 "" 2
 10962               	/* #NOAPP */
 10963 2966 00C0      		rjmp .L415
 10964               	.LVL670:
 10965               	.L412:
 10966               	.LBE3827:
 10967               	.LBE3826:
 10968               	.LBE3828:
 10969               	.LBE3831:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 10970               		.loc 1 87 0
 10971 2968 8091 0000 		lds r24,ep_in_data+1
 10972 296c 8130      		cpi r24,lo8(1)
 10973 296e 01F4      		brne .+2
 10974 2970 00C0      		rjmp .L502
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10975               		.loc 1 91 0
 10976 2972 8230      		cpi r24,lo8(2)
 10977 2974 01F0      		breq .+2
 10978 2976 00C0      		rjmp .L411
 10979               	.LVL671:
 10980               	.LBB3832:
 10981               	.LBB3833:
 10982               	.LBB3834:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 10983               		.loc 3 228 0
 10984 2978 8091 0000 		lds r24,endpoints+24
 10985 297c 8670      		andi r24,lo8(6)
 10986               	.LBE3834:
 10987               	.LBE3833:
 10988               	.LBE3832:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10989               		.loc 1 91 0
 10990 297e 8630      		cpi r24,lo8(6)
 10991 2980 01F0      		breq .+2
 10992 2982 00C0      		rjmp .L411
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 10993               		.loc 1 92 0
 10994 2984 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 10995               		.loc 1 93 0
 10996 2988 1092 0000 		sts ep_in_data+2,__zero_reg__
 10997 298c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10998               	.LBB3835:
 10999               	.LBB3836:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 11000               		.loc 4 90 0
 11001 2990 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 11002               		.loc 4 91 0
 11003 2994 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11004 2996 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11005 2998 8093 0000 		sts ep_in_pipe_data+2,r24
 11006 299c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11007 29a0 8093 0000 		sts ep_in_pipe_data,r24
 11008 29a4 9093 0000 		sts ep_in_pipe_data+1,r25
 11009               	.LVL672:
 11010 29a8 00C0      		rjmp .L411
 11011               	.LVL673:
 11012               	.L481:
 11013               	.LBE3836:
 11014               	.LBE3835:
 11015               	.LBE3847:
 11016               	.LBE3850:
 11017               	.LBE3855:
 11018               	.LBE3804:
 11019               	.LBE3803:
 11020               	.LBE3802:
 11021               	.LBE3801:
 11022               	.LBE3867:
 11023               	.LBE4028:
 11024               	.LBB4029:
 11025               	.LBB3502:
 11026               	.LBB3436:
 11027               	.LBB3437:
 11028               	.LBB3438:
 11029               	.LBB3439:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 11030               		.loc 1 177 0
 11031 29aa 3FB7      		in r19,__SREG__
 11032               	.LVL674:
 11033               	.LBB3440:
 11034               	.LBB3441:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 11035               		.loc 2 50 0
 11036               	/* #APP */
 11037               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 11038 29ac F894      		cli
 11039               	 ;  0 "" 2
 11040               	.LVL675:
 11041               	/* #NOAPP */
 11042               	.LBE3441:
 11043               	.LBE3440:
 11044               		.loc 1 178 0
 11045 29ae 1092 0000 		sts ep_in_data+2,__zero_reg__
 11046 29b2 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 11047               	.LVL676:
 11048               	.LBB3442:
 11049               	.LBB3443:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 11050               		.loc 4 81 0
 11051 29b6 8091 0000 		lds r24,ep_in_pipe_data+4
 11052 29ba 8F5F      		subi r24,lo8(-(1))
 11053 29bc 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 11054               		.loc 4 82 0
 11055 29c0 8091 0000 		lds r24,ep_in_pipe_data+2
 11056 29c4 9091 0000 		lds r25,ep_in_pipe_data+2+1
 11057 29c8 805C      		subi r24,lo8(-(64))
 11058 29ca 9F4F      		sbci r25,hi8(-(64))
 11059 29cc 8093 0000 		sts ep_in_pipe_data+2,r24
 11060 29d0 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 11061               		.loc 4 84 0
 11062 29d4 E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 11063 29d6 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 11064 29d8 9E07      		cpc r25,r30
 11065 29da 01F4      		brne .L356
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 11066               		.loc 4 85 0
 11067 29dc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11068 29de 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11069 29e0 8093 0000 		sts ep_in_pipe_data+2,r24
 11070 29e4 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11071               	.L356:
 11072               	.LVL677:
 11073               	.LBE3443:
 11074               	.LBE3442:
 11075               	.LBB3444:
 11076               	.LBB3445:
 11077               	.LBB3446:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 11078               		.loc 1 80 0
 11079 29e8 2FB7      		in r18,__SREG__
 11080               	.LVL678:
 11081               	.LBB3447:
 11082               	.LBB3448:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 11083               		.loc 2 50 0
 11084               	/* #APP */
 11085               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 11086 29ea F894      		cli
 11087               	 ;  0 "" 2
 11088               	.LVL679:
 11089               	/* #NOAPP */
 11090               	.LBE3448:
 11091               	.LBE3447:
 11092               	.LBB3449:
 11093               	.LBB3450:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 11094               		.loc 3 220 0
 11095 29ec 8091 0000 		lds r24,endpoints+24
 11096 29f0 8670      		andi r24,lo8(6)
 11097               	.LBE3450:
 11098               	.LBE3449:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 11099               		.loc 1 82 0
 11100 29f2 01F4      		brne .L503
 11101               	.LVL680:
 11102               	.L357:
 11103               	.LBB3451:
 11104               	.LBB3452:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 11105               		.loc 2 70 0
 11106 29f4 2FBF      		out __SREG__,r18
 11107               		.loc 2 71 0
 11108               	.LVL681:
 11109               	.LBE3452:
 11110               	.LBE3451:
 11111               	.LBE3446:
 11112               	.LBE3445:
 11113               	.LBE3444:
 11114               	.LBB3488:
 11115               	.LBB3489:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 11116               		.loc 2 70 0
 11117 29f6 3FBF      		out __SREG__,r19
 11118               		.loc 2 71 0
 11119 29f8 00C0      		rjmp .L355
 11120               	.LVL682:
 11121               	.L503:
 11122               	.LBE3489:
 11123               	.LBE3488:
 11124               	.LBB3490:
 11125               	.LBB3485:
 11126               	.LBB3482:
 11127               	.LBB3453:
 11128               	.LBB3454:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 11129               		.loc 4 51 0
 11130 29fa 6091 0000 		lds r22,ep_in_pipe_data+4
 11131               	.LBE3454:
 11132               	.LBE3453:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 11133               		.loc 1 83 0
 11134 29fe 1616      		cp __zero_reg__,r22
 11135 2a00 04F0      		brlt .+2
 11136 2a02 00C0      		rjmp .L358
 11137               	.LBB3455:
 11138               	.LBB3456:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 11139               		.loc 4 62 0
 11140 2a04 8091 0000 		lds r24,ep_in_pipe_data
 11141 2a08 9091 0000 		lds r25,ep_in_pipe_data+1
 11142               	.LVL683:
 11143               	.LBE3456:
 11144               	.LBE3455:
 11145               	.LBB3457:
 11146               	.LBB3458:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 11147               		.loc 1 68 0
 11148 2a0c 4091 0000 		lds r20,ep_in_data
 11149               	.LVL684:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 11150               		.loc 1 69 0
 11151 2a10 51E0      		ldi r21,lo8(1)
 11152 2a12 4130      		cpi r20,lo8(1)
 11153 2a14 01F4      		brne .L359
 11154 2a16 50E0      		ldi r21,lo8(0)
 11155               	.L359:
 11156 2a18 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 11157               		.loc 1 72 0
 11158 2a1c 4423      		tst r20
 11159 2a1e 01F4      		brne .L360
 11160               	.LVL685:
 11161               	.LBB3459:
 11162               	.LBB3460:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11163               		.loc 3 168 0
 11164 2a20 8093 0000 		sts endpoints+28,r24
 11165 2a24 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11166               		.loc 3 169 0
 11167 2a28 40E4      		ldi r20,lo8(64)
 11168 2a2a 50E0      		ldi r21,hi8(64)
 11169 2a2c 4093 0000 		sts endpoints+26,r20
 11170 2a30 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11171               		.loc 3 174 0
 11172 2a34 E0E0      		ldi r30,lo8(endpoints+24)
 11173 2a36 F0E0      		ldi r31,hi8(endpoints+24)
 11174               	.LVL686:
 11175               	/* #APP */
 11176               	 ;  174 "usb/usb.h" 1
 11177 2a38 02E2      		ldi r16, 34
 11178 2a3a 0693      		.dc.w 0x9306
 11179               		
 11180               	 ;  0 "" 2
 11181               	.LVL687:
 11182               	/* #NOAPP */
 11183               	.L361:
 11184               	.LBE3460:
 11185               	.LBE3459:
 11186               	.LBE3458:
 11187               	.LBE3457:
 11188               	.LBB3464:
 11189               	.LBB3465:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 11190               		.loc 4 72 0
 11191 2a3c 6150      		subi r22,lo8(-(-1))
 11192 2a3e 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 11193               		.loc 4 73 0
 11194 2a42 805C      		subi r24,lo8(-(64))
 11195 2a44 9F4F      		sbci r25,hi8(-(64))
 11196 2a46 8093 0000 		sts ep_in_pipe_data,r24
 11197 2a4a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 11198               		.loc 4 75 0
 11199 2a4e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 11200 2a50 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 11201 2a52 9F07      		cpc r25,r31
 11202 2a54 01F4      		brne .L357
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 11203               		.loc 4 76 0
 11204 2a56 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11205 2a58 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11206 2a5a 8093 0000 		sts ep_in_pipe_data,r24
 11207 2a5e 9093 0000 		sts ep_in_pipe_data+1,r25
 11208 2a62 00C0      		rjmp .L357
 11209               	.LVL688:
 11210               	.L360:
 11211               	.LBE3465:
 11212               	.LBE3464:
 11213               	.LBB3466:
 11214               	.LBB3463:
 11215               	.LBB3461:
 11216               	.LBB3462:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11217               		.loc 3 168 0
 11218 2a64 8093 0000 		sts endpoints+20,r24
 11219 2a68 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11220               		.loc 3 169 0
 11221 2a6c 40E4      		ldi r20,lo8(64)
 11222 2a6e 50E0      		ldi r21,hi8(64)
 11223 2a70 4093 0000 		sts endpoints+18,r20
 11224 2a74 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 11225               		.loc 3 176 0
 11226 2a78 E0E0      		ldi r30,lo8(endpoints+24)
 11227 2a7a F0E0      		ldi r31,hi8(endpoints+24)
 11228               	/* #APP */
 11229               	 ;  176 "usb/usb.h" 1
 11230 2a7c 04E1      		ldi r16, 20
 11231 2a7e 0693      		.dc.w 0x9306
 11232               		
 11233               	 ;  0 "" 2
 11234               	/* #NOAPP */
 11235 2a80 00C0      		rjmp .L361
 11236               	.LVL689:
 11237               	.L358:
 11238               	.LBE3462:
 11239               	.LBE3461:
 11240               	.LBE3463:
 11241               	.LBE3466:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 11242               		.loc 1 87 0
 11243 2a82 8091 0000 		lds r24,ep_in_data+1
 11244 2a86 8130      		cpi r24,lo8(1)
 11245 2a88 01F4      		brne .+2
 11246 2a8a 00C0      		rjmp .L504
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 11247               		.loc 1 91 0
 11248 2a8c 8230      		cpi r24,lo8(2)
 11249 2a8e 01F0      		breq .+2
 11250 2a90 00C0      		rjmp .L357
 11251               	.LVL690:
 11252               	.LBB3467:
 11253               	.LBB3468:
 11254               	.LBB3469:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 11255               		.loc 3 228 0
 11256 2a92 8091 0000 		lds r24,endpoints+24
 11257 2a96 8670      		andi r24,lo8(6)
 11258               	.LBE3469:
 11259               	.LBE3468:
 11260               	.LBE3467:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 11261               		.loc 1 91 0
 11262 2a98 8630      		cpi r24,lo8(6)
 11263 2a9a 01F0      		breq .+2
 11264 2a9c 00C0      		rjmp .L357
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 11265               		.loc 1 92 0
 11266 2a9e 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 11267               		.loc 1 93 0
 11268 2aa2 1092 0000 		sts ep_in_data+2,__zero_reg__
 11269 2aa6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 11270               	.LBB3470:
 11271               	.LBB3471:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 11272               		.loc 4 90 0
 11273 2aaa 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 11274               		.loc 4 91 0
 11275 2aae 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11276 2ab0 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11277 2ab2 8093 0000 		sts ep_in_pipe_data+2,r24
 11278 2ab6 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11279 2aba 8093 0000 		sts ep_in_pipe_data,r24
 11280 2abe 9093 0000 		sts ep_in_pipe_data+1,r25
 11281               	.LVL691:
 11282 2ac2 00C0      		rjmp .L357
 11283               	.LVL692:
 11284               	.L489:
 11285               	.LBE3471:
 11286               	.LBE3470:
 11287               	.LBE3482:
 11288               	.LBE3485:
 11289               	.LBE3490:
 11290               	.LBE3439:
 11291               	.LBE3438:
 11292               	.LBE3437:
 11293               	.LBE3436:
 11294               	.LBE3502:
 11295               	.LBE4029:
 11296               	.LBB4030:
 11297               	.LBB3778:
 11298               	.LBB3712:
 11299               	.LBB3713:
 11300               	.LBB3714:
 11301               	.LBB3715:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 11302               		.loc 1 177 0
 11303 2ac4 3FB7      		in r19,__SREG__
 11304               	.LVL693:
 11305               	.LBB3716:
 11306               	.LBB3717:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 11307               		.loc 2 50 0
 11308               	/* #APP */
 11309               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 11310 2ac6 F894      		cli
 11311               	 ;  0 "" 2
 11312               	.LVL694:
 11313               	/* #NOAPP */
 11314               	.LBE3717:
 11315               	.LBE3716:
 11316               		.loc 1 178 0
 11317 2ac8 1092 0000 		sts ep_in_data+2,__zero_reg__
 11318 2acc 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 11319               	.LVL695:
 11320               	.LBB3718:
 11321               	.LBB3719:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 11322               		.loc 4 81 0
 11323 2ad0 8091 0000 		lds r24,ep_in_pipe_data+4
 11324 2ad4 8F5F      		subi r24,lo8(-(1))
 11325 2ad6 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 11326               		.loc 4 82 0
 11327 2ada 8091 0000 		lds r24,ep_in_pipe_data+2
 11328 2ade 9091 0000 		lds r25,ep_in_pipe_data+2+1
 11329 2ae2 805C      		subi r24,lo8(-(64))
 11330 2ae4 9F4F      		sbci r25,hi8(-(64))
 11331 2ae6 8093 0000 		sts ep_in_pipe_data+2,r24
 11332 2aea 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 11333               		.loc 4 84 0
 11334 2aee 40E0      		ldi r20,hi8(ep_in_pipe_buffer+512)
 11335 2af0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 11336 2af2 9407      		cpc r25,r20
 11337               	.LVL696:
 11338 2af4 01F4      		brne .L396
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 11339               		.loc 4 85 0
 11340 2af6 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11341 2af8 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11342 2afa 8093 0000 		sts ep_in_pipe_data+2,r24
 11343 2afe 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11344               	.L396:
 11345               	.LVL697:
 11346               	.LBE3719:
 11347               	.LBE3718:
 11348               	.LBB3720:
 11349               	.LBB3721:
 11350               	.LBB3722:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 11351               		.loc 1 80 0
 11352 2b02 2FB7      		in r18,__SREG__
 11353               	.LVL698:
 11354               	.LBB3723:
 11355               	.LBB3724:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 11356               		.loc 2 50 0
 11357               	/* #APP */
 11358               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 11359 2b04 F894      		cli
 11360               	 ;  0 "" 2
 11361               	.LVL699:
 11362               	/* #NOAPP */
 11363               	.LBE3724:
 11364               	.LBE3723:
 11365               	.LBB3725:
 11366               	.LBB3726:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 11367               		.loc 3 220 0
 11368 2b06 8091 0000 		lds r24,endpoints+24
 11369 2b0a 8670      		andi r24,lo8(6)
 11370               	.LBE3726:
 11371               	.LBE3725:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 11372               		.loc 1 82 0
 11373 2b0c 01F4      		brne .L505
 11374               	.LVL700:
 11375               	.L397:
 11376               	.LBB3727:
 11377               	.LBB3728:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 11378               		.loc 2 70 0
 11379 2b0e 2FBF      		out __SREG__,r18
 11380               		.loc 2 71 0
 11381               	.LVL701:
 11382               	.LBE3728:
 11383               	.LBE3727:
 11384               	.LBE3722:
 11385               	.LBE3721:
 11386               	.LBE3720:
 11387               	.LBB3764:
 11388               	.LBB3765:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 11389               		.loc 2 70 0
 11390 2b10 3FBF      		out __SREG__,r19
 11391               		.loc 2 71 0
 11392 2b12 00C0      		rjmp .L395
 11393               	.LVL702:
 11394               	.L505:
 11395               	.LBE3765:
 11396               	.LBE3764:
 11397               	.LBB3766:
 11398               	.LBB3761:
 11399               	.LBB3758:
 11400               	.LBB3729:
 11401               	.LBB3730:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 11402               		.loc 4 51 0
 11403 2b14 6091 0000 		lds r22,ep_in_pipe_data+4
 11404               	.LBE3730:
 11405               	.LBE3729:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 11406               		.loc 1 83 0
 11407 2b18 1616      		cp __zero_reg__,r22
 11408 2b1a 04F0      		brlt .+2
 11409 2b1c 00C0      		rjmp .L398
 11410               	.LBB3731:
 11411               	.LBB3732:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 11412               		.loc 4 62 0
 11413 2b1e 8091 0000 		lds r24,ep_in_pipe_data
 11414 2b22 9091 0000 		lds r25,ep_in_pipe_data+1
 11415               	.LVL703:
 11416               	.LBE3732:
 11417               	.LBE3731:
 11418               	.LBB3733:
 11419               	.LBB3734:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 11420               		.loc 1 68 0
 11421 2b26 4091 0000 		lds r20,ep_in_data
 11422               	.LVL704:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 11423               		.loc 1 69 0
 11424 2b2a 51E0      		ldi r21,lo8(1)
 11425 2b2c 4130      		cpi r20,lo8(1)
 11426 2b2e 01F4      		brne .L399
 11427 2b30 50E0      		ldi r21,lo8(0)
 11428               	.L399:
 11429 2b32 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 11430               		.loc 1 72 0
 11431 2b36 4423      		tst r20
 11432 2b38 01F4      		brne .L400
 11433               	.LVL705:
 11434               	.LBB3735:
 11435               	.LBB3736:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11436               		.loc 3 168 0
 11437 2b3a 8093 0000 		sts endpoints+28,r24
 11438 2b3e 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11439               		.loc 3 169 0
 11440 2b42 40E4      		ldi r20,lo8(64)
 11441 2b44 50E0      		ldi r21,hi8(64)
 11442 2b46 4093 0000 		sts endpoints+26,r20
 11443 2b4a 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11444               		.loc 3 174 0
 11445 2b4e E0E0      		ldi r30,lo8(endpoints+24)
 11446 2b50 F0E0      		ldi r31,hi8(endpoints+24)
 11447               	.LVL706:
 11448               	/* #APP */
 11449               	 ;  174 "usb/usb.h" 1
 11450 2b52 02E2      		ldi r16, 34
 11451 2b54 0693      		.dc.w 0x9306
 11452               		
 11453               	 ;  0 "" 2
 11454               	.LVL707:
 11455               	/* #NOAPP */
 11456               	.L401:
 11457               	.LBE3736:
 11458               	.LBE3735:
 11459               	.LBE3734:
 11460               	.LBE3733:
 11461               	.LBB3740:
 11462               	.LBB3741:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 11463               		.loc 4 72 0
 11464 2b56 6150      		subi r22,lo8(-(-1))
 11465 2b58 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 11466               		.loc 4 73 0
 11467 2b5c 805C      		subi r24,lo8(-(64))
 11468 2b5e 9F4F      		sbci r25,hi8(-(64))
 11469 2b60 8093 0000 		sts ep_in_pipe_data,r24
 11470 2b64 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 11471               		.loc 4 75 0
 11472 2b68 50E0      		ldi r21,hi8(ep_in_pipe_buffer+512)
 11473 2b6a 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 11474 2b6c 9507      		cpc r25,r21
 11475 2b6e 01F4      		brne .L397
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 11476               		.loc 4 76 0
 11477 2b70 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11478 2b72 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11479 2b74 8093 0000 		sts ep_in_pipe_data,r24
 11480 2b78 9093 0000 		sts ep_in_pipe_data+1,r25
 11481 2b7c 00C0      		rjmp .L397
 11482               	.LVL708:
 11483               	.L400:
 11484               	.LBE3741:
 11485               	.LBE3740:
 11486               	.LBB3742:
 11487               	.LBB3739:
 11488               	.LBB3737:
 11489               	.LBB3738:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11490               		.loc 3 168 0
 11491 2b7e 8093 0000 		sts endpoints+20,r24
 11492 2b82 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11493               		.loc 3 169 0
 11494 2b86 40E4      		ldi r20,lo8(64)
 11495 2b88 50E0      		ldi r21,hi8(64)
 11496 2b8a 4093 0000 		sts endpoints+18,r20
 11497 2b8e 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 11498               		.loc 3 176 0
 11499 2b92 E0E0      		ldi r30,lo8(endpoints+24)
 11500 2b94 F0E0      		ldi r31,hi8(endpoints+24)
 11501               	.LVL709:
 11502               	/* #APP */
 11503               	 ;  176 "usb/usb.h" 1
 11504 2b96 04E1      		ldi r16, 20
 11505 2b98 0693      		.dc.w 0x9306
 11506               		
 11507               	 ;  0 "" 2
 11508               	/* #NOAPP */
 11509 2b9a 00C0      		rjmp .L401
 11510               	.LVL710:
 11511               	.L398:
 11512               	.LBE3738:
 11513               	.LBE3737:
 11514               	.LBE3739:
 11515               	.LBE3742:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 11516               		.loc 1 87 0
 11517 2b9c 8091 0000 		lds r24,ep_in_data+1
 11518 2ba0 8130      		cpi r24,lo8(1)
 11519 2ba2 01F4      		brne .+2
 11520 2ba4 00C0      		rjmp .L506
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 11521               		.loc 1 91 0
 11522 2ba6 8230      		cpi r24,lo8(2)
 11523 2ba8 01F0      		breq .+2
 11524 2baa 00C0      		rjmp .L397
 11525               	.LVL711:
 11526               	.LBB3743:
 11527               	.LBB3744:
 11528               	.LBB3745:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 11529               		.loc 3 228 0
 11530 2bac 8091 0000 		lds r24,endpoints+24
 11531 2bb0 8670      		andi r24,lo8(6)
 11532               	.LBE3745:
 11533               	.LBE3744:
 11534               	.LBE3743:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 11535               		.loc 1 91 0
 11536 2bb2 8630      		cpi r24,lo8(6)
 11537 2bb4 01F0      		breq .+2
 11538 2bb6 00C0      		rjmp .L397
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 11539               		.loc 1 92 0
 11540 2bb8 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 11541               		.loc 1 93 0
 11542 2bbc 1092 0000 		sts ep_in_data+2,__zero_reg__
 11543 2bc0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 11544               	.LBB3746:
 11545               	.LBB3747:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 11546               		.loc 4 90 0
 11547 2bc4 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 11548               		.loc 4 91 0
 11549 2bc8 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11550 2bca 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11551 2bcc 8093 0000 		sts ep_in_pipe_data+2,r24
 11552 2bd0 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11553 2bd4 8093 0000 		sts ep_in_pipe_data,r24
 11554 2bd8 9093 0000 		sts ep_in_pipe_data+1,r25
 11555               	.LVL712:
 11556 2bdc 00C0      		rjmp .L397
 11557               	.LVL713:
 11558               	.L478:
 11559               	.LBE3747:
 11560               	.LBE3746:
 11561               	.LBE3758:
 11562               	.LBE3761:
 11563               	.LBE3766:
 11564               	.LBE3715:
 11565               	.LBE3714:
 11566               	.LBE3713:
 11567               	.LBE3712:
 11568               	.LBE3778:
 11569               	.LBE4030:
 11570               	.LBB4031:
 11571               	.LBB3385:
 11572               	.LBB3319:
 11573               	.LBB3320:
 11574               	.LBB3321:
 11575               	.LBB3322:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 11576               		.loc 1 177 0
 11577 2bde 3FB7      		in r19,__SREG__
 11578               	.LVL714:
 11579               	.LBB3323:
 11580               	.LBB3324:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 11581               		.loc 2 50 0
 11582               	/* #APP */
 11583               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 11584 2be0 F894      		cli
 11585               	 ;  0 "" 2
 11586               	.LVL715:
 11587               	/* #NOAPP */
 11588               	.LBE3324:
 11589               	.LBE3323:
 11590               		.loc 1 178 0
 11591 2be2 1092 0000 		sts ep_in_data+2,__zero_reg__
 11592 2be6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 11593               	.LVL716:
 11594               	.LBB3325:
 11595               	.LBB3326:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 11596               		.loc 4 81 0
 11597 2bea 8091 0000 		lds r24,ep_in_pipe_data+4
 11598 2bee 8F5F      		subi r24,lo8(-(1))
 11599 2bf0 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 11600               		.loc 4 82 0
 11601 2bf4 8091 0000 		lds r24,ep_in_pipe_data+2
 11602 2bf8 9091 0000 		lds r25,ep_in_pipe_data+2+1
 11603 2bfc 805C      		subi r24,lo8(-(64))
 11604 2bfe 9F4F      		sbci r25,hi8(-(64))
 11605 2c00 8093 0000 		sts ep_in_pipe_data+2,r24
 11606 2c04 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 11607               		.loc 4 84 0
 11608 2c08 A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 11609 2c0a 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 11610 2c0c 9A07      		cpc r25,r26
 11611 2c0e 01F4      		brne .L337
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 11612               		.loc 4 85 0
 11613 2c10 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11614 2c12 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11615 2c14 8093 0000 		sts ep_in_pipe_data+2,r24
 11616 2c18 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11617               	.L337:
 11618               	.LVL717:
 11619               	.LBE3326:
 11620               	.LBE3325:
 11621               	.LBB3327:
 11622               	.LBB3328:
 11623               	.LBB3329:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 11624               		.loc 1 80 0
 11625 2c1c 2FB7      		in r18,__SREG__
 11626               	.LVL718:
 11627               	.LBB3330:
 11628               	.LBB3331:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 11629               		.loc 2 50 0
 11630               	/* #APP */
 11631               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 11632 2c1e F894      		cli
 11633               	 ;  0 "" 2
 11634               	.LVL719:
 11635               	/* #NOAPP */
 11636               	.LBE3331:
 11637               	.LBE3330:
 11638               	.LBB3332:
 11639               	.LBB3333:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 11640               		.loc 3 220 0
 11641 2c20 8091 0000 		lds r24,endpoints+24
 11642 2c24 8670      		andi r24,lo8(6)
 11643               	.LBE3333:
 11644               	.LBE3332:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 11645               		.loc 1 82 0
 11646 2c26 01F4      		brne .L507
 11647               	.LVL720:
 11648               	.L338:
 11649               	.LBB3334:
 11650               	.LBB3335:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 11651               		.loc 2 70 0
 11652 2c28 2FBF      		out __SREG__,r18
 11653               		.loc 2 71 0
 11654               	.LVL721:
 11655               	.LBE3335:
 11656               	.LBE3334:
 11657               	.LBE3329:
 11658               	.LBE3328:
 11659               	.LBE3327:
 11660               	.LBB3371:
 11661               	.LBB3372:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 11662               		.loc 2 70 0
 11663 2c2a 3FBF      		out __SREG__,r19
 11664               		.loc 2 71 0
 11665 2c2c 00C0      		rjmp .L336
 11666               	.LVL722:
 11667               	.L507:
 11668               	.LBE3372:
 11669               	.LBE3371:
 11670               	.LBB3373:
 11671               	.LBB3368:
 11672               	.LBB3365:
 11673               	.LBB3336:
 11674               	.LBB3337:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 11675               		.loc 4 51 0
 11676 2c2e 6091 0000 		lds r22,ep_in_pipe_data+4
 11677               	.LBE3337:
 11678               	.LBE3336:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 11679               		.loc 1 83 0
 11680 2c32 1616      		cp __zero_reg__,r22
 11681 2c34 04F0      		brlt .+2
 11682 2c36 00C0      		rjmp .L339
 11683               	.LBB3338:
 11684               	.LBB3339:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 11685               		.loc 4 62 0
 11686 2c38 8091 0000 		lds r24,ep_in_pipe_data
 11687 2c3c 9091 0000 		lds r25,ep_in_pipe_data+1
 11688               	.LVL723:
 11689               	.LBE3339:
 11690               	.LBE3338:
 11691               	.LBB3340:
 11692               	.LBB3341:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 11693               		.loc 1 68 0
 11694 2c40 4091 0000 		lds r20,ep_in_data
 11695               	.LVL724:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 11696               		.loc 1 69 0
 11697 2c44 51E0      		ldi r21,lo8(1)
 11698 2c46 4130      		cpi r20,lo8(1)
 11699 2c48 01F4      		brne .L340
 11700 2c4a 50E0      		ldi r21,lo8(0)
 11701               	.L340:
 11702 2c4c 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 11703               		.loc 1 72 0
 11704 2c50 4423      		tst r20
 11705 2c52 01F4      		brne .L341
 11706               	.LVL725:
 11707               	.LBB3342:
 11708               	.LBB3343:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11709               		.loc 3 168 0
 11710 2c54 8093 0000 		sts endpoints+28,r24
 11711 2c58 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11712               		.loc 3 169 0
 11713 2c5c 40E4      		ldi r20,lo8(64)
 11714 2c5e 50E0      		ldi r21,hi8(64)
 11715 2c60 4093 0000 		sts endpoints+26,r20
 11716 2c64 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11717               		.loc 3 174 0
 11718 2c68 E0E0      		ldi r30,lo8(endpoints+24)
 11719 2c6a F0E0      		ldi r31,hi8(endpoints+24)
 11720               	.LVL726:
 11721               	/* #APP */
 11722               	 ;  174 "usb/usb.h" 1
 11723 2c6c 02E2      		ldi r16, 34
 11724 2c6e 0693      		.dc.w 0x9306
 11725               		
 11726               	 ;  0 "" 2
 11727               	.LVL727:
 11728               	/* #NOAPP */
 11729               	.L342:
 11730               	.LBE3343:
 11731               	.LBE3342:
 11732               	.LBE3341:
 11733               	.LBE3340:
 11734               	.LBB3347:
 11735               	.LBB3348:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 11736               		.loc 4 72 0
 11737 2c70 6150      		subi r22,lo8(-(-1))
 11738 2c72 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 11739               		.loc 4 73 0
 11740 2c76 805C      		subi r24,lo8(-(64))
 11741 2c78 9F4F      		sbci r25,hi8(-(64))
 11742 2c7a 8093 0000 		sts ep_in_pipe_data,r24
 11743 2c7e 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 11744               		.loc 4 75 0
 11745 2c82 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 11746 2c84 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 11747 2c86 9B07      		cpc r25,r27
 11748 2c88 01F4      		brne .L338
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 11749               		.loc 4 76 0
 11750 2c8a 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11751 2c8c 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11752 2c8e 8093 0000 		sts ep_in_pipe_data,r24
 11753 2c92 9093 0000 		sts ep_in_pipe_data+1,r25
 11754 2c96 00C0      		rjmp .L338
 11755               	.LVL728:
 11756               	.L341:
 11757               	.LBE3348:
 11758               	.LBE3347:
 11759               	.LBB3349:
 11760               	.LBB3346:
 11761               	.LBB3344:
 11762               	.LBB3345:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11763               		.loc 3 168 0
 11764 2c98 8093 0000 		sts endpoints+20,r24
 11765 2c9c 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11766               		.loc 3 169 0
 11767 2ca0 40E4      		ldi r20,lo8(64)
 11768 2ca2 50E0      		ldi r21,hi8(64)
 11769 2ca4 4093 0000 		sts endpoints+18,r20
 11770 2ca8 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 11771               		.loc 3 176 0
 11772 2cac E0E0      		ldi r30,lo8(endpoints+24)
 11773 2cae F0E0      		ldi r31,hi8(endpoints+24)
 11774               	.LVL729:
 11775               	/* #APP */
 11776               	 ;  176 "usb/usb.h" 1
 11777 2cb0 04E1      		ldi r16, 20
 11778 2cb2 0693      		.dc.w 0x9306
 11779               		
 11780               	 ;  0 "" 2
 11781               	/* #NOAPP */
 11782 2cb4 00C0      		rjmp .L342
 11783               	.LVL730:
 11784               	.L339:
 11785               	.LBE3345:
 11786               	.LBE3344:
 11787               	.LBE3346:
 11788               	.LBE3349:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 11789               		.loc 1 87 0
 11790 2cb6 8091 0000 		lds r24,ep_in_data+1
 11791 2cba 8130      		cpi r24,lo8(1)
 11792 2cbc 01F4      		brne .+2
 11793 2cbe 00C0      		rjmp .L508
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 11794               		.loc 1 91 0
 11795 2cc0 8230      		cpi r24,lo8(2)
 11796 2cc2 01F0      		breq .+2
 11797 2cc4 00C0      		rjmp .L338
 11798               	.LVL731:
 11799               	.LBB3350:
 11800               	.LBB3351:
 11801               	.LBB3352:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 11802               		.loc 3 228 0
 11803 2cc6 8091 0000 		lds r24,endpoints+24
 11804 2cca 8670      		andi r24,lo8(6)
 11805               	.LBE3352:
 11806               	.LBE3351:
 11807               	.LBE3350:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 11808               		.loc 1 91 0
 11809 2ccc 8630      		cpi r24,lo8(6)
 11810 2cce 01F0      		breq .+2
 11811 2cd0 00C0      		rjmp .L338
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 11812               		.loc 1 92 0
 11813 2cd2 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 11814               		.loc 1 93 0
 11815 2cd6 1092 0000 		sts ep_in_data+2,__zero_reg__
 11816 2cda 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 11817               	.LBB3353:
 11818               	.LBB3354:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 11819               		.loc 4 90 0
 11820 2cde 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 11821               		.loc 4 91 0
 11822 2ce2 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 11823 2ce4 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 11824 2ce6 8093 0000 		sts ep_in_pipe_data+2,r24
 11825 2cea 9093 0000 		sts ep_in_pipe_data+2+1,r25
 11826 2cee 8093 0000 		sts ep_in_pipe_data,r24
 11827 2cf2 9093 0000 		sts ep_in_pipe_data+1,r25
 11828               	.LVL732:
 11829 2cf6 00C0      		rjmp .L338
 11830               	.LVL733:
 11831               	.L504:
 11832               	.LBE3354:
 11833               	.LBE3353:
 11834               	.LBE3365:
 11835               	.LBE3368:
 11836               	.LBE3373:
 11837               	.LBE3322:
 11838               	.LBE3321:
 11839               	.LBE3320:
 11840               	.LBE3319:
 11841               	.LBE3385:
 11842               	.LBE4031:
 11843               	.LBB4032:
 11844               	.LBB3503:
 11845               	.LBB3499:
 11846               	.LBB3497:
 11847               	.LBB3495:
 11848               	.LBB3493:
 11849               	.LBB3491:
 11850               	.LBB3486:
 11851               	.LBB3483:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 11852               		.loc 1 88 0
 11853 2cf8 82E0      		ldi r24,lo8(2)
 11854 2cfa 8093 0000 		sts ep_in_data+1,r24
 11855               	.LBB3472:
 11856               	.LBB3473:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 11857               		.loc 4 62 0
 11858 2cfe 7091 0000 		lds r23,ep_in_pipe_data
 11859 2d02 6091 0000 		lds r22,ep_in_pipe_data+1
 11860               	.LBE3473:
 11861               	.LBE3472:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 11862               		.loc 1 90 0
 11863 2d06 4091 0000 		lds r20,ep_in_data+2
 11864 2d0a 5091 0000 		lds r21,ep_in_data+2+1
 11865               	.LVL734:
 11866               	.LBB3474:
 11867               	.LBB3475:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 11868               		.loc 1 68 0
 11869 2d0e 8091 0000 		lds r24,ep_in_data
 11870               	.LVL735:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 11871               		.loc 1 69 0
 11872 2d12 91E0      		ldi r25,lo8(1)
 11873               	.LVL736:
 11874 2d14 8130      		cpi r24,lo8(1)
 11875 2d16 01F4      		brne .L364
 11876 2d18 90E0      		ldi r25,lo8(0)
 11877               	.L364:
 11878 2d1a 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 11879               		.loc 1 72 0
 11880 2d1e 8823      		tst r24
 11881 2d20 01F0      		breq .+2
 11882 2d22 00C0      		rjmp .L365
 11883               	.LVL737:
 11884               	.LBB3476:
 11885               	.LBB3477:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11886               		.loc 3 168 0
 11887 2d24 872F      		mov r24,r23
 11888 2d26 962F      		mov r25,r22
 11889 2d28 8093 0000 		sts endpoints+28,r24
 11890 2d2c 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11891               		.loc 3 169 0
 11892 2d30 4093 0000 		sts endpoints+26,r20
 11893 2d34 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11894               		.loc 3 174 0
 11895 2d38 E0E0      		ldi r30,lo8(endpoints+24)
 11896 2d3a F0E0      		ldi r31,hi8(endpoints+24)
 11897               	.LVL738:
 11898               	/* #APP */
 11899               	 ;  174 "usb/usb.h" 1
 11900 2d3c 02E2      		ldi r16, 34
 11901 2d3e 0693      		.dc.w 0x9306
 11902               		
 11903               	 ;  0 "" 2
 11904               	/* #NOAPP */
 11905 2d40 00C0      		rjmp .L357
 11906               	.LVL739:
 11907               	.L502:
 11908               	.LBE3477:
 11909               	.LBE3476:
 11910               	.LBE3475:
 11911               	.LBE3474:
 11912               	.LBE3483:
 11913               	.LBE3486:
 11914               	.LBE3491:
 11915               	.LBE3493:
 11916               	.LBE3495:
 11917               	.LBE3497:
 11918               	.LBE3499:
 11919               	.LBE3503:
 11920               	.LBE4032:
 11921               	.LBB4033:
 11922               	.LBB3868:
 11923               	.LBB3864:
 11924               	.LBB3862:
 11925               	.LBB3860:
 11926               	.LBB3858:
 11927               	.LBB3856:
 11928               	.LBB3851:
 11929               	.LBB3848:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 11930               		.loc 1 88 0
 11931 2d42 82E0      		ldi r24,lo8(2)
 11932 2d44 8093 0000 		sts ep_in_data+1,r24
 11933               	.LBB3837:
 11934               	.LBB3838:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 11935               		.loc 4 62 0
 11936 2d48 7091 0000 		lds r23,ep_in_pipe_data
 11937 2d4c 6091 0000 		lds r22,ep_in_pipe_data+1
 11938               	.LBE3838:
 11939               	.LBE3837:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 11940               		.loc 1 90 0
 11941 2d50 4091 0000 		lds r20,ep_in_data+2
 11942 2d54 5091 0000 		lds r21,ep_in_data+2+1
 11943               	.LVL740:
 11944               	.LBB3839:
 11945               	.LBB3840:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 11946               		.loc 1 68 0
 11947 2d58 8091 0000 		lds r24,ep_in_data
 11948               	.LVL741:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 11949               		.loc 1 69 0
 11950 2d5c 91E0      		ldi r25,lo8(1)
 11951               	.LVL742:
 11952 2d5e 8130      		cpi r24,lo8(1)
 11953 2d60 01F4      		brne .L418
 11954 2d62 90E0      		ldi r25,lo8(0)
 11955               	.L418:
 11956 2d64 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 11957               		.loc 1 72 0
 11958 2d68 8823      		tst r24
 11959 2d6a 01F0      		breq .+2
 11960 2d6c 00C0      		rjmp .L419
 11961               	.LVL743:
 11962               	.LBB3841:
 11963               	.LBB3842:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11964               		.loc 3 168 0
 11965 2d6e 872F      		mov r24,r23
 11966 2d70 962F      		mov r25,r22
 11967 2d72 8093 0000 		sts endpoints+28,r24
 11968 2d76 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11969               		.loc 3 169 0
 11970 2d7a 4093 0000 		sts endpoints+26,r20
 11971 2d7e 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11972               		.loc 3 174 0
 11973 2d82 E0E0      		ldi r30,lo8(endpoints+24)
 11974 2d84 F0E0      		ldi r31,hi8(endpoints+24)
 11975               	.LVL744:
 11976               	/* #APP */
 11977               	 ;  174 "usb/usb.h" 1
 11978 2d86 02E2      		ldi r16, 34
 11979 2d88 0693      		.dc.w 0x9306
 11980               		
 11981               	 ;  0 "" 2
 11982               	/* #NOAPP */
 11983 2d8a 00C0      		rjmp .L411
 11984               	.LVL745:
 11985               	.L508:
 11986               	.LBE3842:
 11987               	.LBE3841:
 11988               	.LBE3840:
 11989               	.LBE3839:
 11990               	.LBE3848:
 11991               	.LBE3851:
 11992               	.LBE3856:
 11993               	.LBE3858:
 11994               	.LBE3860:
 11995               	.LBE3862:
 11996               	.LBE3864:
 11997               	.LBE3868:
 11998               	.LBE4033:
 11999               	.LBB4034:
 12000               	.LBB3386:
 12001               	.LBB3382:
 12002               	.LBB3380:
 12003               	.LBB3378:
 12004               	.LBB3376:
 12005               	.LBB3374:
 12006               	.LBB3369:
 12007               	.LBB3366:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 12008               		.loc 1 88 0
 12009 2d8c 82E0      		ldi r24,lo8(2)
 12010 2d8e 8093 0000 		sts ep_in_data+1,r24
 12011               	.LBB3355:
 12012               	.LBB3356:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 12013               		.loc 4 62 0
 12014 2d92 7091 0000 		lds r23,ep_in_pipe_data
 12015 2d96 6091 0000 		lds r22,ep_in_pipe_data+1
 12016               	.LBE3356:
 12017               	.LBE3355:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 12018               		.loc 1 90 0
 12019 2d9a 4091 0000 		lds r20,ep_in_data+2
 12020 2d9e 5091 0000 		lds r21,ep_in_data+2+1
 12021               	.LVL746:
 12022               	.LBB3357:
 12023               	.LBB3358:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 12024               		.loc 1 68 0
 12025 2da2 8091 0000 		lds r24,ep_in_data
 12026               	.LVL747:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 12027               		.loc 1 69 0
 12028 2da6 91E0      		ldi r25,lo8(1)
 12029               	.LVL748:
 12030 2da8 8130      		cpi r24,lo8(1)
 12031 2daa 01F4      		brne .L345
 12032 2dac 90E0      		ldi r25,lo8(0)
 12033               	.L345:
 12034 2dae 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 12035               		.loc 1 72 0
 12036 2db2 8823      		tst r24
 12037 2db4 01F0      		breq .+2
 12038 2db6 00C0      		rjmp .L346
 12039               	.LVL749:
 12040               	.LBB3359:
 12041               	.LBB3360:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12042               		.loc 3 168 0
 12043 2db8 872F      		mov r24,r23
 12044 2dba 962F      		mov r25,r22
 12045 2dbc 8093 0000 		sts endpoints+28,r24
 12046 2dc0 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12047               		.loc 3 169 0
 12048 2dc4 4093 0000 		sts endpoints+26,r20
 12049 2dc8 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 12050               		.loc 3 174 0
 12051 2dcc E0E0      		ldi r30,lo8(endpoints+24)
 12052 2dce F0E0      		ldi r31,hi8(endpoints+24)
 12053               	.LVL750:
 12054               	/* #APP */
 12055               	 ;  174 "usb/usb.h" 1
 12056 2dd0 02E2      		ldi r16, 34
 12057 2dd2 0693      		.dc.w 0x9306
 12058               		
 12059               	 ;  0 "" 2
 12060               	/* #NOAPP */
 12061 2dd4 00C0      		rjmp .L338
 12062               	.LVL751:
 12063               	.L506:
 12064               	.LBE3360:
 12065               	.LBE3359:
 12066               	.LBE3358:
 12067               	.LBE3357:
 12068               	.LBE3366:
 12069               	.LBE3369:
 12070               	.LBE3374:
 12071               	.LBE3376:
 12072               	.LBE3378:
 12073               	.LBE3380:
 12074               	.LBE3382:
 12075               	.LBE3386:
 12076               	.LBE4034:
 12077               	.LBB4035:
 12078               	.LBB3779:
 12079               	.LBB3775:
 12080               	.LBB3773:
 12081               	.LBB3771:
 12082               	.LBB3769:
 12083               	.LBB3767:
 12084               	.LBB3762:
 12085               	.LBB3759:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 12086               		.loc 1 88 0
 12087 2dd6 82E0      		ldi r24,lo8(2)
 12088 2dd8 8093 0000 		sts ep_in_data+1,r24
 12089               	.LBB3748:
 12090               	.LBB3749:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 12091               		.loc 4 62 0
 12092 2ddc 7091 0000 		lds r23,ep_in_pipe_data
 12093 2de0 6091 0000 		lds r22,ep_in_pipe_data+1
 12094               	.LBE3749:
 12095               	.LBE3748:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 12096               		.loc 1 90 0
 12097 2de4 4091 0000 		lds r20,ep_in_data+2
 12098 2de8 5091 0000 		lds r21,ep_in_data+2+1
 12099               	.LVL752:
 12100               	.LBB3750:
 12101               	.LBB3751:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 12102               		.loc 1 68 0
 12103 2dec 8091 0000 		lds r24,ep_in_data
 12104               	.LVL753:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 12105               		.loc 1 69 0
 12106 2df0 91E0      		ldi r25,lo8(1)
 12107               	.LVL754:
 12108 2df2 8130      		cpi r24,lo8(1)
 12109 2df4 01F4      		brne .L404
 12110 2df6 90E0      		ldi r25,lo8(0)
 12111               	.L404:
 12112 2df8 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 12113               		.loc 1 72 0
 12114 2dfc 8823      		tst r24
 12115 2dfe 01F4      		brne .L405
 12116               	.LVL755:
 12117               	.LBB3752:
 12118               	.LBB3753:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12119               		.loc 3 168 0
 12120 2e00 872F      		mov r24,r23
 12121 2e02 962F      		mov r25,r22
 12122 2e04 8093 0000 		sts endpoints+28,r24
 12123 2e08 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12124               		.loc 3 169 0
 12125 2e0c 4093 0000 		sts endpoints+26,r20
 12126 2e10 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 12127               		.loc 3 174 0
 12128 2e14 E0E0      		ldi r30,lo8(endpoints+24)
 12129 2e16 F0E0      		ldi r31,hi8(endpoints+24)
 12130               	.LVL756:
 12131               	/* #APP */
 12132               	 ;  174 "usb/usb.h" 1
 12133 2e18 02E2      		ldi r16, 34
 12134 2e1a 0693      		.dc.w 0x9306
 12135               		
 12136               	 ;  0 "" 2
 12137               	/* #NOAPP */
 12138 2e1c 00C0      		rjmp .L397
 12139               	.LVL757:
 12140               	.L327:
 12141               	.LBE3753:
 12142               	.LBE3752:
 12143               	.LBE3751:
 12144               	.LBE3750:
 12145               	.LBE3759:
 12146               	.LBE3762:
 12147               	.LBE3767:
 12148               	.LBE3769:
 12149               	.LBE3771:
 12150               	.LBE3773:
 12151               	.LBE3775:
 12152               	.LBE3779:
 12153               	.LBE4035:
 12154               	.LBB4036:
 12155               	.LBB3270:
 12156               	.LBB3266:
 12157               	.LBB3264:
 12158               	.LBB3262:
 12159               	.LBB3260:
 12160               	.LBB3258:
 12161               	.LBB3253:
 12162               	.LBB3250:
 12163               	.LBB3247:
 12164               	.LBB3246:
 12165               	.LBB3244:
 12166               	.LBB3245:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12167               		.loc 3 168 0
 12168 2e1e 872F      		mov r24,r23
 12169               	.LVL758:
 12170 2e20 962F      		mov r25,r22
 12171 2e22 8093 0000 		sts endpoints+20,r24
 12172 2e26 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12173               		.loc 3 169 0
 12174 2e2a 4093 0000 		sts endpoints+18,r20
 12175 2e2e 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 12176               		.loc 3 176 0
 12177 2e32 E0E0      		ldi r30,lo8(endpoints+24)
 12178 2e34 F0E0      		ldi r31,hi8(endpoints+24)
 12179               	.LVL759:
 12180               	/* #APP */
 12181               	 ;  176 "usb/usb.h" 1
 12182 2e36 04E1      		ldi r16, 20
 12183 2e38 0693      		.dc.w 0x9306
 12184               		
 12185               	 ;  0 "" 2
 12186               	/* #NOAPP */
 12187 2e3a 00C0      		rjmp .L319
 12188               	.LVL760:
 12189               	.L405:
 12190               	.LBE3245:
 12191               	.LBE3244:
 12192               	.LBE3246:
 12193               	.LBE3247:
 12194               	.LBE3250:
 12195               	.LBE3253:
 12196               	.LBE3258:
 12197               	.LBE3260:
 12198               	.LBE3262:
 12199               	.LBE3264:
 12200               	.LBE3266:
 12201               	.LBE3270:
 12202               	.LBE4036:
 12203               	.LBB4037:
 12204               	.LBB3780:
 12205               	.LBB3776:
 12206               	.LBB3774:
 12207               	.LBB3772:
 12208               	.LBB3770:
 12209               	.LBB3768:
 12210               	.LBB3763:
 12211               	.LBB3760:
 12212               	.LBB3757:
 12213               	.LBB3756:
 12214               	.LBB3754:
 12215               	.LBB3755:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12216               		.loc 3 168 0
 12217 2e3c 872F      		mov r24,r23
 12218               	.LVL761:
 12219 2e3e 962F      		mov r25,r22
 12220 2e40 8093 0000 		sts endpoints+20,r24
 12221 2e44 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12222               		.loc 3 169 0
 12223 2e48 4093 0000 		sts endpoints+18,r20
 12224 2e4c 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 12225               		.loc 3 176 0
 12226 2e50 E0E0      		ldi r30,lo8(endpoints+24)
 12227 2e52 F0E0      		ldi r31,hi8(endpoints+24)
 12228               	.LVL762:
 12229               	/* #APP */
 12230               	 ;  176 "usb/usb.h" 1
 12231 2e54 04E1      		ldi r16, 20
 12232 2e56 0693      		.dc.w 0x9306
 12233               		
 12234               	 ;  0 "" 2
 12235               	/* #NOAPP */
 12236 2e58 00C0      		rjmp .L397
 12237               	.LVL763:
 12238               	.L438:
 12239               	.LBE3755:
 12240               	.LBE3754:
 12241               	.LBE3756:
 12242               	.LBE3757:
 12243               	.LBE3760:
 12244               	.LBE3763:
 12245               	.LBE3768:
 12246               	.LBE3770:
 12247               	.LBE3772:
 12248               	.LBE3774:
 12249               	.LBE3776:
 12250               	.LBE3780:
 12251               	.LBE4037:
 12252               	.LBB4038:
 12253               	.LBB3986:
 12254               	.LBB3982:
 12255               	.LBB3980:
 12256               	.LBB3978:
 12257               	.LBB3976:
 12258               	.LBB3974:
 12259               	.LBB3969:
 12260               	.LBB3966:
 12261               	.LBB3963:
 12262               	.LBB3962:
 12263               	.LBB3960:
 12264               	.LBB3961:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12265               		.loc 3 168 0
 12266 2e5a 872F      		mov r24,r23
 12267               	.LVL764:
 12268 2e5c 962F      		mov r25,r22
 12269 2e5e 8093 0000 		sts endpoints+20,r24
 12270 2e62 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12271               		.loc 3 169 0
 12272 2e66 4093 0000 		sts endpoints+18,r20
 12273 2e6a 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 12274               		.loc 3 176 0
 12275 2e6e E0E0      		ldi r30,lo8(endpoints+24)
 12276 2e70 F0E0      		ldi r31,hi8(endpoints+24)
 12277               	/* #APP */
 12278               	 ;  176 "usb/usb.h" 1
 12279 2e72 04E1      		ldi r16, 20
 12280 2e74 0693      		.dc.w 0x9306
 12281               		
 12282               	 ;  0 "" 2
 12283               	/* #NOAPP */
 12284 2e76 00C0      		rjmp .L430
 12285               	.LVL765:
 12286               	.L419:
 12287               	.LBE3961:
 12288               	.LBE3960:
 12289               	.LBE3962:
 12290               	.LBE3963:
 12291               	.LBE3966:
 12292               	.LBE3969:
 12293               	.LBE3974:
 12294               	.LBE3976:
 12295               	.LBE3978:
 12296               	.LBE3980:
 12297               	.LBE3982:
 12298               	.LBE3986:
 12299               	.LBE4038:
 12300               	.LBB4039:
 12301               	.LBB3869:
 12302               	.LBB3865:
 12303               	.LBB3863:
 12304               	.LBB3861:
 12305               	.LBB3859:
 12306               	.LBB3857:
 12307               	.LBB3852:
 12308               	.LBB3849:
 12309               	.LBB3846:
 12310               	.LBB3845:
 12311               	.LBB3843:
 12312               	.LBB3844:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12313               		.loc 3 168 0
 12314 2e78 872F      		mov r24,r23
 12315               	.LVL766:
 12316 2e7a 962F      		mov r25,r22
 12317 2e7c 8093 0000 		sts endpoints+20,r24
 12318 2e80 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12319               		.loc 3 169 0
 12320 2e84 4093 0000 		sts endpoints+18,r20
 12321 2e88 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 12322               		.loc 3 176 0
 12323 2e8c E0E0      		ldi r30,lo8(endpoints+24)
 12324 2e8e F0E0      		ldi r31,hi8(endpoints+24)
 12325               	.LVL767:
 12326               	/* #APP */
 12327               	 ;  176 "usb/usb.h" 1
 12328 2e90 04E1      		ldi r16, 20
 12329 2e92 0693      		.dc.w 0x9306
 12330               		
 12331               	 ;  0 "" 2
 12332               	/* #NOAPP */
 12333 2e94 00C0      		rjmp .L411
 12334               	.LVL768:
 12335               	.L365:
 12336               	.LBE3844:
 12337               	.LBE3843:
 12338               	.LBE3845:
 12339               	.LBE3846:
 12340               	.LBE3849:
 12341               	.LBE3852:
 12342               	.LBE3857:
 12343               	.LBE3859:
 12344               	.LBE3861:
 12345               	.LBE3863:
 12346               	.LBE3865:
 12347               	.LBE3869:
 12348               	.LBE4039:
 12349               	.LBB4040:
 12350               	.LBB3504:
 12351               	.LBB3500:
 12352               	.LBB3498:
 12353               	.LBB3496:
 12354               	.LBB3494:
 12355               	.LBB3492:
 12356               	.LBB3487:
 12357               	.LBB3484:
 12358               	.LBB3481:
 12359               	.LBB3480:
 12360               	.LBB3478:
 12361               	.LBB3479:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12362               		.loc 3 168 0
 12363 2e96 872F      		mov r24,r23
 12364               	.LVL769:
 12365 2e98 962F      		mov r25,r22
 12366 2e9a 8093 0000 		sts endpoints+20,r24
 12367 2e9e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12368               		.loc 3 169 0
 12369 2ea2 4093 0000 		sts endpoints+18,r20
 12370 2ea6 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 12371               		.loc 3 176 0
 12372 2eaa E0E0      		ldi r30,lo8(endpoints+24)
 12373 2eac F0E0      		ldi r31,hi8(endpoints+24)
 12374               	/* #APP */
 12375               	 ;  176 "usb/usb.h" 1
 12376 2eae 04E1      		ldi r16, 20
 12377 2eb0 0693      		.dc.w 0x9306
 12378               		
 12379               	 ;  0 "" 2
 12380               	/* #NOAPP */
 12381 2eb2 00C0      		rjmp .L357
 12382               	.LVL770:
 12383               	.L346:
 12384               	.LBE3479:
 12385               	.LBE3478:
 12386               	.LBE3480:
 12387               	.LBE3481:
 12388               	.LBE3484:
 12389               	.LBE3487:
 12390               	.LBE3492:
 12391               	.LBE3494:
 12392               	.LBE3496:
 12393               	.LBE3498:
 12394               	.LBE3500:
 12395               	.LBE3504:
 12396               	.LBE4040:
 12397               	.LBB4041:
 12398               	.LBB3387:
 12399               	.LBB3383:
 12400               	.LBB3381:
 12401               	.LBB3379:
 12402               	.LBB3377:
 12403               	.LBB3375:
 12404               	.LBB3370:
 12405               	.LBB3367:
 12406               	.LBB3364:
 12407               	.LBB3363:
 12408               	.LBB3361:
 12409               	.LBB3362:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 12410               		.loc 3 168 0
 12411 2eb4 872F      		mov r24,r23
 12412               	.LVL771:
 12413 2eb6 962F      		mov r25,r22
 12414 2eb8 8093 0000 		sts endpoints+20,r24
 12415 2ebc 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12416               		.loc 3 169 0
 12417 2ec0 4093 0000 		sts endpoints+18,r20
 12418 2ec4 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 12419               		.loc 3 176 0
 12420 2ec8 E0E0      		ldi r30,lo8(endpoints+24)
 12421 2eca F0E0      		ldi r31,hi8(endpoints+24)
 12422               	.LVL772:
 12423               	/* #APP */
 12424               	 ;  176 "usb/usb.h" 1
 12425 2ecc 04E1      		ldi r16, 20
 12426 2ece 0693      		.dc.w 0x9306
 12427               		
 12428               	 ;  0 "" 2
 12429               	/* #NOAPP */
 12430 2ed0 00C0      		rjmp .L338
 12431               	.LBE3362:
 12432               	.LBE3361:
 12433               	.LBE3363:
 12434               	.LBE3364:
 12435               	.LBE3367:
 12436               	.LBE3370:
 12437               	.LBE3375:
 12438               	.LBE3377:
 12439               	.LBE3379:
 12440               	.LBE3381:
 12441               	.LBE3383:
 12442               	.LBE3387:
 12443               	.LBE4041:
 12444               		.cfi_endproc
 12445               	.LFE69:
 12447               	.global	power_off_gps
 12449               	power_off_gps:
 12450               	.LFB70:
  78:gps/gps.h     **** 
  79:gps/gps.h     **** void power_off_gps()
  80:gps/gps.h     **** {
 12451               		.loc 10 80 0
 12452               		.cfi_startproc
 12453               	/* prologue: function */
 12454               	/* frame size = 0 */
 12455               	/* stack size = 0 */
 12456               	.L__stack_usage = 0
  81:gps/gps.h     ****   // Set PD5 direction to output
  82:gps/gps.h     ****   PORTD.DIRSET |= PIN5_bm;
 12457               		.loc 10 82 0
 12458 2ed2 E0E6      		ldi r30,lo8(1632)
 12459 2ed4 F6E0      		ldi r31,hi8(1632)
 12460 2ed6 8181      		ldd r24,Z+1
 12461 2ed8 8062      		ori r24,lo8(32)
 12462 2eda 8183      		std Z+1,r24
  83:gps/gps.h     **** 
  84:gps/gps.h     ****   // LOW/HIGH transmission of PD5 to wakeup gps module 
  85:gps/gps.h     ****   PORTD.OUTTGL |= PIN5_bm;
 12463               		.loc 10 85 0
 12464 2edc 8781      		ldd r24,Z+7
 12465 2ede 8062      		ori r24,lo8(32)
 12466 2ee0 8783      		std Z+7,r24
 12467               	.LVL773:
 12468               	.LBB4042:
 12469               	.LBB4043:
 12470               		.loc 11 164 0
 12471 2ee2 8FEF      		 ldi r24,lo8(6399999)
 12472 2ee4 97EA      	    ldi r25,hi8(6399999)
 12473 2ee6 A1E6      	    ldi r26,hlo8(6399999)
 12474 2ee8 8150      	    1:subi r24,1
 12475 2eea 9040      	    sbci r25,0
 12476 2eec A040      	    sbci r26,0
 12477 2eee 01F4      	    brne 1b
 12478 2ef0 00C0      		rjmp .
 12479 2ef2 0000      		nop
 12480               	/* epilogue start */
 12481               	.LBE4043:
 12482               	.LBE4042:
  86:gps/gps.h     ****   _delay_ms(1000);
  87:gps/gps.h     **** }
 12483               		.loc 10 87 0
 12484 2ef4 0895      		ret
 12485               		.cfi_endproc
 12486               	.LFE70:
 12488               		.data
 12489               	.LC5:
 12490 0060 5365 6E64 		.string	"Send byte sequence to change to NMEA strings"
 12490      2062 7974 
 12490      6520 7365 
 12490      7175 656E 
 12490      6365 2074 
 12491               	.LC6:
 12492 008d 4750 5320 		.string	"GPS Initialization Sequence Complete"
 12492      496E 6974 
 12492      6961 6C69 
 12492      7A61 7469 
 12492      6F6E 2053 
 12493               	.LC0:
 12494 00b2 A0        		.byte	-96
 12495 00b3 A2        		.byte	-94
 12496 00b4 00        		.byte	0
 12497 00b5 18        		.byte	24
 12498 00b6 81        		.byte	-127
 12499 00b7 02        		.byte	2
 12500 00b8 01        		.byte	1
 12501 00b9 01        		.byte	1
 12502 00ba 00        		.byte	0
 12503 00bb 01        		.byte	1
 12504 00bc 01        		.byte	1
 12505 00bd 01        		.byte	1
 12506 00be 05        		.byte	5
 12507 00bf 01        		.byte	1
 12508 00c0 01        		.byte	1
 12509 00c1 01        		.byte	1
 12510 00c2 00        		.byte	0
 12511 00c3 01        		.byte	1
 12512 00c4 00        		.byte	0
 12513 00c5 01        		.byte	1
 12514 00c6 00        		.byte	0
 12515 00c7 01        		.byte	1
 12516 00c8 00        		.byte	0
 12517 00c9 01        		.byte	1
 12518 00ca 00        		.byte	0
 12519 00cb 01        		.byte	1
 12520 00cc 25        		.byte	37
 12521 00cd 80        		.byte	-128
 12522 00ce 01        		.byte	1
 12523 00cf 3A        		.byte	58
 12524 00d0 B0        		.byte	-80
 12525 00d1 B3        		.byte	-77
 12526               		.text
 12527               	.global	gps_init
 12529               	gps_init:
 12530               	.LFB71:
  88:gps/gps.h     **** 
  89:gps/gps.h     **** void gps_init(void) {
 12531               		.loc 10 89 0
 12532               		.cfi_startproc
 12533 2ef6 8F92      		push r8
 12534               	.LCFI117:
 12535               		.cfi_def_cfa_offset 3
 12536               		.cfi_offset 8, -2
 12537 2ef8 9F92      		push r9
 12538               	.LCFI118:
 12539               		.cfi_def_cfa_offset 4
 12540               		.cfi_offset 9, -3
 12541 2efa AF92      		push r10
 12542               	.LCFI119:
 12543               		.cfi_def_cfa_offset 5
 12544               		.cfi_offset 10, -4
 12545 2efc BF92      		push r11
 12546               	.LCFI120:
 12547               		.cfi_def_cfa_offset 6
 12548               		.cfi_offset 11, -5
 12549 2efe CF92      		push r12
 12550               	.LCFI121:
 12551               		.cfi_def_cfa_offset 7
 12552               		.cfi_offset 12, -6
 12553 2f00 DF92      		push r13
 12554               	.LCFI122:
 12555               		.cfi_def_cfa_offset 8
 12556               		.cfi_offset 13, -7
 12557 2f02 EF92      		push r14
 12558               	.LCFI123:
 12559               		.cfi_def_cfa_offset 9
 12560               		.cfi_offset 14, -8
 12561 2f04 FF92      		push r15
 12562               	.LCFI124:
 12563               		.cfi_def_cfa_offset 10
 12564               		.cfi_offset 15, -9
 12565 2f06 0F93      		push r16
 12566               	.LCFI125:
 12567               		.cfi_def_cfa_offset 11
 12568               		.cfi_offset 16, -10
 12569 2f08 1F93      		push r17
 12570               	.LCFI126:
 12571               		.cfi_def_cfa_offset 12
 12572               		.cfi_offset 17, -11
 12573 2f0a CF93      		push r28
 12574               	.LCFI127:
 12575               		.cfi_def_cfa_offset 13
 12576               		.cfi_offset 28, -12
 12577 2f0c DF93      		push r29
 12578               	.LCFI128:
 12579               		.cfi_def_cfa_offset 14
 12580               		.cfi_offset 29, -13
 12581 2f0e CDB7      		in r28,__SP_L__
 12582 2f10 DEB7      		in r29,__SP_H__
 12583 2f12 A097      		sbiw r28,32
 12584               	.LCFI129:
 12585               		.cfi_def_cfa 28, 46
 12586 2f14 CDBF      		out __SP_L__,r28
 12587 2f16 DEBF      		out __SP_H__,r29
 12588               	/* prologue: function */
 12589               	/* frame size = 32 */
 12590               	/* stack size = 44 */
 12591               	.L__stack_usage = 44
  90:gps/gps.h     ****   /*
  91:gps/gps.h     ****   
  92:gps/gps.h     ****   Port numbers, baud rate, etc will need to be changed when switching 
  93:gps/gps.h     ****   to a different port.  This is a bit complex to abstract out to a new 
  94:gps/gps.h     ****   code layer at the moment (too many inputs required for things to work right)
  95:gps/gps.h     ****   so we'll have to keep it as is.  
  96:gps/gps.h     **** 
  97:gps/gps.h     ****   Specifically, we'll have to change PORTD, USARTDO, BSEL, BSCALE, and the Tx bitmask
  98:gps/gps.h     **** 
  99:gps/gps.h     ****   */
 100:gps/gps.h     **** 
 101:gps/gps.h     ****   turn_on_gps();
 12592               		.loc 10 101 0
 12593 2f18 0E94 0000 		call turn_on_gps
 12594               	.LVL774:
 102:gps/gps.h     **** 
 103:gps/gps.h     ****   //Baud rate of 115200
 104:gps/gps.h     ****   uint16_t BSEL = 11;
 105:gps/gps.h     ****   uint8_t BSCALE = -7;
 106:gps/gps.h     ****   USARTD0_BAUDCTRLA = BSEL & 0XFF;
 12595               		.loc 10 106 0
 12596 2f1c 8BE0      		ldi r24,lo8(11)
 12597 2f1e 8093 A609 		sts 2470,r24
 107:gps/gps.h     ****   USARTD0_BAUDCTRLB = (BSCALE << 4) | (BSEL & 0xF000) >> 8;
 12598               		.loc 10 107 0
 12599 2f22 80E9      		ldi r24,lo8(-112)
 12600 2f24 8093 A709 		sts 2471,r24
 108:gps/gps.h     **** 
 109:gps/gps.h     ****   // no interrupts
 110:gps/gps.h     ****   // can't overwrite bits 7:6
 111:gps/gps.h     ****   USARTD0.CTRLA = 0x00;
 12601               		.loc 10 111 0
 12602 2f28 E0EA      		ldi r30,lo8(2464)
 12603 2f2a F9E0      		ldi r31,hi8(2464)
 12604 2f2c 1382      		std Z+3,__zero_reg__
 112:gps/gps.h     **** 
 113:gps/gps.h     ****   // Enable transmitter and receiver
 114:gps/gps.h     ****   USARTD0.CTRLB = USART_TXEN_bm | USART_RXEN_bm;  
 12605               		.loc 10 114 0
 12606 2f2e 88E1      		ldi r24,lo8(24)
 12607 2f30 8483      		std Z+4,r24
 115:gps/gps.h     **** 
 116:gps/gps.h     ****   // async, no parity, 1 stop bit, 8 bit data,
 117:gps/gps.h     ****   // 00     00         00          11    
 118:gps/gps.h     ****   USARTD0.CTRLC = 0x03;  
 12608               		.loc 10 118 0
 12609 2f32 83E0      		ldi r24,lo8(3)
 12610 2f34 8583      		std Z+5,r24
 12611               	.LVL775:
 12612 2f36 90E0      		ldi r25,lo8(.LC5+1)
 12613 2f38 A92E      		mov r10,r25
 12614 2f3a 90E0      		ldi r25,hi8(.LC5+1)
 12615 2f3c B92E      		mov r11,r25
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 12616               		.loc 7 5 0
 12617 2f3e 23E5      		ldi r18,lo8(83)
 12618               	.LBB4379:
 12619               	.LBB4380:
 12620               	.LBB4381:
 12621               	.LBB4382:
 12622               	.LBB4383:
 12623               	.LBB4384:
 12624               	.LBB4385:
 12625               	.LBB4386:
 12626               	.LBB4387:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 12627               		.loc 4 57 0
 12628 2f40 46E0      		ldi r20,lo8(6)
 12629               	.LBE4387:
 12630               	.LBE4386:
 12631               	.LBE4385:
 12632               	.LBE4384:
 12633               	.LBE4383:
 12634               	.LBB4400:
 12635               	.LBB4401:
 12636               	.LBB4402:
 12637               	.LBB4403:
 12638               	.LBB4404:
 12639               	.LBB4405:
 12640               	.LBB4406:
 12641               	.LBB4407:
 12642               	.LBB4408:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 12643               		.loc 3 220 0
 12644 2f42 A0E0      		ldi r26,lo8(endpoints+24)
 12645 2f44 B0E0      		ldi r27,hi8(endpoints+24)
 12646               	.LBE4408:
 12647               	.LBE4407:
 12648               	.LBB4410:
 12649               	.LBB4411:
 12650               		.loc 4 91 0
 12651 2f46 30E0      		ldi r19,lo8(ep_in_pipe_buffer)
 12652 2f48 832E      		mov r8,r19
 12653 2f4a 30E0      		ldi r19,hi8(ep_in_pipe_buffer)
 12654 2f4c 932E      		mov r9,r19
 12655               	.LBE4411:
 12656               	.LBE4410:
 12657               	.LBB4414:
 12658               	.LBB4415:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 12659               		.loc 1 69 0
 12660 2f4e 51E0      		ldi r21,lo8(1)
 12661 2f50 E52E      		mov r14,r21
 12662 2f52 F12C      		mov r15,__zero_reg__
 12663               	.LBE4415:
 12664               	.LBE4414:
 12665               	.LBB4422:
 12666               	.LBB4423:
 12667               	.LBB4424:
 12668               	.LBB4425:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 12669               		.loc 3 169 0
 12670 2f54 60E4      		ldi r22,lo8(64)
 12671 2f56 C62E      		mov r12,r22
 12672 2f58 D12C      		mov r13,__zero_reg__
 12673               	.LVL776:
 12674               	.L587:
 12675               	.LBE4425:
 12676               	.LBE4424:
 12677               	.LBE4423:
 12678               	.LBE4422:
 12679               	.LBE4406:
 12680               	.LBE4405:
 12681               	.LBE4404:
 12682               	.LBE4403:
 12683               	.LBE4402:
 12684               	.LBE4401:
 12685               	.LBE4400:
 12686               	.LBB4478:
 12687               	.LBB4398:
 12688               	.LBB4396:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 12689               		.loc 1 123 0
 12690 2f5a 9FB7      		in r25,__SREG__
 12691               	.LVL777:
 12692               	.LBB4389:
 12693               	.LBB4390:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 12694               		.loc 2 50 0
 12695               	/* #APP */
 12696               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 12697 2f5c F894      		cli
 12698               	 ;  0 "" 2
 12699               	.LVL778:
 12700               	/* #NOAPP */
 12701               	.LBE4390:
 12702               	.LBE4389:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 12703               		.loc 1 124 0
 12704 2f5e 8091 0000 		lds r24,ep_in_data+1
 12705 2f62 8823      		tst r24
 12706 2f64 01F0      		breq .L591
 12707               	.L573:
 125:usb/usb_pipe.h **** 			r = false;
 12708               		.loc 1 125 0
 12709 2f66 80E0      		ldi r24,lo8(0)
 12710               	.L511:
 12711               	.LBB4392:
 12712               	.LBB4393:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 12713               		.loc 2 70 0
 12714 2f68 9FBF      		out __SREG__,r25
 12715               		.loc 2 71 0
 12716               	.LBE4393:
 12717               	.LBE4392:
 12718               	.LBE4396:
 12719               	.LBE4398:
 12720               	.LBE4478:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 12721               		.loc 5 20 0
 12722 2f6a 8823      		tst r24
 12723 2f6c 01F0      		breq .L587
 12724               	.LVL779:
 12725               	.LBB4479:
 12726               	.LBB4480:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 12727               		.loc 1 175 0
 12728 2f6e 8091 0000 		lds r24,ep_in_data+2
 12729 2f72 9091 0000 		lds r25,ep_in_data+2+1
 12730 2f76 E091 0000 		lds r30,ep_in_pipe_data+2
 12731 2f7a F091 0000 		lds r31,ep_in_pipe_data+2+1
 12732 2f7e E80F      		add r30,r24
 12733 2f80 F91F      		adc r31,r25
 12734 2f82 2083      		st Z,r18
 12735 2f84 0196      		adiw r24,1
 12736 2f86 8093 0000 		sts ep_in_data+2,r24
 12737 2f8a 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 12738               		.loc 1 176 0
 12739 2f8e 8034      		cpi r24,64
 12740 2f90 9105      		cpc r25,__zero_reg__
 12741 2f92 01F0      		breq .L592
 12742               	.LBE4480:
 12743               	.LBE4479:
 12744               	.LBE4382:
 12745               	.LBE4381:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 12746               		.loc 7 5 0
 12747 2f94 F501      		movw r30,r10
 12748 2f96 2191      		ld r18,Z+
 12749               	.LVL780:
 12750 2f98 2223      		tst r18
 12751 2f9a 01F4      		brne .+2
 12752 2f9c 00C0      		rjmp .L525
 12753               	.LVL781:
 12754               	.L594:
 12755 2f9e A114      		cp r10,__zero_reg__
 12756 2fa0 B104      		cpc r11,__zero_reg__
 12757 2fa2 01F4      		brne .+2
 12758 2fa4 00C0      		rjmp .L525
 12759 2fa6 5F01      		movw r10,r30
 12760               	.LBB4488:
 12761               	.LBB4485:
 12762               	.LBB4481:
 12763               	.LBB4399:
 12764               	.LBB4397:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 12765               		.loc 1 123 0
 12766 2fa8 9FB7      		in r25,__SREG__
 12767               	.LVL782:
 12768               	.LBB4394:
 12769               	.LBB4391:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 12770               		.loc 2 50 0
 12771               	/* #APP */
 12772               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 12773 2faa F894      		cli
 12774               	 ;  0 "" 2
 12775               	/* #NOAPP */
 12776               	.LBE4391:
 12777               	.LBE4394:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 12778               		.loc 1 124 0
 12779 2fac 8091 0000 		lds r24,ep_in_data+1
 12780 2fb0 8823      		tst r24
 12781 2fb2 01F4      		brne .L573
 12782               	.LVL783:
 12783               	.L591:
 12784               	.LBB4395:
 12785               	.LBB4388:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 12786               		.loc 4 57 0
 12787 2fb4 8091 0000 		lds r24,ep_in_pipe_data+4
 12788 2fb8 342F      		mov r19,r20
 12789 2fba 381B      		sub r19,r24
 12790               	.LBE4388:
 12791               	.LBE4395:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 12792               		.loc 1 127 0
 12793 2fbc 81E0      		ldi r24,lo8(1)
 12794 2fbe 1316      		cp __zero_reg__,r19
 12795 2fc0 04F0      		brlt .L511
 12796 2fc2 00C0      		rjmp .L573
 12797               	.LVL784:
 12798               	.L592:
 12799               	.LBE4397:
 12800               	.LBE4399:
 12801               	.LBE4481:
 12802               	.LBB4482:
 12803               	.LBB4475:
 12804               	.LBB4472:
 12805               	.LBB4469:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 12806               		.loc 1 177 0
 12807 2fc4 1FB7      		in r17,__SREG__
 12808               	.LVL785:
 12809               	.LBB4460:
 12810               	.LBB4461:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 12811               		.loc 2 50 0
 12812               	/* #APP */
 12813               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 12814 2fc6 F894      		cli
 12815               	 ;  0 "" 2
 12816               	.LVL786:
 12817               	/* #NOAPP */
 12818               	.LBE4461:
 12819               	.LBE4460:
 12820               		.loc 1 178 0
 12821 2fc8 1092 0000 		sts ep_in_data+2,__zero_reg__
 12822 2fcc 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 12823               	.LVL787:
 12824               	.LBB4462:
 12825               	.LBB4463:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 12826               		.loc 4 81 0
 12827 2fd0 8091 0000 		lds r24,ep_in_pipe_data+4
 12828 2fd4 8F5F      		subi r24,lo8(-(1))
 12829 2fd6 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 12830               		.loc 4 82 0
 12831 2fda 8091 0000 		lds r24,ep_in_pipe_data+2
 12832 2fde 9091 0000 		lds r25,ep_in_pipe_data+2+1
 12833 2fe2 805C      		subi r24,lo8(-(64))
 12834 2fe4 9F4F      		sbci r25,hi8(-(64))
 12835 2fe6 8093 0000 		sts ep_in_pipe_data+2,r24
 12836 2fea 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 12837               		.loc 4 84 0
 12838 2fee 20E0      		ldi r18,hi8(ep_in_pipe_buffer+512)
 12839 2ff0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 12840 2ff2 9207      		cpc r25,r18
 12841               	.LVL788:
 12842 2ff4 01F4      		brne .L515
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 12843               		.loc 4 85 0
 12844 2ff6 8092 0000 		sts ep_in_pipe_data+2,r8
 12845 2ffa 9092 0000 		sts ep_in_pipe_data+2+1,r9
 12846               	.L515:
 12847               	.LVL789:
 12848               	.LBE4463:
 12849               	.LBE4462:
 12850               	.LBB4464:
 12851               	.LBB4457:
 12852               	.LBB4454:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 12853               		.loc 1 80 0
 12854 2ffe 5FB7      		in r21,__SREG__
 12855               	.LVL790:
 12856               	.LBB4432:
 12857               	.LBB4433:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 12858               		.loc 2 50 0
 12859               	/* #APP */
 12860               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 12861 3000 F894      		cli
 12862               	 ;  0 "" 2
 12863               	.LVL791:
 12864               	/* #NOAPP */
 12865               	.LBE4433:
 12866               	.LBE4432:
 12867               	.LBB4434:
 12868               	.LBB4409:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 12869               		.loc 3 220 0
 12870 3002 8091 0000 		lds r24,endpoints+24
 12871 3006 8670      		andi r24,lo8(6)
 12872               	.LBE4409:
 12873               	.LBE4434:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 12874               		.loc 1 82 0
 12875 3008 01F0      		breq .+2
 12876 300a 00C0      		rjmp .L593
 12877               	.LVL792:
 12878               	.L516:
 12879               	.LBB4435:
 12880               	.LBB4436:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 12881               		.loc 2 70 0
 12882 300c 5FBF      		out __SREG__,r21
 12883               		.loc 2 71 0
 12884               	.LVL793:
 12885               	.LBE4436:
 12886               	.LBE4435:
 12887               	.LBE4454:
 12888               	.LBE4457:
 12889               	.LBE4464:
 12890               	.LBB4465:
 12891               	.LBB4466:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 12892               		.loc 2 70 0
 12893 300e 1FBF      		out __SREG__,r17
 12894               		.loc 2 71 0
 12895               	.LBE4466:
 12896               	.LBE4465:
 12897               	.LBE4469:
 12898               	.LBE4472:
 12899               	.LBE4475:
 12900               	.LBE4482:
 12901               	.LBE4485:
 12902               	.LBE4488:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 12903               		.loc 7 5 0
 12904 3010 F501      		movw r30,r10
 12905 3012 2191      		ld r18,Z+
 12906 3014 2223      		tst r18
 12907 3016 01F0      		breq .+2
 12908 3018 00C0      		rjmp .L594
 12909               	.LVL794:
 12910               	.L525:
 12911               	.LBB4489:
 12912               	.LBB4490:
 12913               	.LBB4491:
 12914               	.LBB4492:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 12915               		.loc 1 110 0
 12916 301a 81E0      		ldi r24,lo8(1)
 12917 301c 8093 0000 		sts ep_in_data+1,r24
 12918               	.LVL795:
 12919               	.LBB4493:
 12920               	.LBB4494:
 12921               	.LBB4495:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 12922               		.loc 1 80 0
 12923 3020 2FB7      		in r18,__SREG__
 12924               	.LVL796:
 12925               	.LBB4496:
 12926               	.LBB4497:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 12927               		.loc 2 50 0
 12928               	/* #APP */
 12929               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 12930 3022 F894      		cli
 12931               	 ;  0 "" 2
 12932               	.LVL797:
 12933               	/* #NOAPP */
 12934               	.LBE4497:
 12935               	.LBE4496:
 12936               	.LBB4498:
 12937               	.LBB4499:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 12938               		.loc 3 220 0
 12939 3024 8091 0000 		lds r24,endpoints+24
 12940 3028 8670      		andi r24,lo8(6)
 12941               	.LBE4499:
 12942               	.LBE4498:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 12943               		.loc 1 82 0
 12944 302a 01F0      		breq .+2
 12945 302c 00C0      		rjmp .L595
 12946               	.LVL798:
 12947               	.L527:
 12948               	.LBB4500:
 12949               	.LBB4501:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 12950               		.loc 2 70 0
 12951 302e 2FBF      		out __SREG__,r18
 12952               		.loc 2 71 0
 12953               	.LBE4501:
 12954               	.LBE4500:
 12955               	.LBE4495:
 12956               	.LBE4494:
 12957               	.LBE4493:
 12958               	.LBE4492:
 12959               	.LBE4491:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 12960               		.loc 5 27 0
 12961 3030 82E0      		ldi r24,lo8(2)
 12962 3032 E0EC      		ldi r30,lo8(1216)
 12963 3034 F4E0      		ldi r31,hi8(1216)
 12964 3036 8587      		std Z+13,r24
 12965               	.LBB4547:
 12966               	.LBB4548:
 12967               	.LBB4549:
 12968               	.LBB4550:
 12969               	.LBB4551:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 12970               		.loc 4 57 0
 12971 3038 36E0      		ldi r19,lo8(6)
 12972               	.LVL799:
 12973               	.L536:
 12974               	.LBE4551:
 12975               	.LBE4550:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 12976               		.loc 1 123 0
 12977 303a 9FB7      		in r25,__SREG__
 12978               	.LVL800:
 12979               	.LBB4553:
 12980               	.LBB4554:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 12981               		.loc 2 50 0
 12982               	/* #APP */
 12983               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 12984 303c F894      		cli
 12985               	 ;  0 "" 2
 12986               	.LVL801:
 12987               	/* #NOAPP */
 12988               	.LBE4554:
 12989               	.LBE4553:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 12990               		.loc 1 124 0
 12991 303e 8091 0000 		lds r24,ep_in_data+1
 12992 3042 8823      		tst r24
 12993 3044 01F4      		brne .+2
 12994 3046 00C0      		rjmp .L596
 12995               	.L575:
 125:usb/usb_pipe.h **** 			r = false;
 12996               		.loc 1 125 0
 12997 3048 80E0      		ldi r24,lo8(0)
 12998               	.L538:
 12999               	.LBB4555:
 13000               	.LBB4556:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 13001               		.loc 2 70 0
 13002 304a 9FBF      		out __SREG__,r25
 13003               		.loc 2 71 0
 13004               	.LBE4556:
 13005               	.LBE4555:
 13006               	.LBE4549:
 13007               	.LBE4548:
 13008               	.LBE4547:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 13009               		.loc 5 28 0
 13010 304c 8823      		tst r24
 13011 304e 01F4      		brne .L537
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 13012               		.loc 5 29 0
 13013 3050 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 13014 3054 8823      		tst r24
 13015 3056 01F0      		breq .L536
 13016               	.LVL802:
 13017               	.LBB4560:
 13018               	.LBB4561:
 13019               	.LBB4562:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 13020               		.loc 1 54 0
 13021 3058 2FB7      		in r18,__SREG__
 13022               	.LVL803:
 13023               	.LBB4563:
 13024               	.LBB4564:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 13025               		.loc 2 50 0
 13026               	/* #APP */
 13027               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 13028 305a F894      		cli
 13029               	 ;  0 "" 2
 13030               	.LVL804:
 13031               	/* #NOAPP */
 13032               	.LBE4564:
 13033               	.LBE4563:
 13034               	.LBB4565:
 13035               	.LBB4566:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 13036               		.loc 4 90 0
 13037 305c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 13038               		.loc 4 91 0
 13039 3060 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 13040 3062 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 13041 3064 8093 0000 		sts ep_in_pipe_data+2,r24
 13042 3068 9093 0000 		sts ep_in_pipe_data+2+1,r25
 13043 306c 8093 0000 		sts ep_in_pipe_data,r24
 13044 3070 9093 0000 		sts ep_in_pipe_data+1,r25
 13045               	.LVL805:
 13046               	.LBE4566:
 13047               	.LBE4565:
 13048               	.LBB4567:
 13049               	.LBB4568:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 13050               		.loc 3 158 0
 13051 3074 E0E0      		ldi r30,lo8(endpoints+24)
 13052 3076 F0E0      		ldi r31,hi8(endpoints+24)
 13053               	/* #APP */
 13054               	 ;  158 "usb/usb.h" 1
 13055 3078 06E0      		ldi r16, 6
 13056 307a 0593      		.dc.w 0x9305
 13057               		
 13058               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 13059               		.loc 3 159 0
 13060               	 ;  159 "usb/usb.h" 1
 13061 307c 08E0      		ldi r16, 8
 13062 307e 0693      		.dc.w 0x9306
 13063               		
 13064               	 ;  0 "" 2
 13065               	/* #NOAPP */
 13066               	.LBE4568:
 13067               	.LBE4567:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 13068               		.loc 1 57 0
 13069 3080 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 13070               		.loc 1 58 0
 13071 3084 1092 0000 		sts ep_in_data+2,__zero_reg__
 13072 3088 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 13073               		.loc 1 59 0
 13074 308c 1092 0000 		sts ep_in_data,__zero_reg__
 13075               	.LVL806:
 13076               	.LBB4569:
 13077               	.LBB4570:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 13078               		.loc 2 70 0
 13079 3090 2FBF      		out __SREG__,r18
 13080               		.loc 2 71 0
 13081               	.LVL807:
 13082               	.L537:
 13083               	.LBE4570:
 13084               	.LBE4569:
 13085               	.LBE4562:
 13086               	.LBE4561:
 13087               	.LBE4560:
 13088               	.LBE4490:
 13089               	.LBE4489:
 13090               	.LBE4380:
 13091               	.LBE4379:
 119:gps/gps.h     **** 
 120:gps/gps.h     ****   send_string("Send byte sequence to change to NMEA strings");
 121:gps/gps.h     ****   uint8_t characters[32] = {0xA0, 0xA2, 0x00, 0x18, 0x81, 0x02, 0x01, 0x01, 0x00, 0x01, 0x01, 0x01,
 13092               		.loc 10 121 0
 13093 3092 DE01      		movw r26,r28
 13094 3094 1196      		adiw r26,1
 13095 3096 E0E0      		ldi r30,lo8(.LC0)
 13096 3098 F0E0      		ldi r31,hi8(.LC0)
 13097 309a 80E2      		ldi r24,lo8(32)
 13098               	.L541:
 13099 309c 0190      		ld r0,Z+
 13100 309e 0D92      		st X+,r0
 13101 30a0 8150      		subi r24,lo8(-(-1))
 13102 30a2 01F4      		brne .L541
 13103               	.LVL808:
 122:gps/gps.h     ****   for (int c = 0; c < 32; c++) {
 13104               		.loc 10 122 0
 13105 30a4 EE24      		clr r14
 13106 30a6 FF24      		clr r15
 13107               	.LVL809:
 13108               	.L542:
 13109               	.LBB4589:
 123:gps/gps.h     ****     send_uart((char *) &characters[c], &USARTD0);
 13110               		.loc 10 123 0 discriminator 2
 13111 30a8 81E0      		ldi r24,lo8(1)
 13112 30aa 90E0      		ldi r25,hi8(1)
 13113 30ac 8C0F      		add r24,r28
 13114 30ae 9D1F      		adc r25,r29
 13115 30b0 8E0D      		add r24,r14
 13116 30b2 9F1D      		adc r25,r15
 13117 30b4 60EA      		ldi r22,lo8(2464)
 13118 30b6 79E0      		ldi r23,hi8(2464)
 13119 30b8 0E94 0000 		call send_uart
 122:gps/gps.h     ****   for (int c = 0; c < 32; c++) {
 13120               		.loc 10 122 0 discriminator 2
 13121 30bc 0894      		sec
 13122 30be E11C      		adc r14,__zero_reg__
 13123 30c0 F11C      		adc r15,__zero_reg__
 13124               	.LVL810:
 13125 30c2 20E2      		ldi r18,lo8(32)
 13126 30c4 E216      		cp r14,r18
 13127 30c6 F104      		cpc r15,__zero_reg__
 13128 30c8 01F4      		brne .L542
 13129               	.LVL811:
 13130               	.LBE4589:
 124:gps/gps.h     ****   }
 125:gps/gps.h     **** 
 126:gps/gps.h     ****   //Baud rate of 9600 for nmea string communication
 127:gps/gps.h     ****   BSEL = 12;
 128:gps/gps.h     ****   BSCALE = 0;
 129:gps/gps.h     ****   USARTD0_BAUDCTRLA = BSEL & 0XFF;
 13131               		.loc 10 129 0
 13132 30ca 8CE0      		ldi r24,lo8(12)
 13133 30cc 8093 A609 		sts 2470,r24
 130:gps/gps.h     ****   USARTD0_BAUDCTRLB = (BSCALE << 4) | (BSEL & 0xF000) >> 8;
 13134               		.loc 10 130 0
 13135 30d0 1092 A709 		sts 2471,__zero_reg__
 13136               	.LVL812:
 13137 30d4 F0E0      		ldi r31,lo8(.LC6+1)
 13138 30d6 AF2E      		mov r10,r31
 13139 30d8 F0E0      		ldi r31,hi8(.LC6+1)
 13140 30da BF2E      		mov r11,r31
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 13141               		.loc 7 5 0
 13142 30dc 27E4      		ldi r18,lo8(71)
 13143               	.LBB4590:
 13144               	.LBB4591:
 13145               	.LBB4592:
 13146               	.LBB4593:
 13147               	.LBB4594:
 13148               	.LBB4595:
 13149               	.LBB4596:
 13150               	.LBB4597:
 13151               	.LBB4598:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 13152               		.loc 4 57 0
 13153 30de 46E0      		ldi r20,lo8(6)
 13154               	.LBE4598:
 13155               	.LBE4597:
 13156               	.LBE4596:
 13157               	.LBE4595:
 13158               	.LBE4594:
 13159               	.LBB4611:
 13160               	.LBB4612:
 13161               	.LBB4613:
 13162               	.LBB4614:
 13163               	.LBB4615:
 13164               	.LBB4616:
 13165               	.LBB4617:
 13166               	.LBB4618:
 13167               	.LBB4619:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 13168               		.loc 3 220 0
 13169 30e0 A0E0      		ldi r26,lo8(endpoints+24)
 13170 30e2 B0E0      		ldi r27,hi8(endpoints+24)
 13171               	.LBE4619:
 13172               	.LBE4618:
 13173               	.LBB4621:
 13174               	.LBB4622:
 13175               		.loc 4 91 0
 13176 30e4 10E0      		ldi r17,lo8(ep_in_pipe_buffer)
 13177 30e6 812E      		mov r8,r17
 13178 30e8 10E0      		ldi r17,hi8(ep_in_pipe_buffer)
 13179 30ea 912E      		mov r9,r17
 13180               	.LBE4622:
 13181               	.LBE4621:
 13182               	.LBB4625:
 13183               	.LBB4626:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 13184               		.loc 1 69 0
 13185 30ec 01E0      		ldi r16,lo8(1)
 13186 30ee E02E      		mov r14,r16
 13187 30f0 F12C      		mov r15,__zero_reg__
 13188               	.LVL813:
 13189               	.LBE4626:
 13190               	.LBE4625:
 13191               	.LBB4633:
 13192               	.LBB4634:
 13193               	.LBB4635:
 13194               	.LBB4636:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13195               		.loc 3 169 0
 13196 30f2 80E4      		ldi r24,lo8(64)
 13197 30f4 C82E      		mov r12,r24
 13198 30f6 D12C      		mov r13,__zero_reg__
 13199               	.LVL814:
 13200               	.L588:
 13201               	.LBE4636:
 13202               	.LBE4635:
 13203               	.LBE4634:
 13204               	.LBE4633:
 13205               	.LBE4617:
 13206               	.LBE4616:
 13207               	.LBE4615:
 13208               	.LBE4614:
 13209               	.LBE4613:
 13210               	.LBE4612:
 13211               	.LBE4611:
 13212               	.LBB4689:
 13213               	.LBB4609:
 13214               	.LBB4607:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 13215               		.loc 1 123 0
 13216 30f8 9FB7      		in r25,__SREG__
 13217               	.LVL815:
 13218               	.LBB4600:
 13219               	.LBB4601:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 13220               		.loc 2 50 0
 13221               	/* #APP */
 13222               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 13223 30fa F894      		cli
 13224               	 ;  0 "" 2
 13225               	.LVL816:
 13226               	/* #NOAPP */
 13227               	.LBE4601:
 13228               	.LBE4600:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 13229               		.loc 1 124 0
 13230 30fc 8091 0000 		lds r24,ep_in_data+1
 13231 3100 8823      		tst r24
 13232 3102 01F0      		breq .L597
 13233               	.L576:
 125:usb/usb_pipe.h **** 			r = false;
 13234               		.loc 1 125 0
 13235 3104 80E0      		ldi r24,lo8(0)
 13236               	.L543:
 13237               	.LBB4603:
 13238               	.LBB4604:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 13239               		.loc 2 70 0
 13240 3106 9FBF      		out __SREG__,r25
 13241               		.loc 2 71 0
 13242               	.LBE4604:
 13243               	.LBE4603:
 13244               	.LBE4607:
 13245               	.LBE4609:
 13246               	.LBE4689:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 13247               		.loc 5 20 0
 13248 3108 8823      		tst r24
 13249 310a 01F0      		breq .L588
 13250               	.LVL817:
 13251               	.LBB4690:
 13252               	.LBB4691:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 13253               		.loc 1 175 0
 13254 310c 8091 0000 		lds r24,ep_in_data+2
 13255 3110 9091 0000 		lds r25,ep_in_data+2+1
 13256 3114 E091 0000 		lds r30,ep_in_pipe_data+2
 13257 3118 F091 0000 		lds r31,ep_in_pipe_data+2+1
 13258 311c E80F      		add r30,r24
 13259 311e F91F      		adc r31,r25
 13260 3120 2083      		st Z,r18
 13261 3122 0196      		adiw r24,1
 13262 3124 8093 0000 		sts ep_in_data+2,r24
 13263 3128 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 13264               		.loc 1 176 0
 13265 312c 8034      		cpi r24,64
 13266 312e 9105      		cpc r25,__zero_reg__
 13267 3130 01F4      		brne .+2
 13268 3132 00C0      		rjmp .L598
 13269               	.LBE4691:
 13270               	.LBE4690:
 13271               	.LBE4593:
 13272               	.LBE4592:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 13273               		.loc 7 5 0
 13274 3134 F501      		movw r30,r10
 13275 3136 2191      		ld r18,Z+
 13276               	.LVL818:
 13277 3138 2223      		tst r18
 13278 313a 01F4      		brne .+2
 13279 313c 00C0      		rjmp .L557
 13280               	.LVL819:
 13281               	.L602:
 13282 313e A114      		cp r10,__zero_reg__
 13283 3140 B104      		cpc r11,__zero_reg__
 13284 3142 01F4      		brne .+2
 13285 3144 00C0      		rjmp .L557
 13286 3146 5F01      		movw r10,r30
 13287               	.LBB4700:
 13288               	.LBB4696:
 13289               	.LBB4692:
 13290               	.LBB4610:
 13291               	.LBB4608:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 13292               		.loc 1 123 0
 13293 3148 9FB7      		in r25,__SREG__
 13294               	.LVL820:
 13295               	.LBB4605:
 13296               	.LBB4602:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 13297               		.loc 2 50 0
 13298               	/* #APP */
 13299               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 13300 314a F894      		cli
 13301               	 ;  0 "" 2
 13302               	/* #NOAPP */
 13303               	.LBE4602:
 13304               	.LBE4605:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 13305               		.loc 1 124 0
 13306 314c 8091 0000 		lds r24,ep_in_data+1
 13307 3150 8823      		tst r24
 13308 3152 01F4      		brne .L576
 13309               	.LVL821:
 13310               	.L597:
 13311               	.LBB4606:
 13312               	.LBB4599:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 13313               		.loc 4 57 0
 13314 3154 8091 0000 		lds r24,ep_in_pipe_data+4
 13315 3158 342F      		mov r19,r20
 13316 315a 381B      		sub r19,r24
 13317               	.LBE4599:
 13318               	.LBE4606:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 13319               		.loc 1 127 0
 13320 315c 81E0      		ldi r24,lo8(1)
 13321 315e 1316      		cp __zero_reg__,r19
 13322 3160 04F0      		brlt .L543
 13323 3162 00C0      		rjmp .L576
 13324               	.LVL822:
 13325               	.L593:
 13326               	.LBE4608:
 13327               	.LBE4610:
 13328               	.LBE4692:
 13329               	.LBE4696:
 13330               	.LBE4700:
 13331               	.LBE4591:
 13332               	.LBE4590:
 13333               	.LBB4803:
 13334               	.LBB4586:
 13335               	.LBB4580:
 13336               	.LBB4486:
 13337               	.LBB4483:
 13338               	.LBB4476:
 13339               	.LBB4473:
 13340               	.LBB4470:
 13341               	.LBB4467:
 13342               	.LBB4458:
 13343               	.LBB4455:
 13344               	.LBB4437:
 13345               	.LBB4438:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 13346               		.loc 4 51 0
 13347 3164 6091 0000 		lds r22,ep_in_pipe_data+4
 13348               	.LBE4438:
 13349               	.LBE4437:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 13350               		.loc 1 83 0
 13351 3168 1616      		cp __zero_reg__,r22
 13352 316a 04F0      		brlt .+2
 13353 316c 00C0      		rjmp .L517
 13354               	.LBB4439:
 13355               	.LBB4440:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 13356               		.loc 4 62 0
 13357 316e 2091 0000 		lds r18,ep_in_pipe_data
 13358 3172 3091 0000 		lds r19,ep_in_pipe_data+1
 13359               	.LVL823:
 13360               	.LBE4440:
 13361               	.LBE4439:
 13362               	.LBB4441:
 13363               	.LBB4430:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 13364               		.loc 1 68 0
 13365 3176 7091 0000 		lds r23,ep_in_data
 13366               	.LVL824:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 13367               		.loc 1 69 0
 13368 317a 872F      		mov r24,r23
 13369 317c 90E0      		ldi r25,lo8(0)
 13370               	.LVL825:
 13371 317e E1E0      		ldi r30,lo8(1)
 13372               	.LVL826:
 13373 3180 8E15      		cp r24,r14
 13374 3182 9F05      		cpc r25,r15
 13375 3184 01F4      		brne .L518
 13376 3186 E0E0      		ldi r30,lo8(0)
 13377               	.L518:
 13378 3188 E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 13379               		.loc 1 72 0
 13380 318c 7723      		tst r23
 13381 318e 01F4      		brne .L519
 13382               	.LVL827:
 13383               	.LBB4427:
 13384               	.LBB4428:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 13385               		.loc 3 168 0
 13386 3190 2093 0000 		sts endpoints+28,r18
 13387 3194 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13388               		.loc 3 169 0
 13389 3198 C092 0000 		sts endpoints+26,r12
 13390 319c D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 13391               		.loc 3 174 0
 13392 31a0 FD01      		movw r30,r26
 13393               	/* #APP */
 13394               	 ;  174 "usb/usb.h" 1
 13395 31a2 02E2      		ldi r16, 34
 13396 31a4 0693      		.dc.w 0x9306
 13397               		
 13398               	 ;  0 "" 2
 13399               	.LVL828:
 13400               	/* #NOAPP */
 13401               	.L520:
 13402               	.LBE4428:
 13403               	.LBE4427:
 13404               	.LBE4430:
 13405               	.LBE4441:
 13406               	.LBB4442:
 13407               	.LBB4443:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 13408               		.loc 4 72 0
 13409 31a6 6150      		subi r22,lo8(-(-1))
 13410 31a8 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 13411               		.loc 4 73 0
 13412 31ac C901      		movw r24,r18
 13413 31ae 805C      		subi r24,lo8(-(64))
 13414 31b0 9F4F      		sbci r25,hi8(-(64))
 13415 31b2 8093 0000 		sts ep_in_pipe_data,r24
 13416 31b6 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 13417               		.loc 4 75 0
 13418 31ba F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 13419 31bc 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 13420 31be 9F07      		cpc r25,r31
 13421 31c0 01F0      		breq .+2
 13422 31c2 00C0      		rjmp .L516
 13423               	.LBE4443:
 13424               	.LBE4442:
 13425               	.LBB4444:
 13426               	.LBB4412:
 13427               		.loc 4 91 0
 13428 31c4 8092 0000 		sts ep_in_pipe_data,r8
 13429 31c8 9092 0000 		sts ep_in_pipe_data+1,r9
 13430               	.LVL829:
 13431 31cc 00C0      		rjmp .L516
 13432               	.LVL830:
 13433               	.L519:
 13434               	.LBE4412:
 13435               	.LBE4444:
 13436               	.LBB4445:
 13437               	.LBB4431:
 13438               	.LBB4429:
 13439               	.LBB4426:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 13440               		.loc 3 168 0
 13441 31ce 2093 0000 		sts endpoints+20,r18
 13442 31d2 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13443               		.loc 3 169 0
 13444 31d6 C092 0000 		sts endpoints+18,r12
 13445 31da D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 13446               		.loc 3 176 0
 13447 31de FD01      		movw r30,r26
 13448               	/* #APP */
 13449               	 ;  176 "usb/usb.h" 1
 13450 31e0 04E1      		ldi r16, 20
 13451 31e2 0693      		.dc.w 0x9306
 13452               		
 13453               	 ;  0 "" 2
 13454               	/* #NOAPP */
 13455 31e4 00C0      		rjmp .L520
 13456               	.LVL831:
 13457               	.L517:
 13458               	.LBE4426:
 13459               	.LBE4429:
 13460               	.LBE4431:
 13461               	.LBE4445:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 13462               		.loc 1 87 0
 13463 31e6 8091 0000 		lds r24,ep_in_data+1
 13464 31ea 8130      		cpi r24,lo8(1)
 13465 31ec 01F0      		breq .L599
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 13466               		.loc 1 91 0
 13467 31ee 8230      		cpi r24,lo8(2)
 13468 31f0 01F0      		breq .+2
 13469 31f2 00C0      		rjmp .L516
 13470               	.LVL832:
 13471               	.LBB4446:
 13472               	.LBB4447:
 13473               	.LBB4448:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 13474               		.loc 3 228 0
 13475 31f4 8091 0000 		lds r24,endpoints+24
 13476 31f8 8670      		andi r24,lo8(6)
 13477               	.LBE4448:
 13478               	.LBE4447:
 13479               	.LBE4446:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 13480               		.loc 1 91 0
 13481 31fa 8630      		cpi r24,lo8(6)
 13482 31fc 01F0      		breq .+2
 13483 31fe 00C0      		rjmp .L516
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 13484               		.loc 1 92 0
 13485 3200 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 13486               		.loc 1 93 0
 13487 3204 1092 0000 		sts ep_in_data+2,__zero_reg__
 13488 3208 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 13489               	.LBB4449:
 13490               	.LBB4413:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 13491               		.loc 4 90 0
 13492 320c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 13493               		.loc 4 91 0
 13494 3210 8092 0000 		sts ep_in_pipe_data+2,r8
 13495 3214 9092 0000 		sts ep_in_pipe_data+2+1,r9
 13496 3218 8092 0000 		sts ep_in_pipe_data,r8
 13497 321c 9092 0000 		sts ep_in_pipe_data+1,r9
 13498               	.LVL833:
 13499 3220 00C0      		rjmp .L516
 13500               	.LVL834:
 13501               	.L599:
 13502               	.LBE4413:
 13503               	.LBE4449:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 13504               		.loc 1 88 0
 13505 3222 22E0      		ldi r18,lo8(2)
 13506 3224 2093 0000 		sts ep_in_data+1,r18
 13507               	.LBB4450:
 13508               	.LBB4451:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 13509               		.loc 4 62 0
 13510 3228 E091 0000 		lds r30,ep_in_pipe_data
 13511               	.LVL835:
 13512 322c F091 0000 		lds r31,ep_in_pipe_data+1
 13513               	.LBE4451:
 13514               	.LBE4450:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 13515               		.loc 1 90 0
 13516 3230 2091 0000 		lds r18,ep_in_data+2
 13517 3234 3091 0000 		lds r19,ep_in_data+2+1
 13518               	.LVL836:
 13519               	.LBB4452:
 13520               	.LBB4420:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 13521               		.loc 1 68 0
 13522 3238 7091 0000 		lds r23,ep_in_data
 13523               	.LVL837:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 13524               		.loc 1 69 0
 13525 323c 872F      		mov r24,r23
 13526 323e 90E0      		ldi r25,lo8(0)
 13527 3240 61E0      		ldi r22,lo8(1)
 13528 3242 8E15      		cp r24,r14
 13529 3244 9F05      		cpc r25,r15
 13530 3246 01F4      		brne .L523
 13531 3248 60E0      		ldi r22,lo8(0)
 13532               	.L523:
 13533 324a 6093 0000 		sts ep_in_data,r22
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 13534               		.loc 1 72 0
 13535 324e 7723      		tst r23
 13536 3250 01F0      		breq .+2
 13537 3252 00C0      		rjmp .L524
 13538               	.LVL838:
 13539               	.LBB4416:
 13540               	.LBB4417:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 13541               		.loc 3 168 0
 13542 3254 E093 0000 		sts endpoints+28,r30
 13543 3258 F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13544               		.loc 3 169 0
 13545 325c 2093 0000 		sts endpoints+26,r18
 13546 3260 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 13547               		.loc 3 174 0
 13548 3264 FD01      		movw r30,r26
 13549               	/* #APP */
 13550               	 ;  174 "usb/usb.h" 1
 13551 3266 02E2      		ldi r16, 34
 13552 3268 0693      		.dc.w 0x9306
 13553               		
 13554               	 ;  0 "" 2
 13555               	/* #NOAPP */
 13556 326a 00C0      		rjmp .L516
 13557               	.LVL839:
 13558               	.L596:
 13559               	.LBE4417:
 13560               	.LBE4416:
 13561               	.LBE4420:
 13562               	.LBE4452:
 13563               	.LBE4455:
 13564               	.LBE4458:
 13565               	.LBE4467:
 13566               	.LBE4470:
 13567               	.LBE4473:
 13568               	.LBE4476:
 13569               	.LBE4483:
 13570               	.LBE4486:
 13571               	.LBE4580:
 13572               	.LBB4581:
 13573               	.LBB4576:
 13574               	.LBB4571:
 13575               	.LBB4559:
 13576               	.LBB4558:
 13577               	.LBB4557:
 13578               	.LBB4552:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 13579               		.loc 4 57 0
 13580 326c 8091 0000 		lds r24,ep_in_pipe_data+4
 13581 3270 232F      		mov r18,r19
 13582 3272 281B      		sub r18,r24
 13583               	.LBE4552:
 13584               	.LBE4557:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 13585               		.loc 1 127 0
 13586 3274 81E0      		ldi r24,lo8(1)
 13587 3276 1216      		cp __zero_reg__,r18
 13588 3278 04F4      		brge .+2
 13589 327a 00C0      		rjmp .L538
 13590 327c 00C0      		rjmp .L575
 13591               	.LVL840:
 13592               	.L595:
 13593               	.LBE4558:
 13594               	.LBE4559:
 13595               	.LBE4571:
 13596               	.LBB4572:
 13597               	.LBB4543:
 13598               	.LBB4539:
 13599               	.LBB4535:
 13600               	.LBB4531:
 13601               	.LBB4502:
 13602               	.LBB4503:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 13603               		.loc 4 51 0
 13604 327e 3091 0000 		lds r19,ep_in_pipe_data+4
 13605               	.LBE4503:
 13606               	.LBE4502:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 13607               		.loc 1 83 0
 13608 3282 1316      		cp __zero_reg__,r19
 13609 3284 04F0      		brlt .+2
 13610 3286 00C0      		rjmp .L528
 13611               	.LBB4504:
 13612               	.LBB4505:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 13613               		.loc 4 62 0
 13614 3288 8091 0000 		lds r24,ep_in_pipe_data
 13615 328c 9091 0000 		lds r25,ep_in_pipe_data+1
 13616               	.LVL841:
 13617               	.LBE4505:
 13618               	.LBE4504:
 13619               	.LBB4506:
 13620               	.LBB4507:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 13621               		.loc 1 68 0
 13622 3290 4091 0000 		lds r20,ep_in_data
 13623               	.LVL842:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 13624               		.loc 1 69 0
 13625 3294 51E0      		ldi r21,lo8(1)
 13626 3296 4130      		cpi r20,lo8(1)
 13627 3298 01F4      		brne .L529
 13628 329a 50E0      		ldi r21,lo8(0)
 13629               	.L529:
 13630 329c 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 13631               		.loc 1 72 0
 13632 32a0 4423      		tst r20
 13633 32a2 01F4      		brne .L530
 13634               	.LVL843:
 13635               	.LBB4508:
 13636               	.LBB4509:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 13637               		.loc 3 168 0
 13638 32a4 8093 0000 		sts endpoints+28,r24
 13639 32a8 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13640               		.loc 3 169 0
 13641 32ac 40E4      		ldi r20,lo8(64)
 13642 32ae 50E0      		ldi r21,hi8(64)
 13643 32b0 4093 0000 		sts endpoints+26,r20
 13644 32b4 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 13645               		.loc 3 174 0
 13646 32b8 E0E0      		ldi r30,lo8(endpoints+24)
 13647 32ba F0E0      		ldi r31,hi8(endpoints+24)
 13648               	/* #APP */
 13649               	 ;  174 "usb/usb.h" 1
 13650 32bc 02E2      		ldi r16, 34
 13651 32be 0693      		.dc.w 0x9306
 13652               		
 13653               	 ;  0 "" 2
 13654               	.LVL844:
 13655               	/* #NOAPP */
 13656               	.L531:
 13657               	.LBE4509:
 13658               	.LBE4508:
 13659               	.LBE4507:
 13660               	.LBE4506:
 13661               	.LBB4513:
 13662               	.LBB4514:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 13663               		.loc 4 72 0
 13664 32c0 3150      		subi r19,lo8(-(-1))
 13665 32c2 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 13666               		.loc 4 73 0
 13667 32c6 805C      		subi r24,lo8(-(64))
 13668 32c8 9F4F      		sbci r25,hi8(-(64))
 13669 32ca 8093 0000 		sts ep_in_pipe_data,r24
 13670 32ce 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 13671               		.loc 4 75 0
 13672 32d2 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 13673 32d4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 13674 32d6 9F07      		cpc r25,r31
 13675 32d8 01F0      		breq .+2
 13676 32da 00C0      		rjmp .L527
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 13677               		.loc 4 76 0
 13678 32dc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 13679 32de 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 13680 32e0 8093 0000 		sts ep_in_pipe_data,r24
 13681 32e4 9093 0000 		sts ep_in_pipe_data+1,r25
 13682 32e8 00C0      		rjmp .L527
 13683               	.LVL845:
 13684               	.L524:
 13685               	.LBE4514:
 13686               	.LBE4513:
 13687               	.LBE4531:
 13688               	.LBE4535:
 13689               	.LBE4539:
 13690               	.LBE4543:
 13691               	.LBE4572:
 13692               	.LBE4576:
 13693               	.LBE4581:
 13694               	.LBB4582:
 13695               	.LBB4487:
 13696               	.LBB4484:
 13697               	.LBB4477:
 13698               	.LBB4474:
 13699               	.LBB4471:
 13700               	.LBB4468:
 13701               	.LBB4459:
 13702               	.LBB4456:
 13703               	.LBB4453:
 13704               	.LBB4421:
 13705               	.LBB4418:
 13706               	.LBB4419:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 13707               		.loc 3 168 0
 13708 32ea E093 0000 		sts endpoints+20,r30
 13709 32ee F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13710               		.loc 3 169 0
 13711 32f2 2093 0000 		sts endpoints+18,r18
 13712 32f6 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 13713               		.loc 3 176 0
 13714 32fa FD01      		movw r30,r26
 13715               	.LVL846:
 13716               	/* #APP */
 13717               	 ;  176 "usb/usb.h" 1
 13718 32fc 04E1      		ldi r16, 20
 13719 32fe 0693      		.dc.w 0x9306
 13720               		
 13721               	 ;  0 "" 2
 13722               	/* #NOAPP */
 13723 3300 00C0      		rjmp .L516
 13724               	.LVL847:
 13725               	.L530:
 13726               	.LBE4419:
 13727               	.LBE4418:
 13728               	.LBE4421:
 13729               	.LBE4453:
 13730               	.LBE4456:
 13731               	.LBE4459:
 13732               	.LBE4468:
 13733               	.LBE4471:
 13734               	.LBE4474:
 13735               	.LBE4477:
 13736               	.LBE4484:
 13737               	.LBE4487:
 13738               	.LBE4582:
 13739               	.LBB4583:
 13740               	.LBB4577:
 13741               	.LBB4573:
 13742               	.LBB4544:
 13743               	.LBB4540:
 13744               	.LBB4536:
 13745               	.LBB4532:
 13746               	.LBB4515:
 13747               	.LBB4512:
 13748               	.LBB4510:
 13749               	.LBB4511:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 13750               		.loc 3 168 0
 13751 3302 8093 0000 		sts endpoints+20,r24
 13752 3306 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 13753               		.loc 3 169 0
 13754 330a 40E4      		ldi r20,lo8(64)
 13755 330c 50E0      		ldi r21,hi8(64)
 13756               	.LVL848:
 13757 330e 4093 0000 		sts endpoints+18,r20
 13758 3312 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 13759               		.loc 3 176 0
 13760 3316 E0E0      		ldi r30,lo8(endpoints+24)
 13761 3318 F0E0      		ldi r31,hi8(endpoints+24)
 13762               	/* #APP */
 13763               	 ;  176 "usb/usb.h" 1
 13764 331a 04E1      		ldi r16, 20
 13765 331c 0693      		.dc.w 0x9306
 13766               		
 13767               	 ;  0 "" 2
 13768               	/* #NOAPP */
 13769 331e 00C0      		rjmp .L531
 13770               	.LVL849:
 13771               	.L528:
 13772               	.LBE4511:
 13773               	.LBE4510:
 13774               	.LBE4512:
 13775               	.LBE4515:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 13776               		.loc 1 87 0
 13777 3320 8091 0000 		lds r24,ep_in_data+1
 13778 3324 8130      		cpi r24,lo8(1)
 13779 3326 01F4      		brne .+2
 13780 3328 00C0      		rjmp .L600
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 13781               		.loc 1 91 0
 13782 332a 8230      		cpi r24,lo8(2)
 13783 332c 01F0      		breq .+2
 13784 332e 00C0      		rjmp .L527
 13785               	.LVL850:
 13786               	.LBB4516:
 13787               	.LBB4517:
 13788               	.LBB4518:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 13789               		.loc 3 228 0
 13790 3330 8091 0000 		lds r24,endpoints+24
 13791 3334 8670      		andi r24,lo8(6)
 13792               	.LBE4518:
 13793               	.LBE4517:
 13794               	.LBE4516:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 13795               		.loc 1 91 0
 13796 3336 8630      		cpi r24,lo8(6)
 13797 3338 01F0      		breq .+2
 13798 333a 00C0      		rjmp .L527
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 13799               		.loc 1 92 0
 13800 333c 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 13801               		.loc 1 93 0
 13802 3340 1092 0000 		sts ep_in_data+2,__zero_reg__
 13803 3344 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 13804               	.LBB4519:
 13805               	.LBB4520:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 13806               		.loc 4 90 0
 13807 3348 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 13808               		.loc 4 91 0
 13809 334c 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 13810 334e 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 13811 3350 8093 0000 		sts ep_in_pipe_data+2,r24
 13812 3354 9093 0000 		sts ep_in_pipe_data+2+1,r25
 13813 3358 8093 0000 		sts ep_in_pipe_data,r24
 13814 335c 9093 0000 		sts ep_in_pipe_data+1,r25
 13815               	.LVL851:
 13816 3360 00C0      		rjmp .L527
 13817               	.LVL852:
 13818               	.L598:
 13819               	.LBE4520:
 13820               	.LBE4519:
 13821               	.LBE4532:
 13822               	.LBE4536:
 13823               	.LBE4540:
 13824               	.LBE4544:
 13825               	.LBE4573:
 13826               	.LBE4577:
 13827               	.LBE4583:
 13828               	.LBE4586:
 13829               	.LBE4803:
 13830               	.LBB4804:
 13831               	.LBB4799:
 13832               	.LBB4701:
 13833               	.LBB4697:
 13834               	.LBB4693:
 13835               	.LBB4686:
 13836               	.LBB4683:
 13837               	.LBB4680:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 13838               		.loc 1 177 0
 13839 3362 1FB7      		in r17,__SREG__
 13840               	.LVL853:
 13841               	.LBB4671:
 13842               	.LBB4672:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 13843               		.loc 2 50 0
 13844               	/* #APP */
 13845               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 13846 3364 F894      		cli
 13847               	 ;  0 "" 2
 13848               	.LVL854:
 13849               	/* #NOAPP */
 13850               	.LBE4672:
 13851               	.LBE4671:
 13852               		.loc 1 178 0
 13853 3366 1092 0000 		sts ep_in_data+2,__zero_reg__
 13854 336a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 13855               	.LVL855:
 13856               	.LBB4673:
 13857               	.LBB4674:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 13858               		.loc 4 81 0
 13859 336e 8091 0000 		lds r24,ep_in_pipe_data+4
 13860 3372 8F5F      		subi r24,lo8(-(1))
 13861 3374 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 13862               		.loc 4 82 0
 13863 3378 8091 0000 		lds r24,ep_in_pipe_data+2
 13864 337c 9091 0000 		lds r25,ep_in_pipe_data+2+1
 13865 3380 805C      		subi r24,lo8(-(64))
 13866 3382 9F4F      		sbci r25,hi8(-(64))
 13867 3384 8093 0000 		sts ep_in_pipe_data+2,r24
 13868 3388 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 13869               		.loc 4 84 0
 13870 338c 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 13871 338e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 13872 3390 9307      		cpc r25,r19
 13873 3392 01F4      		brne .L547
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 13874               		.loc 4 85 0
 13875 3394 8092 0000 		sts ep_in_pipe_data+2,r8
 13876 3398 9092 0000 		sts ep_in_pipe_data+2+1,r9
 13877               	.L547:
 13878               	.LVL856:
 13879               	.LBE4674:
 13880               	.LBE4673:
 13881               	.LBB4675:
 13882               	.LBB4668:
 13883               	.LBB4665:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 13884               		.loc 1 80 0
 13885 339c 5FB7      		in r21,__SREG__
 13886               	.LVL857:
 13887               	.LBB4643:
 13888               	.LBB4644:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 13889               		.loc 2 50 0
 13890               	/* #APP */
 13891               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 13892 339e F894      		cli
 13893               	 ;  0 "" 2
 13894               	.LVL858:
 13895               	/* #NOAPP */
 13896               	.LBE4644:
 13897               	.LBE4643:
 13898               	.LBB4645:
 13899               	.LBB4620:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 13900               		.loc 3 220 0
 13901 33a0 8091 0000 		lds r24,endpoints+24
 13902 33a4 8670      		andi r24,lo8(6)
 13903               	.LBE4620:
 13904               	.LBE4645:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 13905               		.loc 1 82 0
 13906 33a6 01F0      		breq .+2
 13907 33a8 00C0      		rjmp .L601
 13908               	.LVL859:
 13909               	.L548:
 13910               	.LBB4646:
 13911               	.LBB4647:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 13912               		.loc 2 70 0
 13913 33aa 5FBF      		out __SREG__,r21
 13914               		.loc 2 71 0
 13915               	.LVL860:
 13916               	.LBE4647:
 13917               	.LBE4646:
 13918               	.LBE4665:
 13919               	.LBE4668:
 13920               	.LBE4675:
 13921               	.LBB4676:
 13922               	.LBB4677:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 13923               		.loc 2 70 0
 13924 33ac 1FBF      		out __SREG__,r17
 13925               		.loc 2 71 0
 13926               	.LBE4677:
 13927               	.LBE4676:
 13928               	.LBE4680:
 13929               	.LBE4683:
 13930               	.LBE4686:
 13931               	.LBE4693:
 13932               	.LBE4697:
 13933               	.LBE4701:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 13934               		.loc 7 5 0
 13935 33ae F501      		movw r30,r10
 13936 33b0 2191      		ld r18,Z+
 13937 33b2 2223      		tst r18
 13938 33b4 01F0      		breq .+2
 13939 33b6 00C0      		rjmp .L602
 13940               	.LVL861:
 13941               	.L557:
 13942               	.LBB4702:
 13943               	.LBB4703:
 13944               	.LBB4704:
 13945               	.LBB4705:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 13946               		.loc 1 110 0
 13947 33b8 81E0      		ldi r24,lo8(1)
 13948 33ba 8093 0000 		sts ep_in_data+1,r24
 13949               	.LVL862:
 13950               	.LBB4706:
 13951               	.LBB4707:
 13952               	.LBB4708:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 13953               		.loc 1 80 0
 13954 33be 2FB7      		in r18,__SREG__
 13955               	.LVL863:
 13956               	.LBB4709:
 13957               	.LBB4710:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 13958               		.loc 2 50 0
 13959               	/* #APP */
 13960               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 13961 33c0 F894      		cli
 13962               	 ;  0 "" 2
 13963               	.LVL864:
 13964               	/* #NOAPP */
 13965               	.LBE4710:
 13966               	.LBE4709:
 13967               	.LBB4711:
 13968               	.LBB4712:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 13969               		.loc 3 220 0
 13970 33c2 8091 0000 		lds r24,endpoints+24
 13971 33c6 8670      		andi r24,lo8(6)
 13972               	.LBE4712:
 13973               	.LBE4711:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 13974               		.loc 1 82 0
 13975 33c8 01F0      		breq .+2
 13976 33ca 00C0      		rjmp .L603
 13977               	.LVL865:
 13978               	.L559:
 13979               	.LBB4713:
 13980               	.LBB4714:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 13981               		.loc 2 70 0
 13982 33cc 2FBF      		out __SREG__,r18
 13983               		.loc 2 71 0
 13984               	.LBE4714:
 13985               	.LBE4713:
 13986               	.LBE4708:
 13987               	.LBE4707:
 13988               	.LBE4706:
 13989               	.LBE4705:
 13990               	.LBE4704:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 13991               		.loc 5 27 0
 13992 33ce 82E0      		ldi r24,lo8(2)
 13993 33d0 E0EC      		ldi r30,lo8(1216)
 13994 33d2 F4E0      		ldi r31,hi8(1216)
 13995 33d4 8587      		std Z+13,r24
 13996               	.LBB4760:
 13997               	.LBB4761:
 13998               	.LBB4762:
 13999               	.LBB4763:
 14000               	.LBB4764:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 14001               		.loc 4 57 0
 14002 33d6 36E0      		ldi r19,lo8(6)
 14003               	.LVL866:
 14004               	.L568:
 14005               	.LBE4764:
 14006               	.LBE4763:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 14007               		.loc 1 123 0
 14008 33d8 9FB7      		in r25,__SREG__
 14009               	.LVL867:
 14010               	.LBB4766:
 14011               	.LBB4767:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 14012               		.loc 2 50 0
 14013               	/* #APP */
 14014               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 14015 33da F894      		cli
 14016               	 ;  0 "" 2
 14017               	.LVL868:
 14018               	/* #NOAPP */
 14019               	.LBE4767:
 14020               	.LBE4766:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 14021               		.loc 1 124 0
 14022 33dc 8091 0000 		lds r24,ep_in_data+1
 14023 33e0 8823      		tst r24
 14024 33e2 01F4      		brne .+2
 14025 33e4 00C0      		rjmp .L604
 14026               	.L578:
 125:usb/usb_pipe.h **** 			r = false;
 14027               		.loc 1 125 0
 14028 33e6 80E0      		ldi r24,lo8(0)
 14029               	.L570:
 14030               	.LBB4768:
 14031               	.LBB4769:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 14032               		.loc 2 70 0
 14033 33e8 9FBF      		out __SREG__,r25
 14034               		.loc 2 71 0
 14035               	.LBE4769:
 14036               	.LBE4768:
 14037               	.LBE4762:
 14038               	.LBE4761:
 14039               	.LBE4760:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 14040               		.loc 5 28 0
 14041 33ea 8823      		tst r24
 14042 33ec 01F4      		brne .L510
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 14043               		.loc 5 29 0
 14044 33ee 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 14045 33f2 8823      		tst r24
 14046 33f4 01F0      		breq .L568
 14047               	.LVL869:
 14048               	.LBB4773:
 14049               	.LBB4774:
 14050               	.LBB4775:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 14051               		.loc 1 54 0
 14052 33f6 2FB7      		in r18,__SREG__
 14053               	.LVL870:
 14054               	.LBB4776:
 14055               	.LBB4777:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 14056               		.loc 2 50 0
 14057               	/* #APP */
 14058               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 14059 33f8 F894      		cli
 14060               	 ;  0 "" 2
 14061               	.LVL871:
 14062               	/* #NOAPP */
 14063               	.LBE4777:
 14064               	.LBE4776:
 14065               	.LBB4778:
 14066               	.LBB4779:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 14067               		.loc 4 90 0
 14068 33fa 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 14069               		.loc 4 91 0
 14070 33fe 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 14071 3400 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 14072 3402 8093 0000 		sts ep_in_pipe_data+2,r24
 14073 3406 9093 0000 		sts ep_in_pipe_data+2+1,r25
 14074 340a 8093 0000 		sts ep_in_pipe_data,r24
 14075 340e 9093 0000 		sts ep_in_pipe_data+1,r25
 14076               	.LVL872:
 14077               	.LBE4779:
 14078               	.LBE4778:
 14079               	.LBB4780:
 14080               	.LBB4781:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 14081               		.loc 3 158 0
 14082 3412 E0E0      		ldi r30,lo8(endpoints+24)
 14083 3414 F0E0      		ldi r31,hi8(endpoints+24)
 14084               	/* #APP */
 14085               	 ;  158 "usb/usb.h" 1
 14086 3416 06E0      		ldi r16, 6
 14087 3418 0593      		.dc.w 0x9305
 14088               		
 14089               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 14090               		.loc 3 159 0
 14091               	 ;  159 "usb/usb.h" 1
 14092 341a 08E0      		ldi r16, 8
 14093 341c 0693      		.dc.w 0x9306
 14094               		
 14095               	 ;  0 "" 2
 14096               	/* #NOAPP */
 14097               	.LBE4781:
 14098               	.LBE4780:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 14099               		.loc 1 57 0
 14100 341e 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 14101               		.loc 1 58 0
 14102 3422 1092 0000 		sts ep_in_data+2,__zero_reg__
 14103 3426 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 14104               		.loc 1 59 0
 14105 342a 1092 0000 		sts ep_in_data,__zero_reg__
 14106               	.LVL873:
 14107               	.LBB4782:
 14108               	.LBB4783:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 14109               		.loc 2 70 0
 14110 342e 2FBF      		out __SREG__,r18
 14111               		.loc 2 71 0
 14112               	.LVL874:
 14113               	.L510:
 14114               	/* epilogue start */
 14115               	.LBE4783:
 14116               	.LBE4782:
 14117               	.LBE4775:
 14118               	.LBE4774:
 14119               	.LBE4773:
 14120               	.LBE4703:
 14121               	.LBE4702:
 14122               	.LBE4799:
 14123               	.LBE4804:
 131:gps/gps.h     **** 
 132:gps/gps.h     ****   send_string("GPS Initialization Sequence Complete");
 133:gps/gps.h     **** 
 134:gps/gps.h     **** }
 14124               		.loc 10 134 0
 14125 3430 A096      		adiw r28,32
 14126 3432 CDBF      		out __SP_L__,r28
 14127 3434 DEBF      		out __SP_H__,r29
 14128 3436 DF91      		pop r29
 14129 3438 CF91      		pop r28
 14130 343a 1F91      		pop r17
 14131 343c 0F91      		pop r16
 14132 343e FF90      		pop r15
 14133 3440 EF90      		pop r14
 14134 3442 DF90      		pop r13
 14135 3444 CF90      		pop r12
 14136 3446 BF90      		pop r11
 14137 3448 AF90      		pop r10
 14138 344a 9F90      		pop r9
 14139 344c 8F90      		pop r8
 14140 344e 0895      		ret
 14141               	.LVL875:
 14142               	.L601:
 14143               	.LBB4805:
 14144               	.LBB4800:
 14145               	.LBB4793:
 14146               	.LBB4698:
 14147               	.LBB4694:
 14148               	.LBB4687:
 14149               	.LBB4684:
 14150               	.LBB4681:
 14151               	.LBB4678:
 14152               	.LBB4669:
 14153               	.LBB4666:
 14154               	.LBB4648:
 14155               	.LBB4649:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 14156               		.loc 4 51 0
 14157 3450 6091 0000 		lds r22,ep_in_pipe_data+4
 14158               	.LBE4649:
 14159               	.LBE4648:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 14160               		.loc 1 83 0
 14161 3454 1616      		cp __zero_reg__,r22
 14162 3456 04F0      		brlt .+2
 14163 3458 00C0      		rjmp .L549
 14164               	.LBB4650:
 14165               	.LBB4651:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 14166               		.loc 4 62 0
 14167 345a 2091 0000 		lds r18,ep_in_pipe_data
 14168 345e 3091 0000 		lds r19,ep_in_pipe_data+1
 14169               	.LVL876:
 14170               	.LBE4651:
 14171               	.LBE4650:
 14172               	.LBB4652:
 14173               	.LBB4641:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 14174               		.loc 1 68 0
 14175 3462 7091 0000 		lds r23,ep_in_data
 14176               	.LVL877:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 14177               		.loc 1 69 0
 14178 3466 872F      		mov r24,r23
 14179 3468 90E0      		ldi r25,lo8(0)
 14180 346a E1E0      		ldi r30,lo8(1)
 14181               	.LVL878:
 14182 346c 8E15      		cp r24,r14
 14183 346e 9F05      		cpc r25,r15
 14184 3470 01F4      		brne .L550
 14185 3472 E0E0      		ldi r30,lo8(0)
 14186               	.L550:
 14187 3474 E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 14188               		.loc 1 72 0
 14189 3478 7723      		tst r23
 14190 347a 01F4      		brne .L551
 14191               	.LVL879:
 14192               	.LBB4638:
 14193               	.LBB4639:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14194               		.loc 3 168 0
 14195 347c 2093 0000 		sts endpoints+28,r18
 14196 3480 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14197               		.loc 3 169 0
 14198 3484 C092 0000 		sts endpoints+26,r12
 14199 3488 D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 14200               		.loc 3 174 0
 14201 348c FD01      		movw r30,r26
 14202               	/* #APP */
 14203               	 ;  174 "usb/usb.h" 1
 14204 348e 02E2      		ldi r16, 34
 14205 3490 0693      		.dc.w 0x9306
 14206               		
 14207               	 ;  0 "" 2
 14208               	.LVL880:
 14209               	/* #NOAPP */
 14210               	.L552:
 14211               	.LBE4639:
 14212               	.LBE4638:
 14213               	.LBE4641:
 14214               	.LBE4652:
 14215               	.LBB4653:
 14216               	.LBB4654:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 14217               		.loc 4 72 0
 14218 3492 6150      		subi r22,lo8(-(-1))
 14219 3494 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 14220               		.loc 4 73 0
 14221 3498 C901      		movw r24,r18
 14222 349a 805C      		subi r24,lo8(-(64))
 14223 349c 9F4F      		sbci r25,hi8(-(64))
 14224 349e 8093 0000 		sts ep_in_pipe_data,r24
 14225 34a2 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 14226               		.loc 4 75 0
 14227 34a6 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 14228 34a8 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 14229 34aa 9F07      		cpc r25,r31
 14230 34ac 01F0      		breq .+2
 14231 34ae 00C0      		rjmp .L548
 14232               	.LBE4654:
 14233               	.LBE4653:
 14234               	.LBB4655:
 14235               	.LBB4623:
 14236               		.loc 4 91 0
 14237 34b0 8092 0000 		sts ep_in_pipe_data,r8
 14238 34b4 9092 0000 		sts ep_in_pipe_data+1,r9
 14239               	.LVL881:
 14240 34b8 00C0      		rjmp .L548
 14241               	.LVL882:
 14242               	.L551:
 14243               	.LBE4623:
 14244               	.LBE4655:
 14245               	.LBB4656:
 14246               	.LBB4642:
 14247               	.LBB4640:
 14248               	.LBB4637:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14249               		.loc 3 168 0
 14250 34ba 2093 0000 		sts endpoints+20,r18
 14251 34be 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14252               		.loc 3 169 0
 14253 34c2 C092 0000 		sts endpoints+18,r12
 14254 34c6 D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 14255               		.loc 3 176 0
 14256 34ca FD01      		movw r30,r26
 14257               	/* #APP */
 14258               	 ;  176 "usb/usb.h" 1
 14259 34cc 04E1      		ldi r16, 20
 14260 34ce 0693      		.dc.w 0x9306
 14261               		
 14262               	 ;  0 "" 2
 14263               	/* #NOAPP */
 14264 34d0 00C0      		rjmp .L552
 14265               	.LVL883:
 14266               	.L549:
 14267               	.LBE4637:
 14268               	.LBE4640:
 14269               	.LBE4642:
 14270               	.LBE4656:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 14271               		.loc 1 87 0
 14272 34d2 8091 0000 		lds r24,ep_in_data+1
 14273 34d6 8130      		cpi r24,lo8(1)
 14274 34d8 01F0      		breq .L605
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 14275               		.loc 1 91 0
 14276 34da 8230      		cpi r24,lo8(2)
 14277 34dc 01F0      		breq .+2
 14278 34de 00C0      		rjmp .L548
 14279               	.LVL884:
 14280               	.LBB4657:
 14281               	.LBB4658:
 14282               	.LBB4659:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 14283               		.loc 3 228 0
 14284 34e0 8091 0000 		lds r24,endpoints+24
 14285 34e4 8670      		andi r24,lo8(6)
 14286               	.LBE4659:
 14287               	.LBE4658:
 14288               	.LBE4657:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 14289               		.loc 1 91 0
 14290 34e6 8630      		cpi r24,lo8(6)
 14291 34e8 01F0      		breq .+2
 14292 34ea 00C0      		rjmp .L548
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 14293               		.loc 1 92 0
 14294 34ec 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 14295               		.loc 1 93 0
 14296 34f0 1092 0000 		sts ep_in_data+2,__zero_reg__
 14297 34f4 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 14298               	.LBB4660:
 14299               	.LBB4624:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 14300               		.loc 4 90 0
 14301 34f8 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 14302               		.loc 4 91 0
 14303 34fc 8092 0000 		sts ep_in_pipe_data+2,r8
 14304 3500 9092 0000 		sts ep_in_pipe_data+2+1,r9
 14305 3504 8092 0000 		sts ep_in_pipe_data,r8
 14306 3508 9092 0000 		sts ep_in_pipe_data+1,r9
 14307               	.LVL885:
 14308 350c 00C0      		rjmp .L548
 14309               	.LVL886:
 14310               	.L605:
 14311               	.LBE4624:
 14312               	.LBE4660:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 14313               		.loc 1 88 0
 14314 350e 22E0      		ldi r18,lo8(2)
 14315               	.LVL887:
 14316 3510 2093 0000 		sts ep_in_data+1,r18
 14317               	.LBB4661:
 14318               	.LBB4662:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 14319               		.loc 4 62 0
 14320 3514 E091 0000 		lds r30,ep_in_pipe_data
 14321               	.LVL888:
 14322 3518 F091 0000 		lds r31,ep_in_pipe_data+1
 14323               	.LBE4662:
 14324               	.LBE4661:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 14325               		.loc 1 90 0
 14326 351c 2091 0000 		lds r18,ep_in_data+2
 14327 3520 3091 0000 		lds r19,ep_in_data+2+1
 14328               	.LVL889:
 14329               	.LBB4663:
 14330               	.LBB4631:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 14331               		.loc 1 68 0
 14332 3524 7091 0000 		lds r23,ep_in_data
 14333               	.LVL890:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 14334               		.loc 1 69 0
 14335 3528 872F      		mov r24,r23
 14336 352a 90E0      		ldi r25,lo8(0)
 14337 352c 61E0      		ldi r22,lo8(1)
 14338 352e 8E15      		cp r24,r14
 14339 3530 9F05      		cpc r25,r15
 14340 3532 01F4      		brne .L555
 14341 3534 60E0      		ldi r22,lo8(0)
 14342               	.L555:
 14343 3536 6093 0000 		sts ep_in_data,r22
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 14344               		.loc 1 72 0
 14345 353a 7723      		tst r23
 14346 353c 01F0      		breq .+2
 14347 353e 00C0      		rjmp .L556
 14348               	.LVL891:
 14349               	.LBB4627:
 14350               	.LBB4628:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14351               		.loc 3 168 0
 14352 3540 E093 0000 		sts endpoints+28,r30
 14353 3544 F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14354               		.loc 3 169 0
 14355 3548 2093 0000 		sts endpoints+26,r18
 14356 354c 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 14357               		.loc 3 174 0
 14358 3550 FD01      		movw r30,r26
 14359               	/* #APP */
 14360               	 ;  174 "usb/usb.h" 1
 14361 3552 02E2      		ldi r16, 34
 14362 3554 0693      		.dc.w 0x9306
 14363               		
 14364               	 ;  0 "" 2
 14365               	/* #NOAPP */
 14366 3556 00C0      		rjmp .L548
 14367               	.LVL892:
 14368               	.L604:
 14369               	.LBE4628:
 14370               	.LBE4627:
 14371               	.LBE4631:
 14372               	.LBE4663:
 14373               	.LBE4666:
 14374               	.LBE4669:
 14375               	.LBE4678:
 14376               	.LBE4681:
 14377               	.LBE4684:
 14378               	.LBE4687:
 14379               	.LBE4694:
 14380               	.LBE4698:
 14381               	.LBE4793:
 14382               	.LBB4794:
 14383               	.LBB4789:
 14384               	.LBB4784:
 14385               	.LBB4772:
 14386               	.LBB4771:
 14387               	.LBB4770:
 14388               	.LBB4765:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 14389               		.loc 4 57 0
 14390 3558 8091 0000 		lds r24,ep_in_pipe_data+4
 14391 355c 232F      		mov r18,r19
 14392 355e 281B      		sub r18,r24
 14393               	.LBE4765:
 14394               	.LBE4770:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 14395               		.loc 1 127 0
 14396 3560 81E0      		ldi r24,lo8(1)
 14397 3562 1216      		cp __zero_reg__,r18
 14398 3564 04F4      		brge .+2
 14399 3566 00C0      		rjmp .L570
 14400 3568 00C0      		rjmp .L578
 14401               	.LVL893:
 14402               	.L603:
 14403               	.LBE4771:
 14404               	.LBE4772:
 14405               	.LBE4784:
 14406               	.LBB4785:
 14407               	.LBB4756:
 14408               	.LBB4752:
 14409               	.LBB4748:
 14410               	.LBB4744:
 14411               	.LBB4715:
 14412               	.LBB4716:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 14413               		.loc 4 51 0
 14414 356a 3091 0000 		lds r19,ep_in_pipe_data+4
 14415               	.LBE4716:
 14416               	.LBE4715:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 14417               		.loc 1 83 0
 14418 356e 1316      		cp __zero_reg__,r19
 14419 3570 04F0      		brlt .+2
 14420 3572 00C0      		rjmp .L560
 14421               	.LBB4717:
 14422               	.LBB4718:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 14423               		.loc 4 62 0
 14424 3574 8091 0000 		lds r24,ep_in_pipe_data
 14425 3578 9091 0000 		lds r25,ep_in_pipe_data+1
 14426               	.LVL894:
 14427               	.LBE4718:
 14428               	.LBE4717:
 14429               	.LBB4719:
 14430               	.LBB4720:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 14431               		.loc 1 68 0
 14432 357c 4091 0000 		lds r20,ep_in_data
 14433               	.LVL895:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 14434               		.loc 1 69 0
 14435 3580 51E0      		ldi r21,lo8(1)
 14436 3582 4130      		cpi r20,lo8(1)
 14437 3584 01F4      		brne .L561
 14438 3586 50E0      		ldi r21,lo8(0)
 14439               	.L561:
 14440 3588 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 14441               		.loc 1 72 0
 14442 358c 4423      		tst r20
 14443 358e 01F4      		brne .L562
 14444               	.LVL896:
 14445               	.LBB4721:
 14446               	.LBB4722:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14447               		.loc 3 168 0
 14448 3590 8093 0000 		sts endpoints+28,r24
 14449 3594 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14450               		.loc 3 169 0
 14451 3598 40E4      		ldi r20,lo8(64)
 14452 359a 50E0      		ldi r21,hi8(64)
 14453 359c 4093 0000 		sts endpoints+26,r20
 14454 35a0 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 14455               		.loc 3 174 0
 14456 35a4 E0E0      		ldi r30,lo8(endpoints+24)
 14457 35a6 F0E0      		ldi r31,hi8(endpoints+24)
 14458               	/* #APP */
 14459               	 ;  174 "usb/usb.h" 1
 14460 35a8 02E2      		ldi r16, 34
 14461 35aa 0693      		.dc.w 0x9306
 14462               		
 14463               	 ;  0 "" 2
 14464               	.LVL897:
 14465               	/* #NOAPP */
 14466               	.L563:
 14467               	.LBE4722:
 14468               	.LBE4721:
 14469               	.LBE4720:
 14470               	.LBE4719:
 14471               	.LBB4726:
 14472               	.LBB4727:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 14473               		.loc 4 72 0
 14474 35ac 3150      		subi r19,lo8(-(-1))
 14475 35ae 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 14476               		.loc 4 73 0
 14477 35b2 805C      		subi r24,lo8(-(64))
 14478 35b4 9F4F      		sbci r25,hi8(-(64))
 14479 35b6 8093 0000 		sts ep_in_pipe_data,r24
 14480 35ba 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 14481               		.loc 4 75 0
 14482 35be F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 14483 35c0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 14484 35c2 9F07      		cpc r25,r31
 14485 35c4 01F0      		breq .+2
 14486 35c6 00C0      		rjmp .L559
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 14487               		.loc 4 76 0
 14488 35c8 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 14489 35ca 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 14490 35cc 8093 0000 		sts ep_in_pipe_data,r24
 14491 35d0 9093 0000 		sts ep_in_pipe_data+1,r25
 14492 35d4 00C0      		rjmp .L559
 14493               	.LVL898:
 14494               	.L556:
 14495               	.LBE4727:
 14496               	.LBE4726:
 14497               	.LBE4744:
 14498               	.LBE4748:
 14499               	.LBE4752:
 14500               	.LBE4756:
 14501               	.LBE4785:
 14502               	.LBE4789:
 14503               	.LBE4794:
 14504               	.LBB4795:
 14505               	.LBB4699:
 14506               	.LBB4695:
 14507               	.LBB4688:
 14508               	.LBB4685:
 14509               	.LBB4682:
 14510               	.LBB4679:
 14511               	.LBB4670:
 14512               	.LBB4667:
 14513               	.LBB4664:
 14514               	.LBB4632:
 14515               	.LBB4629:
 14516               	.LBB4630:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14517               		.loc 3 168 0
 14518 35d6 E093 0000 		sts endpoints+20,r30
 14519 35da F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14520               		.loc 3 169 0
 14521 35de 2093 0000 		sts endpoints+18,r18
 14522 35e2 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 14523               		.loc 3 176 0
 14524 35e6 FD01      		movw r30,r26
 14525               	.LVL899:
 14526               	/* #APP */
 14527               	 ;  176 "usb/usb.h" 1
 14528 35e8 04E1      		ldi r16, 20
 14529 35ea 0693      		.dc.w 0x9306
 14530               		
 14531               	 ;  0 "" 2
 14532               	/* #NOAPP */
 14533 35ec 00C0      		rjmp .L548
 14534               	.LVL900:
 14535               	.L562:
 14536               	.LBE4630:
 14537               	.LBE4629:
 14538               	.LBE4632:
 14539               	.LBE4664:
 14540               	.LBE4667:
 14541               	.LBE4670:
 14542               	.LBE4679:
 14543               	.LBE4682:
 14544               	.LBE4685:
 14545               	.LBE4688:
 14546               	.LBE4695:
 14547               	.LBE4699:
 14548               	.LBE4795:
 14549               	.LBB4796:
 14550               	.LBB4790:
 14551               	.LBB4786:
 14552               	.LBB4757:
 14553               	.LBB4753:
 14554               	.LBB4749:
 14555               	.LBB4745:
 14556               	.LBB4728:
 14557               	.LBB4725:
 14558               	.LBB4723:
 14559               	.LBB4724:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14560               		.loc 3 168 0
 14561 35ee 8093 0000 		sts endpoints+20,r24
 14562 35f2 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14563               		.loc 3 169 0
 14564 35f6 40E4      		ldi r20,lo8(64)
 14565 35f8 50E0      		ldi r21,hi8(64)
 14566               	.LVL901:
 14567 35fa 4093 0000 		sts endpoints+18,r20
 14568 35fe 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 14569               		.loc 3 176 0
 14570 3602 E0E0      		ldi r30,lo8(endpoints+24)
 14571 3604 F0E0      		ldi r31,hi8(endpoints+24)
 14572               	/* #APP */
 14573               	 ;  176 "usb/usb.h" 1
 14574 3606 04E1      		ldi r16, 20
 14575 3608 0693      		.dc.w 0x9306
 14576               		
 14577               	 ;  0 "" 2
 14578               	/* #NOAPP */
 14579 360a 00C0      		rjmp .L563
 14580               	.LVL902:
 14581               	.L560:
 14582               	.LBE4724:
 14583               	.LBE4723:
 14584               	.LBE4725:
 14585               	.LBE4728:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 14586               		.loc 1 87 0
 14587 360c 8091 0000 		lds r24,ep_in_data+1
 14588 3610 8130      		cpi r24,lo8(1)
 14589 3612 01F4      		brne .+2
 14590 3614 00C0      		rjmp .L606
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 14591               		.loc 1 91 0
 14592 3616 8230      		cpi r24,lo8(2)
 14593 3618 01F0      		breq .+2
 14594 361a 00C0      		rjmp .L559
 14595               	.LVL903:
 14596               	.LBB4729:
 14597               	.LBB4730:
 14598               	.LBB4731:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 14599               		.loc 3 228 0
 14600 361c 8091 0000 		lds r24,endpoints+24
 14601 3620 8670      		andi r24,lo8(6)
 14602               	.LBE4731:
 14603               	.LBE4730:
 14604               	.LBE4729:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 14605               		.loc 1 91 0
 14606 3622 8630      		cpi r24,lo8(6)
 14607 3624 01F0      		breq .+2
 14608 3626 00C0      		rjmp .L559
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 14609               		.loc 1 92 0
 14610 3628 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 14611               		.loc 1 93 0
 14612 362c 1092 0000 		sts ep_in_data+2,__zero_reg__
 14613 3630 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 14614               	.LBB4732:
 14615               	.LBB4733:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 14616               		.loc 4 90 0
 14617 3634 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 14618               		.loc 4 91 0
 14619 3638 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 14620 363a 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 14621 363c 8093 0000 		sts ep_in_pipe_data+2,r24
 14622 3640 9093 0000 		sts ep_in_pipe_data+2+1,r25
 14623 3644 8093 0000 		sts ep_in_pipe_data,r24
 14624 3648 9093 0000 		sts ep_in_pipe_data+1,r25
 14625               	.LVL904:
 14626 364c 00C0      		rjmp .L559
 14627               	.LVL905:
 14628               	.L600:
 14629               	.LBE4733:
 14630               	.LBE4732:
 14631               	.LBE4745:
 14632               	.LBE4749:
 14633               	.LBE4753:
 14634               	.LBE4757:
 14635               	.LBE4786:
 14636               	.LBE4790:
 14637               	.LBE4796:
 14638               	.LBE4800:
 14639               	.LBE4805:
 14640               	.LBB4806:
 14641               	.LBB4587:
 14642               	.LBB4584:
 14643               	.LBB4578:
 14644               	.LBB4574:
 14645               	.LBB4545:
 14646               	.LBB4541:
 14647               	.LBB4537:
 14648               	.LBB4533:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 14649               		.loc 1 88 0
 14650 364e 82E0      		ldi r24,lo8(2)
 14651 3650 8093 0000 		sts ep_in_data+1,r24
 14652               	.LBB4521:
 14653               	.LBB4522:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 14654               		.loc 4 62 0
 14655 3654 6091 0000 		lds r22,ep_in_pipe_data
 14656 3658 3091 0000 		lds r19,ep_in_pipe_data+1
 14657               	.LBE4522:
 14658               	.LBE4521:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 14659               		.loc 1 90 0
 14660 365c 4091 0000 		lds r20,ep_in_data+2
 14661 3660 5091 0000 		lds r21,ep_in_data+2+1
 14662               	.LVL906:
 14663               	.LBB4523:
 14664               	.LBB4524:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 14665               		.loc 1 68 0
 14666 3664 8091 0000 		lds r24,ep_in_data
 14667               	.LVL907:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 14668               		.loc 1 69 0
 14669 3668 91E0      		ldi r25,lo8(1)
 14670 366a 8130      		cpi r24,lo8(1)
 14671 366c 01F4      		brne .L534
 14672 366e 90E0      		ldi r25,lo8(0)
 14673               	.L534:
 14674 3670 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 14675               		.loc 1 72 0
 14676 3674 8823      		tst r24
 14677 3676 01F4      		brne .L535
 14678               	.LVL908:
 14679               	.LBB4525:
 14680               	.LBB4526:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14681               		.loc 3 168 0
 14682 3678 862F      		mov r24,r22
 14683 367a 932F      		mov r25,r19
 14684 367c 8093 0000 		sts endpoints+28,r24
 14685 3680 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14686               		.loc 3 169 0
 14687 3684 4093 0000 		sts endpoints+26,r20
 14688 3688 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 14689               		.loc 3 174 0
 14690 368c E0E0      		ldi r30,lo8(endpoints+24)
 14691 368e F0E0      		ldi r31,hi8(endpoints+24)
 14692               	/* #APP */
 14693               	 ;  174 "usb/usb.h" 1
 14694 3690 02E2      		ldi r16, 34
 14695 3692 0693      		.dc.w 0x9306
 14696               		
 14697               	 ;  0 "" 2
 14698               	/* #NOAPP */
 14699 3694 00C0      		rjmp .L527
 14700               	.LVL909:
 14701               	.L606:
 14702               	.LBE4526:
 14703               	.LBE4525:
 14704               	.LBE4524:
 14705               	.LBE4523:
 14706               	.LBE4533:
 14707               	.LBE4537:
 14708               	.LBE4541:
 14709               	.LBE4545:
 14710               	.LBE4574:
 14711               	.LBE4578:
 14712               	.LBE4584:
 14713               	.LBE4587:
 14714               	.LBE4806:
 14715               	.LBB4807:
 14716               	.LBB4801:
 14717               	.LBB4797:
 14718               	.LBB4791:
 14719               	.LBB4787:
 14720               	.LBB4758:
 14721               	.LBB4754:
 14722               	.LBB4750:
 14723               	.LBB4746:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 14724               		.loc 1 88 0
 14725 3696 82E0      		ldi r24,lo8(2)
 14726 3698 8093 0000 		sts ep_in_data+1,r24
 14727               	.LBB4734:
 14728               	.LBB4735:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 14729               		.loc 4 62 0
 14730 369c 6091 0000 		lds r22,ep_in_pipe_data
 14731 36a0 3091 0000 		lds r19,ep_in_pipe_data+1
 14732               	.LBE4735:
 14733               	.LBE4734:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 14734               		.loc 1 90 0
 14735 36a4 4091 0000 		lds r20,ep_in_data+2
 14736 36a8 5091 0000 		lds r21,ep_in_data+2+1
 14737               	.LVL910:
 14738               	.LBB4736:
 14739               	.LBB4737:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 14740               		.loc 1 68 0
 14741 36ac 8091 0000 		lds r24,ep_in_data
 14742               	.LVL911:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 14743               		.loc 1 69 0
 14744 36b0 91E0      		ldi r25,lo8(1)
 14745 36b2 8130      		cpi r24,lo8(1)
 14746 36b4 01F4      		brne .L566
 14747 36b6 90E0      		ldi r25,lo8(0)
 14748               	.L566:
 14749 36b8 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 14750               		.loc 1 72 0
 14751 36bc 8823      		tst r24
 14752 36be 01F4      		brne .L567
 14753               	.LVL912:
 14754               	.LBB4738:
 14755               	.LBB4739:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14756               		.loc 3 168 0
 14757 36c0 862F      		mov r24,r22
 14758 36c2 932F      		mov r25,r19
 14759 36c4 8093 0000 		sts endpoints+28,r24
 14760 36c8 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14761               		.loc 3 169 0
 14762 36cc 4093 0000 		sts endpoints+26,r20
 14763 36d0 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 14764               		.loc 3 174 0
 14765 36d4 E0E0      		ldi r30,lo8(endpoints+24)
 14766 36d6 F0E0      		ldi r31,hi8(endpoints+24)
 14767               	/* #APP */
 14768               	 ;  174 "usb/usb.h" 1
 14769 36d8 02E2      		ldi r16, 34
 14770 36da 0693      		.dc.w 0x9306
 14771               		
 14772               	 ;  0 "" 2
 14773               	/* #NOAPP */
 14774 36dc 00C0      		rjmp .L559
 14775               	.LVL913:
 14776               	.L535:
 14777               	.LBE4739:
 14778               	.LBE4738:
 14779               	.LBE4737:
 14780               	.LBE4736:
 14781               	.LBE4746:
 14782               	.LBE4750:
 14783               	.LBE4754:
 14784               	.LBE4758:
 14785               	.LBE4787:
 14786               	.LBE4791:
 14787               	.LBE4797:
 14788               	.LBE4801:
 14789               	.LBE4807:
 14790               	.LBB4808:
 14791               	.LBB4588:
 14792               	.LBB4585:
 14793               	.LBB4579:
 14794               	.LBB4575:
 14795               	.LBB4546:
 14796               	.LBB4542:
 14797               	.LBB4538:
 14798               	.LBB4534:
 14799               	.LBB4530:
 14800               	.LBB4529:
 14801               	.LBB4527:
 14802               	.LBB4528:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14803               		.loc 3 168 0
 14804 36de 862F      		mov r24,r22
 14805               	.LVL914:
 14806 36e0 932F      		mov r25,r19
 14807 36e2 8093 0000 		sts endpoints+20,r24
 14808 36e6 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14809               		.loc 3 169 0
 14810 36ea 4093 0000 		sts endpoints+18,r20
 14811 36ee 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 14812               		.loc 3 176 0
 14813 36f2 E0E0      		ldi r30,lo8(endpoints+24)
 14814 36f4 F0E0      		ldi r31,hi8(endpoints+24)
 14815               	/* #APP */
 14816               	 ;  176 "usb/usb.h" 1
 14817 36f6 04E1      		ldi r16, 20
 14818 36f8 0693      		.dc.w 0x9306
 14819               		
 14820               	 ;  0 "" 2
 14821               	/* #NOAPP */
 14822 36fa 00C0      		rjmp .L527
 14823               	.LVL915:
 14824               	.L567:
 14825               	.LBE4528:
 14826               	.LBE4527:
 14827               	.LBE4529:
 14828               	.LBE4530:
 14829               	.LBE4534:
 14830               	.LBE4538:
 14831               	.LBE4542:
 14832               	.LBE4546:
 14833               	.LBE4575:
 14834               	.LBE4579:
 14835               	.LBE4585:
 14836               	.LBE4588:
 14837               	.LBE4808:
 14838               	.LBB4809:
 14839               	.LBB4802:
 14840               	.LBB4798:
 14841               	.LBB4792:
 14842               	.LBB4788:
 14843               	.LBB4759:
 14844               	.LBB4755:
 14845               	.LBB4751:
 14846               	.LBB4747:
 14847               	.LBB4743:
 14848               	.LBB4742:
 14849               	.LBB4740:
 14850               	.LBB4741:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 14851               		.loc 3 168 0
 14852 36fc 862F      		mov r24,r22
 14853               	.LVL916:
 14854 36fe 932F      		mov r25,r19
 14855 3700 8093 0000 		sts endpoints+20,r24
 14856 3704 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 14857               		.loc 3 169 0
 14858 3708 4093 0000 		sts endpoints+18,r20
 14859 370c 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 14860               		.loc 3 176 0
 14861 3710 E0E0      		ldi r30,lo8(endpoints+24)
 14862 3712 F0E0      		ldi r31,hi8(endpoints+24)
 14863               	/* #APP */
 14864               	 ;  176 "usb/usb.h" 1
 14865 3714 04E1      		ldi r16, 20
 14866 3716 0693      		.dc.w 0x9306
 14867               		
 14868               	 ;  0 "" 2
 14869               	/* #NOAPP */
 14870 3718 00C0      		rjmp .L559
 14871               	.LBE4741:
 14872               	.LBE4740:
 14873               	.LBE4742:
 14874               	.LBE4743:
 14875               	.LBE4747:
 14876               	.LBE4751:
 14877               	.LBE4755:
 14878               	.LBE4759:
 14879               	.LBE4788:
 14880               	.LBE4792:
 14881               	.LBE4798:
 14882               	.LBE4802:
 14883               	.LBE4809:
 14884               		.cfi_endproc
 14885               	.LFE71:
 14887               	.global	gps_receive
 14889               	gps_receive:
 14890               	.LFB72:
 135:gps/gps.h     **** 
 136:gps/gps.h     **** void gps_receive() {
 14891               		.loc 10 136 0
 14892               		.cfi_startproc
 14893 371a 8F92      		push r8
 14894               	.LCFI130:
 14895               		.cfi_def_cfa_offset 3
 14896               		.cfi_offset 8, -2
 14897 371c 9F92      		push r9
 14898               	.LCFI131:
 14899               		.cfi_def_cfa_offset 4
 14900               		.cfi_offset 9, -3
 14901 371e AF92      		push r10
 14902               	.LCFI132:
 14903               		.cfi_def_cfa_offset 5
 14904               		.cfi_offset 10, -4
 14905 3720 BF92      		push r11
 14906               	.LCFI133:
 14907               		.cfi_def_cfa_offset 6
 14908               		.cfi_offset 11, -5
 14909 3722 CF92      		push r12
 14910               	.LCFI134:
 14911               		.cfi_def_cfa_offset 7
 14912               		.cfi_offset 12, -6
 14913 3724 DF92      		push r13
 14914               	.LCFI135:
 14915               		.cfi_def_cfa_offset 8
 14916               		.cfi_offset 13, -7
 14917 3726 EF92      		push r14
 14918               	.LCFI136:
 14919               		.cfi_def_cfa_offset 9
 14920               		.cfi_offset 14, -8
 14921 3728 FF92      		push r15
 14922               	.LCFI137:
 14923               		.cfi_def_cfa_offset 10
 14924               		.cfi_offset 15, -9
 14925 372a 0F93      		push r16
 14926               	.LCFI138:
 14927               		.cfi_def_cfa_offset 11
 14928               		.cfi_offset 16, -10
 14929 372c 1F93      		push r17
 14930               	.LCFI139:
 14931               		.cfi_def_cfa_offset 12
 14932               		.cfi_offset 17, -11
 14933 372e CF93      		push r28
 14934               	.LCFI140:
 14935               		.cfi_def_cfa_offset 13
 14936               		.cfi_offset 28, -12
 14937 3730 DF93      		push r29
 14938               	.LCFI141:
 14939               		.cfi_def_cfa_offset 14
 14940               		.cfi_offset 29, -13
 14941 3732 CDB7      		in r28,__SP_L__
 14942 3734 DEB7      		in r29,__SP_H__
 14943 3736 C456      		subi r28,lo8(-(-100))
 14944 3738 D040      		sbci r29,hi8(-(-100))
 14945               	.LCFI142:
 14946               		.cfi_def_cfa 28, 114
 14947 373a CDBF      		out __SP_L__,r28
 14948 373c DEBF      		out __SP_H__,r29
 14949               	/* prologue: function */
 14950               	/* frame size = 100 */
 14951               	/* stack size = 112 */
 14952               	.L__stack_usage = 112
 14953               	.LVL917:
 14954               	.LBB4981:
 14955               	.LBB4982:
 14956               	.LBB4983:
 14957               	.LBB4984:
 14958               	.LBB4985:
 14959               	.LBB4986:
 14960               	.LBB4987:
 125:usb/usb_pipe.h **** 			r = false;
 14961               		.loc 1 125 0
 14962 373e FE01      		movw r30,r28
 14963 3740 3196      		adiw r30,1
 14964               		.loc 10 136 0
 14965 3742 CE01      		movw r24,r28
 14966 3744 8D59      		subi r24,lo8(-(99))
 14967 3746 9F4F      		sbci r25,hi8(-(99))
 14968               	.LVL918:
 14969               	.L649:
 14970               	.LBE4987:
 14971               	.LBE4986:
 14972               	.LBE4985:
 14973               	.LBE4984:
 14974               	.LBE4983:
 14975               	.LBE4982:
 14976               	.LBE4981:
 14977               	.LBB5179:
 14978               	.LBB5180:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 14979               		.loc 9 30 0
 14980 3748 2091 A109 		lds r18,2465
 14981 374c 27FF      		sbrs r18,7
 14982 374e 00C0      		rjmp .L649
  33:uart/uart.h   ****     return USART->DATA; 
 14983               		.loc 9 33 0
 14984 3750 2091 A009 		lds r18,2464
 14985               	.LBE5180:
 14986               	.LBE5179:
 137:gps/gps.h     ****   // // while (digitalRead(KILLSWITCH)) {
 138:gps/gps.h     ****   //   _delay_ms(10);
 139:gps/gps.h     ****   //   // if (GPS_SERIAL.available()) {
 140:gps/gps.h     ****   //       _delay_ms(10);
 141:gps/gps.h     ****   //       // while(GPS_SERIAL.available()) {
 142:gps/gps.h     ****   //           c = uart_getchar(&USARTD0);
 143:gps/gps.h     ****   //           send_byte(c);
 144:gps/gps.h     ****   //           delay(2);
 145:gps/gps.h     ****   //       }
 146:gps/gps.h     ****   //   }
 147:gps/gps.h     ****   // }
 148:gps/gps.h     ****   // send_string("Receive characters");
 149:gps/gps.h     ****   char c;
 150:gps/gps.h     ****   char s[100];
 151:gps/gps.h     ****   // int i=0;
 152:gps/gps.h     ****   int i;
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 154:gps/gps.h     ****     c = uart_getchar(&USARTD0);
 155:gps/gps.h     ****     s[i] = c;
 14987               		.loc 10 155 0
 14988 3754 2193      		st Z+,r18
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 14989               		.loc 10 153 0
 14990 3756 E817      		cp r30,r24
 14991 3758 F907      		cpc r31,r25
 14992 375a 01F4      		brne .L649
 14993               	.LVL919:
 156:gps/gps.h     ****     // i++;
 157:gps/gps.h     ****   }
 158:gps/gps.h     ****   s[++i] = '\0';
 14994               		.loc 10 158 0
 14995 375c A596      		adiw r28,100-63
 14996 375e 1FAE      		std Y+63,__zero_reg__
 14997 3760 A597      		sbiw r28,100-63
 14998               	.LVL920:
 14999               	.LBB5181:
 15000               	.LBB5177:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 15001               		.loc 7 5 0
 15002 3762 2981      		ldd r18,Y+1
 15003 3764 2223      		tst r18
 15004 3766 01F4      		brne .+2
 15005 3768 00C0      		rjmp .L610
 15006 376a 72E0      		ldi r23,lo8(2)
 15007 376c A72E      		mov r10,r23
 15008 376e B12C      		mov r11,__zero_reg__
 15009 3770 AC0E      		add r10,r28
 15010 3772 BD1E      		adc r11,r29
 15011               	.LBB5064:
 15012               	.LBB5065:
 15013               	.LBB5066:
 15014               	.LBB5067:
 15015               	.LBB5068:
 15016               	.LBB5069:
 15017               	.LBB5070:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 15018               		.loc 4 57 0
 15019 3774 46E0      		ldi r20,lo8(6)
 15020               	.LBE5070:
 15021               	.LBE5069:
 15022               	.LBE5068:
 15023               	.LBE5067:
 15024               	.LBE5066:
 15025               	.LBB5083:
 15026               	.LBB5084:
 15027               	.LBB5085:
 15028               	.LBB5086:
 15029               	.LBB5087:
 15030               	.LBB5088:
 15031               	.LBB5089:
 15032               	.LBB5090:
 15033               	.LBB5091:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 15034               		.loc 3 220 0
 15035 3776 A0E0      		ldi r26,lo8(endpoints+24)
 15036 3778 B0E0      		ldi r27,hi8(endpoints+24)
 15037               	.LBE5091:
 15038               	.LBE5090:
 15039               	.LBB5093:
 15040               	.LBB5094:
 15041               		.loc 4 91 0
 15042 377a E0E0      		ldi r30,lo8(ep_in_pipe_buffer)
 15043 377c 8E2E      		mov r8,r30
 15044 377e E0E0      		ldi r30,hi8(ep_in_pipe_buffer)
 15045 3780 9E2E      		mov r9,r30
 15046               	.LBE5094:
 15047               	.LBE5093:
 15048               	.LBB5097:
 15049               	.LBB5098:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 15050               		.loc 1 69 0
 15051 3782 F1E0      		ldi r31,lo8(1)
 15052 3784 EF2E      		mov r14,r31
 15053 3786 F12C      		mov r15,__zero_reg__
 15054               	.LBE5098:
 15055               	.LBE5097:
 15056               	.LBB5105:
 15057               	.LBB5106:
 15058               	.LBB5107:
 15059               	.LBB5108:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15060               		.loc 3 169 0
 15061 3788 10E4      		ldi r17,lo8(64)
 15062 378a C12E      		mov r12,r17
 15063 378c D12C      		mov r13,__zero_reg__
 15064               	.LVL921:
 15065               	.L650:
 15066               	.LBE5108:
 15067               	.LBE5107:
 15068               	.LBE5106:
 15069               	.LBE5105:
 15070               	.LBE5089:
 15071               	.LBE5088:
 15072               	.LBE5087:
 15073               	.LBE5086:
 15074               	.LBE5085:
 15075               	.LBE5084:
 15076               	.LBE5083:
 15077               	.LBB5161:
 15078               	.LBB5081:
 15079               	.LBB5079:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 15080               		.loc 1 123 0
 15081 378e 9FB7      		in r25,__SREG__
 15082               	.LVL922:
 15083               	.LBB5072:
 15084               	.LBB5073:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15085               		.loc 2 50 0
 15086               	/* #APP */
 15087               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15088 3790 F894      		cli
 15089               	 ;  0 "" 2
 15090               	.LVL923:
 15091               	/* #NOAPP */
 15092               	.LBE5073:
 15093               	.LBE5072:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 15094               		.loc 1 124 0
 15095 3792 8091 0000 		lds r24,ep_in_data+1
 15096 3796 8823      		tst r24
 15097 3798 01F0      		breq .L652
 15098               	.L640:
 125:usb/usb_pipe.h **** 			r = false;
 15099               		.loc 1 125 0
 15100 379a 80E0      		ldi r24,lo8(0)
 15101               	.L611:
 15102               	.LBB5075:
 15103               	.LBB5076:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 15104               		.loc 2 70 0
 15105 379c 9FBF      		out __SREG__,r25
 15106               		.loc 2 71 0
 15107               	.LBE5076:
 15108               	.LBE5075:
 15109               	.LBE5079:
 15110               	.LBE5081:
 15111               	.LBE5161:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 15112               		.loc 5 20 0
 15113 379e 8823      		tst r24
 15114 37a0 01F0      		breq .L650
 15115               	.LVL924:
 15116               	.LBB5162:
 15117               	.LBB5163:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 15118               		.loc 1 175 0
 15119 37a2 8091 0000 		lds r24,ep_in_data+2
 15120 37a6 9091 0000 		lds r25,ep_in_data+2+1
 15121 37aa E091 0000 		lds r30,ep_in_pipe_data+2
 15122 37ae F091 0000 		lds r31,ep_in_pipe_data+2+1
 15123 37b2 E80F      		add r30,r24
 15124 37b4 F91F      		adc r31,r25
 15125 37b6 2083      		st Z,r18
 15126 37b8 0196      		adiw r24,1
 15127 37ba 8093 0000 		sts ep_in_data+2,r24
 15128 37be 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 15129               		.loc 1 176 0
 15130 37c2 8034      		cpi r24,64
 15131 37c4 9105      		cpc r25,__zero_reg__
 15132 37c6 01F0      		breq .L653
 15133               	.LBE5163:
 15134               	.LBE5162:
 15135               	.LBE5065:
 15136               	.LBE5064:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 15137               		.loc 7 5 0
 15138 37c8 F501      		movw r30,r10
 15139 37ca 2191      		ld r18,Z+
 15140               	.LVL925:
 15141 37cc 2223      		tst r18
 15142 37ce 01F4      		brne .+2
 15143 37d0 00C0      		rjmp .L610
 15144               	.LVL926:
 15145               	.L655:
 15146 37d2 A114      		cp r10,__zero_reg__
 15147 37d4 B104      		cpc r11,__zero_reg__
 15148 37d6 01F4      		brne .+2
 15149 37d8 00C0      		rjmp .L610
 15150 37da 5F01      		movw r10,r30
 15151               	.LBB5171:
 15152               	.LBB5168:
 15153               	.LBB5164:
 15154               	.LBB5082:
 15155               	.LBB5080:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 15156               		.loc 1 123 0
 15157 37dc 9FB7      		in r25,__SREG__
 15158               	.LVL927:
 15159               	.LBB5077:
 15160               	.LBB5074:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15161               		.loc 2 50 0
 15162               	/* #APP */
 15163               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15164 37de F894      		cli
 15165               	 ;  0 "" 2
 15166               	/* #NOAPP */
 15167               	.LBE5074:
 15168               	.LBE5077:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 15169               		.loc 1 124 0
 15170 37e0 8091 0000 		lds r24,ep_in_data+1
 15171 37e4 8823      		tst r24
 15172 37e6 01F4      		brne .L640
 15173               	.LVL928:
 15174               	.L652:
 15175               	.LBB5078:
 15176               	.LBB5071:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 15177               		.loc 4 57 0
 15178 37e8 8091 0000 		lds r24,ep_in_pipe_data+4
 15179 37ec 342F      		mov r19,r20
 15180 37ee 381B      		sub r19,r24
 15181               	.LBE5071:
 15182               	.LBE5078:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 15183               		.loc 1 127 0
 15184 37f0 81E0      		ldi r24,lo8(1)
 15185 37f2 1316      		cp __zero_reg__,r19
 15186 37f4 04F0      		brlt .L611
 15187 37f6 00C0      		rjmp .L640
 15188               	.LVL929:
 15189               	.L653:
 15190               	.LBE5080:
 15191               	.LBE5082:
 15192               	.LBE5164:
 15193               	.LBB5165:
 15194               	.LBB5158:
 15195               	.LBB5155:
 15196               	.LBB5152:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 15197               		.loc 1 177 0
 15198 37f8 1FB7      		in r17,__SREG__
 15199               	.LVL930:
 15200               	.LBB5143:
 15201               	.LBB5144:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15202               		.loc 2 50 0
 15203               	/* #APP */
 15204               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15205 37fa F894      		cli
 15206               	 ;  0 "" 2
 15207               	.LVL931:
 15208               	/* #NOAPP */
 15209               	.LBE5144:
 15210               	.LBE5143:
 15211               		.loc 1 178 0
 15212 37fc 1092 0000 		sts ep_in_data+2,__zero_reg__
 15213 3800 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 15214               	.LVL932:
 15215               	.LBB5145:
 15216               	.LBB5146:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 15217               		.loc 4 81 0
 15218 3804 8091 0000 		lds r24,ep_in_pipe_data+4
 15219 3808 8F5F      		subi r24,lo8(-(1))
 15220 380a 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 15221               		.loc 4 82 0
 15222 380e 8091 0000 		lds r24,ep_in_pipe_data+2
 15223 3812 9091 0000 		lds r25,ep_in_pipe_data+2+1
 15224 3816 805C      		subi r24,lo8(-(64))
 15225 3818 9F4F      		sbci r25,hi8(-(64))
 15226 381a 8093 0000 		sts ep_in_pipe_data+2,r24
 15227 381e 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 15228               		.loc 4 84 0
 15229 3822 20E0      		ldi r18,hi8(ep_in_pipe_buffer+512)
 15230 3824 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 15231 3826 9207      		cpc r25,r18
 15232               	.LVL933:
 15233 3828 01F4      		brne .L615
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 15234               		.loc 4 85 0
 15235 382a 8092 0000 		sts ep_in_pipe_data+2,r8
 15236 382e 9092 0000 		sts ep_in_pipe_data+2+1,r9
 15237               	.L615:
 15238               	.LVL934:
 15239               	.LBE5146:
 15240               	.LBE5145:
 15241               	.LBB5147:
 15242               	.LBB5140:
 15243               	.LBB5137:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 15244               		.loc 1 80 0
 15245 3832 5FB7      		in r21,__SREG__
 15246               	.LVL935:
 15247               	.LBB5115:
 15248               	.LBB5116:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15249               		.loc 2 50 0
 15250               	/* #APP */
 15251               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15252 3834 F894      		cli
 15253               	 ;  0 "" 2
 15254               	.LVL936:
 15255               	/* #NOAPP */
 15256               	.LBE5116:
 15257               	.LBE5115:
 15258               	.LBB5117:
 15259               	.LBB5092:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 15260               		.loc 3 220 0
 15261 3836 8091 0000 		lds r24,endpoints+24
 15262 383a 8670      		andi r24,lo8(6)
 15263               	.LBE5092:
 15264               	.LBE5117:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 15265               		.loc 1 82 0
 15266 383c 01F0      		breq .+2
 15267 383e 00C0      		rjmp .L654
 15268               	.LVL937:
 15269               	.L616:
 15270               	.LBB5118:
 15271               	.LBB5119:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 15272               		.loc 2 70 0
 15273 3840 5FBF      		out __SREG__,r21
 15274               		.loc 2 71 0
 15275               	.LVL938:
 15276               	.LBE5119:
 15277               	.LBE5118:
 15278               	.LBE5137:
 15279               	.LBE5140:
 15280               	.LBE5147:
 15281               	.LBB5148:
 15282               	.LBB5149:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 15283               		.loc 2 70 0
 15284 3842 1FBF      		out __SREG__,r17
 15285               		.loc 2 71 0
 15286               	.LBE5149:
 15287               	.LBE5148:
 15288               	.LBE5152:
 15289               	.LBE5155:
 15290               	.LBE5158:
 15291               	.LBE5165:
 15292               	.LBE5168:
 15293               	.LBE5171:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 15294               		.loc 7 5 0
 15295 3844 F501      		movw r30,r10
 15296 3846 2191      		ld r18,Z+
 15297 3848 2223      		tst r18
 15298 384a 01F0      		breq .+2
 15299 384c 00C0      		rjmp .L655
 15300               	.LVL939:
 15301               	.L610:
 15302               	.LBB5172:
 15303               	.LBB5061:
 15304               	.LBB5000:
 15305               	.LBB5001:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 15306               		.loc 1 110 0
 15307 384e 81E0      		ldi r24,lo8(1)
 15308 3850 8093 0000 		sts ep_in_data+1,r24
 15309               	.LVL940:
 15310               	.LBB5002:
 15311               	.LBB5003:
 15312               	.LBB5004:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 15313               		.loc 1 80 0
 15314 3854 2FB7      		in r18,__SREG__
 15315               	.LVL941:
 15316               	.LBB5005:
 15317               	.LBB5006:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15318               		.loc 2 50 0
 15319               	/* #APP */
 15320               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15321 3856 F894      		cli
 15322               	 ;  0 "" 2
 15323               	.LVL942:
 15324               	/* #NOAPP */
 15325               	.LBE5006:
 15326               	.LBE5005:
 15327               	.LBB5007:
 15328               	.LBB5008:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 15329               		.loc 3 220 0
 15330 3858 8091 0000 		lds r24,endpoints+24
 15331 385c 8670      		andi r24,lo8(6)
 15332               	.LBE5008:
 15333               	.LBE5007:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 15334               		.loc 1 82 0
 15335 385e 01F0      		breq .+2
 15336 3860 00C0      		rjmp .L656
 15337               	.LVL943:
 15338               	.L626:
 15339               	.LBB5009:
 15340               	.LBB5010:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 15341               		.loc 2 70 0
 15342 3862 2FBF      		out __SREG__,r18
 15343               		.loc 2 71 0
 15344               	.LBE5010:
 15345               	.LBE5009:
 15346               	.LBE5004:
 15347               	.LBE5003:
 15348               	.LBE5002:
 15349               	.LBE5001:
 15350               	.LBE5000:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 15351               		.loc 5 27 0
 15352 3864 82E0      		ldi r24,lo8(2)
 15353 3866 E0EC      		ldi r30,lo8(1216)
 15354 3868 F4E0      		ldi r31,hi8(1216)
 15355 386a 8587      		std Z+13,r24
 15356               	.LBB5046:
 15357               	.LBB4998:
 15358               	.LBB4996:
 15359               	.LBB4988:
 15360               	.LBB4989:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 15361               		.loc 4 57 0
 15362 386c 36E0      		ldi r19,lo8(6)
 15363               	.LVL944:
 15364               	.L635:
 15365               	.LBE4989:
 15366               	.LBE4988:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 15367               		.loc 1 123 0
 15368 386e 9FB7      		in r25,__SREG__
 15369               	.LVL945:
 15370               	.LBB4991:
 15371               	.LBB4992:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15372               		.loc 2 50 0
 15373               	/* #APP */
 15374               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15375 3870 F894      		cli
 15376               	 ;  0 "" 2
 15377               	.LVL946:
 15378               	/* #NOAPP */
 15379               	.LBE4992:
 15380               	.LBE4991:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 15381               		.loc 1 124 0
 15382 3872 8091 0000 		lds r24,ep_in_data+1
 15383 3876 8823      		tst r24
 15384 3878 01F4      		brne .+2
 15385 387a 00C0      		rjmp .L657
 15386               	.L642:
 125:usb/usb_pipe.h **** 			r = false;
 15387               		.loc 1 125 0
 15388 387c 80E0      		ldi r24,lo8(0)
 15389               	.L637:
 15390               	.LBB4993:
 15391               	.LBB4994:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 15392               		.loc 2 70 0
 15393 387e 9FBF      		out __SREG__,r25
 15394               		.loc 2 71 0
 15395               	.LBE4994:
 15396               	.LBE4993:
 15397               	.LBE4996:
 15398               	.LBE4998:
 15399               	.LBE5046:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 15400               		.loc 5 28 0
 15401 3880 8823      		tst r24
 15402 3882 01F4      		brne .L607
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 15403               		.loc 5 29 0
 15404 3884 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 15405 3888 8823      		tst r24
 15406 388a 01F0      		breq .L635
 15407               	.LVL947:
 15408               	.LBB5047:
 15409               	.LBB5048:
 15410               	.LBB5049:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 15411               		.loc 1 54 0
 15412 388c 2FB7      		in r18,__SREG__
 15413               	.LVL948:
 15414               	.LBB5050:
 15415               	.LBB5051:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 15416               		.loc 2 50 0
 15417               	/* #APP */
 15418               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 15419 388e F894      		cli
 15420               	 ;  0 "" 2
 15421               	.LVL949:
 15422               	/* #NOAPP */
 15423               	.LBE5051:
 15424               	.LBE5050:
 15425               	.LBB5052:
 15426               	.LBB5053:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 15427               		.loc 4 90 0
 15428 3890 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 15429               		.loc 4 91 0
 15430 3894 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 15431 3896 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 15432 3898 8093 0000 		sts ep_in_pipe_data+2,r24
 15433 389c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 15434 38a0 8093 0000 		sts ep_in_pipe_data,r24
 15435 38a4 9093 0000 		sts ep_in_pipe_data+1,r25
 15436               	.LVL950:
 15437               	.LBE5053:
 15438               	.LBE5052:
 15439               	.LBB5054:
 15440               	.LBB5055:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 15441               		.loc 3 158 0
 15442 38a8 E0E0      		ldi r30,lo8(endpoints+24)
 15443 38aa F0E0      		ldi r31,hi8(endpoints+24)
 15444               	/* #APP */
 15445               	 ;  158 "usb/usb.h" 1
 15446 38ac 06E0      		ldi r16, 6
 15447 38ae 0593      		.dc.w 0x9305
 15448               		
 15449               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 15450               		.loc 3 159 0
 15451               	 ;  159 "usb/usb.h" 1
 15452 38b0 08E0      		ldi r16, 8
 15453 38b2 0693      		.dc.w 0x9306
 15454               		
 15455               	 ;  0 "" 2
 15456               	/* #NOAPP */
 15457               	.LBE5055:
 15458               	.LBE5054:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 15459               		.loc 1 57 0
 15460 38b4 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 15461               		.loc 1 58 0
 15462 38b8 1092 0000 		sts ep_in_data+2,__zero_reg__
 15463 38bc 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 15464               		.loc 1 59 0
 15465 38c0 1092 0000 		sts ep_in_data,__zero_reg__
 15466               	.LVL951:
 15467               	.LBB5056:
 15468               	.LBB5057:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 15469               		.loc 2 70 0
 15470 38c4 2FBF      		out __SREG__,r18
 15471               		.loc 2 71 0
 15472               	.LVL952:
 15473               	.L607:
 15474               	/* epilogue start */
 15475               	.LBE5057:
 15476               	.LBE5056:
 15477               	.LBE5049:
 15478               	.LBE5048:
 15479               	.LBE5047:
 15480               	.LBE5061:
 15481               	.LBE5172:
 15482               	.LBE5177:
 15483               	.LBE5181:
 159:gps/gps.h     ****   send_string(s);
 160:gps/gps.h     ****   // break_and_flush();
 161:gps/gps.h     **** }...
 15484               		.loc 10 161 0
 15485 38c6 CC59      		subi r28,lo8(-(100))
 15486 38c8 DF4F      		sbci r29,hi8(-(100))
 15487 38ca CDBF      		out __SP_L__,r28
 15488 38cc DEBF      		out __SP_H__,r29
 15489 38ce DF91      		pop r29
 15490 38d0 CF91      		pop r28
 15491 38d2 1F91      		pop r17
 15492 38d4 0F91      		pop r16
 15493 38d6 FF90      		pop r15
 15494 38d8 EF90      		pop r14
 15495 38da DF90      		pop r13
 15496 38dc CF90      		pop r12
 15497 38de BF90      		pop r11
 15498 38e0 AF90      		pop r10
 15499 38e2 9F90      		pop r9
 15500 38e4 8F90      		pop r8
 15501 38e6 0895      		ret
 15502               	.LVL953:
 15503               	.L654:
 15504               	.LBB5182:
 15505               	.LBB5178:
 15506               	.LBB5173:
 15507               	.LBB5169:
 15508               	.LBB5166:
 15509               	.LBB5159:
 15510               	.LBB5156:
 15511               	.LBB5153:
 15512               	.LBB5150:
 15513               	.LBB5141:
 15514               	.LBB5138:
 15515               	.LBB5120:
 15516               	.LBB5121:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 15517               		.loc 4 51 0
 15518 38e8 6091 0000 		lds r22,ep_in_pipe_data+4
 15519               	.LBE5121:
 15520               	.LBE5120:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 15521               		.loc 1 83 0
 15522 38ec 1616      		cp __zero_reg__,r22
 15523 38ee 04F0      		brlt .+2
 15524 38f0 00C0      		rjmp .L617
 15525               	.LBB5122:
 15526               	.LBB5123:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 15527               		.loc 4 62 0
 15528 38f2 2091 0000 		lds r18,ep_in_pipe_data
 15529 38f6 3091 0000 		lds r19,ep_in_pipe_data+1
 15530               	.LVL954:
 15531               	.LBE5123:
 15532               	.LBE5122:
 15533               	.LBB5124:
 15534               	.LBB5113:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 15535               		.loc 1 68 0
 15536 38fa 7091 0000 		lds r23,ep_in_data
 15537               	.LVL955:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 15538               		.loc 1 69 0
 15539 38fe 872F      		mov r24,r23
 15540 3900 90E0      		ldi r25,lo8(0)
 15541               	.LVL956:
 15542 3902 E1E0      		ldi r30,lo8(1)
 15543               	.LVL957:
 15544 3904 8E15      		cp r24,r14
 15545 3906 9F05      		cpc r25,r15
 15546 3908 01F4      		brne .L618
 15547 390a E0E0      		ldi r30,lo8(0)
 15548               	.L618:
 15549 390c E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 15550               		.loc 1 72 0
 15551 3910 7723      		tst r23
 15552 3912 01F4      		brne .L619
 15553               	.LVL958:
 15554               	.LBB5110:
 15555               	.LBB5111:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 15556               		.loc 3 168 0
 15557 3914 2093 0000 		sts endpoints+28,r18
 15558 3918 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15559               		.loc 3 169 0
 15560 391c C092 0000 		sts endpoints+26,r12
 15561 3920 D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 15562               		.loc 3 174 0
 15563 3924 FD01      		movw r30,r26
 15564               	/* #APP */
 15565               	 ;  174 "usb/usb.h" 1
 15566 3926 02E2      		ldi r16, 34
 15567 3928 0693      		.dc.w 0x9306
 15568               		
 15569               	 ;  0 "" 2
 15570               	.LVL959:
 15571               	/* #NOAPP */
 15572               	.L620:
 15573               	.LBE5111:
 15574               	.LBE5110:
 15575               	.LBE5113:
 15576               	.LBE5124:
 15577               	.LBB5125:
 15578               	.LBB5126:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 15579               		.loc 4 72 0
 15580 392a 6150      		subi r22,lo8(-(-1))
 15581 392c 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 15582               		.loc 4 73 0
 15583 3930 C901      		movw r24,r18
 15584 3932 805C      		subi r24,lo8(-(64))
 15585 3934 9F4F      		sbci r25,hi8(-(64))
 15586 3936 8093 0000 		sts ep_in_pipe_data,r24
 15587 393a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 15588               		.loc 4 75 0
 15589 393e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 15590 3940 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 15591 3942 9F07      		cpc r25,r31
 15592 3944 01F0      		breq .+2
 15593 3946 00C0      		rjmp .L616
 15594               	.LBE5126:
 15595               	.LBE5125:
 15596               	.LBB5127:
 15597               	.LBB5095:
 15598               		.loc 4 91 0
 15599 3948 8092 0000 		sts ep_in_pipe_data,r8
 15600 394c 9092 0000 		sts ep_in_pipe_data+1,r9
 15601               	.LVL960:
 15602 3950 00C0      		rjmp .L616
 15603               	.LVL961:
 15604               	.L619:
 15605               	.LBE5095:
 15606               	.LBE5127:
 15607               	.LBB5128:
 15608               	.LBB5114:
 15609               	.LBB5112:
 15610               	.LBB5109:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 15611               		.loc 3 168 0
 15612 3952 2093 0000 		sts endpoints+20,r18
 15613 3956 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15614               		.loc 3 169 0
 15615 395a C092 0000 		sts endpoints+18,r12
 15616 395e D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 15617               		.loc 3 176 0
 15618 3962 FD01      		movw r30,r26
 15619               	/* #APP */
 15620               	 ;  176 "usb/usb.h" 1
 15621 3964 04E1      		ldi r16, 20
 15622 3966 0693      		.dc.w 0x9306
 15623               		
 15624               	 ;  0 "" 2
 15625               	/* #NOAPP */
 15626 3968 00C0      		rjmp .L620
 15627               	.LVL962:
 15628               	.L617:
 15629               	.LBE5109:
 15630               	.LBE5112:
 15631               	.LBE5114:
 15632               	.LBE5128:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 15633               		.loc 1 87 0
 15634 396a 8091 0000 		lds r24,ep_in_data+1
 15635 396e 8130      		cpi r24,lo8(1)
 15636 3970 01F0      		breq .L658
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 15637               		.loc 1 91 0
 15638 3972 8230      		cpi r24,lo8(2)
 15639 3974 01F0      		breq .+2
 15640 3976 00C0      		rjmp .L616
 15641               	.LVL963:
 15642               	.LBB5129:
 15643               	.LBB5130:
 15644               	.LBB5131:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 15645               		.loc 3 228 0
 15646 3978 8091 0000 		lds r24,endpoints+24
 15647 397c 8670      		andi r24,lo8(6)
 15648               	.LBE5131:
 15649               	.LBE5130:
 15650               	.LBE5129:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 15651               		.loc 1 91 0
 15652 397e 8630      		cpi r24,lo8(6)
 15653 3980 01F0      		breq .+2
 15654 3982 00C0      		rjmp .L616
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 15655               		.loc 1 92 0
 15656 3984 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 15657               		.loc 1 93 0
 15658 3988 1092 0000 		sts ep_in_data+2,__zero_reg__
 15659 398c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 15660               	.LBB5132:
 15661               	.LBB5096:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 15662               		.loc 4 90 0
 15663 3990 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 15664               		.loc 4 91 0
 15665 3994 8092 0000 		sts ep_in_pipe_data+2,r8
 15666 3998 9092 0000 		sts ep_in_pipe_data+2+1,r9
 15667 399c 8092 0000 		sts ep_in_pipe_data,r8
 15668 39a0 9092 0000 		sts ep_in_pipe_data+1,r9
 15669               	.LVL964:
 15670 39a4 00C0      		rjmp .L616
 15671               	.LVL965:
 15672               	.L658:
 15673               	.LBE5096:
 15674               	.LBE5132:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 15675               		.loc 1 88 0
 15676 39a6 22E0      		ldi r18,lo8(2)
 15677 39a8 2093 0000 		sts ep_in_data+1,r18
 15678               	.LBB5133:
 15679               	.LBB5134:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 15680               		.loc 4 62 0
 15681 39ac E091 0000 		lds r30,ep_in_pipe_data
 15682               	.LVL966:
 15683 39b0 F091 0000 		lds r31,ep_in_pipe_data+1
 15684               	.LBE5134:
 15685               	.LBE5133:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 15686               		.loc 1 90 0
 15687 39b4 2091 0000 		lds r18,ep_in_data+2
 15688 39b8 3091 0000 		lds r19,ep_in_data+2+1
 15689               	.LVL967:
 15690               	.LBB5135:
 15691               	.LBB5103:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 15692               		.loc 1 68 0
 15693 39bc 7091 0000 		lds r23,ep_in_data
 15694               	.LVL968:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 15695               		.loc 1 69 0
 15696 39c0 872F      		mov r24,r23
 15697 39c2 90E0      		ldi r25,lo8(0)
 15698 39c4 61E0      		ldi r22,lo8(1)
 15699 39c6 8E15      		cp r24,r14
 15700 39c8 9F05      		cpc r25,r15
 15701 39ca 01F4      		brne .L623
 15702 39cc 60E0      		ldi r22,lo8(0)
 15703               	.L623:
 15704 39ce 6093 0000 		sts ep_in_data,r22
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 15705               		.loc 1 72 0
 15706 39d2 7723      		tst r23
 15707 39d4 01F0      		breq .+2
 15708 39d6 00C0      		rjmp .L624
 15709               	.LVL969:
 15710               	.LBB5099:
 15711               	.LBB5100:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 15712               		.loc 3 168 0
 15713 39d8 E093 0000 		sts endpoints+28,r30
 15714 39dc F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15715               		.loc 3 169 0
 15716 39e0 2093 0000 		sts endpoints+26,r18
 15717 39e4 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 15718               		.loc 3 174 0
 15719 39e8 FD01      		movw r30,r26
 15720               	/* #APP */
 15721               	 ;  174 "usb/usb.h" 1
 15722 39ea 02E2      		ldi r16, 34
 15723 39ec 0693      		.dc.w 0x9306
 15724               		
 15725               	 ;  0 "" 2
 15726               	/* #NOAPP */
 15727 39ee 00C0      		rjmp .L616
 15728               	.LVL970:
 15729               	.L657:
 15730               	.LBE5100:
 15731               	.LBE5099:
 15732               	.LBE5103:
 15733               	.LBE5135:
 15734               	.LBE5138:
 15735               	.LBE5141:
 15736               	.LBE5150:
 15737               	.LBE5153:
 15738               	.LBE5156:
 15739               	.LBE5159:
 15740               	.LBE5166:
 15741               	.LBE5169:
 15742               	.LBE5173:
 15743               	.LBB5174:
 15744               	.LBB5062:
 15745               	.LBB5058:
 15746               	.LBB4999:
 15747               	.LBB4997:
 15748               	.LBB4995:
 15749               	.LBB4990:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 15750               		.loc 4 57 0
 15751 39f0 8091 0000 		lds r24,ep_in_pipe_data+4
 15752 39f4 232F      		mov r18,r19
 15753 39f6 281B      		sub r18,r24
 15754               	.LBE4990:
 15755               	.LBE4995:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 15756               		.loc 1 127 0
 15757 39f8 81E0      		ldi r24,lo8(1)
 15758 39fa 1216      		cp __zero_reg__,r18
 15759 39fc 04F4      		brge .+2
 15760 39fe 00C0      		rjmp .L637
 15761 3a00 00C0      		rjmp .L642
 15762               	.LVL971:
 15763               	.L656:
 15764               	.LBE4997:
 15765               	.LBE4999:
 15766               	.LBE5058:
 15767               	.LBB5059:
 15768               	.LBB5044:
 15769               	.LBB5042:
 15770               	.LBB5040:
 15771               	.LBB5038:
 15772               	.LBB5011:
 15773               	.LBB5012:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 15774               		.loc 4 51 0
 15775 3a02 3091 0000 		lds r19,ep_in_pipe_data+4
 15776               	.LBE5012:
 15777               	.LBE5011:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 15778               		.loc 1 83 0
 15779 3a06 1316      		cp __zero_reg__,r19
 15780 3a08 04F0      		brlt .+2
 15781 3a0a 00C0      		rjmp .L627
 15782               	.LBB5013:
 15783               	.LBB5014:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 15784               		.loc 4 62 0
 15785 3a0c 8091 0000 		lds r24,ep_in_pipe_data
 15786 3a10 9091 0000 		lds r25,ep_in_pipe_data+1
 15787               	.LVL972:
 15788               	.LBE5014:
 15789               	.LBE5013:
 15790               	.LBB5015:
 15791               	.LBB5016:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 15792               		.loc 1 68 0
 15793 3a14 4091 0000 		lds r20,ep_in_data
 15794               	.LVL973:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 15795               		.loc 1 69 0
 15796 3a18 51E0      		ldi r21,lo8(1)
 15797 3a1a 4130      		cpi r20,lo8(1)
 15798 3a1c 01F4      		brne .L628
 15799 3a1e 50E0      		ldi r21,lo8(0)
 15800               	.L628:
 15801 3a20 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 15802               		.loc 1 72 0
 15803 3a24 4423      		tst r20
 15804 3a26 01F4      		brne .L629
 15805               	.LVL974:
 15806               	.LBB5017:
 15807               	.LBB5018:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 15808               		.loc 3 168 0
 15809 3a28 8093 0000 		sts endpoints+28,r24
 15810 3a2c 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15811               		.loc 3 169 0
 15812 3a30 40E4      		ldi r20,lo8(64)
 15813 3a32 50E0      		ldi r21,hi8(64)
 15814 3a34 4093 0000 		sts endpoints+26,r20
 15815 3a38 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 15816               		.loc 3 174 0
 15817 3a3c E0E0      		ldi r30,lo8(endpoints+24)
 15818 3a3e F0E0      		ldi r31,hi8(endpoints+24)
 15819               	.LVL975:
 15820               	/* #APP */
 15821               	 ;  174 "usb/usb.h" 1
 15822 3a40 02E2      		ldi r16, 34
 15823 3a42 0693      		.dc.w 0x9306
 15824               		
 15825               	 ;  0 "" 2
 15826               	.LVL976:
 15827               	/* #NOAPP */
 15828               	.L630:
 15829               	.LBE5018:
 15830               	.LBE5017:
 15831               	.LBE5016:
 15832               	.LBE5015:
 15833               	.LBB5022:
 15834               	.LBB5023:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 15835               		.loc 4 72 0
 15836 3a44 3150      		subi r19,lo8(-(-1))
 15837 3a46 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 15838               		.loc 4 73 0
 15839 3a4a 805C      		subi r24,lo8(-(64))
 15840 3a4c 9F4F      		sbci r25,hi8(-(64))
 15841 3a4e 8093 0000 		sts ep_in_pipe_data,r24
 15842 3a52 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 15843               		.loc 4 75 0
 15844 3a56 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 15845 3a58 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 15846 3a5a 9F07      		cpc r25,r31
 15847 3a5c 01F0      		breq .+2
 15848 3a5e 00C0      		rjmp .L626
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 15849               		.loc 4 76 0
 15850 3a60 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 15851 3a62 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 15852 3a64 8093 0000 		sts ep_in_pipe_data,r24
 15853 3a68 9093 0000 		sts ep_in_pipe_data+1,r25
 15854 3a6c 00C0      		rjmp .L626
 15855               	.LVL977:
 15856               	.L624:
 15857               	.LBE5023:
 15858               	.LBE5022:
 15859               	.LBE5038:
 15860               	.LBE5040:
 15861               	.LBE5042:
 15862               	.LBE5044:
 15863               	.LBE5059:
 15864               	.LBE5062:
 15865               	.LBE5174:
 15866               	.LBB5175:
 15867               	.LBB5170:
 15868               	.LBB5167:
 15869               	.LBB5160:
 15870               	.LBB5157:
 15871               	.LBB5154:
 15872               	.LBB5151:
 15873               	.LBB5142:
 15874               	.LBB5139:
 15875               	.LBB5136:
 15876               	.LBB5104:
 15877               	.LBB5101:
 15878               	.LBB5102:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 15879               		.loc 3 168 0
 15880 3a6e E093 0000 		sts endpoints+20,r30
 15881 3a72 F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15882               		.loc 3 169 0
 15883 3a76 2093 0000 		sts endpoints+18,r18
 15884 3a7a 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 15885               		.loc 3 176 0
 15886 3a7e FD01      		movw r30,r26
 15887               	.LVL978:
 15888               	/* #APP */
 15889               	 ;  176 "usb/usb.h" 1
 15890 3a80 04E1      		ldi r16, 20
 15891 3a82 0693      		.dc.w 0x9306
 15892               		
 15893               	 ;  0 "" 2
 15894               	/* #NOAPP */
 15895 3a84 00C0      		rjmp .L616
 15896               	.LVL979:
 15897               	.L629:
 15898               	.LBE5102:
 15899               	.LBE5101:
 15900               	.LBE5104:
 15901               	.LBE5136:
 15902               	.LBE5139:
 15903               	.LBE5142:
 15904               	.LBE5151:
 15905               	.LBE5154:
 15906               	.LBE5157:
 15907               	.LBE5160:
 15908               	.LBE5167:
 15909               	.LBE5170:
 15910               	.LBE5175:
 15911               	.LBB5176:
 15912               	.LBB5063:
 15913               	.LBB5060:
 15914               	.LBB5045:
 15915               	.LBB5043:
 15916               	.LBB5041:
 15917               	.LBB5039:
 15918               	.LBB5024:
 15919               	.LBB5021:
 15920               	.LBB5019:
 15921               	.LBB5020:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 15922               		.loc 3 168 0
 15923 3a86 8093 0000 		sts endpoints+20,r24
 15924 3a8a 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 15925               		.loc 3 169 0
 15926 3a8e 40E4      		ldi r20,lo8(64)
 15927 3a90 50E0      		ldi r21,hi8(64)
 15928               	.LVL980:
 15929 3a92 4093 0000 		sts endpoints+18,r20
 15930 3a96 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 15931               		.loc 3 176 0
 15932 3a9a E0E0      		ldi r30,lo8(endpoints+24)
 15933 3a9c F0E0      		ldi r31,hi8(endpoints+24)
 15934               	/* #APP */
 15935               	 ;  176 "usb/usb.h" 1
 15936 3a9e 04E1      		ldi r16, 20
 15937 3aa0 0693      		.dc.w 0x9306
 15938               		
 15939               	 ;  0 "" 2
 15940               	/* #NOAPP */
 15941 3aa2 00C0      		rjmp .L630
 15942               	.LVL981:
 15943               	.L627:
 15944               	.LBE5020:
 15945               	.LBE5019:
 15946               	.LBE5021:
 15947               	.LBE5024:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 15948               		.loc 1 87 0
 15949 3aa4 8091 0000 		lds r24,ep_in_data+1
 15950 3aa8 8130      		cpi r24,lo8(1)
 15951 3aaa 01F0      		breq .L659
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 15952               		.loc 1 91 0
 15953 3aac 8230      		cpi r24,lo8(2)
 15954 3aae 01F0      		breq .+2
 15955 3ab0 00C0      		rjmp .L626
 15956               	.LVL982:
 15957               	.LBB5025:
 15958               	.LBB5026:
 15959               	.LBB5027:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 15960               		.loc 3 228 0
 15961 3ab2 8091 0000 		lds r24,endpoints+24
 15962 3ab6 8670      		andi r24,lo8(6)
 15963               	.LBE5027:
 15964               	.LBE5026:
 15965               	.LBE5025:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 15966               		.loc 1 91 0
 15967 3ab8 8630      		cpi r24,lo8(6)
 15968 3aba 01F0      		breq .+2
 15969 3abc 00C0      		rjmp .L626
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 15970               		.loc 1 92 0
 15971 3abe 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 15972               		.loc 1 93 0
 15973 3ac2 1092 0000 		sts ep_in_data+2,__zero_reg__
 15974 3ac6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 15975               	.LBB5028:
 15976               	.LBB5029:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 15977               		.loc 4 90 0
 15978 3aca 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 15979               		.loc 4 91 0
 15980 3ace 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 15981 3ad0 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 15982 3ad2 8093 0000 		sts ep_in_pipe_data+2,r24
 15983 3ad6 9093 0000 		sts ep_in_pipe_data+2+1,r25
 15984 3ada 8093 0000 		sts ep_in_pipe_data,r24
 15985 3ade 9093 0000 		sts ep_in_pipe_data+1,r25
 15986               	.LVL983:
 15987 3ae2 00C0      		rjmp .L626
 15988               	.LVL984:
 15989               	.L659:
 15990               	.LBE5029:
 15991               	.LBE5028:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 15992               		.loc 1 88 0
 15993 3ae4 82E0      		ldi r24,lo8(2)
 15994 3ae6 8093 0000 		sts ep_in_data+1,r24
 15995               	.LBB5030:
 15996               	.LBB5031:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 15997               		.loc 4 62 0
 15998 3aea 6091 0000 		lds r22,ep_in_pipe_data
 15999 3aee 3091 0000 		lds r19,ep_in_pipe_data+1
 16000               	.LBE5031:
 16001               	.LBE5030:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 16002               		.loc 1 90 0
 16003 3af2 4091 0000 		lds r20,ep_in_data+2
 16004 3af6 5091 0000 		lds r21,ep_in_data+2+1
 16005               	.LVL985:
 16006               	.LBB5032:
 16007               	.LBB5033:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 16008               		.loc 1 68 0
 16009 3afa 8091 0000 		lds r24,ep_in_data
 16010               	.LVL986:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 16011               		.loc 1 69 0
 16012 3afe 91E0      		ldi r25,lo8(1)
 16013 3b00 8130      		cpi r24,lo8(1)
 16014 3b02 01F4      		brne .L633
 16015 3b04 90E0      		ldi r25,lo8(0)
 16016               	.L633:
 16017 3b06 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 16018               		.loc 1 72 0
 16019 3b0a 8823      		tst r24
 16020 3b0c 01F4      		brne .L634
 16021               	.LVL987:
 16022               	.LBB5034:
 16023               	.LBB5035:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 16024               		.loc 3 168 0
 16025 3b0e 862F      		mov r24,r22
 16026 3b10 932F      		mov r25,r19
 16027 3b12 8093 0000 		sts endpoints+28,r24
 16028 3b16 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 16029               		.loc 3 169 0
 16030 3b1a 4093 0000 		sts endpoints+26,r20
 16031 3b1e 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 16032               		.loc 3 174 0
 16033 3b22 E0E0      		ldi r30,lo8(endpoints+24)
 16034 3b24 F0E0      		ldi r31,hi8(endpoints+24)
 16035               	.LVL988:
 16036               	/* #APP */
 16037               	 ;  174 "usb/usb.h" 1
 16038 3b26 02E2      		ldi r16, 34
 16039 3b28 0693      		.dc.w 0x9306
 16040               		
 16041               	 ;  0 "" 2
 16042               	/* #NOAPP */
 16043 3b2a 00C0      		rjmp .L626
 16044               	.LVL989:
 16045               	.L634:
 16046               	.LBE5035:
 16047               	.LBE5034:
 16048               	.LBB5036:
 16049               	.LBB5037:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 16050               		.loc 3 168 0
 16051 3b2c 862F      		mov r24,r22
 16052 3b2e 932F      		mov r25,r19
 16053 3b30 8093 0000 		sts endpoints+20,r24
 16054 3b34 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 16055               		.loc 3 169 0
 16056 3b38 4093 0000 		sts endpoints+18,r20
 16057 3b3c 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 16058               		.loc 3 176 0
 16059 3b40 E0E0      		ldi r30,lo8(endpoints+24)
 16060 3b42 F0E0      		ldi r31,hi8(endpoints+24)
 16061               	/* #APP */
 16062               	 ;  176 "usb/usb.h" 1
 16063 3b44 04E1      		ldi r16, 20
 16064 3b46 0693      		.dc.w 0x9306
 16065               		
 16066               	 ;  0 "" 2
 16067               	/* #NOAPP */
 16068 3b48 00C0      		rjmp .L626
 16069               	.LBE5037:
 16070               	.LBE5036:
 16071               	.LBE5033:
 16072               	.LBE5032:
 16073               	.LBE5039:
 16074               	.LBE5041:
 16075               	.LBE5043:
 16076               	.LBE5045:
 16077               	.LBE5060:
 16078               	.LBE5063:
 16079               	.LBE5176:
 16080               	.LBE5178:
 16081               	.LBE5182:
 16082               		.cfi_endproc
 16083               	.LFE72:
 16085               	.global	wake_up_gprs
 16087               	wake_up_gprs:
 16088               	.LFB73:
 16089               		.file 12 "gprs/gprs.h"
   1:gprs/gprs.h   **** void wake_up_gprs(void);
   2:gprs/gprs.h   **** void gprs_init(void);
   3:gprs/gprs.h   **** 
   4:gprs/gprs.h   **** void wake_up_gprs(void) {
 16090               		.loc 12 4 0
 16091               		.cfi_startproc
 16092               	/* prologue: function */
 16093               	/* frame size = 0 */
 16094               	/* stack size = 0 */
 16095               	.L__stack_usage = 0
 16096               	/* epilogue start */
   5:gprs/gprs.h   ****   // 
   6:gprs/gprs.h   **** }
 16097               		.loc 12 6 0
 16098 3b4a 0895      		ret
 16099               		.cfi_endproc
 16100               	.LFE73:
 16102               	.global	gprs_init
 16104               	gprs_init:
 16105               	.LFB74:
   7:gprs/gprs.h   **** 
   8:gprs/gprs.h   **** void gprs_init(void) {
 16106               		.loc 12 8 0
 16107               		.cfi_startproc
 16108               	/* prologue: function */
 16109               	/* frame size = 0 */
 16110               	/* stack size = 0 */
 16111               	.L__stack_usage = 0
   9:gprs/gprs.h   ****   //change port numbers when we get our proto board
  10:gprs/gprs.h   **** 
  11:gprs/gprs.h   ****   wake_up_gprs();
  12:gprs/gprs.h   ****   //Baud rate of 19200
  13:gprs/gprs.h   **** 
  14:gprs/gprs.h   ****   // Set the TxD pin as an output - set PORTD OUT register bit 3 to 1 
  15:gprs/gprs.h   ****   PORTD.DIRSET = PIN3_bm; 
 16112               		.loc 12 15 0
 16113 3b4c E0E6      		ldi r30,lo8(1632)
 16114 3b4e F6E0      		ldi r31,hi8(1632)
 16115 3b50 88E0      		ldi r24,lo8(8)
 16116 3b52 8183      		std Z+1,r24
  16:gprs/gprs.h   **** 
  17:gprs/gprs.h   ****   // Set the TxD pin high - set PORTD DIR register bit 3 to 1 
  18:gprs/gprs.h   ****   PORTD.OUTSET = PIN3_bm; 
 16117               		.loc 12 18 0
 16118 3b54 8583      		std Z+5,r24
 16119               	.LVL990:
  19:gprs/gprs.h   **** 
  20:gprs/gprs.h   ****   uint16_t BSEL = 6;
  21:gprs/gprs.h   ****   uint8_t BSCALE = 0;
  22:gprs/gprs.h   ****   USARTD0_BAUDCTRLA = BSEL & 0XFF;
 16120               		.loc 12 22 0
 16121 3b56 86E0      		ldi r24,lo8(6)
 16122 3b58 8093 A609 		sts 2470,r24
  23:gprs/gprs.h   ****   USARTD0_BAUDCTRLB = (BSCALE << 4) | (BSEL & 0xF000) >> 8;
 16123               		.loc 12 23 0
 16124 3b5c 1092 A709 		sts 2471,__zero_reg__
  24:gprs/gprs.h   **** 
  25:gprs/gprs.h   ****   // no interrupts
  26:gprs/gprs.h   ****   // can't overwrite bits 7:6
  27:gprs/gprs.h   ****   USARTD0.CTRLA = 0x00;
 16125               		.loc 12 27 0
 16126 3b60 E0EA      		ldi r30,lo8(2464)
 16127 3b62 F9E0      		ldi r31,hi8(2464)
 16128 3b64 1382      		std Z+3,__zero_reg__
  28:gprs/gprs.h   **** 
  29:gprs/gprs.h   ****   // Enable transmitter and receiver
  30:gprs/gprs.h   ****   USARTD0.CTRLB = USART_TXEN_bm | USART_RXEN_bm;  
 16129               		.loc 12 30 0
 16130 3b66 88E1      		ldi r24,lo8(24)
 16131 3b68 8483      		std Z+4,r24
  31:gprs/gprs.h   **** 
  32:gprs/gprs.h   ****   // async, no parity, 1 stop bit, 8 bit data,
  33:gprs/gprs.h   ****   // 00     00         00          11    
  34:gprs/gprs.h   ****   USARTD0.CTRLC = 0x03;  
 16132               		.loc 12 34 0
 16133 3b6a 83E0      		ldi r24,lo8(3)
 16134 3b6c 8583      		std Z+5,r24
 16135               	/* epilogue start */
  35:gprs/gprs.h   **** }...
 16136               		.loc 12 35 0
 16137 3b6e 0895      		ret
 16138               		.cfi_endproc
 16139               	.LFE74:
 16141               		.data
 16142               	.LC7:
 16143 00d2 4154 2B43 		.string	"AT+CMGF=1"
 16143      4D47 463D 
 16143      3100 
 16144               	.LC8:
 16145 00dc 4154 2B43 		.string	"AT+CMGS=\""
 16145      4D47 533D 
 16145      2200 
 16146               		.text
 16147               	.global	send_message
 16149               	send_message:
 16150               	.LFB75:
 16151               		.file 13 "sms/sms.h"
   1:sms/sms.h     **** #include "Framework.h"
   2:sms/sms.h     **** #include <avr/io.h>
   3:sms/sms.h     **** #include <stdlib.h>
   4:sms/sms.h     **** #include <string.h>
   5:sms/sms.h     **** 
   6:sms/sms.h     **** void send_message(char*, char*, USART_t*);
   7:sms/sms.h     **** char* read_message(USART_t*);
   8:sms/sms.h     **** void delSMS(USART_t*);
   9:sms/sms.h     **** void GprsTextModeSMS(USART_t*);
  10:sms/sms.h     **** void ClearGprsMsg(void);
  11:sms/sms.h     **** void GprsReadSmsStore(char* SmsStorePos, USART_t* USART);
  12:sms/sms.h     **** void ProcessGprsMsg(USART_t*);
  13:sms/sms.h     **** void ProcessSms(char* sms);
  14:sms/sms.h     **** void ReceiveTextMessage(USART_t*);
  15:sms/sms.h     **** void SimpleReceive();
  16:sms/sms.h     **** 
  17:sms/sms.h     **** void send_message(char* number, char* text_message, USART_t* USART) {
 16152               		.loc 13 17 0
 16153               		.cfi_startproc
 16154               	.LVL991:
 16155 3b70 BF92      		push r11
 16156               	.LCFI143:
 16157               		.cfi_def_cfa_offset 3
 16158               		.cfi_offset 11, -2
 16159 3b72 CF92      		push r12
 16160               	.LCFI144:
 16161               		.cfi_def_cfa_offset 4
 16162               		.cfi_offset 12, -3
 16163 3b74 DF92      		push r13
 16164               	.LCFI145:
 16165               		.cfi_def_cfa_offset 5
 16166               		.cfi_offset 13, -4
 16167 3b76 EF92      		push r14
 16168               	.LCFI146:
 16169               		.cfi_def_cfa_offset 6
 16170               		.cfi_offset 14, -5
 16171 3b78 FF92      		push r15
 16172               	.LCFI147:
 16173               		.cfi_def_cfa_offset 7
 16174               		.cfi_offset 15, -6
 16175 3b7a 0F93      		push r16
 16176               	.LCFI148:
 16177               		.cfi_def_cfa_offset 8
 16178               		.cfi_offset 16, -7
 16179 3b7c 1F93      		push r17
 16180               	.LCFI149:
 16181               		.cfi_def_cfa_offset 9
 16182               		.cfi_offset 17, -8
 16183 3b7e CF93      		push r28
 16184               	.LCFI150:
 16185               		.cfi_def_cfa_offset 10
 16186               		.cfi_offset 28, -9
 16187 3b80 DF93      		push r29
 16188               	.LCFI151:
 16189               		.cfi_def_cfa_offset 11
 16190               		.cfi_offset 29, -10
 16191               	/* prologue: function */
 16192               	/* frame size = 0 */
 16193               	/* stack size = 9 */
 16194               	.L__stack_usage = 9
 16195 3b82 D82E      		mov r13,r24
 16196 3b84 C92E      		mov r12,r25
 16197 3b86 7B01      		movw r14,r22
 16198 3b88 EA01      		movw r28,r20
 16199               	.LVL992:
 16200               	.L663:
 16201               	.LBB5287:
 16202               	.LBB5288:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 16203               		.loc 9 18 0
 16204 3b8a 8981      		ldd r24,Y+1
 16205 3b8c 85FF      		sbrs r24,5
 16206 3b8e 00C0      		rjmp .L663
  21:uart/uart.h   ****     USART->DATA = c; 
 16207               		.loc 9 21 0
 16208 3b90 8DE0      		ldi r24,lo8(13)
 16209 3b92 8883      		st Y,r24
 16210               	.LVL993:
 16211               	.LBE5288:
 16212               	.LBE5287:
 16213               	.LBB5289:
 16214               	.LBB5290:
 16215               		.loc 11 164 0
 16216 3b94 8FEF      		 ldi r24,lo8(639999)
 16217 3b96 93EC      	    ldi r25,hi8(639999)
 16218 3b98 A9E0      	    ldi r26,hlo8(639999)
 16219 3b9a 8150      	    1:subi r24,1
 16220 3b9c 9040      	    sbci r25,0
 16221 3b9e A040      	    sbci r26,0
 16222 3ba0 01F4      	    brne 1b
 16223 3ba2 00C0      		rjmp .
 16224 3ba4 0000      		nop
 16225               	.LVL994:
 16226               	.LBE5290:
 16227               	.LBE5289:
 16228               	.LBB5291:
 16229               	.LBB5292:
  18:sms/sms.h     **** 
  19:sms/sms.h     ****   uart_putchar('\r', USART);
  20:sms/sms.h     ****   _delay_ms(100);
  21:sms/sms.h     **** 
  22:sms/sms.h     ****   GprsTextModeSMS(USART);
  23:sms/sms.h     ****   _delay_ms(100);
  24:sms/sms.h     **** 
  25:sms/sms.h     ****   //build number string
  26:sms/sms.h     ****   char* number_string = concat(concat("AT+CMGS=\"", number), "\"");
  27:sms/sms.h     ****   send_uart(number_string, USART);
  28:sms/sms.h     ****   _delay_ms(100);
  29:sms/sms.h     **** 
  30:sms/sms.h     ****   send_uart(text_message, USART);
  31:sms/sms.h     ****   _delay_ms(100);
  32:sms/sms.h     **** 
  33:sms/sms.h     ****   uart_putchar(26, USART);
  34:sms/sms.h     ****   _delay_ms(100);
  35:sms/sms.h     ****   break_and_flush();
  36:sms/sms.h     **** }
  37:sms/sms.h     **** 
  38:sms/sms.h     **** void GprsTextModeSMS(USART_t* USART) {
  39:sms/sms.h     ****   send_uart("AT+CMGF=1", USART);
 16230               		.loc 13 39 0
 16231 3ba6 80E0      		ldi r24,lo8(.LC7)
 16232 3ba8 90E0      		ldi r25,hi8(.LC7)
 16233 3baa BE01      		movw r22,r28
 16234 3bac 0E94 0000 		call send_uart
 16235               	.LVL995:
 16236               	.LBE5292:
 16237               	.LBE5291:
 16238               	.LBB5293:
 16239               	.LBB5294:
 16240               		.loc 11 164 0
 16241 3bb0 8FEF      		 ldi r24,lo8(639999)
 16242 3bb2 93EC      	    ldi r25,hi8(639999)
 16243 3bb4 A9E0      	    ldi r26,hlo8(639999)
 16244 3bb6 8150      	    1:subi r24,1
 16245 3bb8 9040      	    sbci r25,0
 16246 3bba A040      	    sbci r26,0
 16247 3bbc 01F4      	    brne 1b
 16248 3bbe 00C0      		rjmp .
 16249 3bc0 0000      		nop
 16250               	.LVL996:
 16251               	.LBE5294:
 16252               	.LBE5293:
 16253               	.LBB5295:
 16254               	.LBB5296:
  15:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 16255               		.loc 7 15 0
 16256 3bc2 ED2D      		mov r30,r13
 16257 3bc4 FC2D      		mov r31,r12
 16258 3bc6 DF01      		movw r26,r30
 16259 3bc8 0D90      		ld __tmp_reg__,X+
 16260 3bca 0020      		tst __tmp_reg__
 16261 3bcc 01F4      		brne .-6
 16262 3bce CD01      		movw r24,r26
 16263 3bd0 8E1B      		sub r24,r30
 16264 3bd2 9F0B      		sbc r25,r31
 16265 3bd4 0996      		adiw r24,9
 16266 3bd6 0E94 0000 		call malloc
 16267 3bda 182F      		mov r17,r24
 16268 3bdc 092F      		mov r16,r25
 16269               	.LVL997:
  17:concat/concat.h ****     strcpy(result, s1);
 16270               		.loc 7 17 0
 16271 3bde E82F      		mov r30,r24
 16272 3be0 F92F      		mov r31,r25
 16273 3be2 A0E0      		ldi r26,lo8(.LC8)
 16274 3be4 B0E0      		ldi r27,hi8(.LC8)
 16275 3be6 8AE0      		ldi r24,lo8(10)
 16276               	.LVL998:
 16277               	.L664:
 16278 3be8 0D90      		ld r0,X+
 16279 3bea 0192      		st Z+,r0
 16280 3bec 8150      		subi r24,lo8(-(-1))
 16281 3bee 01F4      		brne .L664
  18:concat/concat.h ****     strcat(result, s2);
 16282               		.loc 7 18 0
 16283 3bf0 812F      		mov r24,r17
 16284 3bf2 902F      		mov r25,r16
 16285               	.LVL999:
 16286 3bf4 6D2D      		mov r22,r13
 16287 3bf6 7C2D      		mov r23,r12
 16288 3bf8 0E94 0000 		call strcat
 16289               	.LVL1000:
 16290               	.LBE5296:
 16291               	.LBE5295:
 16292               	.LBB5297:
 16293               	.LBB5298:
  15:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 16294               		.loc 7 15 0
 16295 3bfc E12F      		mov r30,r17
 16296 3bfe F02F      		mov r31,r16
 16297 3c00 DF01      		movw r26,r30
 16298 3c02 0D90      		ld __tmp_reg__,X+
 16299 3c04 0020      		tst __tmp_reg__
 16300 3c06 01F4      		brne .-6
 16301 3c08 CD01      		movw r24,r26
 16302 3c0a 8E1B      		sub r24,r30
 16303 3c0c 9F0B      		sbc r25,r31
 16304 3c0e 0196      		adiw r24,1
 16305 3c10 0E94 0000 		call malloc
 16306 3c14 B92E      		mov r11,r25
 16307 3c16 C82E      		mov r12,r24
 16308               	.LVL1001:
 16309 3c18 D92E      		mov r13,r25
 16310               	.LVL1002:
  17:concat/concat.h ****     strcpy(result, s1);
 16311               		.loc 7 17 0
 16312 3c1a C601      		movw r24,r12
 16313 3c1c 612F      		mov r22,r17
 16314 3c1e 702F      		mov r23,r16
 16315 3c20 0E94 0000 		call strcpy
  18:concat/concat.h ****     strcat(result, s2);
 16316               		.loc 7 18 0
 16317 3c24 AC2D      		mov r26,r12
 16318 3c26 BB2D      		mov r27,r11
 16319 3c28 FD01      		movw r30,r26
 16320 3c2a 0190      		ld __tmp_reg__,Z+
 16321 3c2c 0020      		tst __tmp_reg__
 16322 3c2e 01F4      		brne .-6
 16323 3c30 3197      		sbiw r30,1
 16324 3c32 EA1B      		sub r30,r26
 16325 3c34 FB0B      		sbc r31,r27
 16326 3c36 EC0D      		add r30,r12
 16327 3c38 FD1D      		adc r31,r13
 16328 3c3a 82E2      		ldi r24,lo8(34)
 16329 3c3c 90E0      		ldi r25,hi8(34)
 16330 3c3e 8083      		st Z,r24
 16331 3c40 9183      		std Z+1,r25
 16332               	.LBE5298:
 16333               	.LBE5297:
  27:sms/sms.h     ****   send_uart(number_string, USART);
 16334               		.loc 13 27 0
 16335 3c42 C601      		movw r24,r12
 16336 3c44 BE01      		movw r22,r28
 16337 3c46 0E94 0000 		call send_uart
 16338               	.LVL1003:
 16339               	.LBB5299:
 16340               	.LBB5300:
 16341               		.loc 11 164 0
 16342 3c4a 8FEF      		 ldi r24,lo8(639999)
 16343 3c4c 93EC      	    ldi r25,hi8(639999)
 16344 3c4e A9E0      	    ldi r26,hlo8(639999)
 16345 3c50 8150      	    1:subi r24,1
 16346 3c52 9040      	    sbci r25,0
 16347 3c54 A040      	    sbci r26,0
 16348 3c56 01F4      	    brne 1b
 16349 3c58 00C0      		rjmp .
 16350 3c5a 0000      		nop
 16351               	.LBE5300:
 16352               	.LBE5299:
  30:sms/sms.h     ****   send_uart(text_message, USART);
 16353               		.loc 13 30 0
 16354 3c5c C701      		movw r24,r14
 16355 3c5e BE01      		movw r22,r28
 16356 3c60 0E94 0000 		call send_uart
 16357               	.LVL1004:
 16358               	.LBB5301:
 16359               	.LBB5302:
 16360               		.loc 11 164 0
 16361 3c64 8FEF      		 ldi r24,lo8(639999)
 16362 3c66 93EC      	    ldi r25,hi8(639999)
 16363 3c68 A9E0      	    ldi r26,hlo8(639999)
 16364 3c6a 8150      	    1:subi r24,1
 16365 3c6c 9040      	    sbci r25,0
 16366 3c6e A040      	    sbci r26,0
 16367 3c70 01F4      	    brne 1b
 16368 3c72 00C0      		rjmp .
 16369 3c74 0000      		nop
 16370               	.LVL1005:
 16371               	.L665:
 16372               	.LBE5302:
 16373               	.LBE5301:
 16374               	.LBB5303:
 16375               	.LBB5304:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 16376               		.loc 9 18 0
 16377 3c76 8981      		ldd r24,Y+1
 16378 3c78 85FF      		sbrs r24,5
 16379 3c7a 00C0      		rjmp .L665
  21:uart/uart.h   ****     USART->DATA = c; 
 16380               		.loc 9 21 0
 16381 3c7c 8AE1      		ldi r24,lo8(26)
 16382 3c7e 8883      		st Y,r24
 16383               	.LVL1006:
 16384               	.LBE5304:
 16385               	.LBE5303:
 16386               	.LBB5305:
 16387               	.LBB5306:
 16388               		.loc 11 164 0
 16389 3c80 8FEF      		 ldi r24,lo8(639999)
 16390 3c82 93EC      	    ldi r25,hi8(639999)
 16391 3c84 A9E0      	    ldi r26,hlo8(639999)
 16392 3c86 8150      	    1:subi r24,1
 16393 3c88 9040      	    sbci r25,0
 16394 3c8a A040      	    sbci r26,0
 16395 3c8c 01F4      	    brne 1b
 16396 3c8e 00C0      		rjmp .
 16397 3c90 0000      		nop
 16398               	.LVL1007:
 16399               	.LBE5306:
 16400               	.LBE5305:
 16401               	.LBB5307:
 16402               	.LBB5308:
 16403               	.LBB5309:
 16404               	.LBB5310:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 16405               		.loc 1 110 0
 16406 3c92 81E0      		ldi r24,lo8(1)
 16407 3c94 8093 0000 		sts ep_in_data+1,r24
 16408               	.LVL1008:
 16409               	.LBB5311:
 16410               	.LBB5312:
 16411               	.LBB5313:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 16412               		.loc 1 80 0
 16413 3c98 2FB7      		in r18,__SREG__
 16414               	.LVL1009:
 16415               	.LBB5314:
 16416               	.LBB5315:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 16417               		.loc 2 50 0
 16418               	/* #APP */
 16419               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 16420 3c9a F894      		cli
 16421               	 ;  0 "" 2
 16422               	.LVL1010:
 16423               	/* #NOAPP */
 16424               	.LBE5315:
 16425               	.LBE5314:
 16426               	.LBB5316:
 16427               	.LBB5317:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 16428               		.loc 3 220 0
 16429 3c9c 8091 0000 		lds r24,endpoints+24
 16430 3ca0 8670      		andi r24,lo8(6)
 16431               	.LBE5317:
 16432               	.LBE5316:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 16433               		.loc 1 82 0
 16434 3ca2 01F0      		breq .+2
 16435 3ca4 00C0      		rjmp .L685
 16436               	.LVL1011:
 16437               	.L666:
 16438               	.LBB5318:
 16439               	.LBB5319:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 16440               		.loc 2 70 0
 16441 3ca6 2FBF      		out __SREG__,r18
 16442               		.loc 2 71 0
 16443               	.LBE5319:
 16444               	.LBE5318:
 16445               	.LBE5313:
 16446               	.LBE5312:
 16447               	.LBE5311:
 16448               	.LBE5310:
 16449               	.LBE5309:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 16450               		.loc 5 27 0
 16451 3ca8 82E0      		ldi r24,lo8(2)
 16452 3caa E0EC      		ldi r30,lo8(1216)
 16453 3cac F4E0      		ldi r31,hi8(1216)
 16454 3cae 8587      		std Z+13,r24
 16455               	.LBB5351:
 16456               	.LBB5352:
 16457               	.LBB5353:
 16458               	.LBB5354:
 16459               	.LBB5355:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 16460               		.loc 4 57 0
 16461 3cb0 36E0      		ldi r19,lo8(6)
 16462               	.LVL1012:
 16463               	.L675:
 16464               	.LBE5355:
 16465               	.LBE5354:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 16466               		.loc 1 123 0
 16467 3cb2 9FB7      		in r25,__SREG__
 16468               	.LVL1013:
 16469               	.LBB5357:
 16470               	.LBB5358:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 16471               		.loc 2 50 0
 16472               	/* #APP */
 16473               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 16474 3cb4 F894      		cli
 16475               	 ;  0 "" 2
 16476               	.LVL1014:
 16477               	/* #NOAPP */
 16478               	.LBE5358:
 16479               	.LBE5357:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 16480               		.loc 1 124 0
 16481 3cb6 8091 0000 		lds r24,ep_in_data+1
 16482 3cba 8823      		tst r24
 16483 3cbc 01F0      		breq .L686
 16484               	.L680:
 125:usb/usb_pipe.h **** 			r = false;
 16485               		.loc 1 125 0
 16486 3cbe 80E0      		ldi r24,lo8(0)
 16487               	.L677:
 16488               	.LBB5359:
 16489               	.LBB5360:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 16490               		.loc 2 70 0
 16491 3cc0 9FBF      		out __SREG__,r25
 16492               		.loc 2 71 0
 16493               	.LBE5360:
 16494               	.LBE5359:
 16495               	.LBE5353:
 16496               	.LBE5352:
 16497               	.LBE5351:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 16498               		.loc 5 28 0
 16499 3cc2 8823      		tst r24
 16500 3cc4 01F4      		brne .L662
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 16501               		.loc 5 29 0
 16502 3cc6 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 16503 3cca 8823      		tst r24
 16504 3ccc 01F0      		breq .L675
 16505               	.LVL1015:
 16506               	.LBB5364:
 16507               	.LBB5365:
 16508               	.LBB5366:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 16509               		.loc 1 54 0
 16510 3cce 2FB7      		in r18,__SREG__
 16511               	.LVL1016:
 16512               	.LBB5367:
 16513               	.LBB5368:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 16514               		.loc 2 50 0
 16515               	/* #APP */
 16516               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 16517 3cd0 F894      		cli
 16518               	 ;  0 "" 2
 16519               	.LVL1017:
 16520               	/* #NOAPP */
 16521               	.LBE5368:
 16522               	.LBE5367:
 16523               	.LBB5369:
 16524               	.LBB5370:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 16525               		.loc 4 90 0
 16526 3cd2 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 16527               		.loc 4 91 0
 16528 3cd6 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 16529 3cd8 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 16530 3cda 8093 0000 		sts ep_in_pipe_data+2,r24
 16531 3cde 9093 0000 		sts ep_in_pipe_data+2+1,r25
 16532 3ce2 8093 0000 		sts ep_in_pipe_data,r24
 16533 3ce6 9093 0000 		sts ep_in_pipe_data+1,r25
 16534               	.LVL1018:
 16535               	.LBE5370:
 16536               	.LBE5369:
 16537               	.LBB5371:
 16538               	.LBB5372:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 16539               		.loc 3 158 0
 16540 3cea E0E0      		ldi r30,lo8(endpoints+24)
 16541 3cec F0E0      		ldi r31,hi8(endpoints+24)
 16542               	/* #APP */
 16543               	 ;  158 "usb/usb.h" 1
 16544 3cee 06E0      		ldi r16, 6
 16545 3cf0 0593      		.dc.w 0x9305
 16546               		
 16547               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 16548               		.loc 3 159 0
 16549               	 ;  159 "usb/usb.h" 1
 16550 3cf2 08E0      		ldi r16, 8
 16551 3cf4 0693      		.dc.w 0x9306
 16552               		
 16553               	 ;  0 "" 2
 16554               	/* #NOAPP */
 16555               	.LBE5372:
 16556               	.LBE5371:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 16557               		.loc 1 57 0
 16558 3cf6 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 16559               		.loc 1 58 0
 16560 3cfa 1092 0000 		sts ep_in_data+2,__zero_reg__
 16561 3cfe 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 16562               		.loc 1 59 0
 16563 3d02 1092 0000 		sts ep_in_data,__zero_reg__
 16564               	.LVL1019:
 16565               	.LBB5373:
 16566               	.LBB5374:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 16567               		.loc 2 70 0
 16568 3d06 2FBF      		out __SREG__,r18
 16569               		.loc 2 71 0
 16570               	.LVL1020:
 16571               	.L662:
 16572               	/* epilogue start */
 16573               	.LBE5374:
 16574               	.LBE5373:
 16575               	.LBE5366:
 16576               	.LBE5365:
 16577               	.LBE5364:
 16578               	.LBE5308:
 16579               	.LBE5307:
  36:sms/sms.h     **** }
 16580               		.loc 13 36 0
 16581 3d08 DF91      		pop r29
 16582 3d0a CF91      		pop r28
 16583               	.LVL1021:
 16584 3d0c 1F91      		pop r17
 16585 3d0e 0F91      		pop r16
 16586 3d10 FF90      		pop r15
 16587 3d12 EF90      		pop r14
 16588               	.LVL1022:
 16589 3d14 DF90      		pop r13
 16590 3d16 CF90      		pop r12
 16591               	.LVL1023:
 16592 3d18 BF90      		pop r11
 16593 3d1a 0895      		ret
 16594               	.LVL1024:
 16595               	.L686:
 16596               	.LBB5378:
 16597               	.LBB5377:
 16598               	.LBB5375:
 16599               	.LBB5363:
 16600               	.LBB5362:
 16601               	.LBB5361:
 16602               	.LBB5356:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 16603               		.loc 4 57 0
 16604 3d1c 8091 0000 		lds r24,ep_in_pipe_data+4
 16605 3d20 232F      		mov r18,r19
 16606 3d22 281B      		sub r18,r24
 16607               	.LBE5356:
 16608               	.LBE5361:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 16609               		.loc 1 127 0
 16610 3d24 81E0      		ldi r24,lo8(1)
 16611 3d26 1216      		cp __zero_reg__,r18
 16612 3d28 04F0      		brlt .L677
 16613 3d2a 00C0      		rjmp .L680
 16614               	.LVL1025:
 16615               	.L685:
 16616               	.LBE5362:
 16617               	.LBE5363:
 16618               	.LBE5375:
 16619               	.LBB5376:
 16620               	.LBB5350:
 16621               	.LBB5349:
 16622               	.LBB5348:
 16623               	.LBB5347:
 16624               	.LBB5320:
 16625               	.LBB5321:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 16626               		.loc 4 51 0
 16627 3d2c 3091 0000 		lds r19,ep_in_pipe_data+4
 16628               	.LBE5321:
 16629               	.LBE5320:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 16630               		.loc 1 83 0
 16631 3d30 1316      		cp __zero_reg__,r19
 16632 3d32 04F0      		brlt .+2
 16633 3d34 00C0      		rjmp .L667
 16634               	.LBB5322:
 16635               	.LBB5323:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 16636               		.loc 4 62 0
 16637 3d36 8091 0000 		lds r24,ep_in_pipe_data
 16638 3d3a 9091 0000 		lds r25,ep_in_pipe_data+1
 16639               	.LVL1026:
 16640               	.LBE5323:
 16641               	.LBE5322:
 16642               	.LBB5324:
 16643               	.LBB5325:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 16644               		.loc 1 68 0
 16645 3d3e 4091 0000 		lds r20,ep_in_data
 16646               	.LVL1027:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 16647               		.loc 1 69 0
 16648 3d42 51E0      		ldi r21,lo8(1)
 16649 3d44 4130      		cpi r20,lo8(1)
 16650 3d46 01F4      		brne .L668
 16651 3d48 50E0      		ldi r21,lo8(0)
 16652               	.L668:
 16653 3d4a 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 16654               		.loc 1 72 0
 16655 3d4e 4423      		tst r20
 16656 3d50 01F4      		brne .L669
 16657               	.LVL1028:
 16658               	.LBB5326:
 16659               	.LBB5327:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 16660               		.loc 3 168 0
 16661 3d52 8093 0000 		sts endpoints+28,r24
 16662 3d56 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 16663               		.loc 3 169 0
 16664 3d5a 40E4      		ldi r20,lo8(64)
 16665 3d5c 50E0      		ldi r21,hi8(64)
 16666 3d5e 4093 0000 		sts endpoints+26,r20
 16667 3d62 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 16668               		.loc 3 174 0
 16669 3d66 E0E0      		ldi r30,lo8(endpoints+24)
 16670 3d68 F0E0      		ldi r31,hi8(endpoints+24)
 16671               	.LVL1029:
 16672               	/* #APP */
 16673               	 ;  174 "usb/usb.h" 1
 16674 3d6a 02E2      		ldi r16, 34
 16675 3d6c 0693      		.dc.w 0x9306
 16676               		
 16677               	 ;  0 "" 2
 16678               	.LVL1030:
 16679               	/* #NOAPP */
 16680               	.L670:
 16681               	.LBE5327:
 16682               	.LBE5326:
 16683               	.LBE5325:
 16684               	.LBE5324:
 16685               	.LBB5331:
 16686               	.LBB5332:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 16687               		.loc 4 72 0
 16688 3d6e 3150      		subi r19,lo8(-(-1))
 16689 3d70 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 16690               		.loc 4 73 0
 16691 3d74 805C      		subi r24,lo8(-(64))
 16692 3d76 9F4F      		sbci r25,hi8(-(64))
 16693 3d78 8093 0000 		sts ep_in_pipe_data,r24
 16694 3d7c 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 16695               		.loc 4 75 0
 16696 3d80 A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 16697 3d82 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 16698 3d84 9A07      		cpc r25,r26
 16699 3d86 01F0      		breq .+2
 16700 3d88 00C0      		rjmp .L666
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 16701               		.loc 4 76 0
 16702 3d8a 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 16703 3d8c 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 16704 3d8e 8093 0000 		sts ep_in_pipe_data,r24
 16705 3d92 9093 0000 		sts ep_in_pipe_data+1,r25
 16706 3d96 00C0      		rjmp .L666
 16707               	.LVL1031:
 16708               	.L669:
 16709               	.LBE5332:
 16710               	.LBE5331:
 16711               	.LBB5333:
 16712               	.LBB5330:
 16713               	.LBB5328:
 16714               	.LBB5329:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 16715               		.loc 3 168 0
 16716 3d98 8093 0000 		sts endpoints+20,r24
 16717 3d9c 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 16718               		.loc 3 169 0
 16719 3da0 40E4      		ldi r20,lo8(64)
 16720 3da2 50E0      		ldi r21,hi8(64)
 16721 3da4 4093 0000 		sts endpoints+18,r20
 16722 3da8 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 16723               		.loc 3 176 0
 16724 3dac E0E0      		ldi r30,lo8(endpoints+24)
 16725 3dae F0E0      		ldi r31,hi8(endpoints+24)
 16726               	/* #APP */
 16727               	 ;  176 "usb/usb.h" 1
 16728 3db0 04E1      		ldi r16, 20
 16729 3db2 0693      		.dc.w 0x9306
 16730               		
 16731               	 ;  0 "" 2
 16732               	.LVL1032:
 16733               	/* #NOAPP */
 16734 3db4 00C0      		rjmp .L670
 16735               	.LVL1033:
 16736               	.L667:
 16737               	.LBE5329:
 16738               	.LBE5328:
 16739               	.LBE5330:
 16740               	.LBE5333:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 16741               		.loc 1 87 0
 16742 3db6 8091 0000 		lds r24,ep_in_data+1
 16743 3dba 8130      		cpi r24,lo8(1)
 16744 3dbc 01F0      		breq .L687
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 16745               		.loc 1 91 0
 16746 3dbe 8230      		cpi r24,lo8(2)
 16747 3dc0 01F0      		breq .+2
 16748 3dc2 00C0      		rjmp .L666
 16749               	.LVL1034:
 16750               	.LBB5334:
 16751               	.LBB5335:
 16752               	.LBB5336:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 16753               		.loc 3 228 0
 16754 3dc4 8091 0000 		lds r24,endpoints+24
 16755 3dc8 8670      		andi r24,lo8(6)
 16756               	.LBE5336:
 16757               	.LBE5335:
 16758               	.LBE5334:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 16759               		.loc 1 91 0
 16760 3dca 8630      		cpi r24,lo8(6)
 16761 3dcc 01F0      		breq .+2
 16762 3dce 00C0      		rjmp .L666
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 16763               		.loc 1 92 0
 16764 3dd0 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 16765               		.loc 1 93 0
 16766 3dd4 1092 0000 		sts ep_in_data+2,__zero_reg__
 16767 3dd8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 16768               	.LBB5337:
 16769               	.LBB5338:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 16770               		.loc 4 90 0
 16771 3ddc 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 16772               		.loc 4 91 0
 16773 3de0 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 16774 3de2 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 16775 3de4 8093 0000 		sts ep_in_pipe_data+2,r24
 16776 3de8 9093 0000 		sts ep_in_pipe_data+2+1,r25
 16777 3dec 8093 0000 		sts ep_in_pipe_data,r24
 16778 3df0 9093 0000 		sts ep_in_pipe_data+1,r25
 16779               	.LVL1035:
 16780 3df4 00C0      		rjmp .L666
 16781               	.LVL1036:
 16782               	.L687:
 16783               	.LBE5338:
 16784               	.LBE5337:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 16785               		.loc 1 88 0
 16786 3df6 82E0      		ldi r24,lo8(2)
 16787 3df8 8093 0000 		sts ep_in_data+1,r24
 16788               	.LBB5339:
 16789               	.LBB5340:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 16790               		.loc 4 62 0
 16791 3dfc 6091 0000 		lds r22,ep_in_pipe_data
 16792 3e00 3091 0000 		lds r19,ep_in_pipe_data+1
 16793               	.LBE5340:
 16794               	.LBE5339:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 16795               		.loc 1 90 0
 16796 3e04 4091 0000 		lds r20,ep_in_data+2
 16797 3e08 5091 0000 		lds r21,ep_in_data+2+1
 16798               	.LVL1037:
 16799               	.LBB5341:
 16800               	.LBB5342:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 16801               		.loc 1 68 0
 16802 3e0c 8091 0000 		lds r24,ep_in_data
 16803               	.LVL1038:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 16804               		.loc 1 69 0
 16805 3e10 91E0      		ldi r25,lo8(1)
 16806 3e12 8130      		cpi r24,lo8(1)
 16807 3e14 01F0      		breq .L688
 16808               	.L673:
 16809 3e16 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 16810               		.loc 1 72 0
 16811 3e1a 8823      		tst r24
 16812 3e1c 01F4      		brne .L674
 16813               	.LVL1039:
 16814               	.LBB5343:
 16815               	.LBB5344:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 16816               		.loc 3 168 0
 16817 3e1e 862F      		mov r24,r22
 16818 3e20 932F      		mov r25,r19
 16819 3e22 8093 0000 		sts endpoints+28,r24
 16820 3e26 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 16821               		.loc 3 169 0
 16822 3e2a 4093 0000 		sts endpoints+26,r20
 16823 3e2e 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 16824               		.loc 3 174 0
 16825 3e32 E0E0      		ldi r30,lo8(endpoints+24)
 16826 3e34 F0E0      		ldi r31,hi8(endpoints+24)
 16827               	.LVL1040:
 16828               	/* #APP */
 16829               	 ;  174 "usb/usb.h" 1
 16830 3e36 02E2      		ldi r16, 34
 16831 3e38 0693      		.dc.w 0x9306
 16832               		
 16833               	 ;  0 "" 2
 16834               	.LVL1041:
 16835               	/* #NOAPP */
 16836 3e3a 00C0      		rjmp .L666
 16837               	.LVL1042:
 16838               	.L674:
 16839               	.LBE5344:
 16840               	.LBE5343:
 16841               	.LBB5345:
 16842               	.LBB5346:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 16843               		.loc 3 168 0
 16844 3e3c 862F      		mov r24,r22
 16845 3e3e 932F      		mov r25,r19
 16846 3e40 8093 0000 		sts endpoints+20,r24
 16847 3e44 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 16848               		.loc 3 169 0
 16849 3e48 4093 0000 		sts endpoints+18,r20
 16850 3e4c 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 16851               		.loc 3 176 0
 16852 3e50 E0E0      		ldi r30,lo8(endpoints+24)
 16853 3e52 F0E0      		ldi r31,hi8(endpoints+24)
 16854               	/* #APP */
 16855               	 ;  176 "usb/usb.h" 1
 16856 3e54 04E1      		ldi r16, 20
 16857 3e56 0693      		.dc.w 0x9306
 16858               		
 16859               	 ;  0 "" 2
 16860               	.LVL1043:
 16861               	/* #NOAPP */
 16862 3e58 00C0      		rjmp .L666
 16863               	.LVL1044:
 16864               	.L688:
 16865               	.LBE5346:
 16866               	.LBE5345:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 16867               		.loc 1 69 0
 16868 3e5a 90E0      		ldi r25,lo8(0)
 16869 3e5c 00C0      		rjmp .L673
 16870               	.LBE5342:
 16871               	.LBE5341:
 16872               	.LBE5347:
 16873               	.LBE5348:
 16874               	.LBE5349:
 16875               	.LBE5350:
 16876               	.LBE5376:
 16877               	.LBE5377:
 16878               	.LBE5378:
 16879               		.cfi_endproc
 16880               	.LFE75:
 16882               	.global	GprsTextModeSMS
 16884               	GprsTextModeSMS:
 16885               	.LFB76:
  38:sms/sms.h     **** void GprsTextModeSMS(USART_t* USART) {
 16886               		.loc 13 38 0
 16887               		.cfi_startproc
 16888               	.LVL1045:
 16889               	/* prologue: function */
 16890               	/* frame size = 0 */
 16891               	/* stack size = 0 */
 16892               	.L__stack_usage = 0
 16893 3e5e BC01      		movw r22,r24
 16894               		.loc 13 39 0
 16895 3e60 80E0      		ldi r24,lo8(.LC7)
 16896 3e62 90E0      		ldi r25,hi8(.LC7)
 16897               	.LVL1046:
 16898 3e64 0E94 0000 		call send_uart
 16899               	.LVL1047:
 16900               	/* epilogue start */
  40:sms/sms.h     **** }
 16901               		.loc 13 40 0
 16902 3e68 0895      		ret
 16903               		.cfi_endproc
 16904               	.LFE76:
 16906               		.data
 16907               	.LC9:
 16908 00e6 4154 2B43 		.string	"AT+CPOWD=1"
 16908      504F 5744 
 16908      3D31 00
 16909               		.text
 16910               	.global	PowerDownModem
 16912               	PowerDownModem:
 16913               	.LFB77:
  41:sms/sms.h     **** 
  42:sms/sms.h     **** void PowerDownModem(USART_t* USART) {
 16914               		.loc 13 42 0
 16915               		.cfi_startproc
 16916               	.LVL1048:
 16917               	/* prologue: function */
 16918               	/* frame size = 0 */
 16919               	/* stack size = 0 */
 16920               	.L__stack_usage = 0
 16921 3e6a BC01      		movw r22,r24
  43:sms/sms.h     ****   send_uart("AT+CPOWD=1", USART);
 16922               		.loc 13 43 0
 16923 3e6c 80E0      		ldi r24,lo8(.LC9)
 16924 3e6e 90E0      		ldi r25,hi8(.LC9)
 16925               	.LVL1049:
 16926 3e70 0E94 0000 		call send_uart
 16927               	.LVL1050:
 16928               	/* epilogue start */
  44:sms/sms.h     **** }
 16929               		.loc 13 44 0
 16930 3e74 0895      		ret
 16931               		.cfi_endproc
 16932               	.LFE77:
 16934               		.data
 16935               	.LC10:
 16936 00f1 4154 2B43 		.string	"AT+CFUN=0"
 16936      4655 4E3D 
 16936      3000 
 16937               		.text
 16938               	.global	SleepModem
 16940               	SleepModem:
 16941               	.LFB78:
  45:sms/sms.h     **** 
  46:sms/sms.h     **** void SleepModem(USART_t* USART) {
 16942               		.loc 13 46 0
 16943               		.cfi_startproc
 16944               	.LVL1051:
 16945               	/* prologue: function */
 16946               	/* frame size = 0 */
 16947               	/* stack size = 0 */
 16948               	.L__stack_usage = 0
 16949 3e76 BC01      		movw r22,r24
  47:sms/sms.h     ****   send_uart("AT+CFUN=0", USART);
 16950               		.loc 13 47 0
 16951 3e78 80E0      		ldi r24,lo8(.LC10)
 16952 3e7a 90E0      		ldi r25,hi8(.LC10)
 16953               	.LVL1052:
 16954 3e7c 0E94 0000 		call send_uart
 16955               	.LVL1053:
 16956               	/* epilogue start */
  48:sms/sms.h     **** }
 16957               		.loc 13 48 0
 16958 3e80 0895      		ret
 16959               		.cfi_endproc
 16960               	.LFE78:
 16962               		.data
 16963               	.LC11:
 16964 00fb 4154 2B43 		.string	"AT+CFUN=1"
 16964      4655 4E3D 
 16964      3100 
 16965               		.text
 16966               	.global	WakeUpModem
 16968               	WakeUpModem:
 16969               	.LFB79:
  49:sms/sms.h     **** 
  50:sms/sms.h     **** void WakeUpModem(USART_t* USART) {
 16970               		.loc 13 50 0
 16971               		.cfi_startproc
 16972               	.LVL1054:
 16973               	/* prologue: function */
 16974               	/* frame size = 0 */
 16975               	/* stack size = 0 */
 16976               	.L__stack_usage = 0
 16977 3e82 BC01      		movw r22,r24
  51:sms/sms.h     ****   send_uart("AT+CFUN=1", USART);
 16978               		.loc 13 51 0
 16979 3e84 80E0      		ldi r24,lo8(.LC11)
 16980 3e86 90E0      		ldi r25,hi8(.LC11)
 16981               	.LVL1055:
 16982 3e88 0E94 0000 		call send_uart
 16983               	.LVL1056:
 16984               	/* epilogue start */
  52:sms/sms.h     **** }
 16985               		.loc 13 52 0
 16986 3e8c 0895      		ret
 16987               		.cfi_endproc
 16988               	.LFE79:
 16990               		.data
 16991               	.LC12:
 16992 0105 5379 6E63 		.string	"Sync"
 16992      00
 16993               	.LC13:
 16994 010a 4154 00   		.string	"AT"
 16995               	.LC14:
 16996 010d 5049 4E47 		.string	"PING"
 16996      00
 16997               	.LC15:
 16998 0112 5465 7874 		.string	"Text Mode"
 16998      204D 6F64 
 16998      6500 
 16999               	.LC16:
 17000 011c 4154 2B43 		.string	"AT+CMGF=?"
 17000      4D47 463D 
 17000      3F00 
 17001               	.LC17:
 17002 0126 4368 6563 		.string	"Check Mode"
 17002      6B20 4D6F 
 17002      6465 00
 17003               		.text
 17004               	.global	SimpleReceive
 17006               	SimpleReceive:
 17007               	.LFB80:
  53:sms/sms.h     **** 
  54:sms/sms.h     **** void SimpleReceive(USART_t* USART) {
 17008               		.loc 13 54 0
 17009               		.cfi_startproc
 17010               	.LVL1057:
 17011 3e8e 2F92      		push r2
 17012               	.LCFI152:
 17013               		.cfi_def_cfa_offset 3
 17014               		.cfi_offset 2, -2
 17015 3e90 3F92      		push r3
 17016               	.LCFI153:
 17017               		.cfi_def_cfa_offset 4
 17018               		.cfi_offset 3, -3
 17019 3e92 4F92      		push r4
 17020               	.LCFI154:
 17021               		.cfi_def_cfa_offset 5
 17022               		.cfi_offset 4, -4
 17023 3e94 5F92      		push r5
 17024               	.LCFI155:
 17025               		.cfi_def_cfa_offset 6
 17026               		.cfi_offset 5, -5
 17027 3e96 6F92      		push r6
 17028               	.LCFI156:
 17029               		.cfi_def_cfa_offset 7
 17030               		.cfi_offset 6, -6
 17031 3e98 7F92      		push r7
 17032               	.LCFI157:
 17033               		.cfi_def_cfa_offset 8
 17034               		.cfi_offset 7, -7
 17035 3e9a 8F92      		push r8
 17036               	.LCFI158:
 17037               		.cfi_def_cfa_offset 9
 17038               		.cfi_offset 8, -8
 17039 3e9c 9F92      		push r9
 17040               	.LCFI159:
 17041               		.cfi_def_cfa_offset 10
 17042               		.cfi_offset 9, -9
 17043 3e9e AF92      		push r10
 17044               	.LCFI160:
 17045               		.cfi_def_cfa_offset 11
 17046               		.cfi_offset 10, -10
 17047 3ea0 BF92      		push r11
 17048               	.LCFI161:
 17049               		.cfi_def_cfa_offset 12
 17050               		.cfi_offset 11, -11
 17051 3ea2 CF92      		push r12
 17052               	.LCFI162:
 17053               		.cfi_def_cfa_offset 13
 17054               		.cfi_offset 12, -12
 17055 3ea4 DF92      		push r13
 17056               	.LCFI163:
 17057               		.cfi_def_cfa_offset 14
 17058               		.cfi_offset 13, -13
 17059 3ea6 EF92      		push r14
 17060               	.LCFI164:
 17061               		.cfi_def_cfa_offset 15
 17062               		.cfi_offset 14, -14
 17063 3ea8 FF92      		push r15
 17064               	.LCFI165:
 17065               		.cfi_def_cfa_offset 16
 17066               		.cfi_offset 15, -15
 17067 3eaa 0F93      		push r16
 17068               	.LCFI166:
 17069               		.cfi_def_cfa_offset 17
 17070               		.cfi_offset 16, -16
 17071 3eac 1F93      		push r17
 17072               	.LCFI167:
 17073               		.cfi_def_cfa_offset 18
 17074               		.cfi_offset 17, -17
 17075 3eae CF93      		push r28
 17076               	.LCFI168:
 17077               		.cfi_def_cfa_offset 19
 17078               		.cfi_offset 28, -18
 17079 3eb0 DF93      		push r29
 17080               	.LCFI169:
 17081               		.cfi_def_cfa_offset 20
 17082               		.cfi_offset 29, -19
 17083 3eb2 00D0      		rcall .
 17084               	.LCFI170:
 17085               		.cfi_def_cfa_offset 22
 17086 3eb4 CDB7      		in r28,__SP_L__
 17087 3eb6 DEB7      		in r29,__SP_H__
 17088               	.LCFI171:
 17089               		.cfi_def_cfa_register 28
 17090               	/* prologue: function */
 17091               	/* frame size = 2 */
 17092               	/* stack size = 20 */
 17093               	.L__stack_usage = 20
 17094 3eb8 4C01      		movw r8,r24
  55:sms/sms.h     ****   char c;
  56:sms/sms.h     ****   int n = 1;
  57:sms/sms.h     ****   char s[n+1];
  58:sms/sms.h     **** 
  59:sms/sms.h     ****   uart_putchar('A', USART);
  60:sms/sms.h     ****   send_string("Sync");
  61:sms/sms.h     ****   _delay_ms(3000);
  62:sms/sms.h     **** 
  63:sms/sms.h     ****   send_uart("AT", USART);
  64:sms/sms.h     ****   send_string("PING");
  65:sms/sms.h     ****   _delay_ms(100);
  66:sms/sms.h     ****   for (int i=0; i<n; i++) {
  67:sms/sms.h     ****     c = uart_getchar(USART);
  68:sms/sms.h     ****     s[i] = c;
  69:sms/sms.h     ****   }
  70:sms/sms.h     ****   s[n] = '\0';
  71:sms/sms.h     **** 
  72:sms/sms.h     ****   send_string(s);
  73:sms/sms.h     **** 
  74:sms/sms.h     **** 
  75:sms/sms.h     **** 
  76:sms/sms.h     ****   GprsTextModeSMS(USART);
  77:sms/sms.h     ****   send_string("Text Mode");
  78:sms/sms.h     ****   _delay_ms(800);
  79:sms/sms.h     **** 
  80:sms/sms.h     ****   // send_uart("AT+CMGL=\"REC UNREAD\"", USART); // Read Message 
  81:sms/sms.h     ****   // send_string("Read Messages");
  82:sms/sms.h     ****   // _delay_ms(1000);
  83:sms/sms.h     **** 
  84:sms/sms.h     ****   send_uart("AT+CMGF=?", USART); // Read Message 
  85:sms/sms.h     ****   send_string("Check Mode");
  86:sms/sms.h     ****   _delay_ms(1000);
  87:sms/sms.h     **** }...
 17095               		.loc 13 87 0
 17096 3eba 8DB7      		in r24,__SP_L__
 17097 3ebc 9EB7      		in r25,__SP_H__
 17098               	.LVL1058:
 17099 3ebe 8983      		std Y+1,r24
 17100 3ec0 9A83      		std Y+2,r25
 17101               	.LVL1059:
  57:sms/sms.h     ****   char s[n+1];
 17102               		.loc 13 57 0
 17103 3ec2 00D0      		rcall .
 17104 3ec4 2DB6      		in r2,__SP_L__
 17105 3ec6 3EB6      		in r3,__SP_H__
 17106 3ec8 0894      		sec
 17107 3eca 211C      		adc r2,__zero_reg__
 17108 3ecc 311C      		adc r3,__zero_reg__
 17109               	.LVL1060:
 17110               	.L694:
 17111               	.LBB6085:
 17112               	.LBB6086:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 17113               		.loc 9 18 0
 17114 3ece D401      		movw r26,r8
 17115 3ed0 1196      		adiw r26,1
 17116 3ed2 8C91      		ld r24,X
 17117 3ed4 1197      		sbiw r26,1
 17118 3ed6 85FF      		sbrs r24,5
 17119 3ed8 00C0      		rjmp .L694
  21:uart/uart.h   ****     USART->DATA = c; 
 17120               		.loc 9 21 0
 17121 3eda 81E4      		ldi r24,lo8(65)
 17122 3edc 8C93      		st X,r24
 17123               	.LVL1061:
 17124 3ede 80E0      		ldi r24,lo8(.LC12+1)
 17125 3ee0 682E      		mov r6,r24
 17126 3ee2 80E0      		ldi r24,hi8(.LC12+1)
 17127 3ee4 782E      		mov r7,r24
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 17128               		.loc 7 5 0
 17129 3ee6 43E5      		ldi r20,lo8(83)
 17130               	.LBE6086:
 17131               	.LBE6085:
 17132               	.LBB6087:
 17133               	.LBB6088:
 17134               	.LBB6089:
 17135               	.LBB6090:
 17136               	.LBB6091:
 17137               	.LBB6092:
 17138               	.LBB6093:
 17139               	.LBB6094:
 17140               	.LBB6095:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 17141               		.loc 4 57 0
 17142 3ee8 36E0      		ldi r19,lo8(6)
 17143               	.LBE6095:
 17144               	.LBE6094:
 17145               	.LBE6093:
 17146               	.LBE6092:
 17147               	.LBE6091:
 17148               	.LBB6108:
 17149               	.LBB6109:
 17150               	.LBB6110:
 17151               	.LBB6111:
 17152               	.LBB6112:
 17153               	.LBB6113:
 17154               	.LBB6114:
 17155               	.LBB6115:
 17156               	.LBB6116:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 17157               		.loc 3 220 0
 17158 3eea 90E0      		ldi r25,lo8(endpoints+24)
 17159 3eec E92E      		mov r14,r25
 17160 3eee 90E0      		ldi r25,hi8(endpoints+24)
 17161 3ef0 F92E      		mov r15,r25
 17162               	.LBE6116:
 17163               	.LBE6115:
 17164               	.LBB6118:
 17165               	.LBB6119:
 17166               		.loc 4 91 0
 17167 3ef2 20E0      		ldi r18,lo8(ep_in_pipe_buffer)
 17168 3ef4 422E      		mov r4,r18
 17169 3ef6 20E0      		ldi r18,hi8(ep_in_pipe_buffer)
 17170 3ef8 522E      		mov r5,r18
 17171               	.LBE6119:
 17172               	.LBE6118:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 17173               		.loc 1 88 0
 17174 3efa 12E0      		ldi r17,lo8(2)
 17175               	.LBB6122:
 17176               	.LBB6123:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 17177               		.loc 1 69 0
 17178 3efc 51E0      		ldi r21,lo8(1)
 17179 3efe C52E      		mov r12,r21
 17180 3f00 D12C      		mov r13,__zero_reg__
 17181               	.LBE6123:
 17182               	.LBE6122:
 17183               	.LBB6132:
 17184               	.LBB6133:
 17185               	.LBB6134:
 17186               	.LBB6135:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 17187               		.loc 3 169 0
 17188 3f02 60E4      		ldi r22,lo8(64)
 17189 3f04 A62E      		mov r10,r22
 17190 3f06 B12C      		mov r11,__zero_reg__
 17191               	.LVL1062:
 17192               	.L851:
 17193               	.LBE6135:
 17194               	.LBE6134:
 17195               	.LBE6133:
 17196               	.LBE6132:
 17197               	.LBE6114:
 17198               	.LBE6113:
 17199               	.LBE6112:
 17200               	.LBE6111:
 17201               	.LBE6110:
 17202               	.LBE6109:
 17203               	.LBE6108:
 17204               	.LBB6188:
 17205               	.LBB6106:
 17206               	.LBB6104:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17207               		.loc 1 123 0
 17208 3f08 9FB7      		in r25,__SREG__
 17209               	.LVL1063:
 17210               	.LBB6097:
 17211               	.LBB6098:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17212               		.loc 2 50 0
 17213               	/* #APP */
 17214               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17215 3f0a F894      		cli
 17216               	 ;  0 "" 2
 17217               	.LVL1064:
 17218               	/* #NOAPP */
 17219               	.LBE6098:
 17220               	.LBE6097:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 17221               		.loc 1 124 0
 17222 3f0c 8091 0000 		lds r24,ep_in_data+1
 17223 3f10 8823      		tst r24
 17224 3f12 01F0      		breq .L861
 17225               	.L819:
 125:usb/usb_pipe.h **** 			r = false;
 17226               		.loc 1 125 0
 17227 3f14 80E0      		ldi r24,lo8(0)
 17228               	.L695:
 17229               	.LBB6100:
 17230               	.LBB6101:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 17231               		.loc 2 70 0
 17232 3f16 9FBF      		out __SREG__,r25
 17233               		.loc 2 71 0
 17234               	.LBE6101:
 17235               	.LBE6100:
 17236               	.LBE6104:
 17237               	.LBE6106:
 17238               	.LBE6188:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 17239               		.loc 5 20 0
 17240 3f18 8823      		tst r24
 17241 3f1a 01F0      		breq .L851
 17242               	.LVL1065:
 17243               	.LBB6189:
 17244               	.LBB6190:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 17245               		.loc 1 175 0
 17246 3f1c 8091 0000 		lds r24,ep_in_data+2
 17247 3f20 9091 0000 		lds r25,ep_in_data+2+1
 17248 3f24 E091 0000 		lds r30,ep_in_pipe_data+2
 17249 3f28 F091 0000 		lds r31,ep_in_pipe_data+2+1
 17250 3f2c E80F      		add r30,r24
 17251 3f2e F91F      		adc r31,r25
 17252 3f30 4083      		st Z,r20
 17253 3f32 0196      		adiw r24,1
 17254 3f34 8093 0000 		sts ep_in_data+2,r24
 17255 3f38 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 17256               		.loc 1 176 0
 17257 3f3c 8034      		cpi r24,64
 17258 3f3e 9105      		cpc r25,__zero_reg__
 17259 3f40 01F0      		breq .L862
 17260               	.LBE6190:
 17261               	.LBE6189:
 17262               	.LBE6090:
 17263               	.LBE6089:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 17264               		.loc 7 5 0
 17265 3f42 F301      		movw r30,r6
 17266 3f44 4191      		ld r20,Z+
 17267               	.LVL1066:
 17268 3f46 4423      		tst r20
 17269 3f48 01F4      		brne .+2
 17270 3f4a 00C0      		rjmp .L709
 17271               	.LVL1067:
 17272               	.L864:
 17273 3f4c 6114      		cp r6,__zero_reg__
 17274 3f4e 7104      		cpc r7,__zero_reg__
 17275 3f50 01F4      		brne .+2
 17276 3f52 00C0      		rjmp .L709
 17277 3f54 3F01      		movw r6,r30
 17278               	.LBB6198:
 17279               	.LBB6195:
 17280               	.LBB6191:
 17281               	.LBB6107:
 17282               	.LBB6105:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17283               		.loc 1 123 0
 17284 3f56 9FB7      		in r25,__SREG__
 17285               	.LVL1068:
 17286               	.LBB6102:
 17287               	.LBB6099:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17288               		.loc 2 50 0
 17289               	/* #APP */
 17290               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17291 3f58 F894      		cli
 17292               	 ;  0 "" 2
 17293               	/* #NOAPP */
 17294               	.LBE6099:
 17295               	.LBE6102:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 17296               		.loc 1 124 0
 17297 3f5a 8091 0000 		lds r24,ep_in_data+1
 17298 3f5e 8823      		tst r24
 17299 3f60 01F4      		brne .L819
 17300               	.LVL1069:
 17301               	.L861:
 17302               	.LBB6103:
 17303               	.LBB6096:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 17304               		.loc 4 57 0
 17305 3f62 8091 0000 		lds r24,ep_in_pipe_data+4
 17306 3f66 232F      		mov r18,r19
 17307 3f68 281B      		sub r18,r24
 17308               	.LBE6096:
 17309               	.LBE6103:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 17310               		.loc 1 127 0
 17311 3f6a 81E0      		ldi r24,lo8(1)
 17312 3f6c 1216      		cp __zero_reg__,r18
 17313 3f6e 04F0      		brlt .L695
 17314 3f70 00C0      		rjmp .L819
 17315               	.LVL1070:
 17316               	.L862:
 17317               	.LBE6105:
 17318               	.LBE6107:
 17319               	.LBE6191:
 17320               	.LBB6192:
 17321               	.LBB6185:
 17322               	.LBB6182:
 17323               	.LBB6179:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 17324               		.loc 1 177 0
 17325 3f72 BFB7      		in r27,__SREG__
 17326               	.LVL1071:
 17327               	.LBB6170:
 17328               	.LBB6171:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17329               		.loc 2 50 0
 17330               	/* #APP */
 17331               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17332 3f74 F894      		cli
 17333               	 ;  0 "" 2
 17334               	.LVL1072:
 17335               	/* #NOAPP */
 17336               	.LBE6171:
 17337               	.LBE6170:
 17338               		.loc 1 178 0
 17339 3f76 1092 0000 		sts ep_in_data+2,__zero_reg__
 17340 3f7a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 17341               	.LVL1073:
 17342               	.LBB6172:
 17343               	.LBB6173:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 17344               		.loc 4 81 0
 17345 3f7e 8091 0000 		lds r24,ep_in_pipe_data+4
 17346 3f82 8F5F      		subi r24,lo8(-(1))
 17347 3f84 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 17348               		.loc 4 82 0
 17349 3f88 8091 0000 		lds r24,ep_in_pipe_data+2
 17350 3f8c 9091 0000 		lds r25,ep_in_pipe_data+2+1
 17351 3f90 805C      		subi r24,lo8(-(64))
 17352 3f92 9F4F      		sbci r25,hi8(-(64))
 17353 3f94 8093 0000 		sts ep_in_pipe_data+2,r24
 17354 3f98 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 17355               		.loc 4 84 0
 17356 3f9c E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 17357 3f9e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 17358 3fa0 9E07      		cpc r25,r30
 17359 3fa2 01F4      		brne .L699
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 17360               		.loc 4 85 0
 17361 3fa4 4092 0000 		sts ep_in_pipe_data+2,r4
 17362 3fa8 5092 0000 		sts ep_in_pipe_data+2+1,r5
 17363               	.L699:
 17364               	.LVL1074:
 17365               	.LBE6173:
 17366               	.LBE6172:
 17367               	.LBB6174:
 17368               	.LBB6167:
 17369               	.LBB6164:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17370               		.loc 1 80 0
 17371 3fac AFB7      		in r26,__SREG__
 17372               	.LVL1075:
 17373               	.LBB6142:
 17374               	.LBB6143:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17375               		.loc 2 50 0
 17376               	/* #APP */
 17377               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17378 3fae F894      		cli
 17379               	 ;  0 "" 2
 17380               	.LVL1076:
 17381               	/* #NOAPP */
 17382               	.LBE6143:
 17383               	.LBE6142:
 17384               	.LBB6144:
 17385               	.LBB6117:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 17386               		.loc 3 220 0
 17387 3fb0 8091 0000 		lds r24,endpoints+24
 17388 3fb4 8670      		andi r24,lo8(6)
 17389               	.LBE6117:
 17390               	.LBE6144:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 17391               		.loc 1 82 0
 17392 3fb6 01F0      		breq .+2
 17393 3fb8 00C0      		rjmp .L863
 17394               	.LVL1077:
 17395               	.L700:
 17396               	.LBB6145:
 17397               	.LBB6146:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 17398               		.loc 2 70 0
 17399 3fba AFBF      		out __SREG__,r26
 17400               		.loc 2 71 0
 17401               	.LVL1078:
 17402               	.LBE6146:
 17403               	.LBE6145:
 17404               	.LBE6164:
 17405               	.LBE6167:
 17406               	.LBE6174:
 17407               	.LBB6175:
 17408               	.LBB6176:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 17409               		.loc 2 70 0
 17410 3fbc BFBF      		out __SREG__,r27
 17411               		.loc 2 71 0
 17412               	.LBE6176:
 17413               	.LBE6175:
 17414               	.LBE6179:
 17415               	.LBE6182:
 17416               	.LBE6185:
 17417               	.LBE6192:
 17418               	.LBE6195:
 17419               	.LBE6198:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 17420               		.loc 7 5 0
 17421 3fbe F301      		movw r30,r6
 17422 3fc0 4191      		ld r20,Z+
 17423 3fc2 4423      		tst r20
 17424 3fc4 01F0      		breq .+2
 17425 3fc6 00C0      		rjmp .L864
 17426               	.LVL1079:
 17427               	.L709:
 17428               	.LBB6199:
 17429               	.LBB6200:
 17430               	.LBB6201:
 17431               	.LBB6202:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 17432               		.loc 1 110 0
 17433 3fc8 81E0      		ldi r24,lo8(1)
 17434 3fca 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 17435               		.loc 1 111 0
 17436 3fce 0E94 0000 		call usb_pipe_handle.constprop.9
 17437               	.LVL1080:
 17438               	.LBE6202:
 17439               	.LBE6201:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 17440               		.loc 5 27 0
 17441 3fd2 82E0      		ldi r24,lo8(2)
 17442 3fd4 E0EC      		ldi r30,lo8(1216)
 17443 3fd6 F4E0      		ldi r31,hi8(1216)
 17444 3fd8 8587      		std Z+13,r24
 17445               	.LBB6203:
 17446               	.LBB6204:
 17447               	.LBB6205:
 17448               	.LBB6206:
 17449               	.LBB6207:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 17450               		.loc 4 57 0
 17451 3fda 36E0      		ldi r19,lo8(6)
 17452               	.L711:
 17453               	.LVL1081:
 17454               	.LBE6207:
 17455               	.LBE6206:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17456               		.loc 1 123 0
 17457 3fdc 9FB7      		in r25,__SREG__
 17458               	.LVL1082:
 17459               	.LBB6209:
 17460               	.LBB6210:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17461               		.loc 2 50 0
 17462               	/* #APP */
 17463               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17464 3fde F894      		cli
 17465               	 ;  0 "" 2
 17466               	.LVL1083:
 17467               	/* #NOAPP */
 17468               	.LBE6210:
 17469               	.LBE6209:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 17470               		.loc 1 124 0
 17471 3fe0 8091 0000 		lds r24,ep_in_data+1
 17472 3fe4 8823      		tst r24
 17473 3fe6 01F4      		brne .+2
 17474 3fe8 00C0      		rjmp .L865
 17475               	.L821:
 125:usb/usb_pipe.h **** 			r = false;
 17476               		.loc 1 125 0
 17477 3fea 80E0      		ldi r24,lo8(0)
 17478               	.L713:
 17479               	.LBB6211:
 17480               	.LBB6212:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 17481               		.loc 2 70 0
 17482 3fec 9FBF      		out __SREG__,r25
 17483               		.loc 2 71 0
 17484               	.LBE6212:
 17485               	.LBE6211:
 17486               	.LBE6205:
 17487               	.LBE6204:
 17488               	.LBE6203:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 17489               		.loc 5 28 0
 17490 3fee 8823      		tst r24
 17491 3ff0 01F4      		brne .L712
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 17492               		.loc 5 29 0
 17493 3ff2 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 17494 3ff6 8823      		tst r24
 17495 3ff8 01F0      		breq .L711
 17496               	.LVL1084:
 17497               	.LBB6216:
 17498               	.LBB6217:
 17499               	.LBB6218:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17500               		.loc 1 54 0
 17501 3ffa 2FB7      		in r18,__SREG__
 17502               	.LVL1085:
 17503               	.LBB6219:
 17504               	.LBB6220:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17505               		.loc 2 50 0
 17506               	/* #APP */
 17507               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17508 3ffc F894      		cli
 17509               	 ;  0 "" 2
 17510               	.LVL1086:
 17511               	/* #NOAPP */
 17512               	.LBE6220:
 17513               	.LBE6219:
 17514               	.LBB6221:
 17515               	.LBB6222:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 17516               		.loc 4 90 0
 17517 3ffe 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 17518               		.loc 4 91 0
 17519 4002 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 17520 4004 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 17521 4006 8093 0000 		sts ep_in_pipe_data+2,r24
 17522 400a 9093 0000 		sts ep_in_pipe_data+2+1,r25
 17523 400e 8093 0000 		sts ep_in_pipe_data,r24
 17524 4012 9093 0000 		sts ep_in_pipe_data+1,r25
 17525               	.LVL1087:
 17526               	.LBE6222:
 17527               	.LBE6221:
 17528               	.LBB6223:
 17529               	.LBB6224:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 17530               		.loc 3 158 0
 17531 4016 E0E0      		ldi r30,lo8(endpoints+24)
 17532 4018 F0E0      		ldi r31,hi8(endpoints+24)
 17533               	/* #APP */
 17534               	 ;  158 "usb/usb.h" 1
 17535 401a 06E0      		ldi r16, 6
 17536 401c 0593      		.dc.w 0x9305
 17537               		
 17538               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 17539               		.loc 3 159 0
 17540               	 ;  159 "usb/usb.h" 1
 17541 401e 08E0      		ldi r16, 8
 17542 4020 0693      		.dc.w 0x9306
 17543               		
 17544               	 ;  0 "" 2
 17545               	/* #NOAPP */
 17546               	.LBE6224:
 17547               	.LBE6223:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 17548               		.loc 1 57 0
 17549 4022 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 17550               		.loc 1 58 0
 17551 4026 1092 0000 		sts ep_in_data+2,__zero_reg__
 17552 402a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 17553               		.loc 1 59 0
 17554 402e 1092 0000 		sts ep_in_data,__zero_reg__
 17555               	.LVL1088:
 17556               	.LBB6225:
 17557               	.LBB6226:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 17558               		.loc 2 70 0
 17559 4032 2FBF      		out __SREG__,r18
 17560               		.loc 2 71 0
 17561               	.LVL1089:
 17562               	.L712:
 17563               	.LBE6226:
 17564               	.LBE6225:
 17565               	.LBE6218:
 17566               	.LBE6217:
 17567               	.LBE6216:
 17568               	.LBE6200:
 17569               	.LBE6199:
 17570               	.LBE6088:
 17571               	.LBE6087:
 17572               	.LBB6234:
 17573               	.LBB6235:
 17574               		.loc 11 164 0
 17575 4034 8FEF      		 ldi r24,lo8(15999999)
 17576 4036 93E2      	    ldi r25,hi8(15999999)
 17577 4038 A4EF      	    ldi r26,hlo8(15999999)
 17578 403a B0E0      	    ldi r27,hhi8(15999999)
 17579 403c 8150      	    1:subi r24,1
 17580 403e 9040      	    sbci r25,0
 17581 4040 A040      	    sbci r26,0
 17582 4042 B040      	    sbci r27,0
 17583 4044 01F4      	    brne 1b
 17584 4046 00C0      		rjmp .
 17585 4048 0000      		nop
 17586               	.LBE6235:
 17587               	.LBE6234:
  63:sms/sms.h     ****   send_uart("AT", USART);
 17588               		.loc 13 63 0
 17589 404a 80E0      		ldi r24,lo8(.LC13)
 17590 404c 90E0      		ldi r25,hi8(.LC13)
 17591 404e B401      		movw r22,r8
 17592 4050 0E94 0000 		call send_uart
 17593               	.LVL1090:
 17594 4054 E0E0      		ldi r30,lo8(.LC14+1)
 17595 4056 6E2E      		mov r6,r30
 17596 4058 E0E0      		ldi r30,hi8(.LC14+1)
 17597 405a 7E2E      		mov r7,r30
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 17598               		.loc 7 5 0
 17599 405c 40E5      		ldi r20,lo8(80)
 17600               	.LBB6236:
 17601               	.LBB6237:
 17602               	.LBB6238:
 17603               	.LBB6239:
 17604               	.LBB6240:
 17605               	.LBB6241:
 17606               	.LBB6242:
 17607               	.LBB6243:
 17608               	.LBB6244:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 17609               		.loc 4 57 0
 17610 405e 36E0      		ldi r19,lo8(6)
 17611               	.LBE6244:
 17612               	.LBE6243:
 17613               	.LBE6242:
 17614               	.LBE6241:
 17615               	.LBE6240:
 17616               	.LBB6257:
 17617               	.LBB6258:
 17618               	.LBB6259:
 17619               	.LBB6260:
 17620               	.LBB6261:
 17621               	.LBB6262:
 17622               	.LBB6263:
 17623               	.LBB6264:
 17624               	.LBB6265:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 17625               		.loc 3 220 0
 17626 4060 F0E0      		ldi r31,lo8(endpoints+24)
 17627 4062 EF2E      		mov r14,r31
 17628 4064 F0E0      		ldi r31,hi8(endpoints+24)
 17629 4066 FF2E      		mov r15,r31
 17630               	.LBE6265:
 17631               	.LBE6264:
 17632               	.LBB6267:
 17633               	.LBB6268:
 17634               		.loc 4 91 0
 17635 4068 A0E0      		ldi r26,lo8(ep_in_pipe_buffer)
 17636 406a 4A2E      		mov r4,r26
 17637 406c A0E0      		ldi r26,hi8(ep_in_pipe_buffer)
 17638 406e 5A2E      		mov r5,r26
 17639               	.LBE6268:
 17640               	.LBE6267:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 17641               		.loc 1 88 0
 17642 4070 12E0      		ldi r17,lo8(2)
 17643               	.LBB6271:
 17644               	.LBB6272:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 17645               		.loc 1 69 0
 17646 4072 B1E0      		ldi r27,lo8(1)
 17647 4074 CB2E      		mov r12,r27
 17648 4076 D12C      		mov r13,__zero_reg__
 17649               	.LBE6272:
 17650               	.LBE6271:
 17651               	.LBB6281:
 17652               	.LBB6282:
 17653               	.LBB6283:
 17654               	.LBB6284:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 17655               		.loc 3 169 0
 17656 4078 00E4      		ldi r16,lo8(64)
 17657 407a A02E      		mov r10,r16
 17658 407c B12C      		mov r11,__zero_reg__
 17659               	.LVL1091:
 17660               	.L852:
 17661               	.LBE6284:
 17662               	.LBE6283:
 17663               	.LBE6282:
 17664               	.LBE6281:
 17665               	.LBE6263:
 17666               	.LBE6262:
 17667               	.LBE6261:
 17668               	.LBE6260:
 17669               	.LBE6259:
 17670               	.LBE6258:
 17671               	.LBE6257:
 17672               	.LBB6337:
 17673               	.LBB6255:
 17674               	.LBB6253:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17675               		.loc 1 123 0
 17676 407e 9FB7      		in r25,__SREG__
 17677               	.LVL1092:
 17678               	.LBB6246:
 17679               	.LBB6247:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17680               		.loc 2 50 0
 17681               	/* #APP */
 17682               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17683 4080 F894      		cli
 17684               	 ;  0 "" 2
 17685               	.LVL1093:
 17686               	/* #NOAPP */
 17687               	.LBE6247:
 17688               	.LBE6246:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 17689               		.loc 1 124 0
 17690 4082 8091 0000 		lds r24,ep_in_data+1
 17691 4086 8823      		tst r24
 17692 4088 01F0      		breq .L866
 17693               	.L822:
 125:usb/usb_pipe.h **** 			r = false;
 17694               		.loc 1 125 0
 17695 408a 80E0      		ldi r24,lo8(0)
 17696               	.L716:
 17697               	.LBB6249:
 17698               	.LBB6250:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 17699               		.loc 2 70 0
 17700 408c 9FBF      		out __SREG__,r25
 17701               		.loc 2 71 0
 17702               	.LBE6250:
 17703               	.LBE6249:
 17704               	.LBE6253:
 17705               	.LBE6255:
 17706               	.LBE6337:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 17707               		.loc 5 20 0
 17708 408e 8823      		tst r24
 17709 4090 01F0      		breq .L852
 17710               	.LVL1094:
 17711               	.LBB6338:
 17712               	.LBB6339:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 17713               		.loc 1 175 0
 17714 4092 8091 0000 		lds r24,ep_in_data+2
 17715 4096 9091 0000 		lds r25,ep_in_data+2+1
 17716 409a E091 0000 		lds r30,ep_in_pipe_data+2
 17717 409e F091 0000 		lds r31,ep_in_pipe_data+2+1
 17718 40a2 E80F      		add r30,r24
 17719 40a4 F91F      		adc r31,r25
 17720 40a6 4083      		st Z,r20
 17721 40a8 0196      		adiw r24,1
 17722 40aa 8093 0000 		sts ep_in_data+2,r24
 17723 40ae 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 17724               		.loc 1 176 0
 17725 40b2 8034      		cpi r24,64
 17726 40b4 9105      		cpc r25,__zero_reg__
 17727 40b6 01F4      		brne .+2
 17728 40b8 00C0      		rjmp .L867
 17729               	.LBE6339:
 17730               	.LBE6338:
 17731               	.LBE6239:
 17732               	.LBE6238:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 17733               		.loc 7 5 0
 17734 40ba F301      		movw r30,r6
 17735 40bc 4191      		ld r20,Z+
 17736               	.LVL1095:
 17737 40be 4423      		tst r20
 17738 40c0 01F4      		brne .+2
 17739 40c2 00C0      		rjmp .L730
 17740               	.LVL1096:
 17741               	.L870:
 17742 40c4 6114      		cp r6,__zero_reg__
 17743 40c6 7104      		cpc r7,__zero_reg__
 17744 40c8 01F4      		brne .+2
 17745 40ca 00C0      		rjmp .L730
 17746 40cc 3F01      		movw r6,r30
 17747               	.LBB6348:
 17748               	.LBB6344:
 17749               	.LBB6340:
 17750               	.LBB6256:
 17751               	.LBB6254:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 17752               		.loc 1 123 0
 17753 40ce 9FB7      		in r25,__SREG__
 17754               	.LVL1097:
 17755               	.LBB6251:
 17756               	.LBB6248:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 17757               		.loc 2 50 0
 17758               	/* #APP */
 17759               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 17760 40d0 F894      		cli
 17761               	 ;  0 "" 2
 17762               	/* #NOAPP */
 17763               	.LBE6248:
 17764               	.LBE6251:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 17765               		.loc 1 124 0
 17766 40d2 8091 0000 		lds r24,ep_in_data+1
 17767 40d6 8823      		tst r24
 17768 40d8 01F4      		brne .L822
 17769               	.LVL1098:
 17770               	.L866:
 17771               	.LBB6252:
 17772               	.LBB6245:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 17773               		.loc 4 57 0
 17774 40da 8091 0000 		lds r24,ep_in_pipe_data+4
 17775 40de 232F      		mov r18,r19
 17776 40e0 281B      		sub r18,r24
 17777               	.LBE6245:
 17778               	.LBE6252:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 17779               		.loc 1 127 0
 17780 40e2 81E0      		ldi r24,lo8(1)
 17781 40e4 1216      		cp __zero_reg__,r18
 17782 40e6 04F0      		brlt .L716
 17783 40e8 00C0      		rjmp .L822
 17784               	.LVL1099:
 17785               	.L863:
 17786               	.LBE6254:
 17787               	.LBE6256:
 17788               	.LBE6340:
 17789               	.LBE6344:
 17790               	.LBE6348:
 17791               	.LBE6237:
 17792               	.LBE6236:
 17793               	.LBB6465:
 17794               	.LBB6232:
 17795               	.LBB6229:
 17796               	.LBB6196:
 17797               	.LBB6193:
 17798               	.LBB6186:
 17799               	.LBB6183:
 17800               	.LBB6180:
 17801               	.LBB6177:
 17802               	.LBB6168:
 17803               	.LBB6165:
 17804               	.LBB6147:
 17805               	.LBB6148:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 17806               		.loc 4 51 0
 17807 40ea 2091 0000 		lds r18,ep_in_pipe_data+4
 17808               	.LBE6148:
 17809               	.LBE6147:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 17810               		.loc 1 83 0
 17811 40ee 1216      		cp __zero_reg__,r18
 17812 40f0 04F0      		brlt .+2
 17813 40f2 00C0      		rjmp .L701
 17814               	.LBB6149:
 17815               	.LBB6150:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 17816               		.loc 4 62 0
 17817 40f4 4091 0000 		lds r20,ep_in_pipe_data
 17818 40f8 5091 0000 		lds r21,ep_in_pipe_data+1
 17819               	.LVL1100:
 17820               	.LBE6150:
 17821               	.LBE6149:
 17822               	.LBB6151:
 17823               	.LBB6140:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 17824               		.loc 1 68 0
 17825 40fc 6091 0000 		lds r22,ep_in_data
 17826               	.LVL1101:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 17827               		.loc 1 69 0
 17828 4100 862F      		mov r24,r22
 17829 4102 90E0      		ldi r25,lo8(0)
 17830               	.LVL1102:
 17831 4104 71E0      		ldi r23,lo8(1)
 17832 4106 8C15      		cp r24,r12
 17833 4108 9D05      		cpc r25,r13
 17834 410a 01F4      		brne .L702
 17835 410c 70E0      		ldi r23,lo8(0)
 17836               	.L702:
 17837 410e 7093 0000 		sts ep_in_data,r23
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 17838               		.loc 1 72 0
 17839 4112 6623      		tst r22
 17840 4114 01F4      		brne .L703
 17841               	.LVL1103:
 17842               	.LBB6137:
 17843               	.LBB6138:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 17844               		.loc 3 168 0
 17845 4116 4093 0000 		sts endpoints+28,r20
 17846 411a 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 17847               		.loc 3 169 0
 17848 411e A092 0000 		sts endpoints+26,r10
 17849 4122 B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 17850               		.loc 3 174 0
 17851 4126 F701      		movw r30,r14
 17852               	/* #APP */
 17853               	 ;  174 "usb/usb.h" 1
 17854 4128 02E2      		ldi r16, 34
 17855 412a 0693      		.dc.w 0x9306
 17856               		
 17857               	 ;  0 "" 2
 17858               	.LVL1104:
 17859               	/* #NOAPP */
 17860               	.L704:
 17861               	.LBE6138:
 17862               	.LBE6137:
 17863               	.LBE6140:
 17864               	.LBE6151:
 17865               	.LBB6152:
 17866               	.LBB6153:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 17867               		.loc 4 72 0
 17868 412c 2150      		subi r18,lo8(-(-1))
 17869 412e 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 17870               		.loc 4 73 0
 17871 4132 CA01      		movw r24,r20
 17872 4134 805C      		subi r24,lo8(-(64))
 17873 4136 9F4F      		sbci r25,hi8(-(64))
 17874 4138 8093 0000 		sts ep_in_pipe_data,r24
 17875 413c 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 17876               		.loc 4 75 0
 17877 4140 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 17878 4142 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 17879 4144 9F07      		cpc r25,r31
 17880 4146 01F0      		breq .+2
 17881 4148 00C0      		rjmp .L700
 17882               	.LBE6153:
 17883               	.LBE6152:
 17884               	.LBB6154:
 17885               	.LBB6120:
 17886               		.loc 4 91 0
 17887 414a 4092 0000 		sts ep_in_pipe_data,r4
 17888 414e 5092 0000 		sts ep_in_pipe_data+1,r5
 17889               	.LVL1105:
 17890 4152 00C0      		rjmp .L700
 17891               	.LVL1106:
 17892               	.L703:
 17893               	.LBE6120:
 17894               	.LBE6154:
 17895               	.LBB6155:
 17896               	.LBB6141:
 17897               	.LBB6139:
 17898               	.LBB6136:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 17899               		.loc 3 168 0
 17900 4154 4093 0000 		sts endpoints+20,r20
 17901 4158 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 17902               		.loc 3 169 0
 17903 415c A092 0000 		sts endpoints+18,r10
 17904 4160 B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 17905               		.loc 3 176 0
 17906 4164 F701      		movw r30,r14
 17907               	/* #APP */
 17908               	 ;  176 "usb/usb.h" 1
 17909 4166 04E1      		ldi r16, 20
 17910 4168 0693      		.dc.w 0x9306
 17911               		
 17912               	 ;  0 "" 2
 17913               	/* #NOAPP */
 17914 416a 00C0      		rjmp .L704
 17915               	.LVL1107:
 17916               	.L701:
 17917               	.LBE6136:
 17918               	.LBE6139:
 17919               	.LBE6141:
 17920               	.LBE6155:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 17921               		.loc 1 87 0
 17922 416c 8091 0000 		lds r24,ep_in_data+1
 17923 4170 8130      		cpi r24,lo8(1)
 17924 4172 01F0      		breq .L868
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 17925               		.loc 1 91 0
 17926 4174 8230      		cpi r24,lo8(2)
 17927 4176 01F0      		breq .+2
 17928 4178 00C0      		rjmp .L700
 17929               	.LVL1108:
 17930               	.LBB6156:
 17931               	.LBB6157:
 17932               	.LBB6158:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 17933               		.loc 3 228 0
 17934 417a 8091 0000 		lds r24,endpoints+24
 17935 417e 8670      		andi r24,lo8(6)
 17936               	.LBE6158:
 17937               	.LBE6157:
 17938               	.LBE6156:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 17939               		.loc 1 91 0
 17940 4180 8630      		cpi r24,lo8(6)
 17941 4182 01F0      		breq .+2
 17942 4184 00C0      		rjmp .L700
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 17943               		.loc 1 92 0
 17944 4186 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 17945               		.loc 1 93 0
 17946 418a 1092 0000 		sts ep_in_data+2,__zero_reg__
 17947 418e 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 17948               	.LBB6159:
 17949               	.LBB6121:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 17950               		.loc 4 90 0
 17951 4192 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 17952               		.loc 4 91 0
 17953 4196 4092 0000 		sts ep_in_pipe_data+2,r4
 17954 419a 5092 0000 		sts ep_in_pipe_data+2+1,r5
 17955 419e 4092 0000 		sts ep_in_pipe_data,r4
 17956 41a2 5092 0000 		sts ep_in_pipe_data+1,r5
 17957               	.LVL1109:
 17958 41a6 00C0      		rjmp .L700
 17959               	.LVL1110:
 17960               	.L868:
 17961               	.LBE6121:
 17962               	.LBE6159:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 17963               		.loc 1 88 0
 17964 41a8 1093 0000 		sts ep_in_data+1,r17
 17965               	.LBB6160:
 17966               	.LBB6161:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 17967               		.loc 4 62 0
 17968 41ac 7091 0000 		lds r23,ep_in_pipe_data
 17969 41b0 E091 0000 		lds r30,ep_in_pipe_data+1
 17970               	.LBE6161:
 17971               	.LBE6160:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 17972               		.loc 1 90 0
 17973 41b4 4091 0000 		lds r20,ep_in_data+2
 17974 41b8 5091 0000 		lds r21,ep_in_data+2+1
 17975               	.LVL1111:
 17976               	.LBB6162:
 17977               	.LBB6130:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 17978               		.loc 1 68 0
 17979 41bc 6091 0000 		lds r22,ep_in_data
 17980               	.LVL1112:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 17981               		.loc 1 69 0
 17982 41c0 862F      		mov r24,r22
 17983 41c2 90E0      		ldi r25,lo8(0)
 17984 41c4 21E0      		ldi r18,lo8(1)
 17985 41c6 8C15      		cp r24,r12
 17986 41c8 9D05      		cpc r25,r13
 17987 41ca 01F4      		brne .L707
 17988 41cc 20E0      		ldi r18,lo8(0)
 17989               	.L707:
 17990 41ce 2093 0000 		sts ep_in_data,r18
 17991               	.LBB6124:
 17992               	.LBB6125:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 17993               		.loc 3 168 0
 17994 41d2 872F      		mov r24,r23
 17995 41d4 9E2F      		mov r25,r30
 17996               	.LBE6125:
 17997               	.LBE6124:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 17998               		.loc 1 72 0
 17999 41d6 6623      		tst r22
 18000 41d8 01F0      		breq .+2
 18001 41da 00C0      		rjmp .L708
 18002               	.LVL1113:
 18003               	.LBB6127:
 18004               	.LBB6126:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 18005               		.loc 3 168 0
 18006 41dc 8093 0000 		sts endpoints+28,r24
 18007 41e0 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 18008               		.loc 3 169 0
 18009 41e4 4093 0000 		sts endpoints+26,r20
 18010 41e8 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 18011               		.loc 3 174 0
 18012 41ec F701      		movw r30,r14
 18013               	/* #APP */
 18014               	 ;  174 "usb/usb.h" 1
 18015 41ee 02E2      		ldi r16, 34
 18016 41f0 0693      		.dc.w 0x9306
 18017               		
 18018               	 ;  0 "" 2
 18019               	/* #NOAPP */
 18020 41f2 00C0      		rjmp .L700
 18021               	.LVL1114:
 18022               	.L865:
 18023               	.LBE6126:
 18024               	.LBE6127:
 18025               	.LBE6130:
 18026               	.LBE6162:
 18027               	.LBE6165:
 18028               	.LBE6168:
 18029               	.LBE6177:
 18030               	.LBE6180:
 18031               	.LBE6183:
 18032               	.LBE6186:
 18033               	.LBE6193:
 18034               	.LBE6196:
 18035               	.LBE6229:
 18036               	.LBB6230:
 18037               	.LBB6228:
 18038               	.LBB6227:
 18039               	.LBB6215:
 18040               	.LBB6214:
 18041               	.LBB6213:
 18042               	.LBB6208:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 18043               		.loc 4 57 0
 18044 41f4 8091 0000 		lds r24,ep_in_pipe_data+4
 18045 41f8 232F      		mov r18,r19
 18046 41fa 281B      		sub r18,r24
 18047               	.LBE6208:
 18048               	.LBE6213:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 18049               		.loc 1 127 0
 18050 41fc 81E0      		ldi r24,lo8(1)
 18051 41fe 1216      		cp __zero_reg__,r18
 18052 4200 04F4      		brge .+2
 18053 4202 00C0      		rjmp .L713
 18054 4204 00C0      		rjmp .L821
 18055               	.LVL1115:
 18056               	.L867:
 18057               	.LBE6214:
 18058               	.LBE6215:
 18059               	.LBE6227:
 18060               	.LBE6228:
 18061               	.LBE6230:
 18062               	.LBE6232:
 18063               	.LBE6465:
 18064               	.LBB6466:
 18065               	.LBB6456:
 18066               	.LBB6349:
 18067               	.LBB6345:
 18068               	.LBB6341:
 18069               	.LBB6334:
 18070               	.LBB6331:
 18071               	.LBB6328:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 18072               		.loc 1 177 0
 18073 4206 BFB7      		in r27,__SREG__
 18074               	.LVL1116:
 18075               	.LBB6319:
 18076               	.LBB6320:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18077               		.loc 2 50 0
 18078               	/* #APP */
 18079               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18080 4208 F894      		cli
 18081               	 ;  0 "" 2
 18082               	.LVL1117:
 18083               	/* #NOAPP */
 18084               	.LBE6320:
 18085               	.LBE6319:
 18086               		.loc 1 178 0
 18087 420a 1092 0000 		sts ep_in_data+2,__zero_reg__
 18088 420e 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 18089               	.LVL1118:
 18090               	.LBB6321:
 18091               	.LBB6322:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 18092               		.loc 4 81 0
 18093 4212 8091 0000 		lds r24,ep_in_pipe_data+4
 18094 4216 8F5F      		subi r24,lo8(-(1))
 18095 4218 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 18096               		.loc 4 82 0
 18097 421c 8091 0000 		lds r24,ep_in_pipe_data+2
 18098 4220 9091 0000 		lds r25,ep_in_pipe_data+2+1
 18099 4224 805C      		subi r24,lo8(-(64))
 18100 4226 9F4F      		sbci r25,hi8(-(64))
 18101 4228 8093 0000 		sts ep_in_pipe_data+2,r24
 18102 422c 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 18103               		.loc 4 84 0
 18104 4230 A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 18105 4232 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 18106 4234 9A07      		cpc r25,r26
 18107 4236 01F4      		brne .L720
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 18108               		.loc 4 85 0
 18109 4238 4092 0000 		sts ep_in_pipe_data+2,r4
 18110 423c 5092 0000 		sts ep_in_pipe_data+2+1,r5
 18111               	.L720:
 18112               	.LVL1119:
 18113               	.LBE6322:
 18114               	.LBE6321:
 18115               	.LBB6323:
 18116               	.LBB6316:
 18117               	.LBB6313:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18118               		.loc 1 80 0
 18119 4240 AFB7      		in r26,__SREG__
 18120               	.LVL1120:
 18121               	.LBB6291:
 18122               	.LBB6292:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18123               		.loc 2 50 0
 18124               	/* #APP */
 18125               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18126 4242 F894      		cli
 18127               	 ;  0 "" 2
 18128               	.LVL1121:
 18129               	/* #NOAPP */
 18130               	.LBE6292:
 18131               	.LBE6291:
 18132               	.LBB6293:
 18133               	.LBB6266:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 18134               		.loc 3 220 0
 18135 4244 8091 0000 		lds r24,endpoints+24
 18136 4248 8670      		andi r24,lo8(6)
 18137               	.LBE6266:
 18138               	.LBE6293:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 18139               		.loc 1 82 0
 18140 424a 01F0      		breq .+2
 18141 424c 00C0      		rjmp .L869
 18142               	.LVL1122:
 18143               	.L721:
 18144               	.LBB6294:
 18145               	.LBB6295:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 18146               		.loc 2 70 0
 18147 424e AFBF      		out __SREG__,r26
 18148               		.loc 2 71 0
 18149               	.LVL1123:
 18150               	.LBE6295:
 18151               	.LBE6294:
 18152               	.LBE6313:
 18153               	.LBE6316:
 18154               	.LBE6323:
 18155               	.LBB6324:
 18156               	.LBB6325:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 18157               		.loc 2 70 0
 18158 4250 BFBF      		out __SREG__,r27
 18159               		.loc 2 71 0
 18160               	.LBE6325:
 18161               	.LBE6324:
 18162               	.LBE6328:
 18163               	.LBE6331:
 18164               	.LBE6334:
 18165               	.LBE6341:
 18166               	.LBE6345:
 18167               	.LBE6349:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 18168               		.loc 7 5 0
 18169 4252 F301      		movw r30,r6
 18170 4254 4191      		ld r20,Z+
 18171 4256 4423      		tst r20
 18172 4258 01F0      		breq .+2
 18173 425a 00C0      		rjmp .L870
 18174               	.LVL1124:
 18175               	.L730:
 18176               	.LBB6350:
 18177               	.LBB6351:
 18178               	.LBB6352:
 18179               	.LBB6353:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 18180               		.loc 1 110 0
 18181 425c 81E0      		ldi r24,lo8(1)
 18182 425e 8093 0000 		sts ep_in_data+1,r24
 18183               	.LVL1125:
 18184               	.LBB6354:
 18185               	.LBB6355:
 18186               	.LBB6356:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18187               		.loc 1 80 0
 18188 4262 5FB7      		in r21,__SREG__
 18189               	.LVL1126:
 18190               	.LBB6357:
 18191               	.LBB6358:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18192               		.loc 2 50 0
 18193               	/* #APP */
 18194               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18195 4264 F894      		cli
 18196               	 ;  0 "" 2
 18197               	.LVL1127:
 18198               	/* #NOAPP */
 18199               	.LBE6358:
 18200               	.LBE6357:
 18201               	.LBB6359:
 18202               	.LBB6360:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 18203               		.loc 3 220 0
 18204 4266 8091 0000 		lds r24,endpoints+24
 18205 426a 8670      		andi r24,lo8(6)
 18206               	.LBE6360:
 18207               	.LBE6359:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 18208               		.loc 1 82 0
 18209 426c 01F0      		breq .+2
 18210 426e 00C0      		rjmp .L871
 18211               	.LVL1128:
 18212               	.L732:
 18213               	.LBB6361:
 18214               	.LBB6362:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 18215               		.loc 2 70 0
 18216 4270 5FBF      		out __SREG__,r21
 18217               		.loc 2 71 0
 18218               	.LBE6362:
 18219               	.LBE6361:
 18220               	.LBE6356:
 18221               	.LBE6355:
 18222               	.LBE6354:
 18223               	.LBE6353:
 18224               	.LBE6352:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 18225               		.loc 5 27 0
 18226 4272 82E0      		ldi r24,lo8(2)
 18227 4274 E0EC      		ldi r30,lo8(1216)
 18228 4276 F4E0      		ldi r31,hi8(1216)
 18229 4278 8587      		std Z+13,r24
 18230               	.LBB6412:
 18231               	.LBB6413:
 18232               	.LBB6414:
 18233               	.LBB6415:
 18234               	.LBB6416:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 18235               		.loc 4 57 0
 18236 427a 36E0      		ldi r19,lo8(6)
 18237               	.L741:
 18238               	.LVL1129:
 18239               	.LBE6416:
 18240               	.LBE6415:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18241               		.loc 1 123 0
 18242 427c 9FB7      		in r25,__SREG__
 18243               	.LVL1130:
 18244               	.LBB6418:
 18245               	.LBB6419:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18246               		.loc 2 50 0
 18247               	/* #APP */
 18248               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18249 427e F894      		cli
 18250               	 ;  0 "" 2
 18251               	.LVL1131:
 18252               	/* #NOAPP */
 18253               	.LBE6419:
 18254               	.LBE6418:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 18255               		.loc 1 124 0
 18256 4280 8091 0000 		lds r24,ep_in_data+1
 18257 4284 8823      		tst r24
 18258 4286 01F4      		brne .+2
 18259 4288 00C0      		rjmp .L872
 18260               	.L824:
 125:usb/usb_pipe.h **** 			r = false;
 18261               		.loc 1 125 0
 18262 428a 80E0      		ldi r24,lo8(0)
 18263               	.L743:
 18264               	.LBB6420:
 18265               	.LBB6421:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 18266               		.loc 2 70 0
 18267 428c 9FBF      		out __SREG__,r25
 18268               		.loc 2 71 0
 18269               	.LBE6421:
 18270               	.LBE6420:
 18271               	.LBE6414:
 18272               	.LBE6413:
 18273               	.LBE6412:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 18274               		.loc 5 28 0
 18275 428e 8823      		tst r24
 18276 4290 01F4      		brne .L742
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 18277               		.loc 5 29 0
 18278 4292 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 18279 4296 8823      		tst r24
 18280 4298 01F0      		breq .L741
 18281               	.LVL1132:
 18282               	.LBB6425:
 18283               	.LBB6426:
 18284               	.LBB6427:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18285               		.loc 1 54 0
 18286 429a 2FB7      		in r18,__SREG__
 18287               	.LVL1133:
 18288               	.LBB6428:
 18289               	.LBB6429:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18290               		.loc 2 50 0
 18291               	/* #APP */
 18292               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18293 429c F894      		cli
 18294               	 ;  0 "" 2
 18295               	.LVL1134:
 18296               	/* #NOAPP */
 18297               	.LBE6429:
 18298               	.LBE6428:
 18299               	.LBB6430:
 18300               	.LBB6431:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 18301               		.loc 4 90 0
 18302 429e 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 18303               		.loc 4 91 0
 18304 42a2 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 18305 42a4 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 18306 42a6 8093 0000 		sts ep_in_pipe_data+2,r24
 18307 42aa 9093 0000 		sts ep_in_pipe_data+2+1,r25
 18308 42ae 8093 0000 		sts ep_in_pipe_data,r24
 18309 42b2 9093 0000 		sts ep_in_pipe_data+1,r25
 18310               	.LVL1135:
 18311               	.LBE6431:
 18312               	.LBE6430:
 18313               	.LBB6432:
 18314               	.LBB6433:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 18315               		.loc 3 158 0
 18316 42b6 E0E0      		ldi r30,lo8(endpoints+24)
 18317 42b8 F0E0      		ldi r31,hi8(endpoints+24)
 18318               	/* #APP */
 18319               	 ;  158 "usb/usb.h" 1
 18320 42ba 06E0      		ldi r16, 6
 18321 42bc 0593      		.dc.w 0x9305
 18322               		
 18323               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 18324               		.loc 3 159 0
 18325               	 ;  159 "usb/usb.h" 1
 18326 42be 08E0      		ldi r16, 8
 18327 42c0 0693      		.dc.w 0x9306
 18328               		
 18329               	 ;  0 "" 2
 18330               	/* #NOAPP */
 18331               	.LBE6433:
 18332               	.LBE6432:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 18333               		.loc 1 57 0
 18334 42c2 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 18335               		.loc 1 58 0
 18336 42c6 1092 0000 		sts ep_in_data+2,__zero_reg__
 18337 42ca 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 18338               		.loc 1 59 0
 18339 42ce 1092 0000 		sts ep_in_data,__zero_reg__
 18340               	.LVL1136:
 18341               	.LBB6434:
 18342               	.LBB6435:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 18343               		.loc 2 70 0
 18344 42d2 2FBF      		out __SREG__,r18
 18345               		.loc 2 71 0
 18346               	.LVL1137:
 18347               	.L742:
 18348               	.LBE6435:
 18349               	.LBE6434:
 18350               	.LBE6427:
 18351               	.LBE6426:
 18352               	.LBE6425:
 18353               	.LBE6351:
 18354               	.LBE6350:
 18355               	.LBE6456:
 18356               	.LBE6466:
 18357               	.LBB6467:
 18358               	.LBB6468:
 18359               		.loc 11 164 0
 18360 42d4 8FEF      		 ldi r24,lo8(639999)
 18361 42d6 93EC      	    ldi r25,hi8(639999)
 18362 42d8 A9E0      	    ldi r26,hlo8(639999)
 18363 42da 8150      	    1:subi r24,1
 18364 42dc 9040      	    sbci r25,0
 18365 42de A040      	    sbci r26,0
 18366 42e0 01F4      	    brne 1b
 18367 42e2 00C0      		rjmp .
 18368 42e4 0000      		nop
 18369               	.LVL1138:
 18370               	.L746:
 18371               	.LBE6468:
 18372               	.LBE6467:
 18373               	.LBB6469:
 18374               	.LBB6470:
 18375               	.LBB6471:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 18376               		.loc 9 30 0
 18377 42e6 D401      		movw r26,r8
 18378 42e8 1196      		adiw r26,1
 18379 42ea 8C91      		ld r24,X
 18380 42ec 1197      		sbiw r26,1
 18381 42ee 87FF      		sbrs r24,7
 18382 42f0 00C0      		rjmp .L746
  33:uart/uart.h   ****     return USART->DATA; 
 18383               		.loc 9 33 0
 18384 42f2 4C91      		ld r20,X
 18385               	.LBE6471:
 18386               	.LBE6470:
  68:sms/sms.h     ****     s[i] = c;
 18387               		.loc 13 68 0
 18388 42f4 F101      		movw r30,r2
 18389 42f6 4083      		st Z,r20
 18390               	.LVL1139:
 18391               	.LBE6469:
  70:sms/sms.h     ****   s[n] = '\0';
 18392               		.loc 13 70 0
 18393 42f8 1182      		std Z+1,__zero_reg__
 18394               	.LVL1140:
 18395               	.LBB6472:
 18396               	.LBB6473:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 18397               		.loc 7 5 0
 18398 42fa 4423      		tst r20
 18399 42fc 01F4      		brne .+2
 18400 42fe 00C0      		rjmp .L747
  54:sms/sms.h     **** void SimpleReceive(USART_t* USART) {
 18401               		.loc 13 54 0
 18402 4300 5101      		movw r10,r2
 18403 4302 0894      		sec
 18404 4304 A11C      		adc r10,__zero_reg__
 18405 4306 B11C      		adc r11,__zero_reg__
 18406               	.LBB6474:
 18407               	.LBB6475:
 18408               	.LBB6476:
 18409               	.LBB6477:
 18410               	.LBB6478:
 18411               	.LBB6479:
 18412               	.LBB6480:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 18413               		.loc 4 57 0
 18414 4308 36E0      		ldi r19,lo8(6)
 18415               	.LBE6480:
 18416               	.LBE6479:
 18417               	.LBE6478:
 18418               	.LBE6477:
 18419               	.LBE6476:
 18420               	.LBB6493:
 18421               	.LBB6494:
 18422               	.LBB6495:
 18423               	.LBB6496:
 18424               	.LBB6497:
 18425               	.LBB6498:
 18426               	.LBB6499:
 18427               	.LBB6500:
 18428               	.LBB6501:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 18429               		.loc 3 220 0
 18430 430a A0E0      		ldi r26,lo8(endpoints+24)
 18431 430c B0E0      		ldi r27,hi8(endpoints+24)
 18432               	.LBE6501:
 18433               	.LBE6500:
 18434               	.LBB6503:
 18435               	.LBB6504:
 18436               		.loc 4 91 0
 18437 430e 50E0      		ldi r21,lo8(ep_in_pipe_buffer)
 18438 4310 452E      		mov r4,r21
 18439 4312 50E0      		ldi r21,hi8(ep_in_pipe_buffer)
 18440 4314 552E      		mov r5,r21
 18441               	.LVL1141:
 18442               	.LBE6504:
 18443               	.LBE6503:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 18444               		.loc 1 88 0
 18445 4316 12E0      		ldi r17,lo8(2)
 18446               	.LBB6507:
 18447               	.LBB6508:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 18448               		.loc 1 69 0
 18449 4318 61E0      		ldi r22,lo8(1)
 18450 431a E62E      		mov r14,r22
 18451 431c F12C      		mov r15,__zero_reg__
 18452               	.LBE6508:
 18453               	.LBE6507:
 18454               	.LBB6515:
 18455               	.LBB6516:
 18456               	.LBB6517:
 18457               	.LBB6518:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 18458               		.loc 3 169 0
 18459 431e 70E4      		ldi r23,lo8(64)
 18460 4320 C72E      		mov r12,r23
 18461 4322 D12C      		mov r13,__zero_reg__
 18462               	.LVL1142:
 18463               	.L853:
 18464               	.LBE6518:
 18465               	.LBE6517:
 18466               	.LBE6516:
 18467               	.LBE6515:
 18468               	.LBE6499:
 18469               	.LBE6498:
 18470               	.LBE6497:
 18471               	.LBE6496:
 18472               	.LBE6495:
 18473               	.LBE6494:
 18474               	.LBE6493:
 18475               	.LBB6571:
 18476               	.LBB6491:
 18477               	.LBB6489:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18478               		.loc 1 123 0
 18479 4324 9FB7      		in r25,__SREG__
 18480               	.LVL1143:
 18481               	.LBB6482:
 18482               	.LBB6483:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18483               		.loc 2 50 0
 18484               	/* #APP */
 18485               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18486 4326 F894      		cli
 18487               	 ;  0 "" 2
 18488               	.LVL1144:
 18489               	/* #NOAPP */
 18490               	.LBE6483:
 18491               	.LBE6482:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 18492               		.loc 1 124 0
 18493 4328 8091 0000 		lds r24,ep_in_data+1
 18494 432c 8823      		tst r24
 18495 432e 01F0      		breq .L873
 18496               	.L825:
 125:usb/usb_pipe.h **** 			r = false;
 18497               		.loc 1 125 0
 18498 4330 80E0      		ldi r24,lo8(0)
 18499               	.L748:
 18500               	.LBB6485:
 18501               	.LBB6486:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 18502               		.loc 2 70 0
 18503 4332 9FBF      		out __SREG__,r25
 18504               		.loc 2 71 0
 18505               	.LBE6486:
 18506               	.LBE6485:
 18507               	.LBE6489:
 18508               	.LBE6491:
 18509               	.LBE6571:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 18510               		.loc 5 20 0
 18511 4334 8823      		tst r24
 18512 4336 01F0      		breq .L853
 18513               	.LVL1145:
 18514               	.LBB6572:
 18515               	.LBB6573:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 18516               		.loc 1 175 0
 18517 4338 8091 0000 		lds r24,ep_in_data+2
 18518 433c 9091 0000 		lds r25,ep_in_data+2+1
 18519 4340 E091 0000 		lds r30,ep_in_pipe_data+2
 18520 4344 F091 0000 		lds r31,ep_in_pipe_data+2+1
 18521 4348 E80F      		add r30,r24
 18522 434a F91F      		adc r31,r25
 18523 434c 4083      		st Z,r20
 18524 434e 0196      		adiw r24,1
 18525 4350 8093 0000 		sts ep_in_data+2,r24
 18526 4354 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 18527               		.loc 1 176 0
 18528 4358 8034      		cpi r24,64
 18529 435a 9105      		cpc r25,__zero_reg__
 18530 435c 01F4      		brne .+2
 18531 435e 00C0      		rjmp .L874
 18532               	.LBE6573:
 18533               	.LBE6572:
 18534               	.LBE6475:
 18535               	.LBE6474:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 18536               		.loc 7 5 0
 18537 4360 F501      		movw r30,r10
 18538 4362 4191      		ld r20,Z+
 18539               	.LVL1146:
 18540 4364 4423      		tst r20
 18541 4366 01F4      		brne .+2
 18542 4368 00C0      		rjmp .L747
 18543               	.LVL1147:
 18544               	.L877:
 18545 436a A114      		cp r10,__zero_reg__
 18546 436c B104      		cpc r11,__zero_reg__
 18547 436e 01F4      		brne .+2
 18548 4370 00C0      		rjmp .L747
 18549 4372 5F01      		movw r10,r30
 18550               	.LBB6582:
 18551               	.LBB6578:
 18552               	.LBB6574:
 18553               	.LBB6492:
 18554               	.LBB6490:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18555               		.loc 1 123 0
 18556 4374 9FB7      		in r25,__SREG__
 18557               	.LVL1148:
 18558               	.LBB6487:
 18559               	.LBB6484:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18560               		.loc 2 50 0
 18561               	/* #APP */
 18562               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18563 4376 F894      		cli
 18564               	 ;  0 "" 2
 18565               	/* #NOAPP */
 18566               	.LBE6484:
 18567               	.LBE6487:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 18568               		.loc 1 124 0
 18569 4378 8091 0000 		lds r24,ep_in_data+1
 18570 437c 8823      		tst r24
 18571 437e 01F4      		brne .L825
 18572               	.LVL1149:
 18573               	.L873:
 18574               	.LBB6488:
 18575               	.LBB6481:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 18576               		.loc 4 57 0
 18577 4380 8091 0000 		lds r24,ep_in_pipe_data+4
 18578 4384 232F      		mov r18,r19
 18579 4386 281B      		sub r18,r24
 18580               	.LBE6481:
 18581               	.LBE6488:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 18582               		.loc 1 127 0
 18583 4388 81E0      		ldi r24,lo8(1)
 18584 438a 1216      		cp __zero_reg__,r18
 18585 438c 04F0      		brlt .L748
 18586 438e 00C0      		rjmp .L825
 18587               	.LVL1150:
 18588               	.L869:
 18589               	.LBE6490:
 18590               	.LBE6492:
 18591               	.LBE6574:
 18592               	.LBE6578:
 18593               	.LBE6582:
 18594               	.LBE6473:
 18595               	.LBE6472:
 18596               	.LBB6621:
 18597               	.LBB6457:
 18598               	.LBB6448:
 18599               	.LBB6346:
 18600               	.LBB6342:
 18601               	.LBB6335:
 18602               	.LBB6332:
 18603               	.LBB6329:
 18604               	.LBB6326:
 18605               	.LBB6317:
 18606               	.LBB6314:
 18607               	.LBB6296:
 18608               	.LBB6297:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 18609               		.loc 4 51 0
 18610 4390 2091 0000 		lds r18,ep_in_pipe_data+4
 18611               	.LBE6297:
 18612               	.LBE6296:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 18613               		.loc 1 83 0
 18614 4394 1216      		cp __zero_reg__,r18
 18615 4396 04F0      		brlt .+2
 18616 4398 00C0      		rjmp .L722
 18617               	.LBB6298:
 18618               	.LBB6299:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 18619               		.loc 4 62 0
 18620 439a 4091 0000 		lds r20,ep_in_pipe_data
 18621 439e 5091 0000 		lds r21,ep_in_pipe_data+1
 18622               	.LVL1151:
 18623               	.LBE6299:
 18624               	.LBE6298:
 18625               	.LBB6300:
 18626               	.LBB6289:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 18627               		.loc 1 68 0
 18628 43a2 6091 0000 		lds r22,ep_in_data
 18629               	.LVL1152:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 18630               		.loc 1 69 0
 18631 43a6 862F      		mov r24,r22
 18632 43a8 90E0      		ldi r25,lo8(0)
 18633 43aa 71E0      		ldi r23,lo8(1)
 18634 43ac 8C15      		cp r24,r12
 18635 43ae 9D05      		cpc r25,r13
 18636 43b0 01F4      		brne .L723
 18637 43b2 70E0      		ldi r23,lo8(0)
 18638               	.L723:
 18639 43b4 7093 0000 		sts ep_in_data,r23
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 18640               		.loc 1 72 0
 18641 43b8 6623      		tst r22
 18642 43ba 01F4      		brne .L724
 18643               	.LVL1153:
 18644               	.LBB6286:
 18645               	.LBB6287:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 18646               		.loc 3 168 0
 18647 43bc 4093 0000 		sts endpoints+28,r20
 18648 43c0 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 18649               		.loc 3 169 0
 18650 43c4 A092 0000 		sts endpoints+26,r10
 18651 43c8 B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 18652               		.loc 3 174 0
 18653 43cc F701      		movw r30,r14
 18654               	.LVL1154:
 18655               	/* #APP */
 18656               	 ;  174 "usb/usb.h" 1
 18657 43ce 02E2      		ldi r16, 34
 18658 43d0 0693      		.dc.w 0x9306
 18659               		
 18660               	 ;  0 "" 2
 18661               	.LVL1155:
 18662               	/* #NOAPP */
 18663               	.L725:
 18664               	.LBE6287:
 18665               	.LBE6286:
 18666               	.LBE6289:
 18667               	.LBE6300:
 18668               	.LBB6301:
 18669               	.LBB6302:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 18670               		.loc 4 72 0
 18671 43d2 2150      		subi r18,lo8(-(-1))
 18672 43d4 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 18673               		.loc 4 73 0
 18674 43d8 CA01      		movw r24,r20
 18675 43da 805C      		subi r24,lo8(-(64))
 18676 43dc 9F4F      		sbci r25,hi8(-(64))
 18677 43de 8093 0000 		sts ep_in_pipe_data,r24
 18678 43e2 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 18679               		.loc 4 75 0
 18680 43e6 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 18681 43e8 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 18682 43ea 9F07      		cpc r25,r31
 18683 43ec 01F0      		breq .+2
 18684 43ee 00C0      		rjmp .L721
 18685               	.LBE6302:
 18686               	.LBE6301:
 18687               	.LBB6303:
 18688               	.LBB6269:
 18689               		.loc 4 91 0
 18690 43f0 4092 0000 		sts ep_in_pipe_data,r4
 18691 43f4 5092 0000 		sts ep_in_pipe_data+1,r5
 18692               	.LVL1156:
 18693 43f8 00C0      		rjmp .L721
 18694               	.LVL1157:
 18695               	.L724:
 18696               	.LBE6269:
 18697               	.LBE6303:
 18698               	.LBB6304:
 18699               	.LBB6290:
 18700               	.LBB6288:
 18701               	.LBB6285:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 18702               		.loc 3 168 0
 18703 43fa 4093 0000 		sts endpoints+20,r20
 18704 43fe 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 18705               		.loc 3 169 0
 18706 4402 A092 0000 		sts endpoints+18,r10
 18707 4406 B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 18708               		.loc 3 176 0
 18709 440a F701      		movw r30,r14
 18710               	.LVL1158:
 18711               	/* #APP */
 18712               	 ;  176 "usb/usb.h" 1
 18713 440c 04E1      		ldi r16, 20
 18714 440e 0693      		.dc.w 0x9306
 18715               		
 18716               	 ;  0 "" 2
 18717               	/* #NOAPP */
 18718 4410 00C0      		rjmp .L725
 18719               	.LVL1159:
 18720               	.L722:
 18721               	.LBE6285:
 18722               	.LBE6288:
 18723               	.LBE6290:
 18724               	.LBE6304:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 18725               		.loc 1 87 0
 18726 4412 8091 0000 		lds r24,ep_in_data+1
 18727 4416 8130      		cpi r24,lo8(1)
 18728 4418 01F0      		breq .L875
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 18729               		.loc 1 91 0
 18730 441a 8230      		cpi r24,lo8(2)
 18731 441c 01F0      		breq .+2
 18732 441e 00C0      		rjmp .L721
 18733               	.LVL1160:
 18734               	.LBB6305:
 18735               	.LBB6306:
 18736               	.LBB6307:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 18737               		.loc 3 228 0
 18738 4420 8091 0000 		lds r24,endpoints+24
 18739 4424 8670      		andi r24,lo8(6)
 18740               	.LBE6307:
 18741               	.LBE6306:
 18742               	.LBE6305:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 18743               		.loc 1 91 0
 18744 4426 8630      		cpi r24,lo8(6)
 18745 4428 01F0      		breq .+2
 18746 442a 00C0      		rjmp .L721
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 18747               		.loc 1 92 0
 18748 442c 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 18749               		.loc 1 93 0
 18750 4430 1092 0000 		sts ep_in_data+2,__zero_reg__
 18751 4434 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 18752               	.LBB6308:
 18753               	.LBB6270:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 18754               		.loc 4 90 0
 18755 4438 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 18756               		.loc 4 91 0
 18757 443c 4092 0000 		sts ep_in_pipe_data+2,r4
 18758 4440 5092 0000 		sts ep_in_pipe_data+2+1,r5
 18759 4444 4092 0000 		sts ep_in_pipe_data,r4
 18760 4448 5092 0000 		sts ep_in_pipe_data+1,r5
 18761               	.LVL1161:
 18762 444c 00C0      		rjmp .L721
 18763               	.LVL1162:
 18764               	.L875:
 18765               	.LBE6270:
 18766               	.LBE6308:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 18767               		.loc 1 88 0
 18768 444e 1093 0000 		sts ep_in_data+1,r17
 18769               	.LBB6309:
 18770               	.LBB6310:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 18771               		.loc 4 62 0
 18772 4452 7091 0000 		lds r23,ep_in_pipe_data
 18773 4456 E091 0000 		lds r30,ep_in_pipe_data+1
 18774               	.LBE6310:
 18775               	.LBE6309:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 18776               		.loc 1 90 0
 18777 445a 4091 0000 		lds r20,ep_in_data+2
 18778 445e 5091 0000 		lds r21,ep_in_data+2+1
 18779               	.LVL1163:
 18780               	.LBB6311:
 18781               	.LBB6279:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 18782               		.loc 1 68 0
 18783 4462 6091 0000 		lds r22,ep_in_data
 18784               	.LVL1164:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 18785               		.loc 1 69 0
 18786 4466 862F      		mov r24,r22
 18787 4468 90E0      		ldi r25,lo8(0)
 18788 446a 21E0      		ldi r18,lo8(1)
 18789 446c 8C15      		cp r24,r12
 18790 446e 9D05      		cpc r25,r13
 18791 4470 01F4      		brne .L728
 18792 4472 20E0      		ldi r18,lo8(0)
 18793               	.L728:
 18794 4474 2093 0000 		sts ep_in_data,r18
 18795               	.LBB6273:
 18796               	.LBB6274:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 18797               		.loc 3 168 0
 18798 4478 872F      		mov r24,r23
 18799 447a 9E2F      		mov r25,r30
 18800               	.LBE6274:
 18801               	.LBE6273:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 18802               		.loc 1 72 0
 18803 447c 6623      		tst r22
 18804 447e 01F0      		breq .+2
 18805 4480 00C0      		rjmp .L729
 18806               	.LVL1165:
 18807               	.LBB6276:
 18808               	.LBB6275:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 18809               		.loc 3 168 0
 18810 4482 8093 0000 		sts endpoints+28,r24
 18811 4486 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 18812               		.loc 3 169 0
 18813 448a 4093 0000 		sts endpoints+26,r20
 18814 448e 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 18815               		.loc 3 174 0
 18816 4492 F701      		movw r30,r14
 18817               	/* #APP */
 18818               	 ;  174 "usb/usb.h" 1
 18819 4494 02E2      		ldi r16, 34
 18820 4496 0693      		.dc.w 0x9306
 18821               		
 18822               	 ;  0 "" 2
 18823               	/* #NOAPP */
 18824 4498 00C0      		rjmp .L721
 18825               	.LVL1166:
 18826               	.L708:
 18827               	.LBE6275:
 18828               	.LBE6276:
 18829               	.LBE6279:
 18830               	.LBE6311:
 18831               	.LBE6314:
 18832               	.LBE6317:
 18833               	.LBE6326:
 18834               	.LBE6329:
 18835               	.LBE6332:
 18836               	.LBE6335:
 18837               	.LBE6342:
 18838               	.LBE6346:
 18839               	.LBE6448:
 18840               	.LBE6457:
 18841               	.LBE6621:
 18842               	.LBB6622:
 18843               	.LBB6233:
 18844               	.LBB6231:
 18845               	.LBB6197:
 18846               	.LBB6194:
 18847               	.LBB6187:
 18848               	.LBB6184:
 18849               	.LBB6181:
 18850               	.LBB6178:
 18851               	.LBB6169:
 18852               	.LBB6166:
 18853               	.LBB6163:
 18854               	.LBB6131:
 18855               	.LBB6128:
 18856               	.LBB6129:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 18857               		.loc 3 168 0
 18858 449a 8093 0000 		sts endpoints+20,r24
 18859 449e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 18860               		.loc 3 169 0
 18861 44a2 4093 0000 		sts endpoints+18,r20
 18862 44a6 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 18863               		.loc 3 176 0
 18864 44aa F701      		movw r30,r14
 18865               	/* #APP */
 18866               	 ;  176 "usb/usb.h" 1
 18867 44ac 04E1      		ldi r16, 20
 18868 44ae 0693      		.dc.w 0x9306
 18869               		
 18870               	 ;  0 "" 2
 18871               	/* #NOAPP */
 18872 44b0 00C0      		rjmp .L700
 18873               	.LVL1167:
 18874               	.L872:
 18875               	.LBE6129:
 18876               	.LBE6128:
 18877               	.LBE6131:
 18878               	.LBE6163:
 18879               	.LBE6166:
 18880               	.LBE6169:
 18881               	.LBE6178:
 18882               	.LBE6181:
 18883               	.LBE6184:
 18884               	.LBE6187:
 18885               	.LBE6194:
 18886               	.LBE6197:
 18887               	.LBE6231:
 18888               	.LBE6233:
 18889               	.LBE6622:
 18890               	.LBB6623:
 18891               	.LBB6458:
 18892               	.LBB6449:
 18893               	.LBB6442:
 18894               	.LBB6436:
 18895               	.LBB6424:
 18896               	.LBB6423:
 18897               	.LBB6422:
 18898               	.LBB6417:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 18899               		.loc 4 57 0
 18900 44b2 8091 0000 		lds r24,ep_in_pipe_data+4
 18901 44b6 232F      		mov r18,r19
 18902 44b8 281B      		sub r18,r24
 18903               	.LBE6417:
 18904               	.LBE6422:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 18905               		.loc 1 127 0
 18906 44ba 81E0      		ldi r24,lo8(1)
 18907 44bc 1216      		cp __zero_reg__,r18
 18908 44be 04F4      		brge .+2
 18909 44c0 00C0      		rjmp .L743
 18910 44c2 00C0      		rjmp .L824
 18911               	.LVL1168:
 18912               	.L874:
 18913               	.LBE6423:
 18914               	.LBE6424:
 18915               	.LBE6436:
 18916               	.LBE6442:
 18917               	.LBE6449:
 18918               	.LBE6458:
 18919               	.LBE6623:
 18920               	.LBB6624:
 18921               	.LBB6617:
 18922               	.LBB6583:
 18923               	.LBB6579:
 18924               	.LBB6575:
 18925               	.LBB6568:
 18926               	.LBB6565:
 18927               	.LBB6562:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 18928               		.loc 1 177 0
 18929 44c4 6FB6      		in r6,__SREG__
 18930               	.LVL1169:
 18931               	.LBB6553:
 18932               	.LBB6554:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18933               		.loc 2 50 0
 18934               	/* #APP */
 18935               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18936 44c6 F894      		cli
 18937               	 ;  0 "" 2
 18938               	.LVL1170:
 18939               	/* #NOAPP */
 18940               	.LBE6554:
 18941               	.LBE6553:
 18942               		.loc 1 178 0
 18943 44c8 1092 0000 		sts ep_in_data+2,__zero_reg__
 18944 44cc 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 18945               	.LVL1171:
 18946               	.LBB6555:
 18947               	.LBB6556:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 18948               		.loc 4 81 0
 18949 44d0 8091 0000 		lds r24,ep_in_pipe_data+4
 18950 44d4 8F5F      		subi r24,lo8(-(1))
 18951 44d6 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 18952               		.loc 4 82 0
 18953 44da 8091 0000 		lds r24,ep_in_pipe_data+2
 18954 44de 9091 0000 		lds r25,ep_in_pipe_data+2+1
 18955 44e2 805C      		subi r24,lo8(-(64))
 18956 44e4 9F4F      		sbci r25,hi8(-(64))
 18957 44e6 8093 0000 		sts ep_in_pipe_data+2,r24
 18958 44ea 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 18959               		.loc 4 84 0
 18960 44ee F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 18961 44f0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 18962 44f2 9F07      		cpc r25,r31
 18963 44f4 01F4      		brne .L752
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 18964               		.loc 4 85 0
 18965 44f6 4092 0000 		sts ep_in_pipe_data+2,r4
 18966 44fa 5092 0000 		sts ep_in_pipe_data+2+1,r5
 18967               	.L752:
 18968               	.LVL1172:
 18969               	.LBE6556:
 18970               	.LBE6555:
 18971               	.LBB6557:
 18972               	.LBB6550:
 18973               	.LBB6547:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 18974               		.loc 1 80 0
 18975 44fe 6FB7      		in r22,__SREG__
 18976               	.LVL1173:
 18977               	.LBB6525:
 18978               	.LBB6526:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 18979               		.loc 2 50 0
 18980               	/* #APP */
 18981               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 18982 4500 F894      		cli
 18983               	 ;  0 "" 2
 18984               	.LVL1174:
 18985               	/* #NOAPP */
 18986               	.LBE6526:
 18987               	.LBE6525:
 18988               	.LBB6527:
 18989               	.LBB6502:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 18990               		.loc 3 220 0
 18991 4502 8091 0000 		lds r24,endpoints+24
 18992 4506 8670      		andi r24,lo8(6)
 18993               	.LBE6502:
 18994               	.LBE6527:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 18995               		.loc 1 82 0
 18996 4508 01F0      		breq .+2
 18997 450a 00C0      		rjmp .L876
 18998               	.LVL1175:
 18999               	.L753:
 19000               	.LBB6528:
 19001               	.LBB6529:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19002               		.loc 2 70 0
 19003 450c 6FBF      		out __SREG__,r22
 19004               		.loc 2 71 0
 19005               	.LVL1176:
 19006               	.LBE6529:
 19007               	.LBE6528:
 19008               	.LBE6547:
 19009               	.LBE6550:
 19010               	.LBE6557:
 19011               	.LBB6558:
 19012               	.LBB6559:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19013               		.loc 2 70 0
 19014 450e 6FBE      		out __SREG__,r6
 19015               		.loc 2 71 0
 19016               	.LBE6559:
 19017               	.LBE6558:
 19018               	.LBE6562:
 19019               	.LBE6565:
 19020               	.LBE6568:
 19021               	.LBE6575:
 19022               	.LBE6579:
 19023               	.LBE6583:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 19024               		.loc 7 5 0
 19025 4510 F501      		movw r30,r10
 19026 4512 4191      		ld r20,Z+
 19027 4514 4423      		tst r20
 19028 4516 01F0      		breq .+2
 19029 4518 00C0      		rjmp .L877
 19030               	.LVL1177:
 19031               	.L747:
 19032               	.LBB6584:
 19033               	.LBB6585:
 19034               	.LBB6586:
 19035               	.LBB6587:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 19036               		.loc 1 110 0
 19037 451a 81E0      		ldi r24,lo8(1)
 19038 451c 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 19039               		.loc 1 111 0
 19040 4520 0E94 0000 		call usb_pipe_handle.constprop.9
 19041               	.LVL1178:
 19042               	.LBE6587:
 19043               	.LBE6586:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 19044               		.loc 5 27 0
 19045 4524 82E0      		ldi r24,lo8(2)
 19046 4526 E0EC      		ldi r30,lo8(1216)
 19047 4528 F4E0      		ldi r31,hi8(1216)
 19048 452a 8587      		std Z+13,r24
 19049               	.LBB6588:
 19050               	.LBB6589:
 19051               	.LBB6590:
 19052               	.LBB6591:
 19053               	.LBB6592:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 19054               		.loc 4 57 0
 19055 452c 36E0      		ldi r19,lo8(6)
 19056               	.L763:
 19057               	.LVL1179:
 19058               	.LBE6592:
 19059               	.LBE6591:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19060               		.loc 1 123 0
 19061 452e 9FB7      		in r25,__SREG__
 19062               	.LVL1180:
 19063               	.LBB6594:
 19064               	.LBB6595:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19065               		.loc 2 50 0
 19066               	/* #APP */
 19067               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19068 4530 F894      		cli
 19069               	 ;  0 "" 2
 19070               	.LVL1181:
 19071               	/* #NOAPP */
 19072               	.LBE6595:
 19073               	.LBE6594:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 19074               		.loc 1 124 0
 19075 4532 8091 0000 		lds r24,ep_in_data+1
 19076 4536 8823      		tst r24
 19077 4538 01F4      		brne .+2
 19078 453a 00C0      		rjmp .L878
 19079               	.L827:
 125:usb/usb_pipe.h **** 			r = false;
 19080               		.loc 1 125 0
 19081 453c 80E0      		ldi r24,lo8(0)
 19082               	.L765:
 19083               	.LBB6596:
 19084               	.LBB6597:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19085               		.loc 2 70 0
 19086 453e 9FBF      		out __SREG__,r25
 19087               		.loc 2 71 0
 19088               	.LBE6597:
 19089               	.LBE6596:
 19090               	.LBE6590:
 19091               	.LBE6589:
 19092               	.LBE6588:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 19093               		.loc 5 28 0
 19094 4540 8823      		tst r24
 19095 4542 01F4      		brne .L764
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 19096               		.loc 5 29 0
 19097 4544 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 19098 4548 8823      		tst r24
 19099 454a 01F0      		breq .L763
 19100               	.LVL1182:
 19101               	.LBB6601:
 19102               	.LBB6602:
 19103               	.LBB6603:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19104               		.loc 1 54 0
 19105 454c 2FB7      		in r18,__SREG__
 19106               	.LVL1183:
 19107               	.LBB6604:
 19108               	.LBB6605:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19109               		.loc 2 50 0
 19110               	/* #APP */
 19111               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19112 454e F894      		cli
 19113               	 ;  0 "" 2
 19114               	.LVL1184:
 19115               	/* #NOAPP */
 19116               	.LBE6605:
 19117               	.LBE6604:
 19118               	.LBB6606:
 19119               	.LBB6607:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 19120               		.loc 4 90 0
 19121 4550 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 19122               		.loc 4 91 0
 19123 4554 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 19124 4556 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 19125 4558 8093 0000 		sts ep_in_pipe_data+2,r24
 19126 455c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 19127 4560 8093 0000 		sts ep_in_pipe_data,r24
 19128 4564 9093 0000 		sts ep_in_pipe_data+1,r25
 19129               	.LVL1185:
 19130               	.LBE6607:
 19131               	.LBE6606:
 19132               	.LBB6608:
 19133               	.LBB6609:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 19134               		.loc 3 158 0
 19135 4568 E0E0      		ldi r30,lo8(endpoints+24)
 19136 456a F0E0      		ldi r31,hi8(endpoints+24)
 19137               	/* #APP */
 19138               	 ;  158 "usb/usb.h" 1
 19139 456c 06E0      		ldi r16, 6
 19140 456e 0593      		.dc.w 0x9305
 19141               		
 19142               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 19143               		.loc 3 159 0
 19144               	 ;  159 "usb/usb.h" 1
 19145 4570 08E0      		ldi r16, 8
 19146 4572 0693      		.dc.w 0x9306
 19147               		
 19148               	 ;  0 "" 2
 19149               	/* #NOAPP */
 19150               	.LBE6609:
 19151               	.LBE6608:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 19152               		.loc 1 57 0
 19153 4574 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 19154               		.loc 1 58 0
 19155 4578 1092 0000 		sts ep_in_data+2,__zero_reg__
 19156 457c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 19157               		.loc 1 59 0
 19158 4580 1092 0000 		sts ep_in_data,__zero_reg__
 19159               	.LVL1186:
 19160               	.LBB6610:
 19161               	.LBB6611:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19162               		.loc 2 70 0
 19163 4584 2FBF      		out __SREG__,r18
 19164               		.loc 2 71 0
 19165               	.LVL1187:
 19166               	.L764:
 19167               	.LBE6611:
 19168               	.LBE6610:
 19169               	.LBE6603:
 19170               	.LBE6602:
 19171               	.LBE6601:
 19172               	.LBE6585:
 19173               	.LBE6584:
 19174               	.LBE6617:
 19175               	.LBE6624:
 19176               	.LBB6625:
 19177               	.LBB6626:
  39:sms/sms.h     ****   send_uart("AT+CMGF=1", USART);
 19178               		.loc 13 39 0
 19179 4586 80E0      		ldi r24,lo8(.LC7)
 19180 4588 90E0      		ldi r25,hi8(.LC7)
 19181 458a B401      		movw r22,r8
 19182 458c 0E94 0000 		call send_uart
 19183               	.LVL1188:
 19184 4590 F0E0      		ldi r31,lo8(.LC15+1)
 19185 4592 AF2E      		mov r10,r31
 19186 4594 F0E0      		ldi r31,hi8(.LC15+1)
 19187 4596 BF2E      		mov r11,r31
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 19188               		.loc 7 5 0
 19189 4598 44E5      		ldi r20,lo8(84)
 19190               	.LBE6626:
 19191               	.LBE6625:
 19192               	.LBB6627:
 19193               	.LBB6628:
 19194               	.LBB6629:
 19195               	.LBB6630:
 19196               	.LBB6631:
 19197               	.LBB6632:
 19198               	.LBB6633:
 19199               	.LBB6634:
 19200               	.LBB6635:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 19201               		.loc 4 57 0
 19202 459a 36E0      		ldi r19,lo8(6)
 19203               	.LBE6635:
 19204               	.LBE6634:
 19205               	.LBE6633:
 19206               	.LBE6632:
 19207               	.LBE6631:
 19208               	.LBB6648:
 19209               	.LBB6649:
 19210               	.LBB6650:
 19211               	.LBB6651:
 19212               	.LBB6652:
 19213               	.LBB6653:
 19214               	.LBB6654:
 19215               	.LBB6655:
 19216               	.LBB6656:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 19217               		.loc 3 220 0
 19218 459c A0E0      		ldi r26,lo8(endpoints+24)
 19219 459e B0E0      		ldi r27,hi8(endpoints+24)
 19220               	.LBE6656:
 19221               	.LBE6655:
 19222               	.LBB6658:
 19223               	.LBB6659:
 19224               		.loc 4 91 0
 19225 45a0 10E0      		ldi r17,lo8(ep_in_pipe_buffer)
 19226 45a2 412E      		mov r4,r17
 19227 45a4 10E0      		ldi r17,hi8(ep_in_pipe_buffer)
 19228 45a6 512E      		mov r5,r17
 19229               	.LBE6659:
 19230               	.LBE6658:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 19231               		.loc 1 88 0
 19232 45a8 12E0      		ldi r17,lo8(2)
 19233               	.LBB6662:
 19234               	.LBB6663:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 19235               		.loc 1 69 0
 19236 45aa 01E0      		ldi r16,lo8(1)
 19237 45ac E02E      		mov r14,r16
 19238 45ae F12C      		mov r15,__zero_reg__
 19239               	.LBE6663:
 19240               	.LBE6662:
 19241               	.LBB6670:
 19242               	.LBB6671:
 19243               	.LBB6672:
 19244               	.LBB6673:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 19245               		.loc 3 169 0
 19246 45b0 20E4      		ldi r18,lo8(64)
 19247 45b2 C22E      		mov r12,r18
 19248 45b4 D12C      		mov r13,__zero_reg__
 19249               	.LVL1189:
 19250               	.L854:
 19251               	.LBE6673:
 19252               	.LBE6672:
 19253               	.LBE6671:
 19254               	.LBE6670:
 19255               	.LBE6654:
 19256               	.LBE6653:
 19257               	.LBE6652:
 19258               	.LBE6651:
 19259               	.LBE6650:
 19260               	.LBE6649:
 19261               	.LBE6648:
 19262               	.LBB6726:
 19263               	.LBB6646:
 19264               	.LBB6644:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19265               		.loc 1 123 0
 19266 45b6 9FB7      		in r25,__SREG__
 19267               	.LVL1190:
 19268               	.LBB6637:
 19269               	.LBB6638:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19270               		.loc 2 50 0
 19271               	/* #APP */
 19272               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19273 45b8 F894      		cli
 19274               	 ;  0 "" 2
 19275               	.LVL1191:
 19276               	/* #NOAPP */
 19277               	.LBE6638:
 19278               	.LBE6637:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 19279               		.loc 1 124 0
 19280 45ba 8091 0000 		lds r24,ep_in_data+1
 19281 45be 8823      		tst r24
 19282 45c0 01F0      		breq .L879
 19283               	.L828:
 125:usb/usb_pipe.h **** 			r = false;
 19284               		.loc 1 125 0
 19285 45c2 80E0      		ldi r24,lo8(0)
 19286               	.L768:
 19287               	.LBB6640:
 19288               	.LBB6641:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19289               		.loc 2 70 0
 19290 45c4 9FBF      		out __SREG__,r25
 19291               		.loc 2 71 0
 19292               	.LBE6641:
 19293               	.LBE6640:
 19294               	.LBE6644:
 19295               	.LBE6646:
 19296               	.LBE6726:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 19297               		.loc 5 20 0
 19298 45c6 8823      		tst r24
 19299 45c8 01F0      		breq .L854
 19300               	.LVL1192:
 19301               	.LBB6727:
 19302               	.LBB6728:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 19303               		.loc 1 175 0
 19304 45ca 8091 0000 		lds r24,ep_in_data+2
 19305 45ce 9091 0000 		lds r25,ep_in_data+2+1
 19306 45d2 E091 0000 		lds r30,ep_in_pipe_data+2
 19307 45d6 F091 0000 		lds r31,ep_in_pipe_data+2+1
 19308 45da E80F      		add r30,r24
 19309 45dc F91F      		adc r31,r25
 19310 45de 4083      		st Z,r20
 19311 45e0 0196      		adiw r24,1
 19312 45e2 8093 0000 		sts ep_in_data+2,r24
 19313 45e6 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 19314               		.loc 1 176 0
 19315 45ea 8034      		cpi r24,64
 19316 45ec 9105      		cpc r25,__zero_reg__
 19317 45ee 01F4      		brne .+2
 19318 45f0 00C0      		rjmp .L880
 19319               	.LBE6728:
 19320               	.LBE6727:
 19321               	.LBE6630:
 19322               	.LBE6629:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 19323               		.loc 7 5 0
 19324 45f2 F501      		movw r30,r10
 19325 45f4 4191      		ld r20,Z+
 19326               	.LVL1193:
 19327 45f6 4423      		tst r20
 19328 45f8 01F4      		brne .+2
 19329 45fa 00C0      		rjmp .L782
 19330               	.LVL1194:
 19331               	.L883:
 19332 45fc A114      		cp r10,__zero_reg__
 19333 45fe B104      		cpc r11,__zero_reg__
 19334 4600 01F4      		brne .+2
 19335 4602 00C0      		rjmp .L782
 19336 4604 5F01      		movw r10,r30
 19337               	.LBB6737:
 19338               	.LBB6733:
 19339               	.LBB6729:
 19340               	.LBB6647:
 19341               	.LBB6645:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19342               		.loc 1 123 0
 19343 4606 9FB7      		in r25,__SREG__
 19344               	.LVL1195:
 19345               	.LBB6642:
 19346               	.LBB6639:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19347               		.loc 2 50 0
 19348               	/* #APP */
 19349               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19350 4608 F894      		cli
 19351               	 ;  0 "" 2
 19352               	/* #NOAPP */
 19353               	.LBE6639:
 19354               	.LBE6642:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 19355               		.loc 1 124 0
 19356 460a 8091 0000 		lds r24,ep_in_data+1
 19357 460e 8823      		tst r24
 19358 4610 01F4      		brne .L828
 19359               	.LVL1196:
 19360               	.L879:
 19361               	.LBB6643:
 19362               	.LBB6636:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 19363               		.loc 4 57 0
 19364 4612 8091 0000 		lds r24,ep_in_pipe_data+4
 19365 4616 232F      		mov r18,r19
 19366 4618 281B      		sub r18,r24
 19367               	.LBE6636:
 19368               	.LBE6643:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 19369               		.loc 1 127 0
 19370 461a 81E0      		ldi r24,lo8(1)
 19371 461c 1216      		cp __zero_reg__,r18
 19372 461e 04F0      		brlt .L768
 19373 4620 00C0      		rjmp .L828
 19374               	.LVL1197:
 19375               	.L876:
 19376               	.LBE6645:
 19377               	.LBE6647:
 19378               	.LBE6729:
 19379               	.LBE6733:
 19380               	.LBE6737:
 19381               	.LBE6628:
 19382               	.LBE6627:
 19383               	.LBB6853:
 19384               	.LBB6618:
 19385               	.LBB6614:
 19386               	.LBB6580:
 19387               	.LBB6576:
 19388               	.LBB6569:
 19389               	.LBB6566:
 19390               	.LBB6563:
 19391               	.LBB6560:
 19392               	.LBB6551:
 19393               	.LBB6548:
 19394               	.LBB6530:
 19395               	.LBB6531:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 19396               		.loc 4 51 0
 19397 4622 2091 0000 		lds r18,ep_in_pipe_data+4
 19398               	.LBE6531:
 19399               	.LBE6530:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 19400               		.loc 1 83 0
 19401 4626 1216      		cp __zero_reg__,r18
 19402 4628 04F0      		brlt .+2
 19403 462a 00C0      		rjmp .L754
 19404               	.LBB6532:
 19405               	.LBB6533:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 19406               		.loc 4 62 0
 19407 462c 4091 0000 		lds r20,ep_in_pipe_data
 19408 4630 5091 0000 		lds r21,ep_in_pipe_data+1
 19409               	.LVL1198:
 19410               	.LBE6533:
 19411               	.LBE6532:
 19412               	.LBB6534:
 19413               	.LBB6523:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 19414               		.loc 1 68 0
 19415 4634 7091 0000 		lds r23,ep_in_data
 19416               	.LVL1199:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 19417               		.loc 1 69 0
 19418 4638 872F      		mov r24,r23
 19419 463a 90E0      		ldi r25,lo8(0)
 19420               	.LVL1200:
 19421 463c E1E0      		ldi r30,lo8(1)
 19422               	.LVL1201:
 19423 463e 8E15      		cp r24,r14
 19424 4640 9F05      		cpc r25,r15
 19425 4642 01F4      		brne .L755
 19426 4644 E0E0      		ldi r30,lo8(0)
 19427               	.L755:
 19428 4646 E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 19429               		.loc 1 72 0
 19430 464a 7723      		tst r23
 19431 464c 01F4      		brne .L756
 19432               	.LVL1202:
 19433               	.LBB6520:
 19434               	.LBB6521:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 19435               		.loc 3 168 0
 19436 464e 4093 0000 		sts endpoints+28,r20
 19437 4652 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 19438               		.loc 3 169 0
 19439 4656 C092 0000 		sts endpoints+26,r12
 19440 465a D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 19441               		.loc 3 174 0
 19442 465e FD01      		movw r30,r26
 19443               	/* #APP */
 19444               	 ;  174 "usb/usb.h" 1
 19445 4660 02E2      		ldi r16, 34
 19446 4662 0693      		.dc.w 0x9306
 19447               		
 19448               	 ;  0 "" 2
 19449               	.LVL1203:
 19450               	/* #NOAPP */
 19451               	.L757:
 19452               	.LBE6521:
 19453               	.LBE6520:
 19454               	.LBE6523:
 19455               	.LBE6534:
 19456               	.LBB6535:
 19457               	.LBB6536:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 19458               		.loc 4 72 0
 19459 4664 2150      		subi r18,lo8(-(-1))
 19460 4666 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 19461               		.loc 4 73 0
 19462 466a CA01      		movw r24,r20
 19463 466c 805C      		subi r24,lo8(-(64))
 19464 466e 9F4F      		sbci r25,hi8(-(64))
 19465 4670 8093 0000 		sts ep_in_pipe_data,r24
 19466 4674 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 19467               		.loc 4 75 0
 19468 4678 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 19469 467a 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 19470 467c 9F07      		cpc r25,r31
 19471 467e 01F0      		breq .+2
 19472 4680 00C0      		rjmp .L753
 19473               	.LBE6536:
 19474               	.LBE6535:
 19475               	.LBB6537:
 19476               	.LBB6505:
 19477               		.loc 4 91 0
 19478 4682 4092 0000 		sts ep_in_pipe_data,r4
 19479 4686 5092 0000 		sts ep_in_pipe_data+1,r5
 19480               	.LVL1204:
 19481 468a 00C0      		rjmp .L753
 19482               	.LVL1205:
 19483               	.L756:
 19484               	.LBE6505:
 19485               	.LBE6537:
 19486               	.LBB6538:
 19487               	.LBB6524:
 19488               	.LBB6522:
 19489               	.LBB6519:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 19490               		.loc 3 168 0
 19491 468c 4093 0000 		sts endpoints+20,r20
 19492 4690 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 19493               		.loc 3 169 0
 19494 4694 C092 0000 		sts endpoints+18,r12
 19495 4698 D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 19496               		.loc 3 176 0
 19497 469c FD01      		movw r30,r26
 19498               	/* #APP */
 19499               	 ;  176 "usb/usb.h" 1
 19500 469e 04E1      		ldi r16, 20
 19501 46a0 0693      		.dc.w 0x9306
 19502               		
 19503               	 ;  0 "" 2
 19504               	/* #NOAPP */
 19505 46a2 00C0      		rjmp .L757
 19506               	.LVL1206:
 19507               	.L754:
 19508               	.LBE6519:
 19509               	.LBE6522:
 19510               	.LBE6524:
 19511               	.LBE6538:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 19512               		.loc 1 87 0
 19513 46a4 8091 0000 		lds r24,ep_in_data+1
 19514 46a8 8130      		cpi r24,lo8(1)
 19515 46aa 01F0      		breq .L881
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 19516               		.loc 1 91 0
 19517 46ac 8230      		cpi r24,lo8(2)
 19518 46ae 01F0      		breq .+2
 19519 46b0 00C0      		rjmp .L753
 19520               	.LVL1207:
 19521               	.LBB6539:
 19522               	.LBB6540:
 19523               	.LBB6541:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 19524               		.loc 3 228 0
 19525 46b2 8091 0000 		lds r24,endpoints+24
 19526 46b6 8670      		andi r24,lo8(6)
 19527               	.LBE6541:
 19528               	.LBE6540:
 19529               	.LBE6539:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 19530               		.loc 1 91 0
 19531 46b8 8630      		cpi r24,lo8(6)
 19532 46ba 01F0      		breq .+2
 19533 46bc 00C0      		rjmp .L753
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 19534               		.loc 1 92 0
 19535 46be 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 19536               		.loc 1 93 0
 19537 46c2 1092 0000 		sts ep_in_data+2,__zero_reg__
 19538 46c6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 19539               	.LBB6542:
 19540               	.LBB6506:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 19541               		.loc 4 90 0
 19542 46ca 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 19543               		.loc 4 91 0
 19544 46ce 4092 0000 		sts ep_in_pipe_data+2,r4
 19545 46d2 5092 0000 		sts ep_in_pipe_data+2+1,r5
 19546 46d6 4092 0000 		sts ep_in_pipe_data,r4
 19547 46da 5092 0000 		sts ep_in_pipe_data+1,r5
 19548               	.LVL1208:
 19549 46de 00C0      		rjmp .L753
 19550               	.LVL1209:
 19551               	.L881:
 19552               	.LBE6506:
 19553               	.LBE6542:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 19554               		.loc 1 88 0
 19555 46e0 1093 0000 		sts ep_in_data+1,r17
 19556               	.LBB6543:
 19557               	.LBB6544:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 19558               		.loc 4 62 0
 19559 46e4 E091 0000 		lds r30,ep_in_pipe_data
 19560 46e8 F091 0000 		lds r31,ep_in_pipe_data+1
 19561               	.LBE6544:
 19562               	.LBE6543:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 19563               		.loc 1 90 0
 19564 46ec 4091 0000 		lds r20,ep_in_data+2
 19565 46f0 5091 0000 		lds r21,ep_in_data+2+1
 19566               	.LVL1210:
 19567               	.LBB6545:
 19568               	.LBB6513:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 19569               		.loc 1 68 0
 19570 46f4 7091 0000 		lds r23,ep_in_data
 19571               	.LVL1211:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 19572               		.loc 1 69 0
 19573 46f8 872F      		mov r24,r23
 19574 46fa 90E0      		ldi r25,lo8(0)
 19575 46fc 21E0      		ldi r18,lo8(1)
 19576 46fe 8E15      		cp r24,r14
 19577 4700 9F05      		cpc r25,r15
 19578 4702 01F4      		brne .L760
 19579 4704 20E0      		ldi r18,lo8(0)
 19580               	.L760:
 19581 4706 2093 0000 		sts ep_in_data,r18
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 19582               		.loc 1 72 0
 19583 470a 7723      		tst r23
 19584 470c 01F0      		breq .+2
 19585 470e 00C0      		rjmp .L761
 19586               	.LVL1212:
 19587               	.LBB6509:
 19588               	.LBB6510:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 19589               		.loc 3 168 0
 19590 4710 E093 0000 		sts endpoints+28,r30
 19591 4714 F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 19592               		.loc 3 169 0
 19593 4718 4093 0000 		sts endpoints+26,r20
 19594 471c 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 19595               		.loc 3 174 0
 19596 4720 FD01      		movw r30,r26
 19597               	/* #APP */
 19598               	 ;  174 "usb/usb.h" 1
 19599 4722 02E2      		ldi r16, 34
 19600 4724 0693      		.dc.w 0x9306
 19601               		
 19602               	 ;  0 "" 2
 19603               	/* #NOAPP */
 19604 4726 00C0      		rjmp .L753
 19605               	.LVL1213:
 19606               	.L871:
 19607               	.LBE6510:
 19608               	.LBE6509:
 19609               	.LBE6513:
 19610               	.LBE6545:
 19611               	.LBE6548:
 19612               	.LBE6551:
 19613               	.LBE6560:
 19614               	.LBE6563:
 19615               	.LBE6566:
 19616               	.LBE6569:
 19617               	.LBE6576:
 19618               	.LBE6580:
 19619               	.LBE6614:
 19620               	.LBE6618:
 19621               	.LBE6853:
 19622               	.LBB6854:
 19623               	.LBB6459:
 19624               	.LBB6450:
 19625               	.LBB6443:
 19626               	.LBB6437:
 19627               	.LBB6407:
 19628               	.LBB6402:
 19629               	.LBB6397:
 19630               	.LBB6392:
 19631               	.LBB6363:
 19632               	.LBB6364:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 19633               		.loc 4 51 0
 19634 4728 4091 0000 		lds r20,ep_in_pipe_data+4
 19635               	.LBE6364:
 19636               	.LBE6363:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 19637               		.loc 1 83 0
 19638 472c 1416      		cp __zero_reg__,r20
 19639 472e 04F0      		brlt .+2
 19640 4730 00C0      		rjmp .L733
 19641               	.LBB6365:
 19642               	.LBB6366:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 19643               		.loc 4 62 0
 19644 4732 8091 0000 		lds r24,ep_in_pipe_data
 19645 4736 9091 0000 		lds r25,ep_in_pipe_data+1
 19646               	.LVL1214:
 19647               	.LBE6366:
 19648               	.LBE6365:
 19649               	.LBB6367:
 19650               	.LBB6368:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 19651               		.loc 1 68 0
 19652 473a 2091 0000 		lds r18,ep_in_data
 19653               	.LVL1215:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 19654               		.loc 1 69 0
 19655 473e 31E0      		ldi r19,lo8(1)
 19656 4740 2130      		cpi r18,lo8(1)
 19657 4742 01F4      		brne .L734
 19658 4744 30E0      		ldi r19,lo8(0)
 19659               	.L734:
 19660 4746 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 19661               		.loc 1 72 0
 19662 474a 2223      		tst r18
 19663 474c 01F0      		breq .+2
 19664 474e 00C0      		rjmp .L735
 19665               	.LVL1216:
 19666               	.LBB6369:
 19667               	.LBB6370:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 19668               		.loc 3 168 0
 19669 4750 8093 0000 		sts endpoints+28,r24
 19670 4754 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 19671               		.loc 3 169 0
 19672 4758 20E4      		ldi r18,lo8(64)
 19673 475a 30E0      		ldi r19,hi8(64)
 19674 475c 2093 0000 		sts endpoints+26,r18
 19675 4760 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 19676               		.loc 3 174 0
 19677 4764 E0E0      		ldi r30,lo8(endpoints+24)
 19678 4766 F0E0      		ldi r31,hi8(endpoints+24)
 19679               	/* #APP */
 19680               	 ;  174 "usb/usb.h" 1
 19681 4768 02E2      		ldi r16, 34
 19682 476a 0693      		.dc.w 0x9306
 19683               		
 19684               	 ;  0 "" 2
 19685               	.LVL1217:
 19686               	/* #NOAPP */
 19687               	.L736:
 19688               	.LBE6370:
 19689               	.LBE6369:
 19690               	.LBE6368:
 19691               	.LBE6367:
 19692               	.LBB6374:
 19693               	.LBB6375:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 19694               		.loc 4 72 0
 19695 476c 4150      		subi r20,lo8(-(-1))
 19696 476e 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 19697               		.loc 4 73 0
 19698 4772 805C      		subi r24,lo8(-(64))
 19699 4774 9F4F      		sbci r25,hi8(-(64))
 19700 4776 8093 0000 		sts ep_in_pipe_data,r24
 19701 477a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 19702               		.loc 4 75 0
 19703 477e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 19704 4780 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 19705 4782 9F07      		cpc r25,r31
 19706 4784 01F0      		breq .+2
 19707 4786 00C0      		rjmp .L732
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 19708               		.loc 4 76 0
 19709 4788 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 19710 478a 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 19711 478c 8093 0000 		sts ep_in_pipe_data,r24
 19712 4790 9093 0000 		sts ep_in_pipe_data+1,r25
 19713 4794 00C0      		rjmp .L732
 19714               	.LVL1218:
 19715               	.L878:
 19716               	.LBE6375:
 19717               	.LBE6374:
 19718               	.LBE6392:
 19719               	.LBE6397:
 19720               	.LBE6402:
 19721               	.LBE6407:
 19722               	.LBE6437:
 19723               	.LBE6443:
 19724               	.LBE6450:
 19725               	.LBE6459:
 19726               	.LBE6854:
 19727               	.LBB6855:
 19728               	.LBB6619:
 19729               	.LBB6615:
 19730               	.LBB6613:
 19731               	.LBB6612:
 19732               	.LBB6600:
 19733               	.LBB6599:
 19734               	.LBB6598:
 19735               	.LBB6593:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 19736               		.loc 4 57 0
 19737 4796 8091 0000 		lds r24,ep_in_pipe_data+4
 19738 479a 232F      		mov r18,r19
 19739 479c 281B      		sub r18,r24
 19740               	.LBE6593:
 19741               	.LBE6598:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 19742               		.loc 1 127 0
 19743 479e 81E0      		ldi r24,lo8(1)
 19744 47a0 1216      		cp __zero_reg__,r18
 19745 47a2 04F4      		brge .+2
 19746 47a4 00C0      		rjmp .L765
 19747 47a6 00C0      		rjmp .L827
 19748               	.LVL1219:
 19749               	.L880:
 19750               	.LBE6599:
 19751               	.LBE6600:
 19752               	.LBE6612:
 19753               	.LBE6613:
 19754               	.LBE6615:
 19755               	.LBE6619:
 19756               	.LBE6855:
 19757               	.LBB6856:
 19758               	.LBB6845:
 19759               	.LBB6738:
 19760               	.LBB6734:
 19761               	.LBB6730:
 19762               	.LBB6723:
 19763               	.LBB6720:
 19764               	.LBB6717:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 19765               		.loc 1 177 0
 19766 47a8 6FB6      		in r6,__SREG__
 19767               	.LVL1220:
 19768               	.LBB6708:
 19769               	.LBB6709:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19770               		.loc 2 50 0
 19771               	/* #APP */
 19772               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19773 47aa F894      		cli
 19774               	 ;  0 "" 2
 19775               	.LVL1221:
 19776               	/* #NOAPP */
 19777               	.LBE6709:
 19778               	.LBE6708:
 19779               		.loc 1 178 0
 19780 47ac 1092 0000 		sts ep_in_data+2,__zero_reg__
 19781 47b0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 19782               	.LVL1222:
 19783               	.LBB6710:
 19784               	.LBB6711:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 19785               		.loc 4 81 0
 19786 47b4 8091 0000 		lds r24,ep_in_pipe_data+4
 19787 47b8 8F5F      		subi r24,lo8(-(1))
 19788 47ba 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 19789               		.loc 4 82 0
 19790 47be 8091 0000 		lds r24,ep_in_pipe_data+2
 19791 47c2 9091 0000 		lds r25,ep_in_pipe_data+2+1
 19792 47c6 805C      		subi r24,lo8(-(64))
 19793 47c8 9F4F      		sbci r25,hi8(-(64))
 19794 47ca 8093 0000 		sts ep_in_pipe_data+2,r24
 19795 47ce 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 19796               		.loc 4 84 0
 19797 47d2 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 19798 47d4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 19799 47d6 9F07      		cpc r25,r31
 19800 47d8 01F4      		brne .L772
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 19801               		.loc 4 85 0
 19802 47da 4092 0000 		sts ep_in_pipe_data+2,r4
 19803 47de 5092 0000 		sts ep_in_pipe_data+2+1,r5
 19804               	.L772:
 19805               	.LVL1223:
 19806               	.LBE6711:
 19807               	.LBE6710:
 19808               	.LBB6712:
 19809               	.LBB6705:
 19810               	.LBB6702:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19811               		.loc 1 80 0
 19812 47e2 6FB7      		in r22,__SREG__
 19813               	.LVL1224:
 19814               	.LBB6680:
 19815               	.LBB6681:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19816               		.loc 2 50 0
 19817               	/* #APP */
 19818               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19819 47e4 F894      		cli
 19820               	 ;  0 "" 2
 19821               	.LVL1225:
 19822               	/* #NOAPP */
 19823               	.LBE6681:
 19824               	.LBE6680:
 19825               	.LBB6682:
 19826               	.LBB6657:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 19827               		.loc 3 220 0
 19828 47e6 8091 0000 		lds r24,endpoints+24
 19829 47ea 8670      		andi r24,lo8(6)
 19830               	.LBE6657:
 19831               	.LBE6682:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 19832               		.loc 1 82 0
 19833 47ec 01F0      		breq .+2
 19834 47ee 00C0      		rjmp .L882
 19835               	.LVL1226:
 19836               	.L773:
 19837               	.LBB6683:
 19838               	.LBB6684:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19839               		.loc 2 70 0
 19840 47f0 6FBF      		out __SREG__,r22
 19841               		.loc 2 71 0
 19842               	.LVL1227:
 19843               	.LBE6684:
 19844               	.LBE6683:
 19845               	.LBE6702:
 19846               	.LBE6705:
 19847               	.LBE6712:
 19848               	.LBB6713:
 19849               	.LBB6714:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19850               		.loc 2 70 0
 19851 47f2 6FBE      		out __SREG__,r6
 19852               		.loc 2 71 0
 19853               	.LBE6714:
 19854               	.LBE6713:
 19855               	.LBE6717:
 19856               	.LBE6720:
 19857               	.LBE6723:
 19858               	.LBE6730:
 19859               	.LBE6734:
 19860               	.LBE6738:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 19861               		.loc 7 5 0
 19862 47f4 F501      		movw r30,r10
 19863 47f6 4191      		ld r20,Z+
 19864 47f8 4423      		tst r20
 19865 47fa 01F0      		breq .+2
 19866 47fc 00C0      		rjmp .L883
 19867               	.LVL1228:
 19868               	.L782:
 19869               	.LBB6739:
 19870               	.LBB6740:
 19871               	.LBB6741:
 19872               	.LBB6742:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 19873               		.loc 1 110 0
 19874 47fe 81E0      		ldi r24,lo8(1)
 19875 4800 8093 0000 		sts ep_in_data+1,r24
 19876               	.LVL1229:
 19877               	.LBB6743:
 19878               	.LBB6744:
 19879               	.LBB6745:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19880               		.loc 1 80 0
 19881 4804 5FB7      		in r21,__SREG__
 19882               	.LVL1230:
 19883               	.LBB6746:
 19884               	.LBB6747:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19885               		.loc 2 50 0
 19886               	/* #APP */
 19887               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19888 4806 F894      		cli
 19889               	 ;  0 "" 2
 19890               	.LVL1231:
 19891               	/* #NOAPP */
 19892               	.LBE6747:
 19893               	.LBE6746:
 19894               	.LBB6748:
 19895               	.LBB6749:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 19896               		.loc 3 220 0
 19897 4808 8091 0000 		lds r24,endpoints+24
 19898 480c 8670      		andi r24,lo8(6)
 19899               	.LBE6749:
 19900               	.LBE6748:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 19901               		.loc 1 82 0
 19902 480e 01F0      		breq .+2
 19903 4810 00C0      		rjmp .L884
 19904               	.LVL1232:
 19905               	.L784:
 19906               	.LBB6750:
 19907               	.LBB6751:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19908               		.loc 2 70 0
 19909 4812 5FBF      		out __SREG__,r21
 19910               		.loc 2 71 0
 19911               	.LBE6751:
 19912               	.LBE6750:
 19913               	.LBE6745:
 19914               	.LBE6744:
 19915               	.LBE6743:
 19916               	.LBE6742:
 19917               	.LBE6741:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 19918               		.loc 5 27 0
 19919 4814 82E0      		ldi r24,lo8(2)
 19920 4816 E0EC      		ldi r30,lo8(1216)
 19921 4818 F4E0      		ldi r31,hi8(1216)
 19922 481a 8587      		std Z+13,r24
 19923               	.LBB6801:
 19924               	.LBB6802:
 19925               	.LBB6803:
 19926               	.LBB6804:
 19927               	.LBB6805:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 19928               		.loc 4 57 0
 19929 481c 36E0      		ldi r19,lo8(6)
 19930               	.L793:
 19931               	.LVL1233:
 19932               	.LBE6805:
 19933               	.LBE6804:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19934               		.loc 1 123 0
 19935 481e 9FB7      		in r25,__SREG__
 19936               	.LVL1234:
 19937               	.LBB6807:
 19938               	.LBB6808:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19939               		.loc 2 50 0
 19940               	/* #APP */
 19941               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19942 4820 F894      		cli
 19943               	 ;  0 "" 2
 19944               	.LVL1235:
 19945               	/* #NOAPP */
 19946               	.LBE6808:
 19947               	.LBE6807:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 19948               		.loc 1 124 0
 19949 4822 8091 0000 		lds r24,ep_in_data+1
 19950 4826 8823      		tst r24
 19951 4828 01F4      		brne .+2
 19952 482a 00C0      		rjmp .L885
 19953               	.L830:
 125:usb/usb_pipe.h **** 			r = false;
 19954               		.loc 1 125 0
 19955 482c 80E0      		ldi r24,lo8(0)
 19956               	.L795:
 19957               	.LBB6809:
 19958               	.LBB6810:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 19959               		.loc 2 70 0
 19960 482e 9FBF      		out __SREG__,r25
 19961               		.loc 2 71 0
 19962               	.LBE6810:
 19963               	.LBE6809:
 19964               	.LBE6803:
 19965               	.LBE6802:
 19966               	.LBE6801:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 19967               		.loc 5 28 0
 19968 4830 8823      		tst r24
 19969 4832 01F4      		brne .L794
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 19970               		.loc 5 29 0
 19971 4834 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 19972 4838 8823      		tst r24
 19973 483a 01F0      		breq .L793
 19974               	.LVL1236:
 19975               	.LBB6814:
 19976               	.LBB6815:
 19977               	.LBB6816:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 19978               		.loc 1 54 0
 19979 483c 2FB7      		in r18,__SREG__
 19980               	.LVL1237:
 19981               	.LBB6817:
 19982               	.LBB6818:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 19983               		.loc 2 50 0
 19984               	/* #APP */
 19985               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 19986 483e F894      		cli
 19987               	 ;  0 "" 2
 19988               	.LVL1238:
 19989               	/* #NOAPP */
 19990               	.LBE6818:
 19991               	.LBE6817:
 19992               	.LBB6819:
 19993               	.LBB6820:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 19994               		.loc 4 90 0
 19995 4840 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 19996               		.loc 4 91 0
 19997 4844 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 19998 4846 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 19999 4848 8093 0000 		sts ep_in_pipe_data+2,r24
 20000 484c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 20001 4850 8093 0000 		sts ep_in_pipe_data,r24
 20002 4854 9093 0000 		sts ep_in_pipe_data+1,r25
 20003               	.LVL1239:
 20004               	.LBE6820:
 20005               	.LBE6819:
 20006               	.LBB6821:
 20007               	.LBB6822:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 20008               		.loc 3 158 0
 20009 4858 E0E0      		ldi r30,lo8(endpoints+24)
 20010 485a F0E0      		ldi r31,hi8(endpoints+24)
 20011               	/* #APP */
 20012               	 ;  158 "usb/usb.h" 1
 20013 485c 06E0      		ldi r16, 6
 20014 485e 0593      		.dc.w 0x9305
 20015               		
 20016               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 20017               		.loc 3 159 0
 20018               	 ;  159 "usb/usb.h" 1
 20019 4860 08E0      		ldi r16, 8
 20020 4862 0693      		.dc.w 0x9306
 20021               		
 20022               	 ;  0 "" 2
 20023               	/* #NOAPP */
 20024               	.LBE6822:
 20025               	.LBE6821:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 20026               		.loc 1 57 0
 20027 4864 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 20028               		.loc 1 58 0
 20029 4868 1092 0000 		sts ep_in_data+2,__zero_reg__
 20030 486c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 20031               		.loc 1 59 0
 20032 4870 1092 0000 		sts ep_in_data,__zero_reg__
 20033               	.LVL1240:
 20034               	.LBB6823:
 20035               	.LBB6824:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 20036               		.loc 2 70 0
 20037 4874 2FBF      		out __SREG__,r18
 20038               		.loc 2 71 0
 20039               	.LVL1241:
 20040               	.L794:
 20041               	.LBE6824:
 20042               	.LBE6823:
 20043               	.LBE6816:
 20044               	.LBE6815:
 20045               	.LBE6814:
 20046               	.LBE6740:
 20047               	.LBE6739:
 20048               	.LBE6845:
 20049               	.LBE6856:
 20050               	.LBB6857:
 20051               	.LBB6858:
 20052               		.loc 11 164 0
 20053 4876 8FEF      		 ldi r24,lo8(5119999)
 20054 4878 9FE1      	    ldi r25,hi8(5119999)
 20055 487a AEE4      	    ldi r26,hlo8(5119999)
 20056 487c 8150      	    1:subi r24,1
 20057 487e 9040      	    sbci r25,0
 20058 4880 A040      	    sbci r26,0
 20059 4882 01F4      	    brne 1b
 20060 4884 00C0      		rjmp .
 20061 4886 0000      		nop
 20062               	.LBE6858:
 20063               	.LBE6857:
  84:sms/sms.h     ****   send_uart("AT+CMGF=?", USART); // Read Message 
 20064               		.loc 13 84 0
 20065 4888 80E0      		ldi r24,lo8(.LC16)
 20066 488a 90E0      		ldi r25,hi8(.LC16)
 20067 488c B401      		movw r22,r8
 20068 488e 0E94 0000 		call send_uart
 20069               	.LVL1242:
 20070 4892 00E0      		ldi r16,lo8(.LC17+1)
 20071 4894 A02E      		mov r10,r16
 20072 4896 00E0      		ldi r16,hi8(.LC17+1)
 20073 4898 B02E      		mov r11,r16
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 20074               		.loc 7 5 0
 20075 489a 23E4      		ldi r18,lo8(67)
 20076               	.LBB6859:
 20077               	.LBB6860:
 20078               	.LBB6861:
 20079               	.LBB6862:
 20080               	.LBB6863:
 20081               	.LBB6864:
 20082               	.LBB6865:
 20083               	.LBB6866:
 20084               	.LBB6867:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 20085               		.loc 4 57 0
 20086 489c 46E0      		ldi r20,lo8(6)
 20087               	.LBE6867:
 20088               	.LBE6866:
 20089               	.LBE6865:
 20090               	.LBE6864:
 20091               	.LBE6863:
 20092               	.LBB6880:
 20093               	.LBB6881:
 20094               	.LBB6882:
 20095               	.LBB6883:
 20096               	.LBB6884:
 20097               	.LBB6885:
 20098               	.LBB6886:
 20099               	.LBB6887:
 20100               	.LBB6888:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 20101               		.loc 3 220 0
 20102 489e A0E0      		ldi r26,lo8(endpoints+24)
 20103 48a0 B0E0      		ldi r27,hi8(endpoints+24)
 20104               	.LBE6888:
 20105               	.LBE6887:
 20106               	.LBB6890:
 20107               	.LBB6891:
 20108               		.loc 4 91 0
 20109 48a2 30E0      		ldi r19,lo8(ep_in_pipe_buffer)
 20110 48a4 632E      		mov r6,r19
 20111 48a6 30E0      		ldi r19,hi8(ep_in_pipe_buffer)
 20112 48a8 732E      		mov r7,r19
 20113               	.LBE6891:
 20114               	.LBE6890:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 20115               		.loc 1 88 0
 20116 48aa 12E0      		ldi r17,lo8(2)
 20117               	.LBB6894:
 20118               	.LBB6895:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 20119               		.loc 1 69 0
 20120 48ac 51E0      		ldi r21,lo8(1)
 20121 48ae E52E      		mov r14,r21
 20122 48b0 F12C      		mov r15,__zero_reg__
 20123               	.LBE6895:
 20124               	.LBE6894:
 20125               	.LBB6902:
 20126               	.LBB6903:
 20127               	.LBB6904:
 20128               	.LBB6905:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 20129               		.loc 3 169 0
 20130 48b2 E0E4      		ldi r30,lo8(64)
 20131 48b4 CE2E      		mov r12,r30
 20132 48b6 D12C      		mov r13,__zero_reg__
 20133               	.LVL1243:
 20134               	.L855:
 20135               	.LBE6905:
 20136               	.LBE6904:
 20137               	.LBE6903:
 20138               	.LBE6902:
 20139               	.LBE6886:
 20140               	.LBE6885:
 20141               	.LBE6884:
 20142               	.LBE6883:
 20143               	.LBE6882:
 20144               	.LBE6881:
 20145               	.LBE6880:
 20146               	.LBB6958:
 20147               	.LBB6878:
 20148               	.LBB6876:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 20149               		.loc 1 123 0
 20150 48b8 9FB7      		in r25,__SREG__
 20151               	.LVL1244:
 20152               	.LBB6869:
 20153               	.LBB6870:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 20154               		.loc 2 50 0
 20155               	/* #APP */
 20156               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 20157 48ba F894      		cli
 20158               	 ;  0 "" 2
 20159               	.LVL1245:
 20160               	/* #NOAPP */
 20161               	.LBE6870:
 20162               	.LBE6869:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 20163               		.loc 1 124 0
 20164 48bc 8091 0000 		lds r24,ep_in_data+1
 20165 48c0 8823      		tst r24
 20166 48c2 01F0      		breq .L886
 20167               	.L831:
 125:usb/usb_pipe.h **** 			r = false;
 20168               		.loc 1 125 0
 20169 48c4 80E0      		ldi r24,lo8(0)
 20170               	.L798:
 20171               	.LBB6872:
 20172               	.LBB6873:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 20173               		.loc 2 70 0
 20174 48c6 9FBF      		out __SREG__,r25
 20175               		.loc 2 71 0
 20176               	.LBE6873:
 20177               	.LBE6872:
 20178               	.LBE6876:
 20179               	.LBE6878:
 20180               	.LBE6958:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 20181               		.loc 5 20 0
 20182 48c8 8823      		tst r24
 20183 48ca 01F0      		breq .L855
 20184               	.LVL1246:
 20185               	.LBB6959:
 20186               	.LBB6960:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 20187               		.loc 1 175 0
 20188 48cc 8091 0000 		lds r24,ep_in_data+2
 20189 48d0 9091 0000 		lds r25,ep_in_data+2+1
 20190 48d4 E091 0000 		lds r30,ep_in_pipe_data+2
 20191 48d8 F091 0000 		lds r31,ep_in_pipe_data+2+1
 20192 48dc E80F      		add r30,r24
 20193 48de F91F      		adc r31,r25
 20194 48e0 2083      		st Z,r18
 20195 48e2 0196      		adiw r24,1
 20196 48e4 8093 0000 		sts ep_in_data+2,r24
 20197 48e8 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 20198               		.loc 1 176 0
 20199 48ec 8034      		cpi r24,64
 20200 48ee 9105      		cpc r25,__zero_reg__
 20201 48f0 01F4      		brne .+2
 20202 48f2 00C0      		rjmp .L887
 20203               	.LBE6960:
 20204               	.LBE6959:
 20205               	.LBE6862:
 20206               	.LBE6861:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 20207               		.loc 7 5 0
 20208 48f4 F501      		movw r30,r10
 20209 48f6 2191      		ld r18,Z+
 20210               	.LVL1247:
 20211 48f8 2223      		tst r18
 20212 48fa 01F4      		brne .+2
 20213 48fc 00C0      		rjmp .L812
 20214               	.LVL1248:
 20215               	.L890:
 20216 48fe A114      		cp r10,__zero_reg__
 20217 4900 B104      		cpc r11,__zero_reg__
 20218 4902 01F4      		brne .+2
 20219 4904 00C0      		rjmp .L812
 20220 4906 5F01      		movw r10,r30
 20221               	.LBB6969:
 20222               	.LBB6965:
 20223               	.LBB6961:
 20224               	.LBB6879:
 20225               	.LBB6877:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 20226               		.loc 1 123 0
 20227 4908 9FB7      		in r25,__SREG__
 20228               	.LVL1249:
 20229               	.LBB6874:
 20230               	.LBB6871:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 20231               		.loc 2 50 0
 20232               	/* #APP */
 20233               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 20234 490a F894      		cli
 20235               	 ;  0 "" 2
 20236               	/* #NOAPP */
 20237               	.LBE6871:
 20238               	.LBE6874:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 20239               		.loc 1 124 0
 20240 490c 8091 0000 		lds r24,ep_in_data+1
 20241 4910 8823      		tst r24
 20242 4912 01F4      		brne .L831
 20243               	.LVL1250:
 20244               	.L886:
 20245               	.LBB6875:
 20246               	.LBB6868:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 20247               		.loc 4 57 0
 20248 4914 8091 0000 		lds r24,ep_in_pipe_data+4
 20249 4918 342F      		mov r19,r20
 20250 491a 381B      		sub r19,r24
 20251               	.LBE6868:
 20252               	.LBE6875:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 20253               		.loc 1 127 0
 20254 491c 81E0      		ldi r24,lo8(1)
 20255 491e 1316      		cp __zero_reg__,r19
 20256 4920 04F0      		brlt .L798
 20257 4922 00C0      		rjmp .L831
 20258               	.LVL1251:
 20259               	.L882:
 20260               	.LBE6877:
 20261               	.LBE6879:
 20262               	.LBE6961:
 20263               	.LBE6965:
 20264               	.LBE6969:
 20265               	.LBE6860:
 20266               	.LBE6859:
 20267               	.LBB7008:
 20268               	.LBB6846:
 20269               	.LBB6837:
 20270               	.LBB6735:
 20271               	.LBB6731:
 20272               	.LBB6724:
 20273               	.LBB6721:
 20274               	.LBB6718:
 20275               	.LBB6715:
 20276               	.LBB6706:
 20277               	.LBB6703:
 20278               	.LBB6685:
 20279               	.LBB6686:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 20280               		.loc 4 51 0
 20281 4924 2091 0000 		lds r18,ep_in_pipe_data+4
 20282               	.LBE6686:
 20283               	.LBE6685:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 20284               		.loc 1 83 0
 20285 4928 1216      		cp __zero_reg__,r18
 20286 492a 04F0      		brlt .+2
 20287 492c 00C0      		rjmp .L774
 20288               	.LBB6687:
 20289               	.LBB6688:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 20290               		.loc 4 62 0
 20291 492e 4091 0000 		lds r20,ep_in_pipe_data
 20292 4932 5091 0000 		lds r21,ep_in_pipe_data+1
 20293               	.LVL1252:
 20294               	.LBE6688:
 20295               	.LBE6687:
 20296               	.LBB6689:
 20297               	.LBB6678:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 20298               		.loc 1 68 0
 20299 4936 7091 0000 		lds r23,ep_in_data
 20300               	.LVL1253:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 20301               		.loc 1 69 0
 20302 493a 872F      		mov r24,r23
 20303 493c 90E0      		ldi r25,lo8(0)
 20304               	.LVL1254:
 20305 493e E1E0      		ldi r30,lo8(1)
 20306               	.LVL1255:
 20307 4940 8E15      		cp r24,r14
 20308 4942 9F05      		cpc r25,r15
 20309 4944 01F4      		brne .L775
 20310 4946 E0E0      		ldi r30,lo8(0)
 20311               	.L775:
 20312 4948 E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 20313               		.loc 1 72 0
 20314 494c 7723      		tst r23
 20315 494e 01F4      		brne .L776
 20316               	.LVL1256:
 20317               	.LBB6675:
 20318               	.LBB6676:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 20319               		.loc 3 168 0
 20320 4950 4093 0000 		sts endpoints+28,r20
 20321 4954 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 20322               		.loc 3 169 0
 20323 4958 C092 0000 		sts endpoints+26,r12
 20324 495c D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 20325               		.loc 3 174 0
 20326 4960 FD01      		movw r30,r26
 20327               	/* #APP */
 20328               	 ;  174 "usb/usb.h" 1
 20329 4962 02E2      		ldi r16, 34
 20330 4964 0693      		.dc.w 0x9306
 20331               		
 20332               	 ;  0 "" 2
 20333               	.LVL1257:
 20334               	/* #NOAPP */
 20335               	.L777:
 20336               	.LBE6676:
 20337               	.LBE6675:
 20338               	.LBE6678:
 20339               	.LBE6689:
 20340               	.LBB6690:
 20341               	.LBB6691:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 20342               		.loc 4 72 0
 20343 4966 2150      		subi r18,lo8(-(-1))
 20344 4968 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 20345               		.loc 4 73 0
 20346 496c CA01      		movw r24,r20
 20347 496e 805C      		subi r24,lo8(-(64))
 20348 4970 9F4F      		sbci r25,hi8(-(64))
 20349 4972 8093 0000 		sts ep_in_pipe_data,r24
 20350 4976 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 20351               		.loc 4 75 0
 20352 497a F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 20353 497c 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 20354 497e 9F07      		cpc r25,r31
 20355 4980 01F0      		breq .+2
 20356 4982 00C0      		rjmp .L773
 20357               	.LBE6691:
 20358               	.LBE6690:
 20359               	.LBB6692:
 20360               	.LBB6660:
 20361               		.loc 4 91 0
 20362 4984 4092 0000 		sts ep_in_pipe_data,r4
 20363 4988 5092 0000 		sts ep_in_pipe_data+1,r5
 20364               	.LVL1258:
 20365 498c 00C0      		rjmp .L773
 20366               	.LVL1259:
 20367               	.L776:
 20368               	.LBE6660:
 20369               	.LBE6692:
 20370               	.LBB6693:
 20371               	.LBB6679:
 20372               	.LBB6677:
 20373               	.LBB6674:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 20374               		.loc 3 168 0
 20375 498e 4093 0000 		sts endpoints+20,r20
 20376 4992 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 20377               		.loc 3 169 0
 20378 4996 C092 0000 		sts endpoints+18,r12
 20379 499a D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 20380               		.loc 3 176 0
 20381 499e FD01      		movw r30,r26
 20382               	/* #APP */
 20383               	 ;  176 "usb/usb.h" 1
 20384 49a0 04E1      		ldi r16, 20
 20385 49a2 0693      		.dc.w 0x9306
 20386               		
 20387               	 ;  0 "" 2
 20388               	/* #NOAPP */
 20389 49a4 00C0      		rjmp .L777
 20390               	.LVL1260:
 20391               	.L774:
 20392               	.LBE6674:
 20393               	.LBE6677:
 20394               	.LBE6679:
 20395               	.LBE6693:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 20396               		.loc 1 87 0
 20397 49a6 8091 0000 		lds r24,ep_in_data+1
 20398 49aa 8130      		cpi r24,lo8(1)
 20399 49ac 01F0      		breq .L888
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 20400               		.loc 1 91 0
 20401 49ae 8230      		cpi r24,lo8(2)
 20402 49b0 01F0      		breq .+2
 20403 49b2 00C0      		rjmp .L773
 20404               	.LVL1261:
 20405               	.LBB6694:
 20406               	.LBB6695:
 20407               	.LBB6696:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 20408               		.loc 3 228 0
 20409 49b4 8091 0000 		lds r24,endpoints+24
 20410 49b8 8670      		andi r24,lo8(6)
 20411               	.LBE6696:
 20412               	.LBE6695:
 20413               	.LBE6694:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 20414               		.loc 1 91 0
 20415 49ba 8630      		cpi r24,lo8(6)
 20416 49bc 01F0      		breq .+2
 20417 49be 00C0      		rjmp .L773
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 20418               		.loc 1 92 0
 20419 49c0 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 20420               		.loc 1 93 0
 20421 49c4 1092 0000 		sts ep_in_data+2,__zero_reg__
 20422 49c8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 20423               	.LBB6697:
 20424               	.LBB6661:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 20425               		.loc 4 90 0
 20426 49cc 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 20427               		.loc 4 91 0
 20428 49d0 4092 0000 		sts ep_in_pipe_data+2,r4
 20429 49d4 5092 0000 		sts ep_in_pipe_data+2+1,r5
 20430 49d8 4092 0000 		sts ep_in_pipe_data,r4
 20431 49dc 5092 0000 		sts ep_in_pipe_data+1,r5
 20432               	.LVL1262:
 20433 49e0 00C0      		rjmp .L773
 20434               	.LVL1263:
 20435               	.L888:
 20436               	.LBE6661:
 20437               	.LBE6697:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 20438               		.loc 1 88 0
 20439 49e2 1093 0000 		sts ep_in_data+1,r17
 20440               	.LBB6698:
 20441               	.LBB6699:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 20442               		.loc 4 62 0
 20443 49e6 E091 0000 		lds r30,ep_in_pipe_data
 20444 49ea F091 0000 		lds r31,ep_in_pipe_data+1
 20445               	.LBE6699:
 20446               	.LBE6698:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 20447               		.loc 1 90 0
 20448 49ee 4091 0000 		lds r20,ep_in_data+2
 20449 49f2 5091 0000 		lds r21,ep_in_data+2+1
 20450               	.LVL1264:
 20451               	.LBB6700:
 20452               	.LBB6668:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 20453               		.loc 1 68 0
 20454 49f6 7091 0000 		lds r23,ep_in_data
 20455               	.LVL1265:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 20456               		.loc 1 69 0
 20457 49fa 872F      		mov r24,r23
 20458 49fc 90E0      		ldi r25,lo8(0)
 20459 49fe 21E0      		ldi r18,lo8(1)
 20460 4a00 8E15      		cp r24,r14
 20461 4a02 9F05      		cpc r25,r15
 20462 4a04 01F4      		brne .L780
 20463 4a06 20E0      		ldi r18,lo8(0)
 20464               	.L780:
 20465 4a08 2093 0000 		sts ep_in_data,r18
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 20466               		.loc 1 72 0
 20467 4a0c 7723      		tst r23
 20468 4a0e 01F0      		breq .+2
 20469 4a10 00C0      		rjmp .L781
 20470               	.LVL1266:
 20471               	.LBB6664:
 20472               	.LBB6665:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 20473               		.loc 3 168 0
 20474 4a12 E093 0000 		sts endpoints+28,r30
 20475 4a16 F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 20476               		.loc 3 169 0
 20477 4a1a 4093 0000 		sts endpoints+26,r20
 20478 4a1e 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 20479               		.loc 3 174 0
 20480 4a22 FD01      		movw r30,r26
 20481               	/* #APP */
 20482               	 ;  174 "usb/usb.h" 1
 20483 4a24 02E2      		ldi r16, 34
 20484 4a26 0693      		.dc.w 0x9306
 20485               		
 20486               	 ;  0 "" 2
 20487               	/* #NOAPP */
 20488 4a28 00C0      		rjmp .L773
 20489               	.LVL1267:
 20490               	.L885:
 20491               	.LBE6665:
 20492               	.LBE6664:
 20493               	.LBE6668:
 20494               	.LBE6700:
 20495               	.LBE6703:
 20496               	.LBE6706:
 20497               	.LBE6715:
 20498               	.LBE6718:
 20499               	.LBE6721:
 20500               	.LBE6724:
 20501               	.LBE6731:
 20502               	.LBE6735:
 20503               	.LBE6837:
 20504               	.LBB6838:
 20505               	.LBB6831:
 20506               	.LBB6825:
 20507               	.LBB6813:
 20508               	.LBB6812:
 20509               	.LBB6811:
 20510               	.LBB6806:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 20511               		.loc 4 57 0
 20512 4a2a 8091 0000 		lds r24,ep_in_pipe_data+4
 20513 4a2e 232F      		mov r18,r19
 20514 4a30 281B      		sub r18,r24
 20515               	.LBE6806:
 20516               	.LBE6811:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 20517               		.loc 1 127 0
 20518 4a32 81E0      		ldi r24,lo8(1)
 20519 4a34 1216      		cp __zero_reg__,r18
 20520 4a36 04F4      		brge .+2
 20521 4a38 00C0      		rjmp .L795
 20522 4a3a 00C0      		rjmp .L830
 20523               	.LVL1268:
 20524               	.L887:
 20525               	.LBE6812:
 20526               	.LBE6813:
 20527               	.LBE6825:
 20528               	.LBE6831:
 20529               	.LBE6838:
 20530               	.LBE6846:
 20531               	.LBE7008:
 20532               	.LBB7009:
 20533               	.LBB7004:
 20534               	.LBB6970:
 20535               	.LBB6966:
 20536               	.LBB6962:
 20537               	.LBB6955:
 20538               	.LBB6952:
 20539               	.LBB6949:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 20540               		.loc 1 177 0
 20541 4a3c 8FB6      		in r8,__SREG__
 20542               	.LVL1269:
 20543               	.LBB6940:
 20544               	.LBB6941:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 20545               		.loc 2 50 0
 20546               	/* #APP */
 20547               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 20548 4a3e F894      		cli
 20549               	 ;  0 "" 2
 20550               	.LVL1270:
 20551               	/* #NOAPP */
 20552               	.LBE6941:
 20553               	.LBE6940:
 20554               		.loc 1 178 0
 20555 4a40 1092 0000 		sts ep_in_data+2,__zero_reg__
 20556 4a44 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 20557               	.LVL1271:
 20558               	.LBB6942:
 20559               	.LBB6943:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 20560               		.loc 4 81 0
 20561 4a48 8091 0000 		lds r24,ep_in_pipe_data+4
 20562 4a4c 8F5F      		subi r24,lo8(-(1))
 20563 4a4e 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 20564               		.loc 4 82 0
 20565 4a52 8091 0000 		lds r24,ep_in_pipe_data+2
 20566 4a56 9091 0000 		lds r25,ep_in_pipe_data+2+1
 20567 4a5a 805C      		subi r24,lo8(-(64))
 20568 4a5c 9F4F      		sbci r25,hi8(-(64))
 20569 4a5e 8093 0000 		sts ep_in_pipe_data+2,r24
 20570 4a62 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 20571               		.loc 4 84 0
 20572 4a66 E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 20573 4a68 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 20574 4a6a 9E07      		cpc r25,r30
 20575 4a6c 01F4      		brne .L802
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 20576               		.loc 4 85 0
 20577 4a6e 6092 0000 		sts ep_in_pipe_data+2,r6
 20578 4a72 7092 0000 		sts ep_in_pipe_data+2+1,r7
 20579               	.L802:
 20580               	.LVL1272:
 20581               	.LBE6943:
 20582               	.LBE6942:
 20583               	.LBB6944:
 20584               	.LBB6937:
 20585               	.LBB6934:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 20586               		.loc 1 80 0
 20587 4a76 6FB7      		in r22,__SREG__
 20588               	.LVL1273:
 20589               	.LBB6912:
 20590               	.LBB6913:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 20591               		.loc 2 50 0
 20592               	/* #APP */
 20593               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 20594 4a78 F894      		cli
 20595               	 ;  0 "" 2
 20596               	.LVL1274:
 20597               	/* #NOAPP */
 20598               	.LBE6913:
 20599               	.LBE6912:
 20600               	.LBB6914:
 20601               	.LBB6889:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 20602               		.loc 3 220 0
 20603 4a7a 8091 0000 		lds r24,endpoints+24
 20604 4a7e 8670      		andi r24,lo8(6)
 20605               	.LBE6889:
 20606               	.LBE6914:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 20607               		.loc 1 82 0
 20608 4a80 01F0      		breq .+2
 20609 4a82 00C0      		rjmp .L889
 20610               	.LVL1275:
 20611               	.L803:
 20612               	.LBB6915:
 20613               	.LBB6916:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 20614               		.loc 2 70 0
 20615 4a84 6FBF      		out __SREG__,r22
 20616               		.loc 2 71 0
 20617               	.LVL1276:
 20618               	.LBE6916:
 20619               	.LBE6915:
 20620               	.LBE6934:
 20621               	.LBE6937:
 20622               	.LBE6944:
 20623               	.LBB6945:
 20624               	.LBB6946:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 20625               		.loc 2 70 0
 20626 4a86 8FBE      		out __SREG__,r8
 20627               		.loc 2 71 0
 20628               	.LBE6946:
 20629               	.LBE6945:
 20630               	.LBE6949:
 20631               	.LBE6952:
 20632               	.LBE6955:
 20633               	.LBE6962:
 20634               	.LBE6966:
 20635               	.LBE6970:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 20636               		.loc 7 5 0
 20637 4a88 F501      		movw r30,r10
 20638 4a8a 2191      		ld r18,Z+
 20639 4a8c 2223      		tst r18
 20640 4a8e 01F0      		breq .+2
 20641 4a90 00C0      		rjmp .L890
 20642               	.LVL1277:
 20643               	.L812:
 20644               	.LBB6971:
 20645               	.LBB6972:
 20646               	.LBB6973:
 20647               	.LBB6974:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 20648               		.loc 1 110 0
 20649 4a92 81E0      		ldi r24,lo8(1)
 20650 4a94 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 20651               		.loc 1 111 0
 20652 4a98 0E94 0000 		call usb_pipe_handle.constprop.9
 20653               	.LVL1278:
 20654               	.LBE6974:
 20655               	.LBE6973:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 20656               		.loc 5 27 0
 20657 4a9c 82E0      		ldi r24,lo8(2)
 20658 4a9e E0EC      		ldi r30,lo8(1216)
 20659 4aa0 F4E0      		ldi r31,hi8(1216)
 20660 4aa2 8587      		std Z+13,r24
 20661               	.LBB6975:
 20662               	.LBB6976:
 20663               	.LBB6977:
 20664               	.LBB6978:
 20665               	.LBB6979:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 20666               		.loc 4 57 0
 20667 4aa4 36E0      		ldi r19,lo8(6)
 20668               	.L814:
 20669               	.LVL1279:
 20670               	.LBE6979:
 20671               	.LBE6978:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 20672               		.loc 1 123 0
 20673 4aa6 9FB7      		in r25,__SREG__
 20674               	.LVL1280:
 20675               	.LBB6981:
 20676               	.LBB6982:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 20677               		.loc 2 50 0
 20678               	/* #APP */
 20679               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 20680 4aa8 F894      		cli
 20681               	 ;  0 "" 2
 20682               	.LVL1281:
 20683               	/* #NOAPP */
 20684               	.LBE6982:
 20685               	.LBE6981:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 20686               		.loc 1 124 0
 20687 4aaa 8091 0000 		lds r24,ep_in_data+1
 20688 4aae 8823      		tst r24
 20689 4ab0 01F4      		brne .+2
 20690 4ab2 00C0      		rjmp .L891
 20691               	.L833:
 125:usb/usb_pipe.h **** 			r = false;
 20692               		.loc 1 125 0
 20693 4ab4 80E0      		ldi r24,lo8(0)
 20694               	.L816:
 20695               	.LBB6983:
 20696               	.LBB6984:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 20697               		.loc 2 70 0
 20698 4ab6 9FBF      		out __SREG__,r25
 20699               		.loc 2 71 0
 20700               	.LBE6984:
 20701               	.LBE6983:
 20702               	.LBE6977:
 20703               	.LBE6976:
 20704               	.LBE6975:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 20705               		.loc 5 28 0
 20706 4ab8 8823      		tst r24
 20707 4aba 01F4      		brne .L815
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 20708               		.loc 5 29 0
 20709 4abc 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 20710 4ac0 8823      		tst r24
 20711 4ac2 01F0      		breq .L814
 20712               	.LVL1282:
 20713               	.LBB6988:
 20714               	.LBB6989:
 20715               	.LBB6990:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 20716               		.loc 1 54 0
 20717 4ac4 2FB7      		in r18,__SREG__
 20718               	.LVL1283:
 20719               	.LBB6991:
 20720               	.LBB6992:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 20721               		.loc 2 50 0
 20722               	/* #APP */
 20723               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 20724 4ac6 F894      		cli
 20725               	 ;  0 "" 2
 20726               	.LVL1284:
 20727               	/* #NOAPP */
 20728               	.LBE6992:
 20729               	.LBE6991:
 20730               	.LBB6993:
 20731               	.LBB6994:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 20732               		.loc 4 90 0
 20733 4ac8 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 20734               		.loc 4 91 0
 20735 4acc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 20736 4ace 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 20737 4ad0 8093 0000 		sts ep_in_pipe_data+2,r24
 20738 4ad4 9093 0000 		sts ep_in_pipe_data+2+1,r25
 20739 4ad8 8093 0000 		sts ep_in_pipe_data,r24
 20740 4adc 9093 0000 		sts ep_in_pipe_data+1,r25
 20741               	.LVL1285:
 20742               	.LBE6994:
 20743               	.LBE6993:
 20744               	.LBB6995:
 20745               	.LBB6996:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 20746               		.loc 3 158 0
 20747 4ae0 E0E0      		ldi r30,lo8(endpoints+24)
 20748 4ae2 F0E0      		ldi r31,hi8(endpoints+24)
 20749               	/* #APP */
 20750               	 ;  158 "usb/usb.h" 1
 20751 4ae4 06E0      		ldi r16, 6
 20752 4ae6 0593      		.dc.w 0x9305
 20753               		
 20754               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 20755               		.loc 3 159 0
 20756               	 ;  159 "usb/usb.h" 1
 20757 4ae8 08E0      		ldi r16, 8
 20758 4aea 0693      		.dc.w 0x9306
 20759               		
 20760               	 ;  0 "" 2
 20761               	/* #NOAPP */
 20762               	.LBE6996:
 20763               	.LBE6995:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 20764               		.loc 1 57 0
 20765 4aec 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 20766               		.loc 1 58 0
 20767 4af0 1092 0000 		sts ep_in_data+2,__zero_reg__
 20768 4af4 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 20769               		.loc 1 59 0
 20770 4af8 1092 0000 		sts ep_in_data,__zero_reg__
 20771               	.LVL1286:
 20772               	.LBB6997:
 20773               	.LBB6998:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 20774               		.loc 2 70 0
 20775 4afc 2FBF      		out __SREG__,r18
 20776               		.loc 2 71 0
 20777               	.LVL1287:
 20778               	.L815:
 20779               	.LBE6998:
 20780               	.LBE6997:
 20781               	.LBE6990:
 20782               	.LBE6989:
 20783               	.LBE6988:
 20784               	.LBE6972:
 20785               	.LBE6971:
 20786               	.LBE7004:
 20787               	.LBE7009:
 20788               	.LBB7010:
 20789               	.LBB7011:
 20790               		.loc 11 164 0
 20791 4afe 8FEF      		 ldi r24,lo8(6399999)
 20792 4b00 97EA      	    ldi r25,hi8(6399999)
 20793 4b02 A1E6      	    ldi r26,hlo8(6399999)
 20794 4b04 8150      	    1:subi r24,1
 20795 4b06 9040      	    sbci r25,0
 20796 4b08 A040      	    sbci r26,0
 20797 4b0a 01F4      	    brne 1b
 20798 4b0c 00C0      		rjmp .
 20799 4b0e 0000      		nop
 20800               	.LBE7011:
 20801               	.LBE7010:
 20802               		.loc 13 87 0
 20803 4b10 A981      		ldd r26,Y+1
 20804 4b12 BA81      		ldd r27,Y+2
 20805 4b14 ADBF      		out __SP_L__,r26
 20806 4b16 BEBF      		out __SP_H__,r27
 20807               	/* epilogue start */
 20808 4b18 0F90      		pop __tmp_reg__
 20809 4b1a 0F90      		pop __tmp_reg__
 20810 4b1c DF91      		pop r29
 20811 4b1e CF91      		pop r28
 20812 4b20 1F91      		pop r17
 20813 4b22 0F91      		pop r16
 20814 4b24 FF90      		pop r15
 20815 4b26 EF90      		pop r14
 20816 4b28 DF90      		pop r13
 20817 4b2a CF90      		pop r12
 20818 4b2c BF90      		pop r11
 20819 4b2e AF90      		pop r10
 20820 4b30 9F90      		pop r9
 20821 4b32 8F90      		pop r8
 20822 4b34 7F90      		pop r7
 20823 4b36 6F90      		pop r6
 20824 4b38 5F90      		pop r5
 20825 4b3a 4F90      		pop r4
 20826 4b3c 3F90      		pop r3
 20827 4b3e 2F90      		pop r2
 20828               	.LVL1288:
 20829 4b40 0895      		ret
 20830               	.LVL1289:
 20831               	.L889:
 20832               	.LBB7012:
 20833               	.LBB7005:
 20834               	.LBB7001:
 20835               	.LBB6967:
 20836               	.LBB6963:
 20837               	.LBB6956:
 20838               	.LBB6953:
 20839               	.LBB6950:
 20840               	.LBB6947:
 20841               	.LBB6938:
 20842               	.LBB6935:
 20843               	.LBB6917:
 20844               	.LBB6918:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 20845               		.loc 4 51 0
 20846 4b42 5091 0000 		lds r21,ep_in_pipe_data+4
 20847               	.LBE6918:
 20848               	.LBE6917:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 20849               		.loc 1 83 0
 20850 4b46 1516      		cp __zero_reg__,r21
 20851 4b48 04F0      		brlt .+2
 20852 4b4a 00C0      		rjmp .L804
 20853               	.LBB6919:
 20854               	.LBB6920:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 20855               		.loc 4 62 0
 20856 4b4c 2091 0000 		lds r18,ep_in_pipe_data
 20857 4b50 3091 0000 		lds r19,ep_in_pipe_data+1
 20858               	.LVL1290:
 20859               	.LBE6920:
 20860               	.LBE6919:
 20861               	.LBB6921:
 20862               	.LBB6910:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 20863               		.loc 1 68 0
 20864 4b54 7091 0000 		lds r23,ep_in_data
 20865               	.LVL1291:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 20866               		.loc 1 69 0
 20867 4b58 872F      		mov r24,r23
 20868 4b5a 90E0      		ldi r25,lo8(0)
 20869               	.LVL1292:
 20870 4b5c E1E0      		ldi r30,lo8(1)
 20871 4b5e 8E15      		cp r24,r14
 20872 4b60 9F05      		cpc r25,r15
 20873 4b62 01F4      		brne .L805
 20874 4b64 E0E0      		ldi r30,lo8(0)
 20875               	.L805:
 20876 4b66 E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 20877               		.loc 1 72 0
 20878 4b6a 7723      		tst r23
 20879 4b6c 01F4      		brne .L806
 20880               	.LVL1293:
 20881               	.LBB6907:
 20882               	.LBB6908:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 20883               		.loc 3 168 0
 20884 4b6e 2093 0000 		sts endpoints+28,r18
 20885 4b72 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 20886               		.loc 3 169 0
 20887 4b76 C092 0000 		sts endpoints+26,r12
 20888 4b7a D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 20889               		.loc 3 174 0
 20890 4b7e FD01      		movw r30,r26
 20891               	/* #APP */
 20892               	 ;  174 "usb/usb.h" 1
 20893 4b80 02E2      		ldi r16, 34
 20894 4b82 0693      		.dc.w 0x9306
 20895               		
 20896               	 ;  0 "" 2
 20897               	.LVL1294:
 20898               	/* #NOAPP */
 20899               	.L807:
 20900               	.LBE6908:
 20901               	.LBE6907:
 20902               	.LBE6910:
 20903               	.LBE6921:
 20904               	.LBB6922:
 20905               	.LBB6923:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 20906               		.loc 4 72 0
 20907 4b84 5150      		subi r21,lo8(-(-1))
 20908 4b86 5093 0000 		sts ep_in_pipe_data+4,r21
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 20909               		.loc 4 73 0
 20910 4b8a C901      		movw r24,r18
 20911 4b8c 805C      		subi r24,lo8(-(64))
 20912 4b8e 9F4F      		sbci r25,hi8(-(64))
 20913 4b90 8093 0000 		sts ep_in_pipe_data,r24
 20914 4b94 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 20915               		.loc 4 75 0
 20916 4b98 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 20917 4b9a 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 20918 4b9c 9F07      		cpc r25,r31
 20919 4b9e 01F0      		breq .+2
 20920 4ba0 00C0      		rjmp .L803
 20921               	.LBE6923:
 20922               	.LBE6922:
 20923               	.LBB6924:
 20924               	.LBB6892:
 20925               		.loc 4 91 0
 20926 4ba2 6092 0000 		sts ep_in_pipe_data,r6
 20927 4ba6 7092 0000 		sts ep_in_pipe_data+1,r7
 20928               	.LVL1295:
 20929 4baa 00C0      		rjmp .L803
 20930               	.LVL1296:
 20931               	.L806:
 20932               	.LBE6892:
 20933               	.LBE6924:
 20934               	.LBB6925:
 20935               	.LBB6911:
 20936               	.LBB6909:
 20937               	.LBB6906:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 20938               		.loc 3 168 0
 20939 4bac 2093 0000 		sts endpoints+20,r18
 20940 4bb0 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 20941               		.loc 3 169 0
 20942 4bb4 C092 0000 		sts endpoints+18,r12
 20943 4bb8 D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 20944               		.loc 3 176 0
 20945 4bbc FD01      		movw r30,r26
 20946               	/* #APP */
 20947               	 ;  176 "usb/usb.h" 1
 20948 4bbe 04E1      		ldi r16, 20
 20949 4bc0 0693      		.dc.w 0x9306
 20950               		
 20951               	 ;  0 "" 2
 20952               	/* #NOAPP */
 20953 4bc2 00C0      		rjmp .L807
 20954               	.LVL1297:
 20955               	.L804:
 20956               	.LBE6906:
 20957               	.LBE6909:
 20958               	.LBE6911:
 20959               	.LBE6925:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 20960               		.loc 1 87 0
 20961 4bc4 8091 0000 		lds r24,ep_in_data+1
 20962 4bc8 8130      		cpi r24,lo8(1)
 20963 4bca 01F0      		breq .L892
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 20964               		.loc 1 91 0
 20965 4bcc 8230      		cpi r24,lo8(2)
 20966 4bce 01F0      		breq .+2
 20967 4bd0 00C0      		rjmp .L803
 20968               	.LVL1298:
 20969               	.LBB6926:
 20970               	.LBB6927:
 20971               	.LBB6928:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 20972               		.loc 3 228 0
 20973 4bd2 8091 0000 		lds r24,endpoints+24
 20974 4bd6 8670      		andi r24,lo8(6)
 20975               	.LBE6928:
 20976               	.LBE6927:
 20977               	.LBE6926:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 20978               		.loc 1 91 0
 20979 4bd8 8630      		cpi r24,lo8(6)
 20980 4bda 01F0      		breq .+2
 20981 4bdc 00C0      		rjmp .L803
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 20982               		.loc 1 92 0
 20983 4bde 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 20984               		.loc 1 93 0
 20985 4be2 1092 0000 		sts ep_in_data+2,__zero_reg__
 20986 4be6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 20987               	.LBB6929:
 20988               	.LBB6893:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 20989               		.loc 4 90 0
 20990 4bea 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 20991               		.loc 4 91 0
 20992 4bee 6092 0000 		sts ep_in_pipe_data+2,r6
 20993 4bf2 7092 0000 		sts ep_in_pipe_data+2+1,r7
 20994 4bf6 6092 0000 		sts ep_in_pipe_data,r6
 20995 4bfa 7092 0000 		sts ep_in_pipe_data+1,r7
 20996               	.LVL1299:
 20997 4bfe 00C0      		rjmp .L803
 20998               	.LVL1300:
 20999               	.L892:
 21000               	.LBE6893:
 21001               	.LBE6929:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 21002               		.loc 1 88 0
 21003 4c00 1093 0000 		sts ep_in_data+1,r17
 21004               	.LBB6930:
 21005               	.LBB6931:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 21006               		.loc 4 62 0
 21007 4c04 E091 0000 		lds r30,ep_in_pipe_data
 21008 4c08 F091 0000 		lds r31,ep_in_pipe_data+1
 21009               	.LBE6931:
 21010               	.LBE6930:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 21011               		.loc 1 90 0
 21012 4c0c 2091 0000 		lds r18,ep_in_data+2
 21013 4c10 3091 0000 		lds r19,ep_in_data+2+1
 21014               	.LVL1301:
 21015               	.LBB6932:
 21016               	.LBB6900:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 21017               		.loc 1 68 0
 21018 4c14 7091 0000 		lds r23,ep_in_data
 21019               	.LVL1302:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 21020               		.loc 1 69 0
 21021 4c18 872F      		mov r24,r23
 21022 4c1a 90E0      		ldi r25,lo8(0)
 21023 4c1c 51E0      		ldi r21,lo8(1)
 21024 4c1e 8E15      		cp r24,r14
 21025 4c20 9F05      		cpc r25,r15
 21026 4c22 01F4      		brne .L810
 21027 4c24 50E0      		ldi r21,lo8(0)
 21028               	.L810:
 21029 4c26 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 21030               		.loc 1 72 0
 21031 4c2a 7723      		tst r23
 21032 4c2c 01F0      		breq .+2
 21033 4c2e 00C0      		rjmp .L811
 21034               	.LVL1303:
 21035               	.LBB6896:
 21036               	.LBB6897:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21037               		.loc 3 168 0
 21038 4c30 E093 0000 		sts endpoints+28,r30
 21039 4c34 F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21040               		.loc 3 169 0
 21041 4c38 2093 0000 		sts endpoints+26,r18
 21042 4c3c 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 21043               		.loc 3 174 0
 21044 4c40 FD01      		movw r30,r26
 21045               	/* #APP */
 21046               	 ;  174 "usb/usb.h" 1
 21047 4c42 02E2      		ldi r16, 34
 21048 4c44 0693      		.dc.w 0x9306
 21049               		
 21050               	 ;  0 "" 2
 21051               	/* #NOAPP */
 21052 4c46 00C0      		rjmp .L803
 21053               	.LVL1304:
 21054               	.L884:
 21055               	.LBE6897:
 21056               	.LBE6896:
 21057               	.LBE6900:
 21058               	.LBE6932:
 21059               	.LBE6935:
 21060               	.LBE6938:
 21061               	.LBE6947:
 21062               	.LBE6950:
 21063               	.LBE6953:
 21064               	.LBE6956:
 21065               	.LBE6963:
 21066               	.LBE6967:
 21067               	.LBE7001:
 21068               	.LBE7005:
 21069               	.LBE7012:
 21070               	.LBB7013:
 21071               	.LBB6847:
 21072               	.LBB6839:
 21073               	.LBB6832:
 21074               	.LBB6826:
 21075               	.LBB6796:
 21076               	.LBB6791:
 21077               	.LBB6786:
 21078               	.LBB6781:
 21079               	.LBB6752:
 21080               	.LBB6753:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 21081               		.loc 4 51 0
 21082 4c48 4091 0000 		lds r20,ep_in_pipe_data+4
 21083               	.LBE6753:
 21084               	.LBE6752:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 21085               		.loc 1 83 0
 21086 4c4c 1416      		cp __zero_reg__,r20
 21087 4c4e 04F0      		brlt .+2
 21088 4c50 00C0      		rjmp .L785
 21089               	.LBB6754:
 21090               	.LBB6755:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 21091               		.loc 4 62 0
 21092 4c52 8091 0000 		lds r24,ep_in_pipe_data
 21093 4c56 9091 0000 		lds r25,ep_in_pipe_data+1
 21094               	.LVL1305:
 21095               	.LBE6755:
 21096               	.LBE6754:
 21097               	.LBB6756:
 21098               	.LBB6757:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 21099               		.loc 1 68 0
 21100 4c5a 2091 0000 		lds r18,ep_in_data
 21101               	.LVL1306:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 21102               		.loc 1 69 0
 21103 4c5e 31E0      		ldi r19,lo8(1)
 21104 4c60 2130      		cpi r18,lo8(1)
 21105 4c62 01F4      		brne .L786
 21106 4c64 30E0      		ldi r19,lo8(0)
 21107               	.L786:
 21108 4c66 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 21109               		.loc 1 72 0
 21110 4c6a 2223      		tst r18
 21111 4c6c 01F0      		breq .+2
 21112 4c6e 00C0      		rjmp .L787
 21113               	.LVL1307:
 21114               	.LBB6758:
 21115               	.LBB6759:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21116               		.loc 3 168 0
 21117 4c70 8093 0000 		sts endpoints+28,r24
 21118 4c74 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21119               		.loc 3 169 0
 21120 4c78 20E4      		ldi r18,lo8(64)
 21121 4c7a 30E0      		ldi r19,hi8(64)
 21122 4c7c 2093 0000 		sts endpoints+26,r18
 21123 4c80 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 21124               		.loc 3 174 0
 21125 4c84 E0E0      		ldi r30,lo8(endpoints+24)
 21126 4c86 F0E0      		ldi r31,hi8(endpoints+24)
 21127               	/* #APP */
 21128               	 ;  174 "usb/usb.h" 1
 21129 4c88 02E2      		ldi r16, 34
 21130 4c8a 0693      		.dc.w 0x9306
 21131               		
 21132               	 ;  0 "" 2
 21133               	.LVL1308:
 21134               	/* #NOAPP */
 21135               	.L788:
 21136               	.LBE6759:
 21137               	.LBE6758:
 21138               	.LBE6757:
 21139               	.LBE6756:
 21140               	.LBB6763:
 21141               	.LBB6764:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 21142               		.loc 4 72 0
 21143 4c8c 4150      		subi r20,lo8(-(-1))
 21144 4c8e 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 21145               		.loc 4 73 0
 21146 4c92 805C      		subi r24,lo8(-(64))
 21147 4c94 9F4F      		sbci r25,hi8(-(64))
 21148 4c96 8093 0000 		sts ep_in_pipe_data,r24
 21149 4c9a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 21150               		.loc 4 75 0
 21151 4c9e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 21152 4ca0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 21153 4ca2 9F07      		cpc r25,r31
 21154 4ca4 01F0      		breq .+2
 21155 4ca6 00C0      		rjmp .L784
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 21156               		.loc 4 76 0
 21157 4ca8 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 21158 4caa 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 21159 4cac 8093 0000 		sts ep_in_pipe_data,r24
 21160 4cb0 9093 0000 		sts ep_in_pipe_data+1,r25
 21161 4cb4 00C0      		rjmp .L784
 21162               	.LVL1309:
 21163               	.L891:
 21164               	.LBE6764:
 21165               	.LBE6763:
 21166               	.LBE6781:
 21167               	.LBE6786:
 21168               	.LBE6791:
 21169               	.LBE6796:
 21170               	.LBE6826:
 21171               	.LBE6832:
 21172               	.LBE6839:
 21173               	.LBE6847:
 21174               	.LBE7013:
 21175               	.LBB7014:
 21176               	.LBB7006:
 21177               	.LBB7002:
 21178               	.LBB7000:
 21179               	.LBB6999:
 21180               	.LBB6987:
 21181               	.LBB6986:
 21182               	.LBB6985:
 21183               	.LBB6980:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 21184               		.loc 4 57 0
 21185 4cb6 8091 0000 		lds r24,ep_in_pipe_data+4
 21186 4cba 232F      		mov r18,r19
 21187 4cbc 281B      		sub r18,r24
 21188               	.LBE6980:
 21189               	.LBE6985:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 21190               		.loc 1 127 0
 21191 4cbe 81E0      		ldi r24,lo8(1)
 21192 4cc0 1216      		cp __zero_reg__,r18
 21193 4cc2 04F4      		brge .+2
 21194 4cc4 00C0      		rjmp .L816
 21195 4cc6 00C0      		rjmp .L833
 21196               	.LVL1310:
 21197               	.L781:
 21198               	.LBE6986:
 21199               	.LBE6987:
 21200               	.LBE6999:
 21201               	.LBE7000:
 21202               	.LBE7002:
 21203               	.LBE7006:
 21204               	.LBE7014:
 21205               	.LBB7015:
 21206               	.LBB6848:
 21207               	.LBB6840:
 21208               	.LBB6736:
 21209               	.LBB6732:
 21210               	.LBB6725:
 21211               	.LBB6722:
 21212               	.LBB6719:
 21213               	.LBB6716:
 21214               	.LBB6707:
 21215               	.LBB6704:
 21216               	.LBB6701:
 21217               	.LBB6669:
 21218               	.LBB6666:
 21219               	.LBB6667:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21220               		.loc 3 168 0
 21221 4cc8 E093 0000 		sts endpoints+20,r30
 21222 4ccc F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21223               		.loc 3 169 0
 21224 4cd0 4093 0000 		sts endpoints+18,r20
 21225 4cd4 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21226               		.loc 3 176 0
 21227 4cd8 FD01      		movw r30,r26
 21228               	.LVL1311:
 21229               	/* #APP */
 21230               	 ;  176 "usb/usb.h" 1
 21231 4cda 04E1      		ldi r16, 20
 21232 4cdc 0693      		.dc.w 0x9306
 21233               		
 21234               	 ;  0 "" 2
 21235               	/* #NOAPP */
 21236 4cde 00C0      		rjmp .L773
 21237               	.LVL1312:
 21238               	.L811:
 21239               	.LBE6667:
 21240               	.LBE6666:
 21241               	.LBE6669:
 21242               	.LBE6701:
 21243               	.LBE6704:
 21244               	.LBE6707:
 21245               	.LBE6716:
 21246               	.LBE6719:
 21247               	.LBE6722:
 21248               	.LBE6725:
 21249               	.LBE6732:
 21250               	.LBE6736:
 21251               	.LBE6840:
 21252               	.LBE6848:
 21253               	.LBE7015:
 21254               	.LBB7016:
 21255               	.LBB7007:
 21256               	.LBB7003:
 21257               	.LBB6968:
 21258               	.LBB6964:
 21259               	.LBB6957:
 21260               	.LBB6954:
 21261               	.LBB6951:
 21262               	.LBB6948:
 21263               	.LBB6939:
 21264               	.LBB6936:
 21265               	.LBB6933:
 21266               	.LBB6901:
 21267               	.LBB6898:
 21268               	.LBB6899:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21269               		.loc 3 168 0
 21270 4ce0 E093 0000 		sts endpoints+20,r30
 21271 4ce4 F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21272               		.loc 3 169 0
 21273 4ce8 2093 0000 		sts endpoints+18,r18
 21274 4cec 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21275               		.loc 3 176 0
 21276 4cf0 FD01      		movw r30,r26
 21277               	.LVL1313:
 21278               	/* #APP */
 21279               	 ;  176 "usb/usb.h" 1
 21280 4cf2 04E1      		ldi r16, 20
 21281 4cf4 0693      		.dc.w 0x9306
 21282               		
 21283               	 ;  0 "" 2
 21284               	/* #NOAPP */
 21285 4cf6 00C0      		rjmp .L803
 21286               	.LVL1314:
 21287               	.L729:
 21288               	.LBE6899:
 21289               	.LBE6898:
 21290               	.LBE6901:
 21291               	.LBE6933:
 21292               	.LBE6936:
 21293               	.LBE6939:
 21294               	.LBE6948:
 21295               	.LBE6951:
 21296               	.LBE6954:
 21297               	.LBE6957:
 21298               	.LBE6964:
 21299               	.LBE6968:
 21300               	.LBE7003:
 21301               	.LBE7007:
 21302               	.LBE7016:
 21303               	.LBB7017:
 21304               	.LBB6460:
 21305               	.LBB6451:
 21306               	.LBB6347:
 21307               	.LBB6343:
 21308               	.LBB6336:
 21309               	.LBB6333:
 21310               	.LBB6330:
 21311               	.LBB6327:
 21312               	.LBB6318:
 21313               	.LBB6315:
 21314               	.LBB6312:
 21315               	.LBB6280:
 21316               	.LBB6277:
 21317               	.LBB6278:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21318               		.loc 3 168 0
 21319 4cf8 8093 0000 		sts endpoints+20,r24
 21320 4cfc 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21321               		.loc 3 169 0
 21322 4d00 4093 0000 		sts endpoints+18,r20
 21323 4d04 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21324               		.loc 3 176 0
 21325 4d08 F701      		movw r30,r14
 21326               	/* #APP */
 21327               	 ;  176 "usb/usb.h" 1
 21328 4d0a 04E1      		ldi r16, 20
 21329 4d0c 0693      		.dc.w 0x9306
 21330               		
 21331               	 ;  0 "" 2
 21332               	/* #NOAPP */
 21333 4d0e 00C0      		rjmp .L721
 21334               	.LVL1315:
 21335               	.L761:
 21336               	.LBE6278:
 21337               	.LBE6277:
 21338               	.LBE6280:
 21339               	.LBE6312:
 21340               	.LBE6315:
 21341               	.LBE6318:
 21342               	.LBE6327:
 21343               	.LBE6330:
 21344               	.LBE6333:
 21345               	.LBE6336:
 21346               	.LBE6343:
 21347               	.LBE6347:
 21348               	.LBE6451:
 21349               	.LBE6460:
 21350               	.LBE7017:
 21351               	.LBB7018:
 21352               	.LBB6620:
 21353               	.LBB6616:
 21354               	.LBB6581:
 21355               	.LBB6577:
 21356               	.LBB6570:
 21357               	.LBB6567:
 21358               	.LBB6564:
 21359               	.LBB6561:
 21360               	.LBB6552:
 21361               	.LBB6549:
 21362               	.LBB6546:
 21363               	.LBB6514:
 21364               	.LBB6511:
 21365               	.LBB6512:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21366               		.loc 3 168 0
 21367 4d10 E093 0000 		sts endpoints+20,r30
 21368 4d14 F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21369               		.loc 3 169 0
 21370 4d18 4093 0000 		sts endpoints+18,r20
 21371 4d1c 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21372               		.loc 3 176 0
 21373 4d20 FD01      		movw r30,r26
 21374               	.LVL1316:
 21375               	/* #APP */
 21376               	 ;  176 "usb/usb.h" 1
 21377 4d22 04E1      		ldi r16, 20
 21378 4d24 0693      		.dc.w 0x9306
 21379               		
 21380               	 ;  0 "" 2
 21381               	/* #NOAPP */
 21382 4d26 00C0      		rjmp .L753
 21383               	.LVL1317:
 21384               	.L787:
 21385               	.LBE6512:
 21386               	.LBE6511:
 21387               	.LBE6514:
 21388               	.LBE6546:
 21389               	.LBE6549:
 21390               	.LBE6552:
 21391               	.LBE6561:
 21392               	.LBE6564:
 21393               	.LBE6567:
 21394               	.LBE6570:
 21395               	.LBE6577:
 21396               	.LBE6581:
 21397               	.LBE6616:
 21398               	.LBE6620:
 21399               	.LBE7018:
 21400               	.LBB7019:
 21401               	.LBB6849:
 21402               	.LBB6841:
 21403               	.LBB6833:
 21404               	.LBB6827:
 21405               	.LBB6797:
 21406               	.LBB6792:
 21407               	.LBB6787:
 21408               	.LBB6782:
 21409               	.LBB6765:
 21410               	.LBB6762:
 21411               	.LBB6760:
 21412               	.LBB6761:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21413               		.loc 3 168 0
 21414 4d28 8093 0000 		sts endpoints+20,r24
 21415 4d2c 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21416               		.loc 3 169 0
 21417 4d30 20E4      		ldi r18,lo8(64)
 21418 4d32 30E0      		ldi r19,hi8(64)
 21419               	.LVL1318:
 21420 4d34 2093 0000 		sts endpoints+18,r18
 21421 4d38 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21422               		.loc 3 176 0
 21423 4d3c E0E0      		ldi r30,lo8(endpoints+24)
 21424 4d3e F0E0      		ldi r31,hi8(endpoints+24)
 21425               	/* #APP */
 21426               	 ;  176 "usb/usb.h" 1
 21427 4d40 04E1      		ldi r16, 20
 21428 4d42 0693      		.dc.w 0x9306
 21429               		
 21430               	 ;  0 "" 2
 21431               	/* #NOAPP */
 21432 4d44 00C0      		rjmp .L788
 21433               	.LVL1319:
 21434               	.L735:
 21435               	.LBE6761:
 21436               	.LBE6760:
 21437               	.LBE6762:
 21438               	.LBE6765:
 21439               	.LBE6782:
 21440               	.LBE6787:
 21441               	.LBE6792:
 21442               	.LBE6797:
 21443               	.LBE6827:
 21444               	.LBE6833:
 21445               	.LBE6841:
 21446               	.LBE6849:
 21447               	.LBE7019:
 21448               	.LBB7020:
 21449               	.LBB6461:
 21450               	.LBB6452:
 21451               	.LBB6444:
 21452               	.LBB6438:
 21453               	.LBB6408:
 21454               	.LBB6403:
 21455               	.LBB6398:
 21456               	.LBB6393:
 21457               	.LBB6376:
 21458               	.LBB6373:
 21459               	.LBB6371:
 21460               	.LBB6372:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21461               		.loc 3 168 0
 21462 4d46 8093 0000 		sts endpoints+20,r24
 21463 4d4a 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21464               		.loc 3 169 0
 21465 4d4e 20E4      		ldi r18,lo8(64)
 21466 4d50 30E0      		ldi r19,hi8(64)
 21467               	.LVL1320:
 21468 4d52 2093 0000 		sts endpoints+18,r18
 21469 4d56 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21470               		.loc 3 176 0
 21471 4d5a E0E0      		ldi r30,lo8(endpoints+24)
 21472 4d5c F0E0      		ldi r31,hi8(endpoints+24)
 21473               	/* #APP */
 21474               	 ;  176 "usb/usb.h" 1
 21475 4d5e 04E1      		ldi r16, 20
 21476 4d60 0693      		.dc.w 0x9306
 21477               		
 21478               	 ;  0 "" 2
 21479               	/* #NOAPP */
 21480 4d62 00C0      		rjmp .L736
 21481               	.LVL1321:
 21482               	.L785:
 21483               	.LBE6372:
 21484               	.LBE6371:
 21485               	.LBE6373:
 21486               	.LBE6376:
 21487               	.LBE6393:
 21488               	.LBE6398:
 21489               	.LBE6403:
 21490               	.LBE6408:
 21491               	.LBE6438:
 21492               	.LBE6444:
 21493               	.LBE6452:
 21494               	.LBE6461:
 21495               	.LBE7020:
 21496               	.LBB7021:
 21497               	.LBB6850:
 21498               	.LBB6842:
 21499               	.LBB6834:
 21500               	.LBB6828:
 21501               	.LBB6798:
 21502               	.LBB6793:
 21503               	.LBB6788:
 21504               	.LBB6783:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 21505               		.loc 1 87 0
 21506 4d64 8091 0000 		lds r24,ep_in_data+1
 21507 4d68 8130      		cpi r24,lo8(1)
 21508 4d6a 01F0      		breq .L893
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 21509               		.loc 1 91 0
 21510 4d6c 8230      		cpi r24,lo8(2)
 21511 4d6e 01F0      		breq .+2
 21512 4d70 00C0      		rjmp .L784
 21513               	.LVL1322:
 21514               	.LBB6766:
 21515               	.LBB6767:
 21516               	.LBB6768:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 21517               		.loc 3 228 0
 21518 4d72 8091 0000 		lds r24,endpoints+24
 21519 4d76 8670      		andi r24,lo8(6)
 21520               	.LBE6768:
 21521               	.LBE6767:
 21522               	.LBE6766:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 21523               		.loc 1 91 0
 21524 4d78 8630      		cpi r24,lo8(6)
 21525 4d7a 01F0      		breq .+2
 21526 4d7c 00C0      		rjmp .L784
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 21527               		.loc 1 92 0
 21528 4d7e 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 21529               		.loc 1 93 0
 21530 4d82 1092 0000 		sts ep_in_data+2,__zero_reg__
 21531 4d86 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 21532               	.LBB6769:
 21533               	.LBB6770:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 21534               		.loc 4 90 0
 21535 4d8a 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 21536               		.loc 4 91 0
 21537 4d8e 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 21538 4d90 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 21539 4d92 8093 0000 		sts ep_in_pipe_data+2,r24
 21540 4d96 9093 0000 		sts ep_in_pipe_data+2+1,r25
 21541 4d9a 8093 0000 		sts ep_in_pipe_data,r24
 21542 4d9e 9093 0000 		sts ep_in_pipe_data+1,r25
 21543               	.LVL1323:
 21544 4da2 00C0      		rjmp .L784
 21545               	.LVL1324:
 21546               	.L733:
 21547               	.LBE6770:
 21548               	.LBE6769:
 21549               	.LBE6783:
 21550               	.LBE6788:
 21551               	.LBE6793:
 21552               	.LBE6798:
 21553               	.LBE6828:
 21554               	.LBE6834:
 21555               	.LBE6842:
 21556               	.LBE6850:
 21557               	.LBE7021:
 21558               	.LBB7022:
 21559               	.LBB6462:
 21560               	.LBB6453:
 21561               	.LBB6445:
 21562               	.LBB6439:
 21563               	.LBB6409:
 21564               	.LBB6404:
 21565               	.LBB6399:
 21566               	.LBB6394:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 21567               		.loc 1 87 0
 21568 4da4 8091 0000 		lds r24,ep_in_data+1
 21569 4da8 8130      		cpi r24,lo8(1)
 21570 4daa 01F4      		brne .+2
 21571 4dac 00C0      		rjmp .L894
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 21572               		.loc 1 91 0
 21573 4dae 8230      		cpi r24,lo8(2)
 21574 4db0 01F0      		breq .+2
 21575 4db2 00C0      		rjmp .L732
 21576               	.LVL1325:
 21577               	.LBB6377:
 21578               	.LBB6378:
 21579               	.LBB6379:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 21580               		.loc 3 228 0
 21581 4db4 8091 0000 		lds r24,endpoints+24
 21582 4db8 8670      		andi r24,lo8(6)
 21583               	.LBE6379:
 21584               	.LBE6378:
 21585               	.LBE6377:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 21586               		.loc 1 91 0
 21587 4dba 8630      		cpi r24,lo8(6)
 21588 4dbc 01F0      		breq .+2
 21589 4dbe 00C0      		rjmp .L732
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 21590               		.loc 1 92 0
 21591 4dc0 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 21592               		.loc 1 93 0
 21593 4dc4 1092 0000 		sts ep_in_data+2,__zero_reg__
 21594 4dc8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 21595               	.LBB6380:
 21596               	.LBB6381:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 21597               		.loc 4 90 0
 21598 4dcc 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 21599               		.loc 4 91 0
 21600 4dd0 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 21601 4dd2 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 21602 4dd4 8093 0000 		sts ep_in_pipe_data+2,r24
 21603 4dd8 9093 0000 		sts ep_in_pipe_data+2+1,r25
 21604 4ddc 8093 0000 		sts ep_in_pipe_data,r24
 21605 4de0 9093 0000 		sts ep_in_pipe_data+1,r25
 21606               	.LVL1326:
 21607 4de4 00C0      		rjmp .L732
 21608               	.LVL1327:
 21609               	.L893:
 21610               	.LBE6381:
 21611               	.LBE6380:
 21612               	.LBE6394:
 21613               	.LBE6399:
 21614               	.LBE6404:
 21615               	.LBE6409:
 21616               	.LBE6439:
 21617               	.LBE6445:
 21618               	.LBE6453:
 21619               	.LBE6462:
 21620               	.LBE7022:
 21621               	.LBB7023:
 21622               	.LBB6851:
 21623               	.LBB6843:
 21624               	.LBB6835:
 21625               	.LBB6829:
 21626               	.LBB6799:
 21627               	.LBB6794:
 21628               	.LBB6789:
 21629               	.LBB6784:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 21630               		.loc 1 88 0
 21631 4de6 82E0      		ldi r24,lo8(2)
 21632 4de8 8093 0000 		sts ep_in_data+1,r24
 21633               	.LBB6771:
 21634               	.LBB6772:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 21635               		.loc 4 62 0
 21636 4dec 6091 0000 		lds r22,ep_in_pipe_data
 21637 4df0 4091 0000 		lds r20,ep_in_pipe_data+1
 21638               	.LBE6772:
 21639               	.LBE6771:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 21640               		.loc 1 90 0
 21641 4df4 8091 0000 		lds r24,ep_in_data+2
 21642 4df8 9091 0000 		lds r25,ep_in_data+2+1
 21643               	.LVL1328:
 21644               	.LBB6773:
 21645               	.LBB6774:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 21646               		.loc 1 68 0
 21647 4dfc 2091 0000 		lds r18,ep_in_data
 21648               	.LVL1329:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 21649               		.loc 1 69 0
 21650 4e00 31E0      		ldi r19,lo8(1)
 21651 4e02 2130      		cpi r18,lo8(1)
 21652 4e04 01F4      		brne .L791
 21653 4e06 30E0      		ldi r19,lo8(0)
 21654               	.L791:
 21655 4e08 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 21656               		.loc 1 72 0
 21657 4e0c 2223      		tst r18
 21658 4e0e 01F4      		brne .L792
 21659               	.LVL1330:
 21660               	.LBB6775:
 21661               	.LBB6776:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21662               		.loc 3 168 0
 21663 4e10 262F      		mov r18,r22
 21664 4e12 342F      		mov r19,r20
 21665 4e14 2093 0000 		sts endpoints+28,r18
 21666 4e18 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21667               		.loc 3 169 0
 21668 4e1c 8093 0000 		sts endpoints+26,r24
 21669 4e20 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 21670               		.loc 3 174 0
 21671 4e24 E0E0      		ldi r30,lo8(endpoints+24)
 21672 4e26 F0E0      		ldi r31,hi8(endpoints+24)
 21673               	/* #APP */
 21674               	 ;  174 "usb/usb.h" 1
 21675 4e28 02E2      		ldi r16, 34
 21676 4e2a 0693      		.dc.w 0x9306
 21677               		
 21678               	 ;  0 "" 2
 21679               	/* #NOAPP */
 21680 4e2c 00C0      		rjmp .L784
 21681               	.LVL1331:
 21682               	.L894:
 21683               	.LBE6776:
 21684               	.LBE6775:
 21685               	.LBE6774:
 21686               	.LBE6773:
 21687               	.LBE6784:
 21688               	.LBE6789:
 21689               	.LBE6794:
 21690               	.LBE6799:
 21691               	.LBE6829:
 21692               	.LBE6835:
 21693               	.LBE6843:
 21694               	.LBE6851:
 21695               	.LBE7023:
 21696               	.LBB7024:
 21697               	.LBB6463:
 21698               	.LBB6454:
 21699               	.LBB6446:
 21700               	.LBB6440:
 21701               	.LBB6410:
 21702               	.LBB6405:
 21703               	.LBB6400:
 21704               	.LBB6395:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 21705               		.loc 1 88 0
 21706 4e2e 82E0      		ldi r24,lo8(2)
 21707 4e30 8093 0000 		sts ep_in_data+1,r24
 21708               	.LBB6382:
 21709               	.LBB6383:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 21710               		.loc 4 62 0
 21711 4e34 6091 0000 		lds r22,ep_in_pipe_data
 21712 4e38 4091 0000 		lds r20,ep_in_pipe_data+1
 21713               	.LBE6383:
 21714               	.LBE6382:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 21715               		.loc 1 90 0
 21716 4e3c 8091 0000 		lds r24,ep_in_data+2
 21717 4e40 9091 0000 		lds r25,ep_in_data+2+1
 21718               	.LVL1332:
 21719               	.LBB6384:
 21720               	.LBB6385:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 21721               		.loc 1 68 0
 21722 4e44 2091 0000 		lds r18,ep_in_data
 21723               	.LVL1333:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 21724               		.loc 1 69 0
 21725 4e48 31E0      		ldi r19,lo8(1)
 21726 4e4a 2130      		cpi r18,lo8(1)
 21727 4e4c 01F4      		brne .L739
 21728 4e4e 30E0      		ldi r19,lo8(0)
 21729               	.L739:
 21730 4e50 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 21731               		.loc 1 72 0
 21732 4e54 2223      		tst r18
 21733 4e56 01F4      		brne .L740
 21734               	.LVL1334:
 21735               	.LBB6386:
 21736               	.LBB6387:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21737               		.loc 3 168 0
 21738 4e58 262F      		mov r18,r22
 21739 4e5a 342F      		mov r19,r20
 21740 4e5c 2093 0000 		sts endpoints+28,r18
 21741 4e60 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21742               		.loc 3 169 0
 21743 4e64 8093 0000 		sts endpoints+26,r24
 21744 4e68 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 21745               		.loc 3 174 0
 21746 4e6c E0E0      		ldi r30,lo8(endpoints+24)
 21747 4e6e F0E0      		ldi r31,hi8(endpoints+24)
 21748               	/* #APP */
 21749               	 ;  174 "usb/usb.h" 1
 21750 4e70 02E2      		ldi r16, 34
 21751 4e72 0693      		.dc.w 0x9306
 21752               		
 21753               	 ;  0 "" 2
 21754               	/* #NOAPP */
 21755 4e74 00C0      		rjmp .L732
 21756               	.LVL1335:
 21757               	.L792:
 21758               	.LBE6387:
 21759               	.LBE6386:
 21760               	.LBE6385:
 21761               	.LBE6384:
 21762               	.LBE6395:
 21763               	.LBE6400:
 21764               	.LBE6405:
 21765               	.LBE6410:
 21766               	.LBE6440:
 21767               	.LBE6446:
 21768               	.LBE6454:
 21769               	.LBE6463:
 21770               	.LBE7024:
 21771               	.LBB7025:
 21772               	.LBB6852:
 21773               	.LBB6844:
 21774               	.LBB6836:
 21775               	.LBB6830:
 21776               	.LBB6800:
 21777               	.LBB6795:
 21778               	.LBB6790:
 21779               	.LBB6785:
 21780               	.LBB6780:
 21781               	.LBB6779:
 21782               	.LBB6777:
 21783               	.LBB6778:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21784               		.loc 3 168 0
 21785 4e76 262F      		mov r18,r22
 21786               	.LVL1336:
 21787 4e78 342F      		mov r19,r20
 21788 4e7a 2093 0000 		sts endpoints+20,r18
 21789 4e7e 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21790               		.loc 3 169 0
 21791 4e82 8093 0000 		sts endpoints+18,r24
 21792 4e86 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21793               		.loc 3 176 0
 21794 4e8a E0E0      		ldi r30,lo8(endpoints+24)
 21795 4e8c F0E0      		ldi r31,hi8(endpoints+24)
 21796               	/* #APP */
 21797               	 ;  176 "usb/usb.h" 1
 21798 4e8e 04E1      		ldi r16, 20
 21799 4e90 0693      		.dc.w 0x9306
 21800               		
 21801               	 ;  0 "" 2
 21802               	/* #NOAPP */
 21803 4e92 00C0      		rjmp .L784
 21804               	.LVL1337:
 21805               	.L740:
 21806               	.LBE6778:
 21807               	.LBE6777:
 21808               	.LBE6779:
 21809               	.LBE6780:
 21810               	.LBE6785:
 21811               	.LBE6790:
 21812               	.LBE6795:
 21813               	.LBE6800:
 21814               	.LBE6830:
 21815               	.LBE6836:
 21816               	.LBE6844:
 21817               	.LBE6852:
 21818               	.LBE7025:
 21819               	.LBB7026:
 21820               	.LBB6464:
 21821               	.LBB6455:
 21822               	.LBB6447:
 21823               	.LBB6441:
 21824               	.LBB6411:
 21825               	.LBB6406:
 21826               	.LBB6401:
 21827               	.LBB6396:
 21828               	.LBB6391:
 21829               	.LBB6390:
 21830               	.LBB6388:
 21831               	.LBB6389:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 21832               		.loc 3 168 0
 21833 4e94 262F      		mov r18,r22
 21834               	.LVL1338:
 21835 4e96 342F      		mov r19,r20
 21836 4e98 2093 0000 		sts endpoints+20,r18
 21837 4e9c 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 21838               		.loc 3 169 0
 21839 4ea0 8093 0000 		sts endpoints+18,r24
 21840 4ea4 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 21841               		.loc 3 176 0
 21842 4ea8 E0E0      		ldi r30,lo8(endpoints+24)
 21843 4eaa F0E0      		ldi r31,hi8(endpoints+24)
 21844               	/* #APP */
 21845               	 ;  176 "usb/usb.h" 1
 21846 4eac 04E1      		ldi r16, 20
 21847 4eae 0693      		.dc.w 0x9306
 21848               		
 21849               	 ;  0 "" 2
 21850               	/* #NOAPP */
 21851 4eb0 00C0      		rjmp .L732
 21852               	.LBE6389:
 21853               	.LBE6388:
 21854               	.LBE6390:
 21855               	.LBE6391:
 21856               	.LBE6396:
 21857               	.LBE6401:
 21858               	.LBE6406:
 21859               	.LBE6411:
 21860               	.LBE6441:
 21861               	.LBE6447:
 21862               	.LBE6455:
 21863               	.LBE6464:
 21864               	.LBE7026:
 21865               		.cfi_endproc
 21866               	.LFE80:
 21868               		.section	.text.startup,"ax",@progbits
 21869               	.global	main
 21871               	main:
 21872               	.LFB81:
  21:main.c        **** int main(void){
 21873               		.loc 6 21 0
 21874               		.cfi_startproc
 21875 0000 CF93      		push r28
 21876               	.LCFI172:
 21877               		.cfi_def_cfa_offset 3
 21878               		.cfi_offset 28, -2
 21879 0002 DF93      		push r29
 21880               	.LCFI173:
 21881               		.cfi_def_cfa_offset 4
 21882               		.cfi_offset 29, -3
 21883 0004 CDB7      		in r28,__SP_L__
 21884 0006 DEB7      		in r29,__SP_H__
 21885 0008 C456      		subi r28,lo8(-(-100))
 21886 000a D040      		sbci r29,hi8(-(-100))
 21887               	.LCFI174:
 21888               		.cfi_def_cfa 28, 104
 21889 000c CDBF      		out __SP_L__,r28
 21890 000e DEBF      		out __SP_H__,r29
 21891               	/* prologue: function */
 21892               	/* frame size = 100 */
 21893               	/* stack size = 102 */
 21894               	.L__stack_usage = 102
  24:main.c        **** 	USB_ConfigureClock();
 21895               		.loc 6 24 0
 21896 0010 0E94 0000 		call USB_ConfigureClock
  25:main.c        **** 	USB_Init();
 21897               		.loc 6 25 0
 21898 0014 0E94 0000 		call USB_Init
  26:main.c        **** 	USB.INTCTRLA = USB_BUSEVIE_bm | USB_INTLVL_MED_gc;
 21899               		.loc 6 26 0
 21900 0018 20EC      		ldi r18,lo8(1216)
 21901 001a E22E      		mov r14,r18
 21902 001c 24E0      		ldi r18,hi8(1216)
 21903 001e F22E      		mov r15,r18
 21904 0020 82E4      		ldi r24,lo8(66)
 21905 0022 F701      		movw r30,r14
 21906 0024 8087      		std Z+8,r24
  27:main.c        **** 	USB.INTCTRLB = USB_TRNIE_bm | USB_SETUPIE_bm;
 21907               		.loc 6 27 0
 21908 0026 83E0      		ldi r24,lo8(3)
 21909 0028 8187      		std Z+9,r24
  28:main.c        **** 	PMIC.CTRL = PMIC_LOLVLEN_bm | PMIC_MEDLVLEN_bm;
 21910               		.loc 6 28 0
 21911 002a E0EA      		ldi r30,lo8(160)
 21912 002c F0E0      		ldi r31,hi8(160)
 21913 002e 8283      		std Z+2,r24
  29:main.c        **** 	sei();
 21914               		.loc 6 29 0
 21915               	/* #APP */
 21916               	 ;  29 "main.c" 1
 21917 0030 7894      		sei
 21918               	 ;  0 "" 2
  33:main.c        **** 		gps_init();
 21919               		.loc 6 33 0
 21920               	/* #NOAPP */
 21921 0032 0E94 0000 		call gps_init
 21922               	.LVL1339:
 21923               	.LBB7234:
 21924               	.LBB7235:
 21925               	.LBB7236:
 21926               	.LBB7237:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 21927               		.loc 1 110 0
 21928 0036 81E0      		ldi r24,lo8(1)
 21929 0038 8093 0000 		sts ep_in_data+1,r24
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 21930               		.loc 1 111 0
 21931 003c 0E94 0000 		call usb_pipe_handle.constprop.9
 21932               	.LBE7237:
 21933               	.LBE7236:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 21934               		.loc 5 27 0
 21935 0040 82E0      		ldi r24,lo8(2)
 21936 0042 F701      		movw r30,r14
 21937 0044 8587      		std Z+13,r24
 21938               	.LBB7238:
 21939               	.LBB7239:
 21940               	.LBB7240:
 21941               	.LBB7241:
 21942               	.LBB7242:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 21943               		.loc 4 57 0
 21944 0046 96E0      		ldi r25,lo8(6)
 21945               	.L896:
 21946               	.LVL1340:
 21947               	.LBE7242:
 21948               	.LBE7241:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 21949               		.loc 1 123 0
 21950 0048 2FB7      		in r18,__SREG__
 21951               	.LVL1341:
 21952               	.LBB7244:
 21953               	.LBB7245:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 21954               		.loc 2 50 0
 21955               	/* #APP */
 21956               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 21957 004a F894      		cli
 21958               	 ;  0 "" 2
 21959               	/* #NOAPP */
 21960               	.LBE7245:
 21961               	.LBE7244:
 21962               	.LBB7246:
 21963               	.LBB7243:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 21964               		.loc 4 57 0
 21965 004c 8091 0000 		lds r24,ep_in_pipe_data+4
 21966 0050 392F      		mov r19,r25
 21967 0052 381B      		sub r19,r24
 21968               	.LBE7243:
 21969               	.LBE7246:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 21970               		.loc 1 127 0
 21971 0054 81E0      		ldi r24,lo8(1)
 21972 0056 1316      		cp __zero_reg__,r19
 21973 0058 04F0      		brlt .L898
 21974 005a 80E0      		ldi r24,lo8(0)
 21975               	.L898:
 21976               	.LVL1342:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 21977               		.loc 1 124 0
 21978 005c 3091 0000 		lds r19,ep_in_data+1
 21979 0060 3111      		cpse r19,__zero_reg__
 125:usb/usb_pipe.h **** 			r = false;
 21980               		.loc 1 125 0
 21981 0062 80E0      		ldi r24,lo8(0)
 21982               	.L899:
 21983               	.LBB7247:
 21984               	.LBB7248:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 21985               		.loc 2 70 0
 21986 0064 2FBF      		out __SREG__,r18
 21987               		.loc 2 71 0
 21988               	.LBE7248:
 21989               	.LBE7247:
 21990               	.LBE7240:
 21991               	.LBE7239:
 21992               	.LBE7238:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 21993               		.loc 5 28 0
 21994 0066 8823      		tst r24
 21995 0068 01F4      		brne .L948
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 21996               		.loc 5 29 0
 21997 006a 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 21998 006e 8823      		tst r24
 21999 0070 01F0      		breq .L896
 22000               	.LVL1343:
 22001               	.LBB7249:
 22002               	.LBB7250:
 22003               	.LBB7251:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22004               		.loc 1 54 0
 22005 0072 8FB7      		in r24,__SREG__
 22006               	.LVL1344:
 22007               	.LBB7252:
 22008               	.LBB7253:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22009               		.loc 2 50 0
 22010               	/* #APP */
 22011               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22012 0074 F894      		cli
 22013               	 ;  0 "" 2
 22014               	.LVL1345:
 22015               	/* #NOAPP */
 22016               	.LBE7253:
 22017               	.LBE7252:
 22018               	.LBB7254:
 22019               	.LBB7255:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 22020               		.loc 4 90 0
 22021 0076 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 22022               		.loc 4 91 0
 22023 007a 90E0      		ldi r25,lo8(ep_in_pipe_buffer)
 22024 007c A92E      		mov r10,r25
 22025 007e 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 22026 0080 B92E      		mov r11,r25
 22027 0082 A092 0000 		sts ep_in_pipe_data+2,r10
 22028 0086 B092 0000 		sts ep_in_pipe_data+2+1,r11
 22029 008a A092 0000 		sts ep_in_pipe_data,r10
 22030 008e B092 0000 		sts ep_in_pipe_data+1,r11
 22031               	.LVL1346:
 22032               	.LBE7255:
 22033               	.LBE7254:
 22034               	.LBB7256:
 22035               	.LBB7257:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 22036               		.loc 3 158 0
 22037 0092 A0E0      		ldi r26,lo8(endpoints+24)
 22038 0094 B0E0      		ldi r27,hi8(endpoints+24)
 22039 0096 FD01      		movw r30,r26
 22040               	/* #APP */
 22041               	 ;  158 "usb/usb.h" 1
 22042 0098 06E0      		ldi r16, 6
 22043 009a 0593      		.dc.w 0x9305
 22044               		
 22045               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 22046               		.loc 3 159 0
 22047               	 ;  159 "usb/usb.h" 1
 22048 009c 08E0      		ldi r16, 8
 22049 009e 0693      		.dc.w 0x9306
 22050               		
 22051               	 ;  0 "" 2
 22052               	/* #NOAPP */
 22053               	.LBE7257:
 22054               	.LBE7256:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 22055               		.loc 1 57 0
 22056 00a0 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 22057               		.loc 1 58 0
 22058 00a4 1092 0000 		sts ep_in_data+2,__zero_reg__
 22059 00a8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 22060               		.loc 1 59 0
 22061 00ac 1092 0000 		sts ep_in_data,__zero_reg__
 22062               	.LVL1347:
 22063               	.LBB7258:
 22064               	.LBB7259:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22065               		.loc 2 70 0
 22066 00b0 8FBF      		out __SREG__,r24
 22067               		.loc 2 71 0
 22068 00b2 00C0      		rjmp .L901
 22069               	.LVL1348:
 22070               	.L948:
 22071 00b4 E0E0      		ldi r30,lo8(ep_in_pipe_buffer)
 22072 00b6 AE2E      		mov r10,r30
 22073 00b8 E0E0      		ldi r30,hi8(ep_in_pipe_buffer)
 22074 00ba BE2E      		mov r11,r30
 22075 00bc A0E0      		ldi r26,lo8(endpoints+24)
 22076 00be B0E0      		ldi r27,hi8(endpoints+24)
 22077               	.L901:
 22078               	.LBE7259:
 22079               	.LBE7258:
 22080               	.LBE7251:
 22081               	.LBE7250:
 22082               	.LBE7249:
 22083               	.LBE7235:
 22084               	.LBE7234:
 22085               	.LBB7260:
 22086               	.LBB7261:
 22087               	.LBB7262:
 22088               	.LBB7263:
 22089               	.LBB7264:
 22090               	.LBB7265:
 22091               	.LBB7266:
 22092               	.LBB7267:
 22093               	.LBB7268:
 22094               	.LBB7269:
 22095               	.LBB7270:
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 22096               		.loc 10 153 0
 22097 00c0 80E0      		ldi r24,lo8(0)
 22098 00c2 90E0      		ldi r25,hi8(0)
 22099               	.LBE7270:
 22100               	.LBE7269:
 22101               	.LBE7268:
 22102               	.LBE7267:
 22103               	.LBE7266:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 22104               		.loc 5 27 0
 22105 00c4 F2E0      		ldi r31,lo8(2)
 22106 00c6 7F2E      		mov r7,r31
 22107               	.LBB7281:
 22108               	.LBB7282:
 22109               	.LBB7283:
 22110               	.LBB7284:
 22111               	.LBB7285:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 22112               		.loc 4 57 0
 22113 00c8 46E0      		ldi r20,lo8(6)
 22114               	.LBE7285:
 22115               	.LBE7284:
 22116               	.LBE7283:
 22117               	.LBE7282:
 22118               	.LBE7281:
 22119               	.LBB7298:
 22120               	.LBB7299:
 22121               	.LBB7300:
 22122               	.LBB7301:
 22123               	.LBB7302:
 22124               	.LBB7303:
 22125               	.LBB7304:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 22126               		.loc 1 69 0
 22127 00ca 11E0      		ldi r17,lo8(1)
 22128 00cc E12E      		mov r14,r17
 22129 00ce F12C      		mov r15,__zero_reg__
 22130               	.LBE7304:
 22131               	.LBE7303:
 22132               	.LBB7312:
 22133               	.LBB7313:
 22134               	.LBB7314:
 22135               	.LBB7315:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 22136               		.loc 3 169 0
 22137 00d0 00E4      		ldi r16,lo8(64)
 22138 00d2 C02E      		mov r12,r16
 22139 00d4 D12C      		mov r13,__zero_reg__
 22140               	.LVL1349:
 22141               	.L944:
 22142               	.LBE7315:
 22143               	.LBE7314:
 22144               	.LBE7313:
 22145               	.LBE7312:
 22146               	.LBE7302:
 22147               	.LBE7301:
 22148               	.LBE7300:
 22149               	.LBE7299:
 22150               	.LBE7298:
 22151               	.LBE7265:
 22152               	.LBE7264:
 22153               	.LBE7263:
 22154               	.LBE7262:
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 22155               		.loc 10 153 0
 22156 00d6 8236      		cpi r24,98
 22157 00d8 9105      		cpc r25,__zero_reg__
 22158 00da 04F4      		brge .L949
 22159               	.L938:
 22160               	.LBB7459:
 22161               	.LBB7460:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 22162               		.loc 9 30 0
 22163 00dc 2091 A109 		lds r18,2465
 22164 00e0 27FF      		sbrs r18,7
 22165 00e2 00C0      		rjmp .L938
  33:uart/uart.h   ****     return USART->DATA; 
 22166               		.loc 9 33 0
 22167 00e4 2091 A009 		lds r18,2464
 22168               	.LBE7460:
 22169               	.LBE7459:
 155:gps/gps.h     ****     s[i] = c;
 22170               		.loc 10 155 0
 22171 00e8 E1E0      		ldi r30,lo8(1)
 22172 00ea F0E0      		ldi r31,hi8(1)
 22173 00ec EC0F      		add r30,r28
 22174 00ee FD1F      		adc r31,r29
 22175 00f0 E80F      		add r30,r24
 22176 00f2 F91F      		adc r31,r25
 22177 00f4 2083      		st Z,r18
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 22178               		.loc 10 153 0
 22179 00f6 0196      		adiw r24,1
 22180               	.LVL1350:
 22181 00f8 8236      		cpi r24,98
 22182 00fa 9105      		cpc r25,__zero_reg__
 22183 00fc 04F0      		brlt .L938
 22184               	.L949:
 22185               	.LVL1351:
 158:gps/gps.h     ****   s[++i] = '\0';
 22186               		.loc 10 158 0
 22187 00fe E2E0      		ldi r30,lo8(2)
 22188 0100 F0E0      		ldi r31,hi8(2)
 22189 0102 EC0F      		add r30,r28
 22190 0104 FD1F      		adc r31,r29
 22191 0106 E80F      		add r30,r24
 22192 0108 F91F      		adc r31,r25
 22193 010a 1082      		st Z,__zero_reg__
 22194               	.LVL1352:
 22195               	.LBB7461:
 22196               	.LBB7458:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 22197               		.loc 7 5 0
 22198 010c 2981      		ldd r18,Y+1
 22199 010e 2223      		tst r18
 22200 0110 01F4      		brne .+2
 22201 0112 00C0      		rjmp .L903
 22202 0114 72E0      		ldi r23,lo8(2)
 22203 0116 872E      		mov r8,r23
 22204 0118 912C      		mov r9,__zero_reg__
 22205 011a 8C0E      		add r8,r28
 22206 011c 9D1E      		adc r9,r29
 22207               	.LVL1353:
 22208               	.L943:
 22209               	.LBB7367:
 22210               	.LBB7368:
 22211               	.LBB7369:
 22212               	.LBB7370:
 22213               	.LBB7371:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22214               		.loc 1 123 0
 22215 011e 9FB7      		in r25,__SREG__
 22216               	.LVL1354:
 22217               	.LBB7372:
 22218               	.LBB7373:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22219               		.loc 2 50 0
 22220               	/* #APP */
 22221               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22222 0120 F894      		cli
 22223               	 ;  0 "" 2
 22224               	.LVL1355:
 22225               	/* #NOAPP */
 22226               	.LBE7373:
 22227               	.LBE7372:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 22228               		.loc 1 124 0
 22229 0122 8091 0000 		lds r24,ep_in_data+1
 22230 0126 8823      		tst r24
 22231 0128 01F0      		breq .L950
 22232               	.L934:
 125:usb/usb_pipe.h **** 			r = false;
 22233               		.loc 1 125 0
 22234 012a 80E0      		ldi r24,lo8(0)
 22235               	.L904:
 22236               	.LBB7375:
 22237               	.LBB7376:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22238               		.loc 2 70 0
 22239 012c 9FBF      		out __SREG__,r25
 22240               		.loc 2 71 0
 22241               	.LBE7376:
 22242               	.LBE7375:
 22243               	.LBE7371:
 22244               	.LBE7370:
 22245               	.LBE7369:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 22246               		.loc 5 20 0
 22247 012e 8823      		tst r24
 22248 0130 01F0      		breq .L943
 22249               	.LVL1356:
 22250               	.LBB7382:
 22251               	.LBB7383:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 22252               		.loc 1 175 0
 22253 0132 8091 0000 		lds r24,ep_in_data+2
 22254 0136 9091 0000 		lds r25,ep_in_data+2+1
 22255 013a E091 0000 		lds r30,ep_in_pipe_data+2
 22256 013e F091 0000 		lds r31,ep_in_pipe_data+2+1
 22257 0142 E80F      		add r30,r24
 22258 0144 F91F      		adc r31,r25
 22259 0146 2083      		st Z,r18
 22260 0148 0196      		adiw r24,1
 22261 014a 8093 0000 		sts ep_in_data+2,r24
 22262 014e 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 22263               		.loc 1 176 0
 22264 0152 8034      		cpi r24,64
 22265 0154 9105      		cpc r25,__zero_reg__
 22266 0156 01F0      		breq .L951
 22267               	.LBE7383:
 22268               	.LBE7382:
 22269               	.LBE7368:
 22270               	.LBE7367:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 22271               		.loc 7 5 0
 22272 0158 F401      		movw r30,r8
 22273 015a 2191      		ld r18,Z+
 22274               	.LVL1357:
 22275 015c 2223      		tst r18
 22276 015e 01F4      		brne .+2
 22277 0160 00C0      		rjmp .L903
 22278               	.LVL1358:
 22279               	.L953:
 22280 0162 8114      		cp r8,__zero_reg__
 22281 0164 9104      		cpc r9,__zero_reg__
 22282 0166 01F4      		brne .+2
 22283 0168 00C0      		rjmp .L903
 22284 016a 4F01      		movw r8,r30
 22285               	.LBB7452:
 22286               	.LBB7449:
 22287               	.LBB7384:
 22288               	.LBB7381:
 22289               	.LBB7380:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22290               		.loc 1 123 0
 22291 016c 9FB7      		in r25,__SREG__
 22292               	.LVL1359:
 22293               	.LBB7377:
 22294               	.LBB7374:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22295               		.loc 2 50 0
 22296               	/* #APP */
 22297               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22298 016e F894      		cli
 22299               	 ;  0 "" 2
 22300               	/* #NOAPP */
 22301               	.LBE7374:
 22302               	.LBE7377:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 22303               		.loc 1 124 0
 22304 0170 8091 0000 		lds r24,ep_in_data+1
 22305 0174 8823      		tst r24
 22306 0176 01F4      		brne .L934
 22307               	.LVL1360:
 22308               	.L950:
 22309               	.LBB7378:
 22310               	.LBB7379:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 22311               		.loc 4 57 0
 22312 0178 8091 0000 		lds r24,ep_in_pipe_data+4
 22313 017c 342F      		mov r19,r20
 22314 017e 381B      		sub r19,r24
 22315               	.LBE7379:
 22316               	.LBE7378:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 22317               		.loc 1 127 0
 22318 0180 81E0      		ldi r24,lo8(1)
 22319 0182 1316      		cp __zero_reg__,r19
 22320 0184 04F0      		brlt .L904
 22321 0186 00C0      		rjmp .L934
 22322               	.LVL1361:
 22323               	.L951:
 22324               	.LBE7380:
 22325               	.LBE7381:
 22326               	.LBE7384:
 22327               	.LBB7385:
 22328               	.LBB7386:
 22329               	.LBB7387:
 22330               	.LBB7388:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 22331               		.loc 1 177 0
 22332 0188 1FB7      		in r17,__SREG__
 22333               	.LVL1362:
 22334               	.LBB7389:
 22335               	.LBB7390:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22336               		.loc 2 50 0
 22337               	/* #APP */
 22338               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22339 018a F894      		cli
 22340               	 ;  0 "" 2
 22341               	.LVL1363:
 22342               	/* #NOAPP */
 22343               	.LBE7390:
 22344               	.LBE7389:
 22345               		.loc 1 178 0
 22346 018c 1092 0000 		sts ep_in_data+2,__zero_reg__
 22347 0190 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 22348               	.LVL1364:
 22349               	.LBB7391:
 22350               	.LBB7392:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 22351               		.loc 4 81 0
 22352 0194 8091 0000 		lds r24,ep_in_pipe_data+4
 22353 0198 8F5F      		subi r24,lo8(-(1))
 22354 019a 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 22355               		.loc 4 82 0
 22356 019e 8091 0000 		lds r24,ep_in_pipe_data+2
 22357 01a2 9091 0000 		lds r25,ep_in_pipe_data+2+1
 22358 01a6 805C      		subi r24,lo8(-(64))
 22359 01a8 9F4F      		sbci r25,hi8(-(64))
 22360 01aa 8093 0000 		sts ep_in_pipe_data+2,r24
 22361 01ae 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 22362               		.loc 4 84 0
 22363 01b2 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 22364 01b4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 22365 01b6 9F07      		cpc r25,r31
 22366 01b8 01F4      		brne .L908
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 22367               		.loc 4 85 0
 22368 01ba A092 0000 		sts ep_in_pipe_data+2,r10
 22369 01be B092 0000 		sts ep_in_pipe_data+2+1,r11
 22370               	.L908:
 22371               	.LVL1365:
 22372               	.LBE7392:
 22373               	.LBE7391:
 22374               	.LBB7393:
 22375               	.LBB7394:
 22376               	.LBB7395:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22377               		.loc 1 80 0
 22378 01c2 6FB7      		in r22,__SREG__
 22379               	.LVL1366:
 22380               	.LBB7396:
 22381               	.LBB7397:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22382               		.loc 2 50 0
 22383               	/* #APP */
 22384               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22385 01c4 F894      		cli
 22386               	 ;  0 "" 2
 22387               	.LVL1367:
 22388               	/* #NOAPP */
 22389               	.LBE7397:
 22390               	.LBE7396:
 22391               	.LBB7398:
 22392               	.LBB7399:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 22393               		.loc 3 220 0
 22394 01c6 8091 0000 		lds r24,endpoints+24
 22395 01ca 8670      		andi r24,lo8(6)
 22396               	.LBE7399:
 22397               	.LBE7398:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 22398               		.loc 1 82 0
 22399 01cc 01F0      		breq .+2
 22400 01ce 00C0      		rjmp .L952
 22401               	.LVL1368:
 22402               	.L909:
 22403               	.LBB7400:
 22404               	.LBB7401:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22405               		.loc 2 70 0
 22406 01d0 6FBF      		out __SREG__,r22
 22407               		.loc 2 71 0
 22408               	.LVL1369:
 22409               	.LBE7401:
 22410               	.LBE7400:
 22411               	.LBE7395:
 22412               	.LBE7394:
 22413               	.LBE7393:
 22414               	.LBB7437:
 22415               	.LBB7438:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22416               		.loc 2 70 0
 22417 01d2 1FBF      		out __SREG__,r17
 22418               		.loc 2 71 0
 22419               	.LBE7438:
 22420               	.LBE7437:
 22421               	.LBE7388:
 22422               	.LBE7387:
 22423               	.LBE7386:
 22424               	.LBE7385:
 22425               	.LBE7449:
 22426               	.LBE7452:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 22427               		.loc 7 5 0
 22428 01d4 F401      		movw r30,r8
 22429 01d6 2191      		ld r18,Z+
 22430 01d8 2223      		tst r18
 22431 01da 01F0      		breq .+2
 22432 01dc 00C0      		rjmp .L953
 22433               	.LVL1370:
 22434               	.L903:
 22435               	.LBB7453:
 22436               	.LBB7364:
 22437               	.LBB7358:
 22438               	.LBB7355:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 22439               		.loc 1 110 0
 22440 01de F1E0      		ldi r31,lo8(1)
 22441 01e0 F093 0000 		sts ep_in_data+1,r31
 22442               	.LVL1371:
 22443               	.LBB7352:
 22444               	.LBB7349:
 22445               	.LBB7346:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22446               		.loc 1 80 0
 22447 01e4 1FB7      		in r17,__SREG__
 22448               	.LVL1372:
 22449               	.LBB7322:
 22450               	.LBB7323:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22451               		.loc 2 50 0
 22452               	/* #APP */
 22453               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22454 01e6 F894      		cli
 22455               	 ;  0 "" 2
 22456               	.LVL1373:
 22457               	/* #NOAPP */
 22458               	.LBE7323:
 22459               	.LBE7322:
 22460               	.LBB7324:
 22461               	.LBB7325:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 22462               		.loc 3 220 0
 22463 01e8 8091 0000 		lds r24,endpoints+24
 22464 01ec 8670      		andi r24,lo8(6)
 22465               	.LBE7325:
 22466               	.LBE7324:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 22467               		.loc 1 82 0
 22468 01ee 01F0      		breq .+2
 22469 01f0 00C0      		rjmp .L954
 22470               	.LVL1374:
 22471               	.L919:
 22472               	.LBB7326:
 22473               	.LBB7327:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22474               		.loc 2 70 0
 22475 01f2 1FBF      		out __SREG__,r17
 22476               		.loc 2 71 0
 22477               	.LBE7327:
 22478               	.LBE7326:
 22479               	.LBE7346:
 22480               	.LBE7349:
 22481               	.LBE7352:
 22482               	.LBE7355:
 22483               	.LBE7358:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 22484               		.loc 5 27 0
 22485 01f4 7092 CD04 		sts 1229,r7
 22486               	.L928:
 22487               	.LVL1375:
 22488               	.LBB7359:
 22489               	.LBB7296:
 22490               	.LBB7294:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22491               		.loc 1 123 0
 22492 01f8 9FB7      		in r25,__SREG__
 22493               	.LVL1376:
 22494               	.LBB7287:
 22495               	.LBB7288:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22496               		.loc 2 50 0
 22497               	/* #APP */
 22498               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22499 01fa F894      		cli
 22500               	 ;  0 "" 2
 22501               	.LVL1377:
 22502               	/* #NOAPP */
 22503               	.LBE7288:
 22504               	.LBE7287:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 22505               		.loc 1 124 0
 22506 01fc 8091 0000 		lds r24,ep_in_data+1
 22507 0200 8823      		tst r24
 22508 0202 01F4      		brne .+2
 22509 0204 00C0      		rjmp .L955
 22510               	.L936:
 125:usb/usb_pipe.h **** 			r = false;
 22511               		.loc 1 125 0
 22512 0206 80E0      		ldi r24,lo8(0)
 22513               	.LBB7289:
 22514               	.LBB7290:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22515               		.loc 2 70 0
 22516 0208 9FBF      		out __SREG__,r25
 22517               		.loc 2 71 0
 22518               	.LBE7290:
 22519               	.LBE7289:
 22520               	.LBE7294:
 22521               	.LBE7296:
 22522               	.LBE7359:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 22523               		.loc 5 28 0
 22524 020a 8823      		tst r24
 22525 020c 01F0      		breq .+2
 22526 020e 00C0      		rjmp .L956
 22527               	.L932:
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 22528               		.loc 5 29 0
 22529 0210 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 22530 0214 8823      		tst r24
 22531 0216 01F0      		breq .L928
 22532               	.LVL1378:
 22533               	.LBB7360:
 22534               	.LBB7280:
 22535               	.LBB7279:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 22536               		.loc 1 54 0
 22537 0218 8FB7      		in r24,__SREG__
 22538               	.LVL1379:
 22539               	.LBB7272:
 22540               	.LBB7273:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 22541               		.loc 2 50 0
 22542               	/* #APP */
 22543               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 22544 021a F894      		cli
 22545               	 ;  0 "" 2
 22546               	.LVL1380:
 22547               	/* #NOAPP */
 22548               	.LBE7273:
 22549               	.LBE7272:
 22550               	.LBB7274:
 22551               	.LBB7275:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 22552               		.loc 4 90 0
 22553 021c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 22554               		.loc 4 91 0
 22555 0220 A092 0000 		sts ep_in_pipe_data+2,r10
 22556 0224 B092 0000 		sts ep_in_pipe_data+2+1,r11
 22557 0228 A092 0000 		sts ep_in_pipe_data,r10
 22558 022c B092 0000 		sts ep_in_pipe_data+1,r11
 22559               	.LVL1381:
 22560               	.LBE7275:
 22561               	.LBE7274:
 22562               	.LBB7276:
 22563               	.LBB7277:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 22564               		.loc 3 158 0
 22565 0230 FD01      		movw r30,r26
 22566               	/* #APP */
 22567               	 ;  158 "usb/usb.h" 1
 22568 0232 06E0      		ldi r16, 6
 22569 0234 0593      		.dc.w 0x9305
 22570               		
 22571               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 22572               		.loc 3 159 0
 22573               	 ;  159 "usb/usb.h" 1
 22574 0236 08E0      		ldi r16, 8
 22575 0238 0693      		.dc.w 0x9306
 22576               		
 22577               	 ;  0 "" 2
 22578               	/* #NOAPP */
 22579               	.LBE7277:
 22580               	.LBE7276:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 22581               		.loc 1 57 0
 22582 023a 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 22583               		.loc 1 58 0
 22584 023e 1092 0000 		sts ep_in_data+2,__zero_reg__
 22585 0242 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 22586               		.loc 1 59 0
 22587 0246 1092 0000 		sts ep_in_data,__zero_reg__
 22588               	.LVL1382:
 22589               	.LBB7278:
 22590               	.LBB7271:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22591               		.loc 2 70 0
 22592 024a 8FBF      		out __SREG__,r24
 22593               		.loc 2 71 0
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 22594               		.loc 10 153 0
 22595 024c 80E0      		ldi r24,lo8(0)
 22596 024e 90E0      		ldi r25,hi8(0)
 22597               	.LVL1383:
 22598 0250 00C0      		rjmp .L944
 22599               	.LVL1384:
 22600               	.L952:
 22601               	.LBE7271:
 22602               	.LBE7278:
 22603               	.LBE7279:
 22604               	.LBE7280:
 22605               	.LBE7360:
 22606               	.LBE7364:
 22607               	.LBE7453:
 22608               	.LBB7454:
 22609               	.LBB7450:
 22610               	.LBB7447:
 22611               	.LBB7445:
 22612               	.LBB7443:
 22613               	.LBB7441:
 22614               	.LBB7439:
 22615               	.LBB7435:
 22616               	.LBB7433:
 22617               	.LBB7402:
 22618               	.LBB7403:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 22619               		.loc 4 51 0
 22620 0252 5091 0000 		lds r21,ep_in_pipe_data+4
 22621               	.LBE7403:
 22622               	.LBE7402:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 22623               		.loc 1 83 0
 22624 0256 1516      		cp __zero_reg__,r21
 22625 0258 04F0      		brlt .+2
 22626 025a 00C0      		rjmp .L910
 22627               	.LBB7404:
 22628               	.LBB7405:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 22629               		.loc 4 62 0
 22630 025c 2091 0000 		lds r18,ep_in_pipe_data
 22631 0260 3091 0000 		lds r19,ep_in_pipe_data+1
 22632               	.LVL1385:
 22633               	.LBE7405:
 22634               	.LBE7404:
 22635               	.LBB7406:
 22636               	.LBB7407:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 22637               		.loc 1 68 0
 22638 0264 7091 0000 		lds r23,ep_in_data
 22639               	.LVL1386:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 22640               		.loc 1 69 0
 22641 0268 872F      		mov r24,r23
 22642 026a 90E0      		ldi r25,lo8(0)
 22643               	.LVL1387:
 22644 026c E1E0      		ldi r30,lo8(1)
 22645               	.LVL1388:
 22646 026e 8E15      		cp r24,r14
 22647 0270 9F05      		cpc r25,r15
 22648 0272 01F4      		brne .L911
 22649 0274 E0E0      		ldi r30,lo8(0)
 22650               	.L911:
 22651 0276 E093 0000 		sts ep_in_data,r30
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 22652               		.loc 1 72 0
 22653 027a 7723      		tst r23
 22654 027c 01F4      		brne .L912
 22655               	.LVL1389:
 22656               	.LBB7408:
 22657               	.LBB7409:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 22658               		.loc 3 168 0
 22659 027e 2093 0000 		sts endpoints+28,r18
 22660 0282 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 22661               		.loc 3 169 0
 22662 0286 C092 0000 		sts endpoints+26,r12
 22663 028a D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 22664               		.loc 3 174 0
 22665 028e FD01      		movw r30,r26
 22666               	/* #APP */
 22667               	 ;  174 "usb/usb.h" 1
 22668 0290 02E2      		ldi r16, 34
 22669 0292 0693      		.dc.w 0x9306
 22670               		
 22671               	 ;  0 "" 2
 22672               	.LVL1390:
 22673               	/* #NOAPP */
 22674               	.L913:
 22675               	.LBE7409:
 22676               	.LBE7408:
 22677               	.LBE7407:
 22678               	.LBE7406:
 22679               	.LBB7413:
 22680               	.LBB7414:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 22681               		.loc 4 72 0
 22682 0294 5150      		subi r21,lo8(-(-1))
 22683 0296 5093 0000 		sts ep_in_pipe_data+4,r21
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 22684               		.loc 4 73 0
 22685 029a C901      		movw r24,r18
 22686 029c 805C      		subi r24,lo8(-(64))
 22687 029e 9F4F      		sbci r25,hi8(-(64))
 22688 02a0 8093 0000 		sts ep_in_pipe_data,r24
 22689 02a4 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 22690               		.loc 4 75 0
 22691 02a8 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 22692 02aa 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 22693 02ac 9F07      		cpc r25,r31
 22694 02ae 01F0      		breq .+2
 22695 02b0 00C0      		rjmp .L909
 22696               	.LBE7414:
 22697               	.LBE7413:
 22698               	.LBB7415:
 22699               	.LBB7416:
 22700               		.loc 4 91 0
 22701 02b2 A092 0000 		sts ep_in_pipe_data,r10
 22702 02b6 B092 0000 		sts ep_in_pipe_data+1,r11
 22703               	.LVL1391:
 22704 02ba 00C0      		rjmp .L909
 22705               	.LVL1392:
 22706               	.L912:
 22707               	.LBE7416:
 22708               	.LBE7415:
 22709               	.LBB7418:
 22710               	.LBB7412:
 22711               	.LBB7410:
 22712               	.LBB7411:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 22713               		.loc 3 168 0
 22714 02bc 2093 0000 		sts endpoints+20,r18
 22715 02c0 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 22716               		.loc 3 169 0
 22717 02c4 C092 0000 		sts endpoints+18,r12
 22718 02c8 D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 22719               		.loc 3 176 0
 22720 02cc FD01      		movw r30,r26
 22721               	/* #APP */
 22722               	 ;  176 "usb/usb.h" 1
 22723 02ce 04E1      		ldi r16, 20
 22724 02d0 0693      		.dc.w 0x9306
 22725               		
 22726               	 ;  0 "" 2
 22727               	/* #NOAPP */
 22728 02d2 00C0      		rjmp .L913
 22729               	.LVL1393:
 22730               	.L910:
 22731               	.LBE7411:
 22732               	.LBE7410:
 22733               	.LBE7412:
 22734               	.LBE7418:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 22735               		.loc 1 87 0
 22736 02d4 8091 0000 		lds r24,ep_in_data+1
 22737 02d8 8130      		cpi r24,lo8(1)
 22738 02da 01F0      		breq .L957
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 22739               		.loc 1 91 0
 22740 02dc 8230      		cpi r24,lo8(2)
 22741 02de 01F0      		breq .+2
 22742 02e0 00C0      		rjmp .L909
 22743               	.LVL1394:
 22744               	.LBB7419:
 22745               	.LBB7420:
 22746               	.LBB7421:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 22747               		.loc 3 228 0
 22748 02e2 8091 0000 		lds r24,endpoints+24
 22749 02e6 8670      		andi r24,lo8(6)
 22750               	.LBE7421:
 22751               	.LBE7420:
 22752               	.LBE7419:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 22753               		.loc 1 91 0
 22754 02e8 8630      		cpi r24,lo8(6)
 22755 02ea 01F0      		breq .+2
 22756 02ec 00C0      		rjmp .L909
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 22757               		.loc 1 92 0
 22758 02ee 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 22759               		.loc 1 93 0
 22760 02f2 1092 0000 		sts ep_in_data+2,__zero_reg__
 22761 02f6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 22762               	.LBB7422:
 22763               	.LBB7417:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 22764               		.loc 4 90 0
 22765 02fa 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 22766               		.loc 4 91 0
 22767 02fe A092 0000 		sts ep_in_pipe_data+2,r10
 22768 0302 B092 0000 		sts ep_in_pipe_data+2+1,r11
 22769 0306 A092 0000 		sts ep_in_pipe_data,r10
 22770 030a B092 0000 		sts ep_in_pipe_data+1,r11
 22771               	.LVL1395:
 22772 030e 00C0      		rjmp .L909
 22773               	.LVL1396:
 22774               	.L957:
 22775               	.LBE7417:
 22776               	.LBE7422:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 22777               		.loc 1 88 0
 22778 0310 7092 0000 		sts ep_in_data+1,r7
 22779               	.LBB7423:
 22780               	.LBB7424:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 22781               		.loc 4 62 0
 22782 0314 E091 0000 		lds r30,ep_in_pipe_data
 22783 0318 F091 0000 		lds r31,ep_in_pipe_data+1
 22784               	.LBE7424:
 22785               	.LBE7423:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 22786               		.loc 1 90 0
 22787 031c 2091 0000 		lds r18,ep_in_data+2
 22788 0320 3091 0000 		lds r19,ep_in_data+2+1
 22789               	.LVL1397:
 22790               	.LBB7425:
 22791               	.LBB7426:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 22792               		.loc 1 68 0
 22793 0324 7091 0000 		lds r23,ep_in_data
 22794               	.LVL1398:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 22795               		.loc 1 69 0
 22796 0328 872F      		mov r24,r23
 22797 032a 90E0      		ldi r25,lo8(0)
 22798 032c 51E0      		ldi r21,lo8(1)
 22799 032e 8E15      		cp r24,r14
 22800 0330 9F05      		cpc r25,r15
 22801 0332 01F4      		brne .L916
 22802 0334 50E0      		ldi r21,lo8(0)
 22803               	.L916:
 22804 0336 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 22805               		.loc 1 72 0
 22806 033a 7723      		tst r23
 22807 033c 01F0      		breq .+2
 22808 033e 00C0      		rjmp .L917
 22809               	.LVL1399:
 22810               	.LBB7427:
 22811               	.LBB7428:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 22812               		.loc 3 168 0
 22813 0340 E093 0000 		sts endpoints+28,r30
 22814 0344 F093 0000 		sts endpoints+28+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 22815               		.loc 3 169 0
 22816 0348 2093 0000 		sts endpoints+26,r18
 22817 034c 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 22818               		.loc 3 174 0
 22819 0350 FD01      		movw r30,r26
 22820               	/* #APP */
 22821               	 ;  174 "usb/usb.h" 1
 22822 0352 02E2      		ldi r16, 34
 22823 0354 0693      		.dc.w 0x9306
 22824               		
 22825               	 ;  0 "" 2
 22826               	/* #NOAPP */
 22827 0356 00C0      		rjmp .L909
 22828               	.LVL1400:
 22829               	.L955:
 22830               	.LBE7428:
 22831               	.LBE7427:
 22832               	.LBE7426:
 22833               	.LBE7425:
 22834               	.LBE7433:
 22835               	.LBE7435:
 22836               	.LBE7439:
 22837               	.LBE7441:
 22838               	.LBE7443:
 22839               	.LBE7445:
 22840               	.LBE7447:
 22841               	.LBE7450:
 22842               	.LBE7454:
 22843               	.LBB7455:
 22844               	.LBB7365:
 22845               	.LBB7361:
 22846               	.LBB7297:
 22847               	.LBB7295:
 22848               	.LBB7292:
 22849               	.LBB7286:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 22850               		.loc 4 57 0
 22851 0358 8091 0000 		lds r24,ep_in_pipe_data+4
 22852 035c 242F      		mov r18,r20
 22853 035e 281B      		sub r18,r24
 22854               	.LBE7286:
 22855               	.LBE7292:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 22856               		.loc 1 127 0
 22857 0360 81E0      		ldi r24,lo8(1)
 22858 0362 1216      		cp __zero_reg__,r18
 22859 0364 04F0      		brlt .+2
 22860 0366 00C0      		rjmp .L936
 22861               	.LBB7293:
 22862               	.LBB7291:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 22863               		.loc 2 70 0
 22864 0368 9FBF      		out __SREG__,r25
 22865               		.loc 2 71 0
 22866               	.LBE7291:
 22867               	.LBE7293:
 22868               	.LBE7295:
 22869               	.LBE7297:
 22870               	.LBE7361:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 22871               		.loc 5 28 0
 22872 036a 8823      		tst r24
 22873 036c 01F4      		brne .+2
 22874 036e 00C0      		rjmp .L932
 22875               	.L956:
 153:gps/gps.h     ****   for (i=0; i<98; i++){ 
 22876               		.loc 10 153 0
 22877 0370 80E0      		ldi r24,lo8(0)
 22878 0372 90E0      		ldi r25,hi8(0)
 22879 0374 00C0      		rjmp .L944
 22880               	.LVL1401:
 22881               	.L954:
 22882               	.LBB7362:
 22883               	.LBB7356:
 22884               	.LBB7353:
 22885               	.LBB7350:
 22886               	.LBB7347:
 22887               	.LBB7328:
 22888               	.LBB7329:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 22889               		.loc 4 51 0
 22890 0376 7091 0000 		lds r23,ep_in_pipe_data+4
 22891               	.LBE7329:
 22892               	.LBE7328:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 22893               		.loc 1 83 0
 22894 037a 1716      		cp __zero_reg__,r23
 22895 037c 04F0      		brlt .+2
 22896 037e 00C0      		rjmp .L920
 22897               	.LBB7330:
 22898               	.LBB7331:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 22899               		.loc 4 62 0
 22900 0380 2091 0000 		lds r18,ep_in_pipe_data
 22901 0384 3091 0000 		lds r19,ep_in_pipe_data+1
 22902               	.LVL1402:
 22903               	.LBE7331:
 22904               	.LBE7330:
 22905               	.LBB7332:
 22906               	.LBB7320:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 22907               		.loc 1 68 0
 22908 0388 6091 0000 		lds r22,ep_in_data
 22909               	.LVL1403:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 22910               		.loc 1 69 0
 22911 038c 862F      		mov r24,r22
 22912 038e 90E0      		ldi r25,lo8(0)
 22913 0390 51E0      		ldi r21,lo8(1)
 22914 0392 8E15      		cp r24,r14
 22915 0394 9F05      		cpc r25,r15
 22916 0396 01F4      		brne .L921
 22917 0398 50E0      		ldi r21,lo8(0)
 22918               	.L921:
 22919 039a 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 22920               		.loc 1 72 0
 22921 039e 6623      		tst r22
 22922 03a0 01F4      		brne .L922
 22923               	.LVL1404:
 22924               	.LBB7317:
 22925               	.LBB7318:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 22926               		.loc 3 168 0
 22927 03a2 2093 0000 		sts endpoints+28,r18
 22928 03a6 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 22929               		.loc 3 169 0
 22930 03aa C092 0000 		sts endpoints+26,r12
 22931 03ae D092 0000 		sts endpoints+26+1,r13
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 22932               		.loc 3 174 0
 22933 03b2 FD01      		movw r30,r26
 22934               	/* #APP */
 22935               	 ;  174 "usb/usb.h" 1
 22936 03b4 02E2      		ldi r16, 34
 22937 03b6 0693      		.dc.w 0x9306
 22938               		
 22939               	 ;  0 "" 2
 22940               	.LVL1405:
 22941               	/* #NOAPP */
 22942               	.L923:
 22943               	.LBE7318:
 22944               	.LBE7317:
 22945               	.LBE7320:
 22946               	.LBE7332:
 22947               	.LBB7333:
 22948               	.LBB7334:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 22949               		.loc 4 72 0
 22950 03b8 7150      		subi r23,lo8(-(-1))
 22951 03ba 7093 0000 		sts ep_in_pipe_data+4,r23
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 22952               		.loc 4 73 0
 22953 03be C901      		movw r24,r18
 22954 03c0 805C      		subi r24,lo8(-(64))
 22955 03c2 9F4F      		sbci r25,hi8(-(64))
 22956 03c4 8093 0000 		sts ep_in_pipe_data,r24
 22957 03c8 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 22958               		.loc 4 75 0
 22959 03cc F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 22960 03ce 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 22961 03d0 9F07      		cpc r25,r31
 22962 03d2 01F0      		breq .+2
 22963 03d4 00C0      		rjmp .L919
 22964               	.LVL1406:
 22965               	.L946:
 22966               	.LBE7334:
 22967               	.LBE7333:
 22968               	.LBB7335:
 22969               	.LBB7336:
 22970               		.loc 4 91 0
 22971 03d6 A092 0000 		sts ep_in_pipe_data,r10
 22972 03da B092 0000 		sts ep_in_pipe_data+1,r11
 22973               	.LVL1407:
 22974 03de 00C0      		rjmp .L919
 22975               	.LVL1408:
 22976               	.L917:
 22977               	.LBE7336:
 22978               	.LBE7335:
 22979               	.LBE7347:
 22980               	.LBE7350:
 22981               	.LBE7353:
 22982               	.LBE7356:
 22983               	.LBE7362:
 22984               	.LBE7365:
 22985               	.LBE7455:
 22986               	.LBB7456:
 22987               	.LBB7451:
 22988               	.LBB7448:
 22989               	.LBB7446:
 22990               	.LBB7444:
 22991               	.LBB7442:
 22992               	.LBB7440:
 22993               	.LBB7436:
 22994               	.LBB7434:
 22995               	.LBB7432:
 22996               	.LBB7431:
 22997               	.LBB7429:
 22998               	.LBB7430:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 22999               		.loc 3 168 0
 23000 03e0 E093 0000 		sts endpoints+20,r30
 23001 03e4 F093 0000 		sts endpoints+20+1,r31
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23002               		.loc 3 169 0
 23003 03e8 2093 0000 		sts endpoints+18,r18
 23004 03ec 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 23005               		.loc 3 176 0
 23006 03f0 FD01      		movw r30,r26
 23007               	.LVL1409:
 23008               	/* #APP */
 23009               	 ;  176 "usb/usb.h" 1
 23010 03f2 04E1      		ldi r16, 20
 23011 03f4 0693      		.dc.w 0x9306
 23012               		
 23013               	 ;  0 "" 2
 23014               	/* #NOAPP */
 23015 03f6 00C0      		rjmp .L909
 23016               	.LVL1410:
 23017               	.L922:
 23018               	.LBE7430:
 23019               	.LBE7429:
 23020               	.LBE7431:
 23021               	.LBE7432:
 23022               	.LBE7434:
 23023               	.LBE7436:
 23024               	.LBE7440:
 23025               	.LBE7442:
 23026               	.LBE7444:
 23027               	.LBE7446:
 23028               	.LBE7448:
 23029               	.LBE7451:
 23030               	.LBE7456:
 23031               	.LBB7457:
 23032               	.LBB7366:
 23033               	.LBB7363:
 23034               	.LBB7357:
 23035               	.LBB7354:
 23036               	.LBB7351:
 23037               	.LBB7348:
 23038               	.LBB7338:
 23039               	.LBB7321:
 23040               	.LBB7319:
 23041               	.LBB7316:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23042               		.loc 3 168 0
 23043 03f8 2093 0000 		sts endpoints+20,r18
 23044 03fc 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23045               		.loc 3 169 0
 23046 0400 C092 0000 		sts endpoints+18,r12
 23047 0404 D092 0000 		sts endpoints+18+1,r13
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 23048               		.loc 3 176 0
 23049 0408 FD01      		movw r30,r26
 23050               	/* #APP */
 23051               	 ;  176 "usb/usb.h" 1
 23052 040a 04E1      		ldi r16, 20
 23053 040c 0693      		.dc.w 0x9306
 23054               		
 23055               	 ;  0 "" 2
 23056               	/* #NOAPP */
 23057 040e 00C0      		rjmp .L923
 23058               	.LVL1411:
 23059               	.L920:
 23060               	.LBE7316:
 23061               	.LBE7319:
 23062               	.LBE7321:
 23063               	.LBE7338:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 23064               		.loc 1 87 0
 23065 0410 8091 0000 		lds r24,ep_in_data+1
 23066 0414 8130      		cpi r24,lo8(1)
 23067 0416 01F0      		breq .L958
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 23068               		.loc 1 91 0
 23069 0418 8230      		cpi r24,lo8(2)
 23070 041a 01F0      		breq .+2
 23071 041c 00C0      		rjmp .L919
 23072               	.LVL1412:
 23073               	.LBB7339:
 23074               	.LBB7340:
 23075               	.LBB7341:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 23076               		.loc 3 228 0
 23077 041e 8091 0000 		lds r24,endpoints+24
 23078 0422 8670      		andi r24,lo8(6)
 23079               	.LBE7341:
 23080               	.LBE7340:
 23081               	.LBE7339:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 23082               		.loc 1 91 0
 23083 0424 8630      		cpi r24,lo8(6)
 23084 0426 01F0      		breq .+2
 23085 0428 00C0      		rjmp .L919
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 23086               		.loc 1 92 0
 23087 042a 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 23088               		.loc 1 93 0
 23089 042e 1092 0000 		sts ep_in_data+2,__zero_reg__
 23090 0432 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 23091               	.LBB7342:
 23092               	.LBB7337:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 23093               		.loc 4 90 0
 23094 0436 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 23095               		.loc 4 91 0
 23096 043a A092 0000 		sts ep_in_pipe_data+2,r10
 23097 043e B092 0000 		sts ep_in_pipe_data+2+1,r11
 23098 0442 00C0      		rjmp .L946
 23099               	.LVL1413:
 23100               	.L958:
 23101               	.LBE7337:
 23102               	.LBE7342:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 23103               		.loc 1 88 0
 23104 0444 7092 0000 		sts ep_in_data+1,r7
 23105               	.LBB7343:
 23106               	.LBB7344:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 23107               		.loc 4 62 0
 23108 0448 7091 0000 		lds r23,ep_in_pipe_data
 23109 044c E091 0000 		lds r30,ep_in_pipe_data+1
 23110               	.LBE7344:
 23111               	.LBE7343:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 23112               		.loc 1 90 0
 23113 0450 2091 0000 		lds r18,ep_in_data+2
 23114 0454 3091 0000 		lds r19,ep_in_data+2+1
 23115               	.LVL1414:
 23116               	.LBB7345:
 23117               	.LBB7311:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 23118               		.loc 1 68 0
 23119 0458 6091 0000 		lds r22,ep_in_data
 23120               	.LVL1415:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 23121               		.loc 1 69 0
 23122 045c 862F      		mov r24,r22
 23123 045e 90E0      		ldi r25,lo8(0)
 23124 0460 51E0      		ldi r21,lo8(1)
 23125 0462 8E15      		cp r24,r14
 23126 0464 9F05      		cpc r25,r15
 23127 0466 01F4      		brne .L926
 23128 0468 50E0      		ldi r21,lo8(0)
 23129               	.L926:
 23130 046a 5093 0000 		sts ep_in_data,r21
 23131               	.LBB7305:
 23132               	.LBB7306:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23133               		.loc 3 168 0
 23134 046e 872F      		mov r24,r23
 23135 0470 9E2F      		mov r25,r30
 23136               	.LBE7306:
 23137               	.LBE7305:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 23138               		.loc 1 72 0
 23139 0472 6623      		tst r22
 23140 0474 01F4      		brne .L927
 23141               	.LVL1416:
 23142               	.LBB7308:
 23143               	.LBB7307:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23144               		.loc 3 168 0
 23145 0476 8093 0000 		sts endpoints+28,r24
 23146 047a 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23147               		.loc 3 169 0
 23148 047e 2093 0000 		sts endpoints+26,r18
 23149 0482 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23150               		.loc 3 174 0
 23151 0486 FD01      		movw r30,r26
 23152               	/* #APP */
 23153               	 ;  174 "usb/usb.h" 1
 23154 0488 02E2      		ldi r16, 34
 23155 048a 0693      		.dc.w 0x9306
 23156               		
 23157               	 ;  0 "" 2
 23158               	/* #NOAPP */
 23159 048c 00C0      		rjmp .L919
 23160               	.LVL1417:
 23161               	.L927:
 23162               	.LBE7307:
 23163               	.LBE7308:
 23164               	.LBB7309:
 23165               	.LBB7310:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23166               		.loc 3 168 0
 23167 048e 8093 0000 		sts endpoints+20,r24
 23168 0492 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23169               		.loc 3 169 0
 23170 0496 2093 0000 		sts endpoints+18,r18
 23171 049a 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 23172               		.loc 3 176 0
 23173 049e FD01      		movw r30,r26
 23174               	/* #APP */
 23175               	 ;  176 "usb/usb.h" 1
 23176 04a0 04E1      		ldi r16, 20
 23177 04a2 0693      		.dc.w 0x9306
 23178               		
 23179               	 ;  0 "" 2
 23180               	/* #NOAPP */
 23181 04a4 00C0      		rjmp .L919
 23182               	.LBE7310:
 23183               	.LBE7309:
 23184               	.LBE7311:
 23185               	.LBE7345:
 23186               	.LBE7348:
 23187               	.LBE7351:
 23188               	.LBE7354:
 23189               	.LBE7357:
 23190               	.LBE7363:
 23191               	.LBE7366:
 23192               	.LBE7457:
 23193               	.LBE7458:
 23194               	.LBE7461:
 23195               	.LBE7261:
 23196               	.LBE7260:
 23197               		.cfi_endproc
 23198               	.LFE81:
 23200               		.text
 23201               	.global	EVENT_USB_Device_ControlRequest
 23203               	EVENT_USB_Device_ControlRequest:
 23204               	.LFB82:
  76:main.c        **** bool EVENT_USB_Device_ControlRequest(USB_Request_Header_t* req){
 23205               		.loc 6 76 0
 23206               		.cfi_startproc
 23207               	.LVL1418:
 23208 4eb2 0F93      		push r16
 23209               	.LCFI175:
 23210               		.cfi_def_cfa_offset 3
 23211               		.cfi_offset 16, -2
 23212 4eb4 1F93      		push r17
 23213               	.LCFI176:
 23214               		.cfi_def_cfa_offset 4
 23215               		.cfi_offset 17, -3
 23216 4eb6 CF93      		push r28
 23217               	.LCFI177:
 23218               		.cfi_def_cfa_offset 5
 23219               		.cfi_offset 28, -4
 23220 4eb8 DF93      		push r29
 23221               	.LCFI178:
 23222               		.cfi_def_cfa_offset 6
 23223               		.cfi_offset 29, -5
 23224               	/* prologue: function */
 23225               	/* frame size = 0 */
 23226               	/* stack size = 4 */
 23227               	.L__stack_usage = 4
 23228 4eba 9C01      		movw r18,r24
 23229               	.LVL1419:
 136:main.c        **** 	return false;
 23230               		.loc 6 136 0
 23231 4ebc A0E0      		ldi r26,lo8(ep0_buf_in)
 23232 4ebe B0E0      		ldi r27,hi8(ep0_buf_in)
  76:main.c        **** bool EVENT_USB_Device_ControlRequest(USB_Request_Header_t* req){
 23233               		.loc 6 76 0
 23234 4ec0 8D01      		movw r16,r26
 23235 4ec2 80E0      		ldi r24,lo8(ep0_buf_in+64)
 23236 4ec4 90E0      		ldi r25,hi8(ep0_buf_in+64)
 23237               	.LVL1420:
 23238 4ec6 FD01      		movw r30,r26
 23239               	.LVL1421:
 23240               	.L960:
 23241               	.LBB7462:
  78:main.c        **** 	for (uint8_t i = 0; i < 64; i++) ep0_buf_in[i] = 0;
 23242               		.loc 6 78 0 discriminator 2
 23243 4ec8 1192      		st Z+,__zero_reg__
 23244 4eca 40E0      		ldi r20,hi8(ep0_buf_in+64)
 23245 4ecc E030      		cpi r30,lo8(ep0_buf_in+64)
 23246 4ece F407      		cpc r31,r20
 23247 4ed0 01F4      		brne .L960
 23248               	.LBE7462:
  79:main.c        **** 	usb_cmd = 0;
 23249               		.loc 6 79 0
 23250 4ed2 1092 0000 		sts usb_cmd,__zero_reg__
  80:main.c        **** 	if ((req->bmRequestType & CONTROL_REQTYPE_TYPE) == REQTYPE_VENDOR){
 23251               		.loc 6 80 0
 23252 4ed6 F901      		movw r30,r18
 23253 4ed8 C081      		ld r28,Z
 23254 4eda D0E0      		ldi r29,lo8(0)
 23255 4edc C076      		andi r28,lo8(96)
 23256 4ede D070      		andi r29,hi8(96)
 23257 4ee0 C034      		cpi r28,64
 23258 4ee2 D105      		cpc r29,__zero_reg__
 23259 4ee4 01F0      		breq .L984
 23260               	.L978:
 136:main.c        **** 	return false;
 23261               		.loc 6 136 0
 23262 4ee6 80E0      		ldi r24,lo8(0)
 23263               	.LVL1422:
 23264               	.L961:
 23265               	/* epilogue start */
 137:main.c        **** }
 23266               		.loc 6 137 0
 23267 4ee8 DF91      		pop r29
 23268 4eea CF91      		pop r28
 23269 4eec 1F91      		pop r17
 23270 4eee 0F91      		pop r16
 23271 4ef0 0895      		ret
 23272               	.LVL1423:
 23273               	.L984:
  81:main.c        **** 		switch(req->bRequest){
 23274               		.loc 6 81 0
 23275 4ef2 4181      		ldd r20,Z+1
 23276 4ef4 4631      		cpi r20,lo8(22)
 23277 4ef6 01F4      		brne .+2
 23278 4ef8 00C0      		rjmp .L966
 23279 4efa 4731      		cpi r20,lo8(23)
 23280 4efc 00F0      		brlo .L985
 23281 4efe 4B3B      		cpi r20,lo8(-69)
 23282 4f00 01F4      		brne .+2
 23283 4f02 00C0      		rjmp .L968
 23284 4f04 4C3B      		cpi r20,lo8(-68)
 23285 4f06 00F0      		brlo .+2
 23286 4f08 00C0      		rjmp .L973
 23287 4f0a 4731      		cpi r20,lo8(23)
 23288 4f0c 01F4      		brne .L978
 23289               	.LBB7463:
 112:main.c        **** 				addr = (uint16_t *) req->wIndex;
 23290               		.loc 6 112 0
 23291 4f0e 0480      		ldd __tmp_reg__,Z+4
 23292 4f10 F581      		ldd r31,Z+5
 23293 4f12 E02D      		mov r30,__tmp_reg__
 23294               	.LVL1424:
 113:main.c        **** 				ep0_buf_in[0] = *addr & 0xFF;
 23295               		.loc 6 113 0
 23296 4f14 8081      		ld r24,Z
 23297 4f16 8093 0000 		sts ep0_buf_in,r24
 114:main.c        **** 				ep0_buf_in[1] = *addr >> 8;
 23298               		.loc 6 114 0
 23299 4f1a 8181      		ldd r24,Z+1
 23300 4f1c 8093 0000 		sts ep0_buf_in+1,r24
 23301               	.LVL1425:
 23302               	.LBB7464:
 23303               	.LBB7465:
 23304               	.LBB7466:
 23305               	.LBB7467:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23306               		.loc 3 168 0
 23307 4f20 0093 0000 		sts endpoints+12,r16
 23308 4f24 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23309               		.loc 3 169 0
 23310 4f28 82E0      		ldi r24,lo8(2)
 23311 4f2a 90E0      		ldi r25,hi8(2)
 23312 4f2c 8093 0000 		sts endpoints+10,r24
 23313 4f30 9093 0000 		sts endpoints+10+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23314               		.loc 3 174 0
 23315 4f34 E0E0      		ldi r30,lo8(endpoints+8)
 23316 4f36 F0E0      		ldi r31,hi8(endpoints+8)
 23317               	/* #APP */
 23318               	 ;  174 "usb/usb.h" 1
 23319 4f38 02E2      		ldi r16, 34
 23320 4f3a 0693      		.dc.w 0x9306
 23321               		
 23322               	 ;  0 "" 2
 23323               	/* #NOAPP */
 23324               	.LBE7467:
 23325               	.LBE7466:
 23326               	.LBE7465:
 23327               	.LBE7464:
 23328               	.LBE7463:
 116:main.c        **** 				return true;
 23329               		.loc 6 116 0
 23330 4f3c 81E0      		ldi r24,lo8(1)
 23331 4f3e 00C0      		rjmp .L961
 23332               	.LVL1426:
 23333               	.L985:
  81:main.c        **** 		switch(req->bRequest){
 23334               		.loc 6 81 0
 23335 4f40 4230      		cpi r20,lo8(2)
 23336 4f42 01F4      		brne .+2
 23337 4f44 00C0      		rjmp .L963
 23338 4f46 4330      		cpi r20,lo8(3)
 23339 4f48 00F4      		brsh .L972
 23340 4f4a 4423      		tst r20
 23341 4f4c 01F4      		brne .L978
  83:main.c        **** 				if (req->wIndex == 0){
 23342               		.loc 6 83 0
 23343 4f4e 8481      		ldd r24,Z+4
 23344 4f50 9581      		ldd r25,Z+5
 23345 4f52 0097      		sbiw r24,0
 23346 4f54 01F4      		brne .+2
 23347 4f56 00C0      		rjmp .L986
  85:main.c        **** 				}else if (req->wIndex == 1){
 23348               		.loc 6 85 0
 23349 4f58 8130      		cpi r24,1
 23350 4f5a 9105      		cpc r25,__zero_reg__
 23351 4f5c 01F4      		brne .+2
 23352 4f5e 00C0      		rjmp .L987
  88:main.c        **** 				return true;
 23353               		.loc 6 88 0
 23354 4f60 81E0      		ldi r24,lo8(1)
 23355 4f62 00C0      		rjmp .L961
 23356               	.L972:
  81:main.c        **** 		switch(req->bRequest){
 23357               		.loc 6 81 0
 23358 4f64 4830      		cpi r20,lo8(8)
 23359 4f66 01F0      		breq .L964
 23360 4f68 4930      		cpi r20,lo8(9)
 23361 4f6a 01F0      		breq .+2
 23362 4f6c 00C0      		rjmp .L978
 103:main.c        **** 				ep0_buf_in[0] = * ((uint8_t *) req->wIndex);
 23363               		.loc 6 103 0
 23364 4f6e 0480      		ldd __tmp_reg__,Z+4
 23365 4f70 F581      		ldd r31,Z+5
 23366 4f72 E02D      		mov r30,__tmp_reg__
 23367 4f74 8081      		ld r24,Z
 23368 4f76 8093 0000 		sts ep0_buf_in,r24
 23369               	.LVL1427:
 23370               	.LBB7468:
 23371               	.LBB7469:
 23372               	.LBB7470:
 23373               	.LBB7471:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23374               		.loc 3 168 0
 23375 4f7a 0093 0000 		sts endpoints+12,r16
 23376 4f7e 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23377               		.loc 3 169 0
 23378 4f82 81E0      		ldi r24,lo8(1)
 23379 4f84 90E0      		ldi r25,hi8(1)
 23380 4f86 8093 0000 		sts endpoints+10,r24
 23381 4f8a 9093 0000 		sts endpoints+10+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23382               		.loc 3 174 0
 23383 4f8e E0E0      		ldi r30,lo8(endpoints+8)
 23384 4f90 F0E0      		ldi r31,hi8(endpoints+8)
 23385               	.LVL1428:
 23386               	/* #APP */
 23387               	 ;  174 "usb/usb.h" 1
 23388 4f92 02E2      		ldi r16, 34
 23389 4f94 0693      		.dc.w 0x9306
 23390               		
 23391               	 ;  0 "" 2
 23392               	/* #NOAPP */
 23393               	.LBE7471:
 23394               	.LBE7470:
 23395               	.LBE7469:
 23396               	.LBE7468:
 105:main.c        **** 				return true;
 23397               		.loc 6 105 0
 23398 4f96 81E0      		ldi r24,lo8(1)
 23399 4f98 00C0      		rjmp .L961
 23400               	.LVL1429:
 23401               	.L973:
  81:main.c        **** 		switch(req->bRequest){
 23402               		.loc 6 81 0
 23403 4f9a 403E      		cpi r20,lo8(-32)
 23404 4f9c 01F0      		breq .L969
 23405 4f9e 413E      		cpi r20,lo8(-31)
 23406 4fa0 01F0      		breq .+2
 23407 4fa2 00C0      		rjmp .L978
 125:main.c        **** 				usb_cmd = req->bRequest;
 23408               		.loc 6 125 0
 23409 4fa4 4093 0000 		sts usb_cmd,r20
 126:main.c        **** 				cmd_data = req->wIndex;
 23410               		.loc 6 126 0
 23411 4fa8 8481      		ldd r24,Z+4
 23412 4faa 8093 0000 		sts cmd_data,r24
 23413               	.LVL1430:
 23414               	.L983:
 23415               	.LBB7472:
 23416               	.LBB7473:
 23417               	.LBB7474:
 23418               	.LBB7475:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23419               		.loc 3 168 0
 23420 4fae 0093 0000 		sts endpoints+12,r16
 23421 4fb2 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23422               		.loc 3 169 0
 23423 4fb6 1092 0000 		sts endpoints+10,__zero_reg__
 23424 4fba 1092 0000 		sts endpoints+10+1,__zero_reg__
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23425               		.loc 3 174 0
 23426 4fbe E0E0      		ldi r30,lo8(endpoints+8)
 23427 4fc0 F0E0      		ldi r31,hi8(endpoints+8)
 23428               	.LVL1431:
 23429               	/* #APP */
 23430               	 ;  174 "usb/usb.h" 1
 23431 4fc2 02E2      		ldi r16, 34
 23432 4fc4 0693      		.dc.w 0x9306
 23433               		
 23434               	 ;  0 "" 2
 23435               	/* #NOAPP */
 23436               	.LBE7475:
 23437               	.LBE7474:
 23438               	.LBE7473:
 23439               	.LBE7472:
 109:main.c        **** 				return true;
 23440               		.loc 6 109 0
 23441 4fc6 81E0      		ldi r24,lo8(1)
 23442               	/* epilogue start */
 137:main.c        **** }
 23443               		.loc 6 137 0
 23444 4fc8 DF91      		pop r29
 23445 4fca CF91      		pop r28
 23446 4fcc 1F91      		pop r17
 23447 4fce 0F91      		pop r16
 23448 4fd0 0895      		ret
 23449               	.LVL1432:
 23450               	.L964:
  99:main.c        **** 				* ((uint8_t *) req->wIndex) = req->wValue;
 23451               		.loc 6 99 0
 23452 4fd2 D901      		movw r26,r18
 23453 4fd4 0480      		ldd __tmp_reg__,Z+4
 23454 4fd6 F581      		ldd r31,Z+5
 23455 4fd8 E02D      		mov r30,__tmp_reg__
 23456 4fda 1296      		adiw r26,2
 23457 4fdc 8C91      		ld r24,X
 23458 4fde 1297      		sbiw r26,2
 23459 4fe0 8083      		st Z,r24
 23460               	.LVL1433:
 23461 4fe2 00C0      		rjmp .L983
 23462               	.LVL1434:
 23463               	.L969:
 119:main.c        **** 				eeprom_read_block(ep0_buf_in, (void*)(req->wIndex*64), 64);
 23464               		.loc 6 119 0
 23465 4fe4 F901      		movw r30,r18
 23466 4fe6 6481      		ldd r22,Z+4
 23467 4fe8 7581      		ldd r23,Z+5
 23468 4fea 0024      		clr __tmp_reg__
 23469 4fec 7695      		lsr r23
 23470 4fee 6795      		ror r22
 23471 4ff0 0794      		ror __tmp_reg__
 23472 4ff2 7695      		lsr r23
 23473 4ff4 6795      		ror r22
 23474 4ff6 0794      		ror __tmp_reg__
 23475 4ff8 762F      		mov r23,r22
 23476 4ffa 602D      		mov r22,__tmp_reg__
 23477 4ffc 80E0      		ldi r24,lo8(ep0_buf_in)
 23478 4ffe 90E0      		ldi r25,hi8(ep0_buf_in)
 23479 5000 40E4      		ldi r20,lo8(64)
 23480 5002 50E0      		ldi r21,hi8(64)
 23481 5004 0E94 0000 		call __eerd_block_x32a4u
 23482               	.LVL1435:
 23483               	.LBB7476:
 23484               	.LBB7477:
 23485               	.LBB7478:
 23486               	.LBB7479:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23487               		.loc 3 168 0
 23488 5008 0093 0000 		sts endpoints+12,r16
 23489 500c 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23490               		.loc 3 169 0
 23491 5010 C093 0000 		sts endpoints+10,r28
 23492 5014 D093 0000 		sts endpoints+10+1,r29
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23493               		.loc 3 174 0
 23494 5018 E0E0      		ldi r30,lo8(endpoints+8)
 23495 501a F0E0      		ldi r31,hi8(endpoints+8)
 23496               	.LVL1436:
 23497               	/* #APP */
 23498               	 ;  174 "usb/usb.h" 1
 23499 501c 02E2      		ldi r16, 34
 23500 501e 0693      		.dc.w 0x9306
 23501               		
 23502               	 ;  0 "" 2
 23503               	/* #NOAPP */
 23504               	.LBE7479:
 23505               	.LBE7478:
 23506               	.LBE7477:
 23507               	.LBE7476:
 121:main.c        **** 				return true;
 23508               		.loc 6 121 0
 23509 5020 81E0      		ldi r24,lo8(1)
 23510 5022 00C0      		rjmp .L961
 23511               	.LVL1437:
 23512               	.L968:
 23513               	.LBB7480:
 23514               	.LBB7481:
 330:usb/usb.h     **** 		USB_ep0_enableOut();
 331:usb/usb.h     **** 	}
 332:usb/usb.h     **** }
 333:usb/usb.h     **** 
 334:usb/usb.h     **** static inline void USB_enter_bootloader(void){
 335:usb/usb.h     **** 	cli();
 23515               		.loc 3 335 0
 23516               	/* #APP */
 23517               	 ;  335 "usb/usb.h" 1
 23518 5024 F894      		cli
 23519               	 ;  0 "" 2
 23520               	.LVL1438:
 23521               	/* #NOAPP */
 23522               	.LBB7482:
 23523               	.LBB7483:
 23524               	.LBB7484:
 23525               	.LBB7485:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23526               		.loc 3 168 0
 23527 5026 0093 0000 		sts endpoints+12,r16
 23528 502a 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23529               		.loc 3 169 0
 23530 502e 1092 0000 		sts endpoints+10,__zero_reg__
 23531 5032 1092 0000 		sts endpoints+10+1,__zero_reg__
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23532               		.loc 3 174 0
 23533 5036 E0E0      		ldi r30,lo8(endpoints+8)
 23534 5038 F0E0      		ldi r31,hi8(endpoints+8)
 23535               	.LVL1439:
 23536               	/* #APP */
 23537               	 ;  174 "usb/usb.h" 1
 23538 503a 02E2      		ldi r16, 34
 23539 503c 0693      		.dc.w 0x9306
 23540               		
 23541               	 ;  0 "" 2
 23542               	/* #NOAPP */
 23543               	.LBE7485:
 23544               	.LBE7484:
 23545               	.LBE7483:
 23546               	.LBE7482:
 23547               	.LBB7486:
 23548               	.LBB7487:
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 23549               		.loc 3 280 0
 23550 503e 3897      		sbiw r30,8
 23551               	.LVL1440:
 23552               	/* #APP */
 23553               	 ;  280 "usb/usb.h" 1
 23554 5040 02E7      		ldi r16, 114
 23555 5042 0693      		.dc.w 0x9306
 23556               		
 23557               	 ;  0 "" 2
 23558               	.LVL1441:
 23559               	/* #NOAPP */
 23560               	.L976:
 23561               	.LBE7487:
 23562               	.LBE7486:
 23563               	.LBB7488:
 23564               	.LBB7489:
 23565               	.LBB7490:
 23566               	.LBB7491:
 202:usb/usb.h     **** 		return e->STATUS & USB_EP_TRNCOMPL0_bm;
 23567               		.loc 3 202 0
 23568 5044 8091 0000 		lds r24,endpoints
 23569               	.LBE7491:
 23570               	.LBE7490:
 253:usb/usb.h     **** 	while (!USB_ep_done(ep)){};
 23571               		.loc 3 253 0
 23572 5048 85FF      		sbrs r24,5
 23573 504a 00C0      		rjmp .L976
 23574               	.LVL1442:
 23575               	.LBE7489:
 23576               	.LBE7488:
 23577               	.LBB7492:
 23578               	.LBB7493:
 23579               		.loc 11 164 0
 23580 504c 8FEF      		 ldi r24,lo8(63999)
 23581 504e 99EF      	    ldi r25,hi8(63999)
 23582 5050 A0E0      	    ldi r26,hlo8(63999)
 23583 5052 8150      	    1:subi r24,1
 23584 5054 9040      	    sbci r25,0
 23585 5056 A040      	    sbci r26,0
 23586 5058 01F4      	    brne 1b
 23587 505a 00C0      		rjmp .
 23588 505c 0000      		nop
 23589               	.LBE7493:
 23590               	.LBE7492:
 23591               	.LBB7494:
 23592               	.LBB7495:
 296:usb/usb.h     **** 	USB.CTRLB &= ~USB_ATTACH_bm;
 23593               		.loc 3 296 0
 23594 505e 8091 C104 		lds r24,1217
 23595 5062 8E7F      		andi r24,lo8(-2)
 23596 5064 E0EC      		ldi r30,lo8(1216)
 23597 5066 F4E0      		ldi r31,hi8(1216)
 23598               	.LVL1443:
 23599 5068 8183      		std Z+1,r24
 23600               	.LVL1444:
 23601               	.LBE7495:
 23602               	.LBE7494:
 23603               	.LBB7496:
 23604               	.LBB7497:
 23605               		.loc 11 164 0
 23606 506a 8FEF      		 ldi r24,lo8(639999)
 23607 506c 93EC      	    ldi r25,hi8(639999)
 23608 506e A9E0      	    ldi r26,hlo8(639999)
 23609 5070 8150      	    1:subi r24,1
 23610 5072 9040      	    sbci r25,0
 23611 5074 A040      	    sbci r26,0
 23612 5076 01F4      	    brne 1b
 23613 5078 00C0      		rjmp .
 23614 507a 0000      		nop
 23615               	.LVL1445:
 23616               	.LBE7497:
 23617               	.LBE7496:
 336:usb/usb.h     **** 	USB_ep0_send(0);
 337:usb/usb.h     **** 	USB_ep0_enableOut();
 338:usb/usb.h     **** 	USB_ep_wait(0x00); // Wait for the status stage to complete
 339:usb/usb.h     **** 	_delay_ms(10);
 340:usb/usb.h     **** 	USB_Detach();
 341:usb/usb.h     **** 	_delay_ms(100);
 342:usb/usb.h     **** 	void (*enter_bootloader)(void) = (void*) 0x47fc /*0x8ff8/2*/;
 343:usb/usb.h     **** 	enter_bootloader();
 23618               		.loc 3 343 0
 23619 507c ECEF      		ldi r30,lo8(18428)
 23620 507e F7E4      		ldi r31,hi8(18428)
 23621 5080 0995      		icall
 23622               	.LVL1446:
 23623               	.LBE7481:
 23624               	.LBE7480:
 133:main.c        **** 				return true;
 23625               		.loc 6 133 0
 23626 5082 81E0      		ldi r24,lo8(1)
 23627 5084 00C0      		rjmp .L961
 23628               	.LVL1447:
 23629               	.L963:
 23630               	.LBB7498:
  91:main.c        **** 					int l = strlen(message);
 23631               		.loc 6 91 0
 23632 5086 3091 0000 		lds r19,message
 23633 508a 2091 0000 		lds r18,message+1
 23634               	.LVL1448:
 23635 508e C32F      		mov r28,r19
 23636 5090 D22F      		mov r29,r18
 23637 5092 FE01      		movw r30,r28
 23638               	.LVL1449:
 23639 5094 0190      		ld __tmp_reg__,Z+
 23640 5096 0020      		tst __tmp_reg__
 23641 5098 01F4      		brne .-6
 23642 509a 3197      		sbiw r30,1
 23643 509c E31B      		sub r30,r19
 23644               	.LVL1450:
 23645               	.L975:
 23646               	.LBB7499:
  93:main.c        **** 						ep0_buf_in[i] = message[i];
 23647               		.loc 6 93 0 discriminator 2
 23648 509e 2991      		ld r18,Y+
 23649 50a0 2D93      		st X+,r18
  92:main.c        **** 					for (uint8_t i=0; i<64; i++) {
 23650               		.loc 6 92 0 discriminator 2
 23651 50a2 8A17      		cp r24,r26
 23652 50a4 9B07      		cpc r25,r27
 23653 50a6 01F4      		brne .L975
 23654               	.LVL1451:
 23655               	.LBE7499:
 23656               	.LBB7500:
 23657               	.LBB7501:
 247:usb/usb.h     **** 	USB_ep_in_start(0x80, ep0_buf_in, size);
 23658               		.loc 3 247 0
 23659 50a8 8E2F      		mov r24,r30
 23660 50aa 90E0      		ldi r25,lo8(0)
 23661               	.LVL1452:
 23662               	.LBB7502:
 23663               	.LBB7503:
 23664               	.LBB7504:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 23665               		.loc 3 168 0
 23666 50ac 0093 0000 		sts endpoints+12,r16
 23667 50b0 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 23668               		.loc 3 169 0
 23669 50b4 8093 0000 		sts endpoints+10,r24
 23670 50b8 9093 0000 		sts endpoints+10+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 23671               		.loc 3 174 0
 23672 50bc E0E0      		ldi r30,lo8(endpoints+8)
 23673 50be F0E0      		ldi r31,hi8(endpoints+8)
 23674               	.LVL1453:
 23675               	/* #APP */
 23676               	 ;  174 "usb/usb.h" 1
 23677 50c0 02E2      		ldi r16, 34
 23678 50c2 0693      		.dc.w 0x9306
 23679               		
 23680               	 ;  0 "" 2
 23681               	/* #NOAPP */
 23682               	.LBE7504:
 23683               	.LBE7503:
 23684               	.LBE7502:
 23685               	.LBE7501:
 23686               	.LBE7500:
  96:main.c        **** 					return true;
 23687               		.loc 6 96 0
 23688 50c4 81E0      		ldi r24,lo8(1)
 23689               	.LVL1454:
 23690 50c6 00C0      		rjmp .L961
 23691               	.LVL1455:
 23692               	.L966:
 23693               	.LBE7498:
 107:main.c        **** 				* ((uint16_t *) req->wIndex) = req->wValue;
 23694               		.loc 6 107 0
 23695 50c8 F901      		movw r30,r18
 23696 50ca 8281      		ldd r24,Z+2
 23697 50cc 9381      		ldd r25,Z+3
 23698 50ce 0480      		ldd __tmp_reg__,Z+4
 23699 50d0 F581      		ldd r31,Z+5
 23700 50d2 E02D      		mov r30,__tmp_reg__
 23701 50d4 8083      		st Z,r24
 23702 50d6 9183      		std Z+1,r25
 23703 50d8 00C0      		rjmp .L983
 23704               	.L987:
  86:main.c        **** 					USB_ep0_send_progmem((uint8_t*)fwversion, sizeof(fwversion));
 23705               		.loc 6 86 0
 23706 50da 80E0      		ldi r24,lo8(fwversion)
 23707 50dc 90E0      		ldi r25,hi8(fwversion)
 23708 50de 6BE0      		ldi r22,lo8(11)
 23709 50e0 70E0      		ldi r23,hi8(11)
 23710 50e2 0E94 0000 		call USB_ep0_send_progmem
 23711               	.LVL1456:
  88:main.c        **** 				return true;
 23712               		.loc 6 88 0
 23713 50e6 81E0      		ldi r24,lo8(1)
 23714 50e8 00C0      		rjmp .L961
 23715               	.LVL1457:
 23716               	.L986:
  84:main.c        **** 					USB_ep0_send_progmem((uint8_t*)hwversion, sizeof(hwversion));
 23717               		.loc 6 84 0
 23718 50ea 80E0      		ldi r24,lo8(hwversion)
 23719 50ec 90E0      		ldi r25,hi8(hwversion)
 23720 50ee 6BE0      		ldi r22,lo8(11)
 23721 50f0 70E0      		ldi r23,hi8(11)
 23722 50f2 0E94 0000 		call USB_ep0_send_progmem
 23723               	.LVL1458:
  88:main.c        **** 				return true;
 23724               		.loc 6 88 0
 23725 50f6 81E0      		ldi r24,lo8(1)
 23726 50f8 00C0      		rjmp .L961
 23727               		.cfi_endproc
 23728               	.LFE82:
 23730               	.global	EVENT_USB_Device_ControlOUT
 23732               	EVENT_USB_Device_ControlOUT:
 23733               	.LFB83:
 139:main.c        **** void EVENT_USB_Device_ControlOUT(uint8_t* buf, uint8_t count){
 23734               		.loc 6 139 0
 23735               		.cfi_startproc
 23736               	.LVL1459:
 23737               	/* prologue: function */
 23738               	/* frame size = 0 */
 23739               	/* stack size = 0 */
 23740               	.L__stack_usage = 0
 23741 50fa 462F      		mov r20,r22
 140:main.c        **** 	switch (usb_cmd){
 23742               		.loc 6 140 0
 23743 50fc 2091 0000 		lds r18,usb_cmd
 23744 5100 213E      		cpi r18,lo8(-31)
 23745 5102 01F0      		breq .L991
 23746               	.LVL1460:
 23747 5104 0895      		ret
 23748               	.L991:
 23749               		.loc 6 142 0
 23750 5106 2091 0000 		lds r18,cmd_data
 23751 510a 30E0      		ldi r19,lo8(0)
 23752 510c 0024      		clr __tmp_reg__
 23753 510e 3695      		lsr r19
 23754 5110 2795      		ror r18
 23755 5112 0794      		ror __tmp_reg__
 23756 5114 3695      		lsr r19
 23757 5116 2795      		ror r18
 23758 5118 0794      		ror __tmp_reg__
 23759 511a 322F      		mov r19,r18
 23760 511c 202D      		mov r18,__tmp_reg__
 23761 511e B901      		movw r22,r18
 23762 5120 50E0      		ldi r21,lo8(0)
 23763 5122 0E94 0000 		call __eeupd_block_x32a4u
 23764               	.LVL1461:
 23765 5126 0895      		ret
 23766               		.cfi_endproc
 23767               	.LFE83:
 23769               	.global	cmd_data
 23770               	.global	cmd_data
 23771               		.section .bss
 23774               	cmd_data:
 23775 0000 00        		.skip 1,0
 23776               	.global	usb_cmd
 23777               	.global	usb_cmd
 23780               	usb_cmd:
 23781 0001 00        		.skip 1,0
 23782               	.global	fwversion
 23783               		.section	.progmem.data,"a",@progbits
 23786               	fwversion:
 23787 0000 4657 5F56 		.string	"FW_VERSION"
 23787      4552 5349 
 23787      4F4E 00
 23788               	.global	hwversion
 23791               	hwversion:
 23792 000b 4857 5F56 		.string	"HW_VERSION"
 23792      4552 5349 
 23792      4F4E 00
 23793               	.global	updating
 23794               	.global	updating
 23795               		.section .bss
 23798               	updating:
 23799 0002 00        		.skip 1,0
 23800               		.comm message,2,1
 23801               	.global	twilio_number
 23802               		.data
 23803               	.LC18:
 23804 0131 2B31 3330 		.string	"+13042493059"
 23804      3432 3439 
 23804      3330 3539 
 23804      00
 23807               	twilio_number:
 23808 013e 0000      		.word	.LC18
 23809               	.global	debug
 23810               	.global	debug
 23811               		.section .bss
 23814               	debug:
 23815 0003 00        		.skip 1,0
 23816               	.global	max_dist
 23817               		.data
 23820               	max_dist:
 23821 0140 CD        		.byte	-51
 23822 0141 CC        		.byte	-52
 23823 0142 4C        		.byte	76
 23824 0143 3E        		.byte	62
 23825               	.global	lng
 23828               	lng:
 23829 0144 7D        		.byte	125
 23830 0145 87        		.byte	-121
 23831 0146 8E        		.byte	-114
 23832 0147 C2        		.byte	-62
 23833               	.global	lat
 23836               	lat:
 23837 0148 C6        		.byte	-58
 23838 0149 2B        		.byte	43
 23839 014a 29        		.byte	41
 23840 014b 42        		.byte	66
 23841               	.global	timeout_or_sampling_no_longer_enabled
 23842               	.global	timeout_or_sampling_no_longer_enabled
 23843               		.section .bss
 23846               	timeout_or_sampling_no_longer_enabled:
 23847 0004 00        		.skip 1,0
 23848               	.global	ep_in_data
 23849               	.global	ep_in_data
 23852               	ep_in_data:
 23853 0005 0000 0000 		.skip 4,0
 23854               	.global	ep_in_pipe_data
 23855               		.data
 23858               	ep_in_pipe_data:
 23859 014c 0000      		.word	ep_in_pipe_buffer
 23860 014e 0000      		.word	ep_in_pipe_buffer
 23861 0150 00        		.byte	0
 23862               		.comm ep_in_pipe_buffer,512,1
 23863               		.text
 23864               	.Letext0:
 23865               		.file 14 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/stdint.h"
 23866               		.file 15 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/avr/iox32a4u.h"
 23867               		.file 16 "usb/StdRequestType.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccLzWmGl.s:2      *ABS*:000000000000003f __SREG__
     /tmp/ccLzWmGl.s:3      *ABS*:000000000000003e __SP_H__
     /tmp/ccLzWmGl.s:4      *ABS*:000000000000003d __SP_L__
     /tmp/ccLzWmGl.s:5      *ABS*:0000000000000034 __CCP__
     /tmp/ccLzWmGl.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccLzWmGl.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccLzWmGl.s:14     .text:0000000000000000 usb_pipe_handle.constprop.9
     /tmp/ccLzWmGl.s:23858  .data:000000000000014c ep_in_pipe_data
     /tmp/ccLzWmGl.s:23852  .bss:0000000000000005 ep_in_data
                            *COM*:0000000000000200 ep_in_pipe_buffer
     /tmp/ccLzWmGl.s:344    .text:000000000000014c EVENT_USB_Device_ConfigurationChanged
     /tmp/ccLzWmGl.s:433    .text:000000000000019a __vector_125
     /tmp/ccLzWmGl.s:571    .text:0000000000000224 __vector_126
     /tmp/ccLzWmGl.s:23780  .bss:0000000000000001 usb_cmd
     /tmp/ccLzWmGl.s:23774  .bss:0000000000000000 cmd_data
     /tmp/ccLzWmGl.s:1107   .text:0000000000000436 send_string
     /tmp/ccLzWmGl.s:23846  .bss:0000000000000004 timeout_or_sampling_no_longer_enabled
     /tmp/ccLzWmGl.s:2241   .text:000000000000082e concat
     /tmp/ccLzWmGl.s:2335   .text:000000000000089a distance
     /tmp/ccLzWmGl.s:23836  .data:0000000000000148 lat
     /tmp/ccLzWmGl.s:23828  .data:0000000000000144 lng
     /tmp/ccLzWmGl.s:2628   .text:0000000000000a5a parse_nmea_string
     /tmp/ccLzWmGl.s:2760   .text:0000000000000af6 parse_nmea
     /tmp/ccLzWmGl.s:23820  .data:0000000000000140 max_dist
     /tmp/ccLzWmGl.s:6377   .text:000000000000197a uart_putchar
     /tmp/ccLzWmGl.s:6423   .text:000000000000199a uart_getchar
     /tmp/ccLzWmGl.s:6449   .text:00000000000019a6 send_uart
     /tmp/ccLzWmGl.s:23814  .bss:0000000000000003 debug
     /tmp/ccLzWmGl.s:7671   .text:0000000000001e1c turn_on_gps
     /tmp/ccLzWmGl.s:12449  .text:0000000000002ed2 power_off_gps
     /tmp/ccLzWmGl.s:12529  .text:0000000000002ef6 gps_init
     /tmp/ccLzWmGl.s:14889  .text:000000000000371a gps_receive
     /tmp/ccLzWmGl.s:16087  .text:0000000000003b4a wake_up_gprs
     /tmp/ccLzWmGl.s:16104  .text:0000000000003b4c gprs_init
     /tmp/ccLzWmGl.s:16149  .text:0000000000003b70 send_message
     /tmp/ccLzWmGl.s:16884  .text:0000000000003e5e GprsTextModeSMS
     /tmp/ccLzWmGl.s:16912  .text:0000000000003e6a PowerDownModem
     /tmp/ccLzWmGl.s:16940  .text:0000000000003e76 SleepModem
     /tmp/ccLzWmGl.s:16968  .text:0000000000003e82 WakeUpModem
     /tmp/ccLzWmGl.s:17006  .text:0000000000003e8e SimpleReceive
     /tmp/ccLzWmGl.s:21871  .text.startup:0000000000000000 main
     /tmp/ccLzWmGl.s:23203  .text:0000000000004eb2 EVENT_USB_Device_ControlRequest
                            *COM*:0000000000000002 message
     /tmp/ccLzWmGl.s:23786  .progmem.data:0000000000000000 fwversion
     /tmp/ccLzWmGl.s:23791  .progmem.data:000000000000000b hwversion
     /tmp/ccLzWmGl.s:23732  .text:00000000000050fa EVENT_USB_Device_ControlOUT
     /tmp/ccLzWmGl.s:23798  .bss:0000000000000002 updating
     /tmp/ccLzWmGl.s:23807  .data:000000000000013e twilio_number

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
endpoints
USB_Init
USB_HandleSetup
ep0_buf_out
__eeupd_block_x32a4u
malloc
strcpy
strcat
__subsf3
__mulsf3
sin
cos
__addsf3
sqrt
atan2
strtok
atof
__divsf3
__gtsf2
sprintf
USB_ConfigureClock
ep0_buf_in
__eerd_block_x32a4u
USB_ep0_send_progmem
