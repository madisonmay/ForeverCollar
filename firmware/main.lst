   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.Ltext0:
  12               		.cfi_sections	.debug_frame
  13               	.global	EVENT_USB_Device_ConfigurationChanged
  15               	EVENT_USB_Device_ConfigurationChanged:
  16               	.LFB57:
  17               		.file 1 "Framework.h"
   1:Framework.h   **** #pragma once
   2:Framework.h   **** #define F_CPU 32000000UL
   3:Framework.h   **** 
   4:Framework.h   **** // includes
   5:Framework.h   **** #include <avr/interrupt.h>
   6:Framework.h   **** #include <util/delay.h>
   7:Framework.h   **** #include "Descriptors.h"
   8:Framework.h   **** #include "usb/usb.h"
   9:Framework.h   **** #include "usb/usb_pipe.h"
  10:Framework.h   **** #include <avr/eeprom.h>
  11:Framework.h   **** #include <avr/io.h>
  12:Framework.h   **** 
  13:Framework.h   **** USB_PIPE(ep_in, 0x81 | USB_EP_PP, USB_EP_TYPE_BULK_gc, 64, 8, PIPE_ENABLE_FLUSH);
  14:Framework.h   **** 
  15:Framework.h   **** bool timeout_or_sampling_no_longer_enabled = 0;
  16:Framework.h   **** 
  17:Framework.h   **** // Queue a byte to be sent over the bulk EP. Blocks if the buffer is full
  18:Framework.h   **** static inline void send_byte(uint8_t byte){
  19:Framework.h   ****     // this should never actually block if your buffer is big enough
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
  21:Framework.h   **** 	usb_pipe_write_byte(&ep_in, byte);
  22:Framework.h   **** }
  23:Framework.h   **** 
  24:Framework.h   **** // Sends a break to end the USB read and flushes the USB pipe
  25:Framework.h   **** static inline void break_and_flush(){
  26:Framework.h   ****     usb_pipe_flush(&ep_in);
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
  30:Framework.h   ****             usb_pipe_reset(&ep_in);
  31:Framework.h   ****             return;
  32:Framework.h   ****         }
  33:Framework.h   ****     }
  34:Framework.h   **** } 
  35:Framework.h   **** 
  36:Framework.h   **** void EVENT_USB_Device_ConfigurationChanged(uint8_t config){
  18               		.loc 1 36 0
  19               		.cfi_startproc
  20               	.LVL0:
  21               	/* prologue: function */
  22               	/* frame size = 0 */
  23               	/* stack size = 0 */
  24               	.L__stack_usage = 0
  25               	.LBB393:
  26               	.LBB394:
  27               		.file 2 "usb/usb_pipe.h"
   1:usb/usb_pipe.h **** #include "pipe.h"
   2:usb/usb_pipe.h **** #include "usb.h"
   3:usb/usb_pipe.h **** 
   4:usb/usb_pipe.h **** #include <util/atomic.h>
   5:usb/usb_pipe.h **** #ifndef PIPE_ATOMIC
   6:usb/usb_pipe.h **** #define PIPE_ATOMIC ATOMIC_RESTORESTATE
   7:usb/usb_pipe.h **** #endif 
   8:usb/usb_pipe.h **** 
   9:usb/usb_pipe.h **** typedef struct USB_Pipe_data{
  10:usb/usb_pipe.h **** 	bool bank;
  11:usb/usb_pipe.h **** 	uint8_t flush;
  12:usb/usb_pipe.h **** 	uint16_t packet_offset; // Index into current packet for byte mode
  13:usb/usb_pipe.h **** } USB_Pipe_data;
  14:usb/usb_pipe.h **** 
  15:usb/usb_pipe.h **** // Immutable part, constant-folded at compile time
  16:usb/usb_pipe.h **** typedef struct USB_Pipe{
  17:usb/usb_pipe.h **** 	uint8_t ep;
  18:usb/usb_pipe.h **** 	uint8_t type;
  19:usb/usb_pipe.h **** 	USB_Pipe_data* data;
  20:usb/usb_pipe.h **** 	const Pipe* pipe;
  21:usb/usb_pipe.h **** 	uint8_t features;
  22:usb/usb_pipe.h **** } USB_Pipe;
  23:usb/usb_pipe.h **** 
  24:usb/usb_pipe.h **** #define PIPE_ENABLE_FLUSH (1<<0)
  25:usb/usb_pipe.h **** 
  26:usb/usb_pipe.h **** #define USB_PIPE(NAME, EPNO, TYPE, PACKET_SIZE, BUFFER_PACKETS, FEATURES) \
  27:usb/usb_pipe.h **** 	PIPE(NAME##_pipe, (BUFFER_PACKETS), (PACKET_SIZE),               \
  28:usb/usb_pipe.h **** 		((EPNO)&USB_EP_IN)?0:2,                      \
  29:usb/usb_pipe.h **** 		((EPNO)&USB_EP_IN)?2:0                       \
  30:usb/usb_pipe.h **** 	);                                               \
  31:usb/usb_pipe.h **** 	USB_Pipe_data NAME##_data = {      \
  32:usb/usb_pipe.h **** 		.bank = 0,                   \
  33:usb/usb_pipe.h **** 		.flush = 0,                    \
  34:usb/usb_pipe.h **** 	};                                 \
  35:usb/usb_pipe.h **** 	const static USB_Pipe NAME = {     \
  36:usb/usb_pipe.h **** 		.ep = (EPNO),                  \
  37:usb/usb_pipe.h **** 		.type = (TYPE),                \
  38:usb/usb_pipe.h **** 		.data = &(NAME##_data),        \
  39:usb/usb_pipe.h **** 		.pipe = &(NAME##_pipe),        \
  40:usb/usb_pipe.h **** 		.features = (FEATURES),        \
  41:usb/usb_pipe.h **** 	};                                 \
  42:usb/usb_pipe.h **** 
  43:usb/usb_pipe.h **** static inline void usb_pipe_init(const USB_Pipe* p){
  44:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
  28               		.loc 2 44 0
  29 0000 2FB7      		in r18,__SREG__
  30               	.LVL1:
  31               	.LBB395:
  32               	.LBB396:
  33               		.file 3 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h"
   1:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** /* Copyright (c) 2007 Dean Camera
   2:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    All rights reserved.
   3:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
   4:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    Redistribution and use in source and binary forms, with or without
   5:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    modification, are permitted provided that the following conditions are met:
   6:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
   7:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    * Redistributions of source code must retain the above copyright
   8:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      notice, this list of conditions and the following disclaimer.
   9:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  10:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    * Redistributions in binary form must reproduce the above copyright
  11:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      notice, this list of conditions and the following disclaimer in
  12:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      the documentation and/or other materials provided with the
  13:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      distribution.
  14:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  15:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****    * Neither the name of the copyright holders nor the names of
  16:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      contributors may be used to endorse or promote products derived
  17:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****      from this software without specific prior written permission.
  18:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  19:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  20:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  21:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  22:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  23:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  24:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  25:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  26:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  27:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  28:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  29:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****   POSSIBILITY OF SUCH DAMAGE.
  30:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** */
  31:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  32:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** /* $Id: atomic.h 2158 2010-06-10 15:48:28Z joerg_wunsch $ */
  33:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  34:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #ifndef _UTIL_ATOMIC_H_
  35:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #define _UTIL_ATOMIC_H_ 1
  36:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  37:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #include <avr/io.h>
  38:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #include <avr/interrupt.h>
  39:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  40:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** #if !defined(__DOXYGEN__)
  41:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** /* Internal helper functions. */
  42:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ uint8_t __iSeiRetVal(void)
  43:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  44:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     sei();
  45:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     return 1;
  46:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  47:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  48:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ uint8_t __iCliRetVal(void)
  49:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
  34               		.loc 3 50 0
  35               	/* #APP */
  36               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
  37 0002 F894      		cli
  38               	 ;  0 "" 2
  39               	.LVL2:
  40               	/* #NOAPP */
  41               	.LBE396:
  42               	.LBE395:
  43               	.LBB397:
  44               	.LBB398:
  45               		.file 4 "usb/pipe.h"
   1:usb/pipe.h    **** // Ring buffer that takes heavy advantage of constant folding
   2:usb/pipe.h    **** #pragma once
   3:usb/pipe.h    **** 
   4:usb/pipe.h    **** #include "Common.h"
   5:usb/pipe.h    **** 
   6:usb/pipe.h    **** // Mutable part, becomes an actual struct
   7:usb/pipe.h    **** typedef struct Pipe_data{
   8:usb/pipe.h    **** 	uint8_t* read_ptr;
   9:usb/pipe.h    **** 	uint8_t* write_ptr;
  10:usb/pipe.h    **** 	int8_t count; // available slots
  11:usb/pipe.h    **** } Pipe_data;
  12:usb/pipe.h    **** 
  13:usb/pipe.h    **** // Immutable part, constant-folded at compile time
  14:usb/pipe.h    **** typedef struct Pipe{
  15:usb/pipe.h    **** 	Pipe_data* data;
  16:usb/pipe.h    **** 	uint8_t* buffer;
  17:usb/pipe.h    **** 	uint8_t  slots;         // Number of slots in the buffer
  18:usb/pipe.h    **** 	uint8_t reserve_read;  // Slots to prevent reading so they are available to writer
  19:usb/pipe.h    **** 	uint8_t reserve_write; // Slots to prevent writing so they are available to reader
  20:usb/pipe.h    **** 	uint16_t size;          // Size of a buffer slot in bytes
  21:usb/pipe.h    **** } Pipe;
  22:usb/pipe.h    **** 
  23:usb/pipe.h    **** #define PIPE_H(NAME, SLOTS, SIZE, RESERVE_READ, RESERVE_WRITE)       \
  24:usb/pipe.h    **** 	extern Pipe_data NAME##_data;         \
  25:usb/pipe.h    **** 	extern uint8_t NAME##_buffer[(SLOTS)*(SIZE)]; \
  26:usb/pipe.h    **** 	const static Pipe NAME = {            \
  27:usb/pipe.h    **** 		.data = &(NAME##_data),           \
  28:usb/pipe.h    **** 		.buffer = &((NAME##_buffer)[0]),  \
  29:usb/pipe.h    **** 		.slots = (SLOTS),                 \
  30:usb/pipe.h    **** 		.size = (SIZE),                   \
  31:usb/pipe.h    **** 		.reserve_read = (RESERVE_READ),   \
  32:usb/pipe.h    **** 		.reserve_write = (RESERVE_WRITE), \
  33:usb/pipe.h    **** 	};
  34:usb/pipe.h    **** 
  35:usb/pipe.h    **** 
  36:usb/pipe.h    **** #define PIPE_C(NAME, SLOTS, SIZE)                   \
  37:usb/pipe.h    **** 	uint8_t NAME##_buffer[(SLOTS)*(SIZE)];           \
  38:usb/pipe.h    **** 	Pipe_data NAME##_data = {                \
  39:usb/pipe.h    **** 		.count = 0,                          \
  40:usb/pipe.h    **** 		.read_ptr = &((NAME##_buffer)[0]),                       \
  41:usb/pipe.h    **** 		.write_ptr = &((NAME##_buffer)[0]),                      \
  42:usb/pipe.h    **** 	};
  43:usb/pipe.h    **** 
  44:usb/pipe.h    **** #define PIPE(NAME, SLOTS, SIZE, RESERVE_READ, RESERVE_WRITE) \
  45:usb/pipe.h    **** 	PIPE_H(NAME, SLOTS, SIZE, RESERVE_READ, RESERVE_WRITE)   \
  46:usb/pipe.h    **** 	PIPE_C(NAME, SLOTS, SIZE)
  47:usb/pipe.h    **** 
  48:usb/pipe.h    **** // Number of slots available to read
  49:usb/pipe.h    **** static inline int8_t pipe_can_read(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  50:usb/pipe.h    **** static inline int8_t pipe_can_read(const Pipe* pipe){
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
  52:usb/pipe.h    **** }
  53:usb/pipe.h    **** 
  54:usb/pipe.h    **** // Number of slots available to write
  55:usb/pipe.h    **** static inline int8_t pipe_can_write(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  56:usb/pipe.h    **** static inline int8_t pipe_can_write(const Pipe* pipe){
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
  58:usb/pipe.h    **** }
  59:usb/pipe.h    **** 
  60:usb/pipe.h    **** static inline uint8_t* pipe_read_ptr(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  61:usb/pipe.h    **** static inline uint8_t* pipe_read_ptr(const Pipe* pipe){
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
  63:usb/pipe.h    **** }
  64:usb/pipe.h    **** 
  65:usb/pipe.h    **** static inline uint8_t* pipe_write_ptr(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  66:usb/pipe.h    **** static inline uint8_t* pipe_write_ptr(const Pipe* pipe){
  67:usb/pipe.h    **** 	return pipe->data->write_ptr;
  68:usb/pipe.h    **** }
  69:usb/pipe.h    **** 
  70:usb/pipe.h    **** static inline void pipe_done_read(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  71:usb/pipe.h    **** static inline void pipe_done_read(const Pipe* pipe){
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
  74:usb/pipe.h    **** 	// Assumes buffer_size % slot_size == 0 and all accesses aligned
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
  77:usb/pipe.h    **** }
  78:usb/pipe.h    **** 
  79:usb/pipe.h    **** static inline void pipe_done_write(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  80:usb/pipe.h    **** static inline void pipe_done_write(const Pipe* pipe){
  81:usb/pipe.h    **** 	pipe->data->count += 1;
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
  83:usb/pipe.h    **** 	// Assumes buffer_size % slot_size == 0 and all accesses aligned
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
  86:usb/pipe.h    **** }
  87:usb/pipe.h    **** 
  88:usb/pipe.h    **** static inline void pipe_reset(const Pipe* pipe) ATTR_ALWAYS_INLINE;
  89:usb/pipe.h    **** static inline void pipe_reset(const Pipe* pipe){
  90:usb/pipe.h    **** 	pipe->data->count = 0;
  46               		.loc 4 90 0
  47 0004 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
  91:usb/pipe.h    **** 	pipe->data->read_ptr = pipe->data->write_ptr = pipe->buffer;
  48               		.loc 4 91 0
  49 0008 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
  50 000a 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
  51               	.LVL3:
  52 000c 8093 0000 		sts ep_in_pipe_data+2,r24
  53 0010 9093 0000 		sts ep_in_pipe_data+2+1,r25
  54 0014 8093 0000 		sts ep_in_pipe_data,r24
  55 0018 9093 0000 		sts ep_in_pipe_data+1,r25
  56               	.LVL4:
  57               	.LBE398:
  58               	.LBE397:
  59               	.LBB399:
  60               	.LBB400:
  61               	.LBB401:
  62               		.file 5 "usb/usb.h"
   1:usb/usb.h     **** // Minimal USB Stack for ATxmega32a4u and related
   2:usb/usb.h     **** // http://nonolithlabs.com
   3:usb/usb.h     **** // (C) 2011 Kevin Mehall (Nonolith Labs) <km@kevinmehall.net>
   4:usb/usb.h     **** //
   5:usb/usb.h     **** // Heavily borrows from LUFA
   6:usb/usb.h     **** // Copyright 2011  Dean Camera (dean [at] fourwalledcubicle [dot] com)
   7:usb/usb.h     **** //
   8:usb/usb.h     **** // Licensed under the terms of the GNU GPLv3+
   9:usb/usb.h     **** 
  10:usb/usb.h     **** #pragma once
  11:usb/usb.h     **** 
  12:usb/usb.h     **** #include <avr/io.h>
  13:usb/usb.h     **** 
  14:usb/usb.h     **** #define CPU_TO_LE16(x) x
  15:usb/usb.h     **** 
  16:usb/usb.h     **** struct USB_Request_Header;
  17:usb/usb.h     **** typedef struct USB_Request_Header USB_Requst_Header_t;
  18:usb/usb.h     **** 
  19:usb/usb.h     **** #include "StdDescriptors.h"
  20:usb/usb.h     **** #include "StdRequestType.h"
  21:usb/usb.h     **** #include "Events.h"
  22:usb/usb.h     **** 
  23:usb/usb.h     **** #ifndef USB_MAXEP
  24:usb/usb.h     **** 	#define USB_MAXEP 1
  25:usb/usb.h     **** #endif
  26:usb/usb.h     **** 
  27:usb/usb.h     **** #ifndef USB_EP0SIZE
  28:usb/usb.h     **** 	#define EP0SIZE 64
  29:usb/usb.h     **** #endif
  30:usb/usb.h     **** 
  31:usb/usb.h     **** typedef union USB_EP_pair{
  32:usb/usb.h     **** 	union{
  33:usb/usb.h     **** 		struct{
  34:usb/usb.h     **** 			USB_EP_t out;
  35:usb/usb.h     **** 			USB_EP_t in;
  36:usb/usb.h     **** 		};
  37:usb/usb.h     **** 		USB_EP_t ep[2];
  38:usb/usb.h     **** 	};
  39:usb/usb.h     **** } ATTR_PACKED USB_EP_pair_t;
  40:usb/usb.h     **** 
  41:usb/usb.h     **** extern uint8_t ep0_buf_in[USB_EP0SIZE];
  42:usb/usb.h     **** extern uint8_t ep0_buf_out[USB_EP0SIZE];
  43:usb/usb.h     **** extern USB_EP_pair_t endpoints[USB_MAXEP+1];
  44:usb/usb.h     **** 
  45:usb/usb.h     **** /** String descriptor index for the device's unique serial number string descriptor within the devi
  46:usb/usb.h     ****  *  This unique serial number is used by the host to associate resources to the device (such as dri
  47:usb/usb.h     ****  *  number allocations) to a device regardless of the port it is plugged in to on the host. Some mi
  48:usb/usb.h     ****  *  a unique serial number internally, and setting the device descriptors serial number string inde
  49:usb/usb.h     ****  *  will cause it to use the internal serial number.
  50:usb/usb.h     ****  *
  51:usb/usb.h     ****  *  On unsupported devices, this will evaluate to \ref NO_DESCRIPTOR and so will force the host to 
  52:usb/usb.h     ****  *  number for the device.
  53:usb/usb.h     ****  */
  54:usb/usb.h     **** #define USE_INTERNAL_SERIAL            0xDC
  55:usb/usb.h     **** 
  56:usb/usb.h     **** /** Length of the device's unique internal serial number, in bits, if present on the selected micro
  57:usb/usb.h     ****  *  model.
  58:usb/usb.h     ****  */
  59:usb/usb.h     **** #define INTERNAL_SERIAL_LENGTH_BITS    (8 * (1 + (offsetof(NVM_PROD_SIGNATURES_t, COORDY1) - offset
  60:usb/usb.h     **** 
  61:usb/usb.h     **** /** Start address of the internal serial number, in the appropriate address space, if present on th
  62:usb/usb.h     ****  *  model.
  63:usb/usb.h     ****  */
  64:usb/usb.h     **** #define INTERNAL_SERIAL_START_ADDRESS  offsetof(NVM_PROD_SIGNATURES_t, LOTNUM0)
  65:usb/usb.h     **** 
  66:usb/usb.h     **** /* Enums: */
  67:usb/usb.h     **** 	/** Enum for the various states of the USB Device state machine. Only some states are
  68:usb/usb.h     **** 	 *  implemented in the LUFA library - other states are left to the user to implement.
  69:usb/usb.h     **** 	 *
  70:usb/usb.h     **** 	 *  For information on each possible USB device state, refer to the USB 2.0 specification.
  71:usb/usb.h     **** 	 *
  72:usb/usb.h     **** 	 *  \see \ref USB_DeviceState, which stores the current device state machine state.
  73:usb/usb.h     **** 	 */
  74:usb/usb.h     **** 	enum USB_Device_States_t
  75:usb/usb.h     **** 	{
  76:usb/usb.h     **** 		DEVICE_STATE_Unattached                   = 0, /**< Internally implemented by the library. This s
  77:usb/usb.h     **** 		                                                *   that the device is not currently connected to
  78:usb/usb.h     **** 		                                                */
  79:usb/usb.h     **** 		DEVICE_STATE_Powered                      = 1, /**< Internally implemented by the library. This s
  80:usb/usb.h     **** 		                                                *   that the device is connected to a host, but e
  81:usb/usb.h     **** 		                                                *   yet begun.
  82:usb/usb.h     **** 		                                                */
  83:usb/usb.h     **** 		DEVICE_STATE_Default                      = 2, /**< Internally implemented by the library. This s
  84:usb/usb.h     **** 		                                                *   that the device's USB bus has been reset by t
  85:usb/usb.h     **** 		                                                *   now waiting for the host to begin the enumera
  86:usb/usb.h     **** 		                                                */
  87:usb/usb.h     **** 		DEVICE_STATE_Addressed                    = 3, /**< Internally implemented by the library. This s
  88:usb/usb.h     **** 		                                                *   that the device has been addressed by the USB
  89:usb/usb.h     **** 		                                                *   yet configured.
  90:usb/usb.h     **** 		                                                */
  91:usb/usb.h     **** 		DEVICE_STATE_Configured                   = 4, /**< May be implemented by the user project. This 
  92:usb/usb.h     **** 		                                                *   that the device has been enumerated by the ho
  93:usb/usb.h     **** 		                                                *   for USB communications to begin.
  94:usb/usb.h     **** 		                                                */
  95:usb/usb.h     **** 		DEVICE_STATE_Suspended                    = 5, /**< May be implemented by the user project. This 
  96:usb/usb.h     **** 		                                                *   that the USB bus has been suspended by the ho
  97:usb/usb.h     **** 		                                                *   should power down to a minimal power level un
  98:usb/usb.h     **** 		                                                *   resumed.
  99:usb/usb.h     **** 		                                                */
 100:usb/usb.h     **** 	};
 101:usb/usb.h     **** 
 102:usb/usb.h     **** #define USB_EP_size_to_gc(x)  ((x <= 8   )?USB_EP_BUFSIZE_8_gc:\
 103:usb/usb.h     ****                                (x <= 16  )?USB_EP_BUFSIZE_16_gc:\
 104:usb/usb.h     ****                                (x <= 32  )?USB_EP_BUFSIZE_32_gc:\
 105:usb/usb.h     ****                                (x <= 64  )?USB_EP_BUFSIZE_64_gc:\
 106:usb/usb.h     ****                                (x <= 128 )?USB_EP_BUFSIZE_128_gc:\
 107:usb/usb.h     ****                                (x <= 256 )?USB_EP_BUFSIZE_256_gc:\
 108:usb/usb.h     ****                                (x <= 512 )?USB_EP_BUFSIZE_512_gc:\
 109:usb/usb.h     ****                                            USB_EP_BUFSIZE_1023_gc)
 110:usb/usb.h     **** 
 111:usb/usb.h     **** #define USB_EP_IN 0x80
 112:usb/usb.h     **** 
 113:usb/usb.h     **** // Flag in the endpoint address to indicate that the endpoint should use
 114:usb/usb.h     **** // PingPong (double buffer) mode. This is not actually part of the endpoint
 115:usb/usb.h     **** // address as seen by the host. If PP is enabled, this flag needs to be part
 116:usb/usb.h     **** // of the address passed to all USB_EP_* functions.
 117:usb/usb.h     **** #define USB_EP_PP 0x40
 118:usb/usb.h     **** 	
 119:usb/usb.h     **** extern volatile uint8_t USB_DeviceState;
 120:usb/usb.h     **** extern volatile uint8_t USB_Device_ConfigurationNumber;
 121:usb/usb.h     **** 
 122:usb/usb.h     **** /** Configure the XMEGA's clock for use with USB.  */
 123:usb/usb.h     **** void USB_ConfigureClock(void);
 124:usb/usb.h     **** 
 125:usb/usb.h     **** /** Initialize USB functionality */
 126:usb/usb.h     **** void USB_Init(void);
 127:usb/usb.h     **** void USB_ResetInterface(void);
 128:usb/usb.h     **** 
 129:usb/usb.h     **** #define _USB_EP(epaddr) \
 130:usb/usb.h     **** 	USB_EP_pair_t* pair = &endpoints[(epaddr & 0x3F)]; \
 131:usb/usb.h     **** 	USB_EP_t* e __attribute__ ((unused)) = &pair->ep[!!(epaddr&0x80)]; \
 132:usb/usb.h     **** 	
 133:usb/usb.h     **** #define _USB_EP_OTHER(epaddr) \
 134:usb/usb.h     **** 	USB_EP_t* other = &pair->ep[!(epaddr&0x80)]
 135:usb/usb.h     **** 	
 136:usb/usb.h     **** #define _USB_EP_BANK(epaddr, bank) \
 137:usb/usb.h     **** 	USB_EP_t* b = &pair->ep[!!(epaddr&0x80) != bank]
 138:usb/usb.h     **** 
 139:usb/usb.h     **** inline void USB_ep_init(uint8_t ep, uint8_t type, uint16_t bufsize) ATTR_ALWAYS_INLINE;
 140:usb/usb.h     **** inline void USB_ep_init(uint8_t ep, uint8_t type, uint16_t bufsize){
 141:usb/usb.h     **** 	_USB_EP(ep);
 142:usb/usb.h     **** 	if (ep & USB_EP_PP){
 143:usb/usb.h     **** 		_USB_EP_OTHER(ep);
 144:usb/usb.h     **** 		e->STATUS = USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm;
  63               		.loc 5 144 0
  64 001c 80E0      		ldi r24,lo8(endpoints+24)
  65 001e 90E0      		ldi r25,hi8(endpoints+24)
  66 0020 36E0      		ldi r19,lo8(6)
  67 0022 3093 0000 		sts endpoints+24,r19
 145:usb/usb.h     **** 		e->CTRL = type | USB_EP_size_to_gc(bufsize) | USB_EP_PINGPONG_bm;
  68               		.loc 5 145 0
  69 0026 33E9      		ldi r19,lo8(-109)
  70 0028 3093 0000 		sts endpoints+25,r19
 146:usb/usb.h     **** 		other->CTRL = 0;
  71               		.loc 5 146 0
  72 002c FC01      		movw r30,r24
  73 002e 3797      		sbiw r30,7
  74 0030 1082      		st Z,__zero_reg__
 147:usb/usb.h     **** 		other->STATUS = USB_EP_BUSNACK0_bm;
  75               		.loc 5 147 0
  76 0032 0897      		sbiw r24,8
  77 0034 32E0      		ldi r19,lo8(2)
  78 0036 FC01      		movw r30,r24
  79 0038 3083      		st Z,r19
  80               	.LBE401:
  81               	.LBE400:
  82               	.LBE399:
  45:usb/usb_pipe.h **** 		pipe_reset(p->pipe);
  46:usb/usb_pipe.h **** 		USB_ep_init(p->ep, p->type, p->pipe->size);
  47:usb/usb_pipe.h **** 		p->data->bank = 0;
  83               		.loc 2 47 0
  84 003a 1092 0000 		sts ep_in_data,__zero_reg__
  48:usb/usb_pipe.h **** 		p->data->flush = 0;
  85               		.loc 2 48 0
  86 003e 1092 0000 		sts ep_in_data+1,__zero_reg__
  49:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
  87               		.loc 2 49 0
  88 0042 1092 0000 		sts ep_in_data+2,__zero_reg__
  89 0046 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  90               	.LVL5:
  91               	.LBB402:
  92               	.LBB403:
  51:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     return 1;
  52:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  53:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  54:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ void __iSeiParam(const uint8_t *__s)
  55:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  56:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     sei();
  57:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     __asm__ volatile ("" ::: "memory");
  58:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     (void)__s;
  59:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  60:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  61:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ void __iCliParam(const uint8_t *__s)
  62:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  63:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
  64:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     __asm__ volatile ("" ::: "memory");
  65:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     (void)__s;
  66:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** }
  67:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** 
  68:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** static __inline__ void __iRestore(const  uint8_t *__s)
  69:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h **** {
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
  93               		.loc 3 70 0
  94 004a 2FBF      		out __SREG__,r18
  71:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     __asm__ volatile ("" ::: "memory");
  95               		.loc 3 71 0
  96               	/* epilogue start */
  97               	.LBE403:
  98               	.LBE402:
  99               	.LBE394:
 100               	.LBE393:
  37:Framework.h   **** 	usb_pipe_init(&ep_in);
  38:Framework.h   **** }
 101               		.loc 1 38 0
 102 004c 0895      		ret
 103               		.cfi_endproc
 104               	.LFE57:
 106               	.global	__vector_125
 108               	__vector_125:
 109               	.LFB58:
  39:Framework.h   **** 
  40:Framework.h   **** ISR(USB_BUSEVENT_vect){
 110               		.loc 1 40 0
 111               		.cfi_startproc
 112 004e 1F92      		push r1
 113               	.LCFI0:
 114               		.cfi_def_cfa_offset 3
 115               		.cfi_offset 1, -2
 116 0050 0F92      		push r0
 117               	.LCFI1:
 118               		.cfi_def_cfa_offset 4
 119               		.cfi_offset 0, -3
 120 0052 0FB6      		in r0,__SREG__
 121 0054 0F92      		push r0
 122 0056 1124      		clr __zero_reg__
 123 0058 2F93      		push r18
 124               	.LCFI2:
 125               		.cfi_def_cfa_offset 5
 126               		.cfi_offset 18, -4
 127 005a 3F93      		push r19
 128               	.LCFI3:
 129               		.cfi_def_cfa_offset 6
 130               		.cfi_offset 19, -5
 131 005c 4F93      		push r20
 132               	.LCFI4:
 133               		.cfi_def_cfa_offset 7
 134               		.cfi_offset 20, -6
 135 005e 5F93      		push r21
 136               	.LCFI5:
 137               		.cfi_def_cfa_offset 8
 138               		.cfi_offset 21, -7
 139 0060 6F93      		push r22
 140               	.LCFI6:
 141               		.cfi_def_cfa_offset 9
 142               		.cfi_offset 22, -8
 143 0062 7F93      		push r23
 144               	.LCFI7:
 145               		.cfi_def_cfa_offset 10
 146               		.cfi_offset 23, -9
 147 0064 8F93      		push r24
 148               	.LCFI8:
 149               		.cfi_def_cfa_offset 11
 150               		.cfi_offset 24, -10
 151 0066 9F93      		push r25
 152               	.LCFI9:
 153               		.cfi_def_cfa_offset 12
 154               		.cfi_offset 25, -11
 155 0068 AF93      		push r26
 156               	.LCFI10:
 157               		.cfi_def_cfa_offset 13
 158               		.cfi_offset 26, -12
 159 006a BF93      		push r27
 160               	.LCFI11:
 161               		.cfi_def_cfa_offset 14
 162               		.cfi_offset 27, -13
 163 006c EF93      		push r30
 164               	.LCFI12:
 165               		.cfi_def_cfa_offset 15
 166               		.cfi_offset 30, -14
 167 006e FF93      		push r31
 168               	.LCFI13:
 169               		.cfi_def_cfa_offset 16
 170               		.cfi_offset 31, -15
 171               	/* prologue: Signal */
 172               	/* frame size = 0 */
 173               	/* stack size = 15 */
 174               	.L__stack_usage = 15
  41:Framework.h   **** 	if (USB.INTFLAGSACLR & USB_SOFIF_bm){
 175               		.loc 1 41 0
 176 0070 E0EC      		ldi r30,lo8(1216)
 177 0072 F4E0      		ldi r31,hi8(1216)
 178 0074 8091 CA04 		lds r24,1226
 179 0078 87FD      		sbrc r24,7
 180 007a 00C0      		rjmp .L8
  42:Framework.h   **** 		USB.INTFLAGSACLR = USB_SOFIF_bm;
  43:Framework.h   **** 	}else if (USB.INTFLAGSACLR & (USB_CRCIF_bm | USB_UNFIF_bm | USB_OVFIF_bm)){
 181               		.loc 1 43 0
 182 007c 8091 CA04 		lds r24,1226
 183 0080 8E70      		andi r24,lo8(14)
 184 0082 01F4      		brne .L9
  44:Framework.h   **** 		USB.INTFLAGSACLR = (USB_CRCIF_bm | USB_UNFIF_bm | USB_OVFIF_bm);
  45:Framework.h   **** 	}else if (USB.INTFLAGSACLR & USB_STALLIF_bm){
 185               		.loc 1 45 0
 186 0084 8091 CA04 		lds r24,1226
 187 0088 80FD      		sbrc r24,0
 188 008a 00C0      		rjmp .L10
  46:Framework.h   **** 		USB.INTFLAGSACLR = USB_STALLIF_bm;
  47:Framework.h   **** 	}else{
  48:Framework.h   **** 		USB.INTFLAGSACLR = USB_SUSPENDIF_bm | USB_RESUMEIF_bm | USB_RSTIF_bm;
 189               		.loc 1 48 0
 190 008c 80E7      		ldi r24,lo8(112)
 191 008e 8287      		std Z+10,r24
 192               	.LBB404:
 193               	.LBB405:
 148:usb/usb.h     **** 	}else{
 149:usb/usb.h     **** 		e->STATUS = USB_EP_BUSNACK0_bm;
 150:usb/usb.h     **** 		e->CTRL = type | USB_EP_size_to_gc(bufsize);
 151:usb/usb.h     **** 	}
 152:usb/usb.h     **** }
 153:usb/usb.h     **** 
 154:usb/usb.h     **** inline void USB_ep_cancel(uint8_t ep) ATTR_ALWAYS_INLINE;
 155:usb/usb.h     **** inline void USB_ep_cancel(uint8_t ep){
 156:usb/usb.h     **** 	_USB_EP(ep);
 157:usb/usb.h     **** 	if (ep & USB_EP_PP){
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 160:usb/usb.h     **** 	}else{
 161:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm);
 162:usb/usb.h     **** 	}
 163:usb/usb.h     **** }
 164:usb/usb.h     **** 
 165:usb/usb.h     **** inline void USB_ep_start_bank(uint8_t ep, uint8_t bank, uint8_t* addr, uint16_t size){
 166:usb/usb.h     **** 	_USB_EP(ep);
 167:usb/usb.h     **** 	_USB_EP_BANK(ep, bank);
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 170:usb/usb.h     **** 	
 171:usb/usb.h     **** 	//TODO: the OVF, STALL, and TRNCOMPL flags are in b->STATUS. Clear them if anyone cares.
 172:usb/usb.h     **** 
 173:usb/usb.h     **** 	if (bank==0){
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 175:usb/usb.h     **** 	}else{
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 177:usb/usb.h     **** 	}
 178:usb/usb.h     **** }
 179:usb/usb.h     **** 
 180:usb/usb.h     **** inline void USB_ep_out_start(uint8_t ep, uint8_t* addr) ATTR_ALWAYS_INLINE;
 181:usb/usb.h     **** inline void USB_ep_out_start(uint8_t ep, uint8_t* addr){
 182:usb/usb.h     **** 	USB_ep_start_bank(ep, 0, addr, 0);
 183:usb/usb.h     **** }
 184:usb/usb.h     **** 
 185:usb/usb.h     **** inline void USB_ep_in_start(uint8_t ep, uint8_t* addr, uint16_t size) ATTR_ALWAYS_INLINE;
 186:usb/usb.h     **** inline void USB_ep_in_start(uint8_t ep, uint8_t* addr, uint16_t size){
 187:usb/usb.h     **** 	USB_ep_start_bank(ep, 0, addr, size);
 188:usb/usb.h     **** }
 189:usb/usb.h     **** 
 190:usb/usb.h     **** inline bool USB_ep_done_bank(uint8_t ep, uint8_t bank){
 191:usb/usb.h     **** 	_USB_EP(ep);
 192:usb/usb.h     **** 	return e->STATUS & (bank?USB_EP_TRNCOMPL1_bm:USB_EP_TRNCOMPL0_bm);
 193:usb/usb.h     **** }
 194:usb/usb.h     **** 
 195:usb/usb.h     **** inline bool USB_ep_done(uint8_t ep) ATTR_ALWAYS_INLINE;
 196:usb/usb.h     **** inline bool USB_ep_done(uint8_t ep){
 197:usb/usb.h     **** 	_USB_EP(ep);
 198:usb/usb.h     **** 	if (ep & USB_EP_PP){
 199:usb/usb.h     **** 		return e->STATUS & (USB_EP_TRNCOMPL0_bm|USB_EP_TRNCOMPL1_bm);
 200:usb/usb.h     **** 	}else{
 201:usb/usb.h     **** 		// Because for ep0, TRNCOMPL1 is SETUP
 202:usb/usb.h     **** 		return e->STATUS & USB_EP_TRNCOMPL0_bm;
 203:usb/usb.h     **** 	}
 204:usb/usb.h     **** }
 205:usb/usb.h     **** 
 206:usb/usb.h     **** inline void USB_ep_clear_done(uint8_t ep) ATTR_ALWAYS_INLINE;
 207:usb/usb.h     **** inline void USB_ep_clear_done(uint8_t ep){
 208:usb/usb.h     **** 	_USB_EP(ep);
 209:usb/usb.h     **** 	if (ep & USB_EP_PP){
 210:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_TRNCOMPL0_bm|USB_EP_TRNCOMPL1_bm);
 211:usb/usb.h     **** 	}else{
 212:usb/usb.h     **** 		// Because for ep0, TRNCOMPL1 is SETUP
 213:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_TRNCOMPL0_bm);
 214:usb/usb.h     **** 	}
 215:usb/usb.h     **** }
 216:usb/usb.h     **** 
 217:usb/usb.h     **** inline bool USB_ep_ready(uint8_t ep) ATTR_ALWAYS_INLINE;
 218:usb/usb.h     **** inline bool USB_ep_ready(uint8_t ep){
 219:usb/usb.h     **** 	_USB_EP(ep);
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 221:usb/usb.h     **** }
 222:usb/usb.h     **** 
 223:usb/usb.h     **** inline bool USB_ep_empty(uint8_t ep) ATTR_ALWAYS_INLINE;
 224:usb/usb.h     **** inline bool USB_ep_empty(uint8_t ep){
 225:usb/usb.h     **** 	_USB_EP(ep);
 226:usb/usb.h     **** 	if (ep & USB_EP_PP){
 227:usb/usb.h     **** 		const uint8_t mask = (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 229:usb/usb.h     **** 	}else{
 230:usb/usb.h     **** 		return e->STATUS & USB_EP_BUSNACK0_bm;
 231:usb/usb.h     **** 	}
 232:usb/usb.h     **** }
 233:usb/usb.h     **** 
 234:usb/usb.h     **** inline uint16_t USB_ep_count_bank(uint8_t ep, uint8_t bank) ATTR_ALWAYS_INLINE;
 235:usb/usb.h     **** inline uint16_t USB_ep_count_bank(uint8_t ep, uint8_t bank){
 236:usb/usb.h     **** 	_USB_EP(ep);
 237:usb/usb.h     **** 	_USB_EP_BANK(ep, bank);
 238:usb/usb.h     **** 	return b->CNT;
 239:usb/usb.h     **** }
 240:usb/usb.h     **** 
 241:usb/usb.h     **** inline uint16_t USB_ep_count(uint8_t ep) ATTR_ALWAYS_INLINE;
 242:usb/usb.h     **** inline uint16_t USB_ep_count(uint8_t ep){
 243:usb/usb.h     **** 	return USB_ep_count_bank(ep, 0);
 244:usb/usb.h     **** }
 245:usb/usb.h     **** 
 246:usb/usb.h     **** inline void USB_ep0_send(uint8_t size){
 247:usb/usb.h     **** 	USB_ep_in_start(0x80, ep0_buf_in, size);
 248:usb/usb.h     **** }
 249:usb/usb.h     **** void USB_ep0_send_progmem(const uint8_t* addr, uint16_t size);
 250:usb/usb.h     **** 
 251:usb/usb.h     **** inline void USB_ep_wait(uint8_t ep) ATTR_ALWAYS_INLINE;
 252:usb/usb.h     **** inline void USB_ep_wait(uint8_t ep){
 253:usb/usb.h     **** 	while (!USB_ep_done(ep)){};
 254:usb/usb.h     **** }
 255:usb/usb.h     **** 
 256:usb/usb.h     **** /// Select a certain bank of an endpoint for the next transfer
 257:usb/usb.h     **** inline void USB_ep_set_bank(uint8_t ep, uint8_t bank) ATTR_ALWAYS_INLINE;
 258:usb/usb.h     **** inline void USB_ep_set_bank(uint8_t ep, uint8_t bank){
 259:usb/usb.h     **** 	_USB_EP(ep);
 260:usb/usb.h     **** 	if (bank){
 261:usb/usb.h     **** 		LASR16(&(e->STATUS), USB_EP_BANK_bm);
 262:usb/usb.h     **** 	}else{
 263:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BANK_bm);
 264:usb/usb.h     **** 	}
 265:usb/usb.h     **** }
 266:usb/usb.h     **** 
 267:usb/usb.h     **** /// Get the bank 0/1 which will handle the next request on this endpoint
 268:usb/usb.h     **** inline uint8_t USB_ep_get_bank(uint8_t ep) ATTR_ALWAYS_INLINE;
 269:usb/usb.h     **** inline uint8_t USB_ep_get_bank(uint8_t ep){
 270:usb/usb.h     **** 	_USB_EP(ep);
 271:usb/usb.h     **** 	return !!(e->STATUS & USB_EP_BANK_bm);
 272:usb/usb.h     **** }
 273:usb/usb.h     **** 
 274:usb/usb.h     **** 
 275:usb/usb.h     **** // Enable the OUT stage on the default control pipe. This happens automatically
 276:usb/usb.h     **** // upon the return of HandleSetup, but use this function if it needs to happen
 277:usb/usb.h     **** // before returning (e.g. with USB_ep_wait()).
 278:usb/usb.h     **** inline void USB_ep0_enableOut(void) ATTR_ALWAYS_INLINE;
 279:usb/usb.h     **** inline void USB_ep0_enableOut(void){
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 281:usb/usb.h     **** }
 282:usb/usb.h     **** 
 283:usb/usb.h     **** bool USB_HandleSetup(void);
 284:usb/usb.h     **** 
 285:usb/usb.h     **** uint16_t CALLBACK_USB_GetDescriptor(const uint16_t wValue,
 286:usb/usb.h     ****                                     const uint8_t wIndex,
 287:usb/usb.h     ****                                     const void** const DescriptorAddress);
 288:usb/usb.h     **** 
 289:usb/usb.h     **** /** Detaches the device from the USB bus. This has the effect of removing the device from any
 290:usb/usb.h     ****  *  attached host, ceasing USB communications. If no host is present, this prevents any host from
 291:usb/usb.h     ****  *  enumerating the device once attached until \ref USB_Attach() is called.
 292:usb/usb.h     ****  */
 293:usb/usb.h     **** static inline void USB_Detach(void) ATTR_ALWAYS_INLINE;
 294:usb/usb.h     **** static inline void USB_Detach(void)
 295:usb/usb.h     **** {
 296:usb/usb.h     **** 	USB.CTRLB &= ~USB_ATTACH_bm;
 297:usb/usb.h     **** }
 298:usb/usb.h     **** 
 299:usb/usb.h     **** /** Attaches the device to the USB bus. This announces the device's presence to any attached
 300:usb/usb.h     ****  *  USB host, starting the enumeration process. If no host is present, attaching the device
 301:usb/usb.h     ****  *  will allow for enumeration once a host is connected to the device.
 302:usb/usb.h     ****  */
 303:usb/usb.h     **** static inline void USB_Attach(void) ATTR_ALWAYS_INLINE;
 304:usb/usb.h     **** static inline void USB_Attach(void)
 305:usb/usb.h     **** {
 306:usb/usb.h     **** 	USB.CTRLB |= USB_ATTACH_bm;
 307:usb/usb.h     **** }
 308:usb/usb.h     **** 
 309:usb/usb.h     **** inline void USB_Evt_Task(void) ATTR_ALWAYS_INLINE;
 310:usb/usb.h     **** inline void USB_Evt_Task(void){
 311:usb/usb.h     **** 	if (USB.STATUS & USB_BUSRST_bm){
 194               		.loc 5 311 0
 195 0090 8091 C204 		lds r24,1218
 196 0094 80FF      		sbrs r24,0
 197 0096 00C0      		rjmp .L2
 312:usb/usb.h     **** 		USB.STATUS &= ~USB_BUSRST_bm;
 198               		.loc 5 312 0
 199 0098 8091 C204 		lds r24,1218
 200 009c 8E7F      		andi r24,lo8(-2)
 201 009e 8283      		std Z+2,r24
 313:usb/usb.h     **** 		USB_Init();
 202               		.loc 5 313 0
 203 00a0 0E94 0000 		call USB_Init
 204 00a4 00C0      		rjmp .L2
 205               	.L9:
 206               	.LBE405:
 207               	.LBE404:
  44:Framework.h   **** 		USB.INTFLAGSACLR = (USB_CRCIF_bm | USB_UNFIF_bm | USB_OVFIF_bm);
 208               		.loc 1 44 0
 209 00a6 8EE0      		ldi r24,lo8(14)
 210 00a8 8287      		std Z+10,r24
 211               	.L2:
 212               	/* epilogue start */
  49:Framework.h   **** 		USB_Evt_Task();
  50:Framework.h   **** 	}
  51:Framework.h   **** }
 213               		.loc 1 51 0
 214 00aa FF91      		pop r31
 215 00ac EF91      		pop r30
 216 00ae BF91      		pop r27
 217 00b0 AF91      		pop r26
 218 00b2 9F91      		pop r25
 219 00b4 8F91      		pop r24
 220 00b6 7F91      		pop r23
 221 00b8 6F91      		pop r22
 222 00ba 5F91      		pop r21
 223 00bc 4F91      		pop r20
 224 00be 3F91      		pop r19
 225 00c0 2F91      		pop r18
 226 00c2 0F90      		pop r0
 227 00c4 0FBE      		out __SREG__,r0
 228 00c6 0F90      		pop r0
 229 00c8 1F90      		pop r1
 230 00ca 1895      		reti
 231               	.L10:
  46:Framework.h   **** 		USB.INTFLAGSACLR = USB_STALLIF_bm;
 232               		.loc 1 46 0
 233 00cc 81E0      		ldi r24,lo8(1)
 234 00ce 8287      		std Z+10,r24
 235 00d0 00C0      		rjmp .L2
 236               	.L8:
  42:Framework.h   **** 		USB.INTFLAGSACLR = USB_SOFIF_bm;
 237               		.loc 1 42 0
 238 00d2 80E8      		ldi r24,lo8(-128)
 239 00d4 8287      		std Z+10,r24
 240 00d6 00C0      		rjmp .L2
 241               		.cfi_endproc
 242               	.LFE58:
 244               	.global	__vector_126
 246               	__vector_126:
 247               	.LFB59:
  52:Framework.h   **** 
  53:Framework.h   **** ISR(USB_TRNCOMPL_vect){
 248               		.loc 1 53 0
 249               		.cfi_startproc
 250 00d8 1F92      		push r1
 251               	.LCFI14:
 252               		.cfi_def_cfa_offset 3
 253               		.cfi_offset 1, -2
 254 00da 0F92      		push r0
 255               	.LCFI15:
 256               		.cfi_def_cfa_offset 4
 257               		.cfi_offset 0, -3
 258 00dc 0FB6      		in r0,__SREG__
 259 00de 0F92      		push r0
 260 00e0 1124      		clr __zero_reg__
 261 00e2 0F93      		push r16
 262               	.LCFI16:
 263               		.cfi_def_cfa_offset 5
 264               		.cfi_offset 16, -4
 265 00e4 2F93      		push r18
 266               	.LCFI17:
 267               		.cfi_def_cfa_offset 6
 268               		.cfi_offset 18, -5
 269 00e6 3F93      		push r19
 270               	.LCFI18:
 271               		.cfi_def_cfa_offset 7
 272               		.cfi_offset 19, -6
 273 00e8 4F93      		push r20
 274               	.LCFI19:
 275               		.cfi_def_cfa_offset 8
 276               		.cfi_offset 20, -7
 277 00ea 5F93      		push r21
 278               	.LCFI20:
 279               		.cfi_def_cfa_offset 9
 280               		.cfi_offset 21, -8
 281 00ec 6F93      		push r22
 282               	.LCFI21:
 283               		.cfi_def_cfa_offset 10
 284               		.cfi_offset 22, -9
 285 00ee 7F93      		push r23
 286               	.LCFI22:
 287               		.cfi_def_cfa_offset 11
 288               		.cfi_offset 23, -10
 289 00f0 8F93      		push r24
 290               	.LCFI23:
 291               		.cfi_def_cfa_offset 12
 292               		.cfi_offset 24, -11
 293 00f2 9F93      		push r25
 294               	.LCFI24:
 295               		.cfi_def_cfa_offset 13
 296               		.cfi_offset 25, -12
 297 00f4 AF93      		push r26
 298               	.LCFI25:
 299               		.cfi_def_cfa_offset 14
 300               		.cfi_offset 26, -13
 301 00f6 BF93      		push r27
 302               	.LCFI26:
 303               		.cfi_def_cfa_offset 15
 304               		.cfi_offset 27, -14
 305 00f8 EF93      		push r30
 306               	.LCFI27:
 307               		.cfi_def_cfa_offset 16
 308               		.cfi_offset 30, -15
 309 00fa FF93      		push r31
 310               	.LCFI28:
 311               		.cfi_def_cfa_offset 17
 312               		.cfi_offset 31, -16
 313               	/* prologue: Signal */
 314               	/* frame size = 0 */
 315               	/* stack size = 16 */
 316               	.L__stack_usage = 16
  54:Framework.h   **** 	USB.FIFOWP = 0;
 317               		.loc 1 54 0
 318 00fc E0EC      		ldi r30,lo8(1216)
 319 00fe F4E0      		ldi r31,hi8(1216)
 320 0100 1482      		std Z+4,__zero_reg__
  55:Framework.h   **** 	USB.INTFLAGSBCLR = USB_SETUPIF_bm | USB_TRNIF_bm;
 321               		.loc 1 55 0
 322 0102 83E0      		ldi r24,lo8(3)
 323 0104 8487      		std Z+12,r24
 324               	.LVL6:
 325               	.LBB462:
 326               	.LBB463:
 327               	.LBB464:
  50:usb/usb_pipe.h **** 	}
  51:usb/usb_pipe.h **** }
  52:usb/usb_pipe.h **** 
  53:usb/usb_pipe.h **** static inline void usb_pipe_reset(const USB_Pipe* p){
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
  55:usb/usb_pipe.h **** 		pipe_reset(p->pipe);
  56:usb/usb_pipe.h **** 		USB_ep_cancel(p->ep);
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
  60:usb/usb_pipe.h **** 	}
  61:usb/usb_pipe.h **** }
  62:usb/usb_pipe.h **** 
  63:usb/usb_pipe.h **** static inline void _usb_pipe_ep_start(const USB_Pipe* p, uint8_t* data, uint16_t size) ATTR_ALWAYS_
  64:usb/usb_pipe.h **** static inline void _usb_pipe_ep_start(const USB_Pipe* p, uint8_t* data, uint16_t size){
  65:usb/usb_pipe.h **** 	bool bank = 0;
  66:usb/usb_pipe.h **** 
  67:usb/usb_pipe.h **** 	if (p->ep & USB_EP_PP){
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
  70:usb/usb_pipe.h **** 	}
  71:usb/usb_pipe.h **** 
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
  73:usb/usb_pipe.h **** 		USB_ep_start_bank(p->ep, 0, data, size);
  74:usb/usb_pipe.h **** 	}else{
  75:usb/usb_pipe.h **** 		USB_ep_start_bank(p->ep, 1, data, size);
  76:usb/usb_pipe.h **** 	}
  77:usb/usb_pipe.h **** }
  78:usb/usb_pipe.h **** 
  79:usb/usb_pipe.h **** static inline void usb_pipe_handle(const USB_Pipe* p){
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 328               		.loc 2 80 0
 329 0106 2FB7      		in r18,__SREG__
 330               	.LVL7:
 331               	.LBB465:
 332               	.LBB466:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 333               		.loc 3 50 0
 334               	/* #APP */
 335               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 336 0108 F894      		cli
 337               	 ;  0 "" 2
 338               	.LVL8:
 339               	/* #NOAPP */
 340               	.LBE466:
 341               	.LBE465:
 342               	.LBB467:
 343               	.LBB468:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 344               		.loc 5 220 0
 345 010a 8091 0000 		lds r24,endpoints+24
 346 010e 8670      		andi r24,lo8(6)
 347               	.LBE468:
 348               	.LBE467:
  81:usb/usb_pipe.h **** 		if (p->ep & USB_EP_IN){
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 349               		.loc 2 82 0
 350 0110 01F4      		brne .L26
 351               	.LVL9:
 352               	.L12:
 353               	.LBB469:
 354               	.LBB470:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 355               		.loc 3 70 0
 356 0112 2FBF      		out __SREG__,r18
 357               		.loc 3 71 0
 358               	.LBE470:
 359               	.LBE469:
 360               	.LBE464:
 361               	.LBE463:
 362               	.LBE462:
 363               	.LBB508:
 364               	.LBB509:
 314:usb/usb.h     **** 	}
 315:usb/usb.h     **** }
 316:usb/usb.h     **** 
 317:usb/usb.h     **** inline void USB_Task(void) ATTR_ALWAYS_INLINE;
 318:usb/usb.h     **** inline void USB_Task(void){
 319:usb/usb.h     **** 	// Read once to prevent race condition where SETUP packet is interpreted as OUT
 320:usb/usb.h     **** 	uint8_t status = endpoints[0].out.STATUS;
 365               		.loc 5 320 0
 366 0114 8091 0000 		lds r24,endpoints
 367               	.LVL10:
 321:usb/usb.h     **** 
 322:usb/usb.h     **** 	if (status & USB_EP_SETUP_bm){
 368               		.loc 5 322 0
 369 0118 84FD      		sbrc r24,4
 370 011a 00C0      		rjmp .L27
 371               	.L21:
 323:usb/usb.h     **** 		if (!USB_HandleSetup()){
 324:usb/usb.h     **** 			endpoints[0].out.CTRL |= USB_EP_STALL_bm;
 325:usb/usb.h     **** 			endpoints[0].in.CTRL |= USB_EP_STALL_bm; 
 326:usb/usb.h     **** 		}
 327:usb/usb.h     **** 		USB_ep0_enableOut();
 328:usb/usb.h     **** 	}else if(status & USB_EP_TRNCOMPL0_bm){
 372               		.loc 5 328 0
 373 011c 85FD      		sbrc r24,5
 374 011e 00C0      		rjmp .L28
 375               	.LVL11:
 376               	.L11:
 377               	/* epilogue start */
 378               	.LBE509:
 379               	.LBE508:
  56:Framework.h   **** 	usb_pipe_handle(&ep_in);
  57:Framework.h   **** 	USB_Task();
  58:Framework.h   **** }
 380               		.loc 1 58 0
 381 0120 FF91      		pop r31
 382 0122 EF91      		pop r30
 383 0124 BF91      		pop r27
 384 0126 AF91      		pop r26
 385 0128 9F91      		pop r25
 386 012a 8F91      		pop r24
 387 012c 7F91      		pop r23
 388 012e 6F91      		pop r22
 389 0130 5F91      		pop r21
 390 0132 4F91      		pop r20
 391 0134 3F91      		pop r19
 392 0136 2F91      		pop r18
 393 0138 0F91      		pop r16
 394 013a 0F90      		pop r0
 395 013c 0FBE      		out __SREG__,r0
 396 013e 0F90      		pop r0
 397 0140 1F90      		pop r1
 398 0142 1895      		reti
 399               	.LVL12:
 400               	.L26:
 401               	.LBB518:
 402               	.LBB505:
 403               	.LBB502:
 404               	.LBB472:
 405               	.LBB473:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 406               		.loc 4 51 0
 407 0144 3091 0000 		lds r19,ep_in_pipe_data+4
 408               	.LBE473:
 409               	.LBE472:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 410               		.loc 2 83 0
 411 0148 1316      		cp __zero_reg__,r19
 412 014a 04F0      		brlt .+2
 413 014c 00C0      		rjmp .L13
 414               	.LBB474:
 415               	.LBB475:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 416               		.loc 4 62 0
 417 014e 8091 0000 		lds r24,ep_in_pipe_data
 418 0152 9091 0000 		lds r25,ep_in_pipe_data+1
 419               	.LVL13:
 420               	.LBE475:
 421               	.LBE474:
 422               	.LBB476:
 423               	.LBB477:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 424               		.loc 2 68 0
 425 0156 4091 0000 		lds r20,ep_in_data
 426               	.LVL14:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 427               		.loc 2 69 0
 428 015a 51E0      		ldi r21,lo8(1)
 429 015c 4130      		cpi r20,lo8(1)
 430 015e 01F4      		brne .+2
 431 0160 00C0      		rjmp .L29
 432 0162 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 433               		.loc 2 72 0
 434 0166 4423      		tst r20
 435 0168 01F4      		brne .+2
 436 016a 00C0      		rjmp .L30
 437               	.L15:
 438               	.LVL15:
 439               	.LBB478:
 440               	.LBB479:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 441               		.loc 5 168 0
 442 016c 8093 0000 		sts endpoints+20,r24
 443 0170 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 444               		.loc 5 169 0
 445 0174 40E4      		ldi r20,lo8(64)
 446 0176 50E0      		ldi r21,hi8(64)
 447 0178 4093 0000 		sts endpoints+18,r20
 448 017c 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 449               		.loc 5 176 0
 450 0180 E0E0      		ldi r30,lo8(endpoints+24)
 451 0182 F0E0      		ldi r31,hi8(endpoints+24)
 452               	/* #APP */
 453               	 ;  176 "usb/usb.h" 1
 454 0184 04E1      		ldi r16, 20
 455 0186 0693      		.dc.w 0x9306
 456               		
 457               	 ;  0 "" 2
 458               	.LVL16:
 459               	/* #NOAPP */
 460               	.L16:
 461               	.LBE479:
 462               	.LBE478:
 463               	.LBE477:
 464               	.LBE476:
 465               	.LBB483:
 466               	.LBB484:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 467               		.loc 4 72 0
 468 0188 3150      		subi r19,lo8(-(-1))
 469 018a 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 470               		.loc 4 73 0
 471 018e 805C      		subi r24,lo8(-(64))
 472 0190 9F4F      		sbci r25,hi8(-(64))
 473 0192 8093 0000 		sts ep_in_pipe_data,r24
 474 0196 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 475               		.loc 4 75 0
 476 019a 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 477 019c 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 478 019e 9307      		cpc r25,r19
 479 01a0 01F0      		breq .+2
 480 01a2 00C0      		rjmp .L12
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 481               		.loc 4 76 0
 482 01a4 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 483 01a6 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 484 01a8 8093 0000 		sts ep_in_pipe_data,r24
 485 01ac 9093 0000 		sts ep_in_pipe_data+1,r25
 486               	.LBE484:
 487               	.LBE483:
 488               	.LBB485:
 489               	.LBB471:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 490               		.loc 3 70 0
 491 01b0 2FBF      		out __SREG__,r18
 492               		.loc 3 71 0
 493               	.LBE471:
 494               	.LBE485:
 495               	.LBE502:
 496               	.LBE505:
 497               	.LBE518:
 498               	.LBB519:
 499               	.LBB516:
 320:usb/usb.h     **** 	uint8_t status = endpoints[0].out.STATUS;
 500               		.loc 5 320 0
 501 01b2 8091 0000 		lds r24,endpoints
 502               	.LVL17:
 322:usb/usb.h     **** 	if (status & USB_EP_SETUP_bm){
 503               		.loc 5 322 0
 504 01b6 84FF      		sbrs r24,4
 505 01b8 00C0      		rjmp .L21
 506               	.LVL18:
 507               	.L27:
 323:usb/usb.h     **** 		if (!USB_HandleSetup()){
 508               		.loc 5 323 0
 509 01ba 0E94 0000 		call USB_HandleSetup
 510               	.LVL19:
 511 01be 8823      		tst r24
 512 01c0 01F4      		brne .L24
 324:usb/usb.h     **** 			endpoints[0].out.CTRL |= USB_EP_STALL_bm;
 513               		.loc 5 324 0
 514 01c2 8091 0000 		lds r24,endpoints+1
 515 01c6 8460      		ori r24,lo8(4)
 516 01c8 8093 0000 		sts endpoints+1,r24
 325:usb/usb.h     **** 			endpoints[0].in.CTRL |= USB_EP_STALL_bm; 
 517               		.loc 5 325 0
 518 01cc 8091 0000 		lds r24,endpoints+9
 519 01d0 8460      		ori r24,lo8(4)
 520 01d2 8093 0000 		sts endpoints+9,r24
 521               	.L24:
 522               	.LBB510:
 523               	.LBB511:
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 524               		.loc 5 280 0
 525 01d6 E0E0      		ldi r30,lo8(endpoints)
 526 01d8 F0E0      		ldi r31,hi8(endpoints)
 527               	/* #APP */
 528               	 ;  280 "usb/usb.h" 1
 529 01da 02E7      		ldi r16, 114
 530 01dc 0693      		.dc.w 0x9306
 531               		
 532               	 ;  0 "" 2
 533               	/* #NOAPP */
 534 01de 00C0      		rjmp .L11
 535               	.LVL20:
 536               	.L29:
 537               	.LBE511:
 538               	.LBE510:
 539               	.LBE516:
 540               	.LBE519:
 541               	.LBB520:
 542               	.LBB506:
 543               	.LBB503:
 544               	.LBB486:
 545               	.LBB482:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 546               		.loc 2 69 0
 547 01e0 50E0      		ldi r21,lo8(0)
 548 01e2 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 549               		.loc 2 72 0
 550 01e6 4423      		tst r20
 551 01e8 01F0      		breq .+2
 552 01ea 00C0      		rjmp .L15
 553               	.L30:
 554               	.LVL21:
 555               	.LBB480:
 556               	.LBB481:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 557               		.loc 5 168 0
 558 01ec 8093 0000 		sts endpoints+28,r24
 559 01f0 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 560               		.loc 5 169 0
 561 01f4 40E4      		ldi r20,lo8(64)
 562 01f6 50E0      		ldi r21,hi8(64)
 563               	.LVL22:
 564 01f8 4093 0000 		sts endpoints+26,r20
 565 01fc 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 566               		.loc 5 174 0
 567 0200 E0E0      		ldi r30,lo8(endpoints+24)
 568 0202 F0E0      		ldi r31,hi8(endpoints+24)
 569               	.LVL23:
 570               	/* #APP */
 571               	 ;  174 "usb/usb.h" 1
 572 0204 02E2      		ldi r16, 34
 573 0206 0693      		.dc.w 0x9306
 574               		
 575               	 ;  0 "" 2
 576               	/* #NOAPP */
 577 0208 00C0      		rjmp .L16
 578               	.LVL24:
 579               	.L28:
 580               	.LBE481:
 581               	.LBE480:
 582               	.LBE482:
 583               	.LBE486:
 584               	.LBE503:
 585               	.LBE506:
 586               	.LBE520:
 587               	.LBB521:
 588               	.LBB517:
 329:usb/usb.h     **** 		EVENT_USB_Device_ControlOUT((uint8_t *) ep0_buf_out, endpoints[0].out.CNT);
 589               		.loc 5 329 0
 590 020a 4091 0000 		lds r20,endpoints+2
 591 020e 5091 0000 		lds r21,endpoints+2+1
 592               	.LVL25:
 593               	.LBB513:
 594               	.LBB514:
 595               		.file 6 "main.c"
   1:main.c        **** #include "Framework.h"
   2:main.c        **** #include <avr/io.h>
   3:main.c        **** #include <inttypes.h>
   4:main.c        **** #include <stdio.h> 
   5:main.c        **** #include <stdlib.h>
   6:main.c        **** #include <util/delay.h>
   7:main.c        **** #include <string.h> 
   8:main.c        **** #include <math.h>
   9:main.c        **** #include "concat/concat.h"
  10:main.c        **** #include "nmea/nmea.h"
  11:main.c        **** #include "uart/uart.h"
  12:main.c        **** #include "gps/gps.h"
  13:main.c        **** #include "gprs/gprs.h"
  14:main.c        **** #include "sms/sms.h"
  15:main.c        **** 
  16:main.c        **** //sample nmea strings for testing parser
  17:main.c        **** char* twilio_number = "+13042493059";
  18:main.c        **** char *message;
  19:main.c        **** bool updating = false;
  20:main.c        **** int count;
  21:main.c        **** 
  22:main.c        **** int main(void){
  23:main.c        **** 
  24:main.c        ****   //usb configuration
  25:main.c        **** 	USB_ConfigureClock();
  26:main.c        **** 	USB_Init();
  27:main.c        **** 	USB.INTCTRLA = USB_BUSEVIE_bm | USB_INTLVL_MED_gc;
  28:main.c        **** 	USB.INTCTRLB = USB_TRNIE_bm | USB_SETUPIE_bm;
  29:main.c        **** 	PMIC.CTRL = PMIC_LOLVLEN_bm | PMIC_MEDLVLEN_bm;
  30:main.c        **** 	sei();
  31:main.c        **** 
  32:main.c        ****   //uart init code -- change condition to true when we're ready to communicate with the gps
  33:main.c        **** 	if (true) {
  34:main.c        **** 		//USART, PORT, POWERPIN_bm, TXPIN_bm, RESETPIN_bm
  35:main.c        **** 		gps_init(&USARTD0, &PORTD, PIN0_bm, PIN3_bm, PIN4_bm);
  36:main.c        **** 	}
  37:main.c        **** 
  38:main.c        ****   if (false) {
  39:main.c        ****   	//USART, PORT, TXPIN_bm
  40:main.c        ****     gprs_init(&USARTD0, &PORTD, PIN3_bm);
  41:main.c        ****   }
  42:main.c        **** 
  43:main.c        ****   break_and_flush();
  44:main.c        **** 
  45:main.c        ****   //call break and flush to make sure the buffer is cleared
  46:main.c        **** 	// break_and_flush();
  47:main.c        **** 
  48:main.c        ****   // parse nmea string and send result over usb
  49:main.c        ****   // char* text_message = parse_nmea();
  50:main.c        **** 
  51:main.c        ****   // char* phonenumber = "+15402095219";
  52:main.c        ****   // send_message(phonenumber, text_message, &USARTD0);
  53:main.c        ****   // send_message(twilio_number, text_message, &USARTD0);
  54:main.c        ****   // SimpleReceive(&USARTD0);
  55:main.c        **** 
  56:main.c        **** 	for (;;){
  57:main.c        ****     //heart of the firmware logic
  58:main.c        ****     gps_receive(&USARTD0);
  59:main.c        **** 	}
  60:main.c        **** }
  61:main.c        **** 
  62:main.c        **** #define stringify(s) #s
  63:main.c        **** 
  64:main.c        **** const char PROGMEM hwversion[] = stringify(HW_VERSION);
  65:main.c        **** const char PROGMEM fwversion[] = stringify(FW_VERSION);
  66:main.c        **** 
  67:main.c        **** uint8_t usb_cmd = 0;
  68:main.c        **** uint8_t cmd_data = 0;
  69:main.c        **** 
  70:main.c        **** // void send_usb_data(char *message) {
  71:main.c        **** // 	for (uint8_t = 0; i < 64; i++) ep0_buf_in[i] = 0;
  72:main.c        **** // 	int l = strlen(message);
  73:main.c        **** // 	for (int i=0; i<l; i++) {
  74:main.c        **** // 		ep0_buf_in[i] = message[i];
  75:main.c        **** // 	}
  76:main.c        **** // }
  77:main.c        **** 
  78:main.c        **** /** Event handler for the library USB Control Request reception event. */
  79:main.c        **** bool EVENT_USB_Device_ControlRequest(USB_Request_Header_t* req){
  80:main.c        **** 	// zero out ep0_buf_in
  81:main.c        **** 	for (uint8_t i = 0; i < 64; i++) ep0_buf_in[i] = 0;
  82:main.c        **** 	usb_cmd = 0;
  83:main.c        **** 	if ((req->bmRequestType & CONTROL_REQTYPE_TYPE) == REQTYPE_VENDOR){
  84:main.c        **** 		switch(req->bRequest){
  85:main.c        **** 			case 0x00: // Info
  86:main.c        **** 				if (req->wIndex == 0){
  87:main.c        **** 					USB_ep0_send_progmem((uint8_t*)hwversion, sizeof(hwversion));
  88:main.c        **** 				}else if (req->wIndex == 1){
  89:main.c        **** 					USB_ep0_send_progmem((uint8_t*)fwversion, sizeof(fwversion));
  90:main.c        **** 				}
  91:main.c        **** 				return true;
  92:main.c        **** 			case 0x02:
  93:main.c        **** 				{
  94:main.c        **** 					int l = strlen(message);
  95:main.c        **** 					for (uint8_t i=0; i<64; i++) {
  96:main.c        **** 						ep0_buf_in[i] = message[i];
  97:main.c        **** 					}
  98:main.c        **** 					USB_ep0_send(l);
  99:main.c        **** 					return true;
 100:main.c        **** 				}
 101:main.c        **** 			case 0x08:
 102:main.c        **** 				* ((uint8_t *) req->wIndex) = req->wValue;
 103:main.c        **** 				USB_ep0_send(0);
 104:main.c        **** 				return true;
 105:main.c        **** 			case 0x09:
 106:main.c        **** 				ep0_buf_in[0] = * ((uint8_t *) req->wIndex);
 107:main.c        **** 				USB_ep0_send(1);
 108:main.c        **** 				return true;
 109:main.c        **** 			case 0x16:
 110:main.c        **** 				* ((uint16_t *) req->wIndex) = req->wValue;
 111:main.c        **** 				USB_ep0_send(0);
 112:main.c        **** 				return true;
 113:main.c        **** 			case 0x17:{
 114:main.c        **** 				uint16_t *addr;
 115:main.c        **** 				addr = (uint16_t *) req->wIndex;
 116:main.c        **** 				ep0_buf_in[0] = *addr & 0xFF;
 117:main.c        **** 				ep0_buf_in[1] = *addr >> 8;
 118:main.c        **** 				USB_ep0_send(2);}
 119:main.c        **** 				return true;
 120:main.c        **** 			// read EEPROM	
 121:main.c        **** 			case 0xE0: 
 122:main.c        **** 				eeprom_read_block(ep0_buf_in, (void*)(req->wIndex*64), 64);
 123:main.c        **** 				USB_ep0_send(64);
 124:main.c        **** 				return true;
 125:main.c        **** 
 126:main.c        **** 			// write EEPROM	
 127:main.c        **** 			case 0xE1: 
 128:main.c        **** 				usb_cmd = req->bRequest;
 129:main.c        **** 				cmd_data = req->wIndex;
 130:main.c        **** 				USB_ep0_send(0);
 131:main.c        **** 				return true; // Wait for OUT data (expecting an OUT transfer)
 132:main.c        **** 
 133:main.c        **** 			// disconnect from USB, jump to bootloader	
 134:main.c        **** 			case 0xBB: 
 135:main.c        **** 				USB_enter_bootloader();
 136:main.c        **** 				return true;
 137:main.c        **** 		}
 138:main.c        **** 	}
 139:main.c        **** 	return false;
 140:main.c        **** }
 141:main.c        **** 
 142:main.c        **** void EVENT_USB_Device_ControlOUT(uint8_t* buf, uint8_t count){
 143:main.c        **** 	switch (usb_cmd){
 596               		.loc 6 143 0
 597 0212 8091 0000 		lds r24,usb_cmd
 598               	.LVL26:
 599 0216 813E      		cpi r24,lo8(-31)
 600 0218 01F4      		brne .L24
 144:main.c        **** 		case 0xE1: // Write EEPROM
 145:main.c        **** 			eeprom_update_block(buf, (void*)(cmd_data*64), count);
 601               		.loc 6 145 0
 602 021a 6091 0000 		lds r22,cmd_data
 603 021e 70E0      		ldi r23,lo8(0)
 604 0220 0024      		clr __tmp_reg__
 605 0222 7695      		lsr r23
 606 0224 6795      		ror r22
 607 0226 0794      		ror __tmp_reg__
 608 0228 7695      		lsr r23
 609 022a 6795      		ror r22
 610 022c 0794      		ror __tmp_reg__
 611 022e 762F      		mov r23,r22
 612 0230 602D      		mov r22,__tmp_reg__
 613 0232 80E0      		ldi r24,lo8(ep0_buf_out)
 614 0234 90E0      		ldi r25,hi8(ep0_buf_out)
 615 0236 50E0      		ldi r21,lo8(0)
 616 0238 0E94 0000 		call __eeupd_block_x32a4u
 617               	.LVL27:
 618               	.LBE514:
 619               	.LBE513:
 620               	.LBB515:
 621               	.LBB512:
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 622               		.loc 5 280 0
 623 023c E0E0      		ldi r30,lo8(endpoints)
 624 023e F0E0      		ldi r31,hi8(endpoints)
 625               	/* #APP */
 626               	 ;  280 "usb/usb.h" 1
 627 0240 02E7      		ldi r16, 114
 628 0242 0693      		.dc.w 0x9306
 629               		
 630               	 ;  0 "" 2
 631               	/* #NOAPP */
 632 0244 00C0      		rjmp .L11
 633               	.LVL28:
 634               	.L13:
 635               	.LBE512:
 636               	.LBE515:
 637               	.LBE517:
 638               	.LBE521:
 639               	.LBB522:
 640               	.LBB507:
 641               	.LBB504:
  84:usb/usb_pipe.h **** 					_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->pipe->size);
  85:usb/usb_pipe.h **** 					pipe_done_read(p->pipe);
  86:usb/usb_pipe.h **** 				}else if (p->features & PIPE_ENABLE_FLUSH){
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 642               		.loc 2 87 0
 643 0246 8091 0000 		lds r24,ep_in_data+1
 644 024a 8130      		cpi r24,lo8(1)
 645 024c 01F0      		breq .L31
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
  89:usb/usb_pipe.h **** 						// Send short packet
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 646               		.loc 2 91 0
 647 024e 8230      		cpi r24,lo8(2)
 648 0250 01F0      		breq .+2
 649 0252 00C0      		rjmp .L12
 650               	.LVL29:
 651               	.LBB487:
 652               	.LBB488:
 653               	.LBB489:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 654               		.loc 5 228 0
 655 0254 8091 0000 		lds r24,endpoints+24
 656 0258 8670      		andi r24,lo8(6)
 657               	.LBE489:
 658               	.LBE488:
 659               	.LBE487:
 660               		.loc 2 91 0
 661 025a 8630      		cpi r24,lo8(6)
 662 025c 01F0      		breq .+2
 663 025e 00C0      		rjmp .L12
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 664               		.loc 2 92 0
 665 0260 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 666               		.loc 2 93 0
 667 0264 1092 0000 		sts ep_in_data+2,__zero_reg__
 668 0268 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 669               	.LBB490:
 670               	.LBB491:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 671               		.loc 4 90 0
 672 026c 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 673               		.loc 4 91 0
 674 0270 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 675 0272 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 676 0274 8093 0000 		sts ep_in_pipe_data+2,r24
 677 0278 9093 0000 		sts ep_in_pipe_data+2+1,r25
 678 027c 8093 0000 		sts ep_in_pipe_data,r24
 679 0280 9093 0000 		sts ep_in_pipe_data+1,r25
 680               	.LVL30:
 681 0284 00C0      		rjmp .L12
 682               	.LVL31:
 683               	.L31:
 684               	.LBE491:
 685               	.LBE490:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 686               		.loc 2 88 0
 687 0286 82E0      		ldi r24,lo8(2)
 688 0288 8093 0000 		sts ep_in_data+1,r24
 689               	.LBB492:
 690               	.LBB493:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 691               		.loc 4 62 0
 692 028c 7091 0000 		lds r23,ep_in_pipe_data
 693 0290 6091 0000 		lds r22,ep_in_pipe_data+1
 694               	.LBE493:
 695               	.LBE492:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 696               		.loc 2 90 0
 697 0294 8091 0000 		lds r24,ep_in_data+2
 698 0298 9091 0000 		lds r25,ep_in_data+2+1
 699               	.LVL32:
 700               	.LBB494:
 701               	.LBB495:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 702               		.loc 2 68 0
 703 029c 3091 0000 		lds r19,ep_in_data
 704               	.LVL33:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 705               		.loc 2 69 0
 706 02a0 41E0      		ldi r20,lo8(1)
 707 02a2 3130      		cpi r19,lo8(1)
 708 02a4 01F0      		breq .L32
 709               	.L19:
 710 02a6 4093 0000 		sts ep_in_data,r20
 711               	.LBB496:
 712               	.LBB497:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 713               		.loc 5 168 0
 714 02aa 472F      		mov r20,r23
 715 02ac 562F      		mov r21,r22
 716               	.LBE497:
 717               	.LBE496:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 718               		.loc 2 72 0
 719 02ae 3323      		tst r19
 720 02b0 01F4      		brne .L20
 721               	.LVL34:
 722               	.LBB499:
 723               	.LBB498:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 724               		.loc 5 168 0
 725 02b2 4093 0000 		sts endpoints+28,r20
 726 02b6 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 727               		.loc 5 169 0
 728 02ba 8093 0000 		sts endpoints+26,r24
 729 02be 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 730               		.loc 5 174 0
 731 02c2 E0E0      		ldi r30,lo8(endpoints+24)
 732 02c4 F0E0      		ldi r31,hi8(endpoints+24)
 733               	.LVL35:
 734               	/* #APP */
 735               	 ;  174 "usb/usb.h" 1
 736 02c6 02E2      		ldi r16, 34
 737 02c8 0693      		.dc.w 0x9306
 738               		
 739               	 ;  0 "" 2
 740               	/* #NOAPP */
 741 02ca 00C0      		rjmp .L12
 742               	.LVL36:
 743               	.L20:
 744               	.LBE498:
 745               	.LBE499:
 746               	.LBB500:
 747               	.LBB501:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 748               		.loc 5 168 0
 749 02cc 4093 0000 		sts endpoints+20,r20
 750 02d0 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 751               		.loc 5 169 0
 752 02d4 8093 0000 		sts endpoints+18,r24
 753 02d8 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 754               		.loc 5 176 0
 755 02dc E0E0      		ldi r30,lo8(endpoints+24)
 756 02de F0E0      		ldi r31,hi8(endpoints+24)
 757               	/* #APP */
 758               	 ;  176 "usb/usb.h" 1
 759 02e0 04E1      		ldi r16, 20
 760 02e2 0693      		.dc.w 0x9306
 761               		
 762               	 ;  0 "" 2
 763               	/* #NOAPP */
 764 02e4 00C0      		rjmp .L12
 765               	.LVL37:
 766               	.L32:
 767               	.LBE501:
 768               	.LBE500:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 769               		.loc 2 69 0
 770 02e6 40E0      		ldi r20,lo8(0)
 771 02e8 00C0      		rjmp .L19
 772               	.LBE495:
 773               	.LBE494:
 774               	.LBE504:
 775               	.LBE507:
 776               	.LBE522:
 777               		.cfi_endproc
 778               	.LFE59:
 780               	.global	send_string
 782               	send_string:
 783               	.LFB61:
 784               		.file 7 "concat/concat.h"
   1:concat/concat.h **** void send_string(char* s);
   2:concat/concat.h **** char* concat(char*, char*);
   3:concat/concat.h **** 
   4:concat/concat.h **** void send_string(char* s) {
 785               		.loc 7 4 0
 786               		.cfi_startproc
 787               	.LVL38:
 788 02ea AF92      		push r10
 789               	.LCFI29:
 790               		.cfi_def_cfa_offset 3
 791               		.cfi_offset 10, -2
 792 02ec BF92      		push r11
 793               	.LCFI30:
 794               		.cfi_def_cfa_offset 4
 795               		.cfi_offset 11, -3
 796 02ee CF92      		push r12
 797               	.LCFI31:
 798               		.cfi_def_cfa_offset 5
 799               		.cfi_offset 12, -4
 800 02f0 DF92      		push r13
 801               	.LCFI32:
 802               		.cfi_def_cfa_offset 6
 803               		.cfi_offset 13, -5
 804 02f2 EF92      		push r14
 805               	.LCFI33:
 806               		.cfi_def_cfa_offset 7
 807               		.cfi_offset 14, -6
 808 02f4 FF92      		push r15
 809               	.LCFI34:
 810               		.cfi_def_cfa_offset 8
 811               		.cfi_offset 15, -7
 812 02f6 0F93      		push r16
 813               	.LCFI35:
 814               		.cfi_def_cfa_offset 9
 815               		.cfi_offset 16, -8
 816 02f8 1F93      		push r17
 817               	.LCFI36:
 818               		.cfi_def_cfa_offset 10
 819               		.cfi_offset 17, -9
 820 02fa CF93      		push r28
 821               	.LCFI37:
 822               		.cfi_def_cfa_offset 11
 823               		.cfi_offset 28, -10
 824 02fc DF93      		push r29
 825               	.LCFI38:
 826               		.cfi_def_cfa_offset 12
 827               		.cfi_offset 29, -11
 828               	/* prologue: function */
 829               	/* frame size = 0 */
 830               	/* stack size = 10 */
 831               	.L__stack_usage = 10
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 832               		.loc 7 5 0
 833 02fe FC01      		movw r30,r24
 834 0300 2081      		ld r18,Z
 835 0302 2223      		tst r18
 836 0304 01F4      		brne .+2
 837 0306 00C0      		rjmp .L34
 838 0308 0097      		sbiw r24,0
 839 030a 01F4      		brne .+2
 840 030c 00C0      		rjmp .L34
   4:concat/concat.h **** void send_string(char* s) {
 841               		.loc 7 4 0
 842 030e 6C01      		movw r12,r24
 843 0310 0894      		sec
 844 0312 C11C      		adc r12,__zero_reg__
 845 0314 D11C      		adc r13,__zero_reg__
 846               	.LBB688:
 847               	.LBB689:
 848               	.LBB690:
 849               	.LBB691:
 850               	.LBB692:
 851               	.LBB693:
 852               	.LBB694:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 853               		.loc 4 57 0
 854 0316 46E0      		ldi r20,lo8(6)
 855               	.LBE694:
 856               	.LBE693:
 857               	.LBE692:
 858               	.LBE691:
 859               	.LBE690:
 860               	.LBB707:
 861               	.LBB708:
 862               	.LBB709:
 863               	.LBB710:
 864               	.LBB711:
 865               	.LBB712:
 866               	.LBB713:
 867               	.LBB714:
 868               	.LBB715:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 869               		.loc 5 220 0
 870 0318 60E0      		ldi r22,lo8(endpoints+24)
 871 031a 70E0      		ldi r23,hi8(endpoints+24)
 872               	.LBE715:
 873               	.LBE714:
 874               	.LBB717:
 875               	.LBB718:
 876               		.loc 4 91 0
 877 031c 30E0      		ldi r19,lo8(ep_in_pipe_buffer)
 878 031e A32E      		mov r10,r19
 879 0320 30E0      		ldi r19,hi8(ep_in_pipe_buffer)
 880 0322 B32E      		mov r11,r19
 881               	.LBE718:
 882               	.LBE717:
 883               	.LBB721:
 884               	.LBB722:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 885               		.loc 2 69 0
 886 0324 C1E0      		ldi r28,lo8(1)
 887 0326 D0E0      		ldi r29,hi8(1)
 888               	.LBE722:
 889               	.LBE721:
 890               	.LBB731:
 891               	.LBB732:
 892               	.LBB733:
 893               	.LBB734:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 894               		.loc 5 169 0
 895 0328 50E4      		ldi r21,lo8(64)
 896 032a E52E      		mov r14,r21
 897 032c F12C      		mov r15,__zero_reg__
 898               	.LVL39:
 899               	.L72:
 900               	.LBE734:
 901               	.LBE733:
 902               	.LBE732:
 903               	.LBE731:
 904               	.LBE713:
 905               	.LBE712:
 906               	.LBE711:
 907               	.LBE710:
 908               	.LBE709:
 909               	.LBE708:
 910               	.LBE707:
 911               	.LBB787:
 912               	.LBB705:
 913               	.LBB703:
  94:usb/usb_pipe.h **** 						pipe_reset(p->pipe);
  95:usb/usb_pipe.h **** 					}
  96:usb/usb_pipe.h **** 				}
  97:usb/usb_pipe.h **** 			}
  98:usb/usb_pipe.h **** 		}else{
  99:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep) && pipe_can_write(p->pipe) >= 1){
 100:usb/usb_pipe.h **** 				_usb_pipe_ep_start(p, pipe_write_ptr(p->pipe), p->pipe->size);
 101:usb/usb_pipe.h **** 				pipe_done_write(p->pipe);
 102:usb/usb_pipe.h **** 			}
 103:usb/usb_pipe.h **** 		}
 104:usb/usb_pipe.h **** 	}
 105:usb/usb_pipe.h **** }
 106:usb/usb_pipe.h **** 
 107:usb/usb_pipe.h **** static inline void usb_pipe_flush(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 108:usb/usb_pipe.h **** static inline void usb_pipe_flush(const USB_Pipe* p){
 109:usb/usb_pipe.h **** 	GCC_ASSERT(p->features&PIPE_ENABLE_FLUSH && p->ep&USB_EP_IN);
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 111:usb/usb_pipe.h **** 	usb_pipe_handle(p);
 112:usb/usb_pipe.h **** }
 113:usb/usb_pipe.h **** 
 114:usb/usb_pipe.h **** static inline bool usb_pipe_flush_done(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 115:usb/usb_pipe.h **** static inline bool usb_pipe_flush_done(const USB_Pipe* p){
 116:usb/usb_pipe.h **** 	GCC_ASSERT(p->features&PIPE_ENABLE_FLUSH);
 117:usb/usb_pipe.h **** 	return p->data->flush;
 118:usb/usb_pipe.h **** }
 119:usb/usb_pipe.h **** 
 120:usb/usb_pipe.h **** static inline bool usb_pipe_can_write(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 121:usb/usb_pipe.h **** static inline bool usb_pipe_can_write(const USB_Pipe* p){
 122:usb/usb_pipe.h **** 	bool r;
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 914               		.loc 2 123 0
 915 032e 9FB7      		in r25,__SREG__
 916               	.LVL40:
 917               	.LBB696:
 918               	.LBB697:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 919               		.loc 3 50 0
 920               	/* #APP */
 921               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 922 0330 F894      		cli
 923               	 ;  0 "" 2
 924               	.LVL41:
 925               	/* #NOAPP */
 926               	.LBE697:
 927               	.LBE696:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 928               		.loc 2 124 0
 929 0332 8091 0000 		lds r24,ep_in_data+1
 930 0336 8823      		tst r24
 931 0338 01F0      		breq .L74
 932               	.L64:
 125:usb/usb_pipe.h **** 			r = false;
 933               		.loc 2 125 0
 934 033a 80E0      		ldi r24,lo8(0)
 935               	.L35:
 936               	.LBB699:
 937               	.LBB700:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 938               		.loc 3 70 0
 939 033c 9FBF      		out __SREG__,r25
 940               		.loc 3 71 0
 941               	.LBE700:
 942               	.LBE699:
 943               	.LBE703:
 944               	.LBE705:
 945               	.LBE787:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 946               		.loc 1 20 0
 947 033e 8823      		tst r24
 948 0340 01F0      		breq .L72
 949               	.LVL42:
 950               	.LBB788:
 951               	.LBB789:
 126:usb/usb_pipe.h **** 		}else{
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 128:usb/usb_pipe.h **** 		}
 129:usb/usb_pipe.h **** 	}
 130:usb/usb_pipe.h **** 	return r;
 131:usb/usb_pipe.h **** }
 132:usb/usb_pipe.h **** 
 133:usb/usb_pipe.h **** static inline uint8_t* usb_pipe_write_ptr(const USB_Pipe* p){
 134:usb/usb_pipe.h **** 	return pipe_write_ptr(p->pipe);
 135:usb/usb_pipe.h **** }
 136:usb/usb_pipe.h **** 
 137:usb/usb_pipe.h **** static inline void usb_pipe_done_write(const USB_Pipe* p){
 138:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 139:usb/usb_pipe.h **** 		pipe_done_write(p->pipe);
 140:usb/usb_pipe.h **** 	}
 141:usb/usb_pipe.h **** }
 142:usb/usb_pipe.h **** 
 143:usb/usb_pipe.h **** static inline bool usb_pipe_can_read(const USB_Pipe* p) ATTR_ALWAYS_INLINE;
 144:usb/usb_pipe.h **** static inline bool usb_pipe_can_read(const USB_Pipe* p){
 145:usb/usb_pipe.h **** 	bool r;
 146:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 147:usb/usb_pipe.h **** 		r = pipe_can_read(p->pipe) > 0;
 148:usb/usb_pipe.h **** 	}
 149:usb/usb_pipe.h **** 	return r;
 150:usb/usb_pipe.h **** }
 151:usb/usb_pipe.h **** 
 152:usb/usb_pipe.h **** static inline uint8_t* usb_pipe_read_ptr(const USB_Pipe* p){
 153:usb/usb_pipe.h **** 	return pipe_read_ptr(p->pipe);
 154:usb/usb_pipe.h **** }
 155:usb/usb_pipe.h **** 
 156:usb/usb_pipe.h **** static inline void usb_pipe_done_read(const USB_Pipe* p){
 157:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 158:usb/usb_pipe.h **** 		pipe_done_read(p->pipe);
 159:usb/usb_pipe.h **** 	}
 160:usb/usb_pipe.h **** }
 161:usb/usb_pipe.h **** 
 162:usb/usb_pipe.h **** static inline uint8_t usb_pipe_read_byte(const USB_Pipe* p){
 163:usb/usb_pipe.h **** 	uint8_t r = p->pipe->data->read_ptr[p->data->packet_offset++];
 164:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 165:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 166:usb/usb_pipe.h **** 			p->data->packet_offset = 0;
 167:usb/usb_pipe.h **** 			pipe_done_read(p->pipe);
 168:usb/usb_pipe.h **** 			usb_pipe_handle(p);
 169:usb/usb_pipe.h **** 		}
 170:usb/usb_pipe.h **** 	}
 171:usb/usb_pipe.h **** 	return r;
 172:usb/usb_pipe.h **** }
 173:usb/usb_pipe.h **** 
 174:usb/usb_pipe.h **** static inline void usb_pipe_write_byte(const USB_Pipe* p, uint8_t v){
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 952               		.loc 2 175 0
 953 0342 8091 0000 		lds r24,ep_in_data+2
 954 0346 9091 0000 		lds r25,ep_in_data+2+1
 955 034a E091 0000 		lds r30,ep_in_pipe_data+2
 956 034e F091 0000 		lds r31,ep_in_pipe_data+2+1
 957 0352 E80F      		add r30,r24
 958 0354 F91F      		adc r31,r25
 959 0356 2083      		st Z,r18
 960 0358 0196      		adiw r24,1
 961 035a 8093 0000 		sts ep_in_data+2,r24
 962 035e 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 963               		.loc 2 176 0
 964 0362 8034      		cpi r24,64
 965 0364 9105      		cpc r25,__zero_reg__
 966 0366 01F0      		breq .L75
 967               	.LBE789:
 968               	.LBE788:
 969               	.LBE689:
 970               	.LBE688:
 971               		.loc 7 5 0
 972 0368 F601      		movw r30,r12
 973 036a 2191      		ld r18,Z+
 974               	.LVL43:
 975 036c 2223      		tst r18
 976 036e 01F4      		brne .+2
 977 0370 00C0      		rjmp .L34
 978               	.LVL44:
 979               	.L77:
 980               		.loc 7 5 0 is_stmt 0 discriminator 2
 981 0372 C114      		cp r12,__zero_reg__
 982 0374 D104      		cpc r13,__zero_reg__
 983 0376 01F4      		brne .+2
 984 0378 00C0      		rjmp .L34
 985               		.loc 7 5 0
 986 037a 6F01      		movw r12,r30
 987               	.LBB797:
 988               	.LBB794:
 989               	.LBB790:
 990               	.LBB706:
 991               	.LBB704:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 992               		.loc 2 123 0 is_stmt 1
 993 037c 9FB7      		in r25,__SREG__
 994               	.LVL45:
 995               	.LBB701:
 996               	.LBB698:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 997               		.loc 3 50 0
 998               	/* #APP */
 999               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1000 037e F894      		cli
 1001               	 ;  0 "" 2
 1002               	/* #NOAPP */
 1003               	.LBE698:
 1004               	.LBE701:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 1005               		.loc 2 124 0
 1006 0380 8091 0000 		lds r24,ep_in_data+1
 1007 0384 8823      		tst r24
 1008 0386 01F4      		brne .L64
 1009               	.LVL46:
 1010               	.L74:
 1011               	.LBB702:
 1012               	.LBB695:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1013               		.loc 4 57 0
 1014 0388 8091 0000 		lds r24,ep_in_pipe_data+4
 1015 038c 342F      		mov r19,r20
 1016 038e 381B      		sub r19,r24
 1017               	.LBE695:
 1018               	.LBE702:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 1019               		.loc 2 127 0
 1020 0390 81E0      		ldi r24,lo8(1)
 1021 0392 1316      		cp __zero_reg__,r19
 1022 0394 04F0      		brlt .L35
 1023 0396 00C0      		rjmp .L64
 1024               	.LVL47:
 1025               	.L75:
 1026               	.LBE704:
 1027               	.LBE706:
 1028               	.LBE790:
 1029               	.LBB791:
 1030               	.LBB784:
 1031               	.LBB781:
 1032               	.LBB778:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 1033               		.loc 2 177 0
 1034 0398 BFB7      		in r27,__SREG__
 1035               	.LVL48:
 1036               	.LBB769:
 1037               	.LBB770:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1038               		.loc 3 50 0
 1039               	/* #APP */
 1040               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1041 039a F894      		cli
 1042               	 ;  0 "" 2
 1043               	.LVL49:
 1044               	/* #NOAPP */
 1045               	.LBE770:
 1046               	.LBE769:
 178:usb/usb_pipe.h **** 			p->data->packet_offset = 0;
 1047               		.loc 2 178 0
 1048 039c 1092 0000 		sts ep_in_data+2,__zero_reg__
 1049 03a0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 1050               	.LVL50:
 1051               	.LBB771:
 1052               	.LBB772:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 1053               		.loc 4 81 0
 1054 03a4 8091 0000 		lds r24,ep_in_pipe_data+4
 1055 03a8 8F5F      		subi r24,lo8(-(1))
 1056 03aa 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 1057               		.loc 4 82 0
 1058 03ae 8091 0000 		lds r24,ep_in_pipe_data+2
 1059 03b2 9091 0000 		lds r25,ep_in_pipe_data+2+1
 1060 03b6 805C      		subi r24,lo8(-(64))
 1061 03b8 9F4F      		sbci r25,hi8(-(64))
 1062 03ba 8093 0000 		sts ep_in_pipe_data+2,r24
 1063 03be 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 1064               		.loc 4 84 0
 1065 03c2 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 1066 03c4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 1067 03c6 9F07      		cpc r25,r31
 1068 03c8 01F4      		brne .L39
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 1069               		.loc 4 85 0
 1070 03ca A092 0000 		sts ep_in_pipe_data+2,r10
 1071 03ce B092 0000 		sts ep_in_pipe_data+2+1,r11
 1072               	.L39:
 1073               	.LVL51:
 1074               	.LBE772:
 1075               	.LBE771:
 1076               	.LBB773:
 1077               	.LBB766:
 1078               	.LBB763:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1079               		.loc 2 80 0
 1080 03d2 5FB7      		in r21,__SREG__
 1081               	.LVL52:
 1082               	.LBB741:
 1083               	.LBB742:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1084               		.loc 3 50 0
 1085               	/* #APP */
 1086               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1087 03d4 F894      		cli
 1088               	 ;  0 "" 2
 1089               	.LVL53:
 1090               	/* #NOAPP */
 1091               	.LBE742:
 1092               	.LBE741:
 1093               	.LBB743:
 1094               	.LBB716:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1095               		.loc 5 220 0
 1096 03d6 8091 0000 		lds r24,endpoints+24
 1097 03da 8670      		andi r24,lo8(6)
 1098               	.LBE716:
 1099               	.LBE743:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 1100               		.loc 2 82 0
 1101 03dc 01F0      		breq .+2
 1102 03de 00C0      		rjmp .L76
 1103               	.LVL54:
 1104               	.L40:
 1105               	.LBB744:
 1106               	.LBB745:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1107               		.loc 3 70 0
 1108 03e0 5FBF      		out __SREG__,r21
 1109               		.loc 3 71 0
 1110               	.LVL55:
 1111               	.LBE745:
 1112               	.LBE744:
 1113               	.LBE763:
 1114               	.LBE766:
 1115               	.LBE773:
 1116               	.LBB774:
 1117               	.LBB775:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1118               		.loc 3 70 0
 1119 03e2 BFBF      		out __SREG__,r27
 1120               		.loc 3 71 0
 1121               	.LBE775:
 1122               	.LBE774:
 1123               	.LBE778:
 1124               	.LBE781:
 1125               	.LBE784:
 1126               	.LBE791:
 1127               	.LBE794:
 1128               	.LBE797:
 1129               		.loc 7 5 0
 1130 03e4 F601      		movw r30,r12
 1131 03e6 2191      		ld r18,Z+
 1132 03e8 2223      		tst r18
 1133 03ea 01F0      		breq .+2
 1134 03ec 00C0      		rjmp .L77
 1135               	.LVL56:
 1136               	.L34:
 1137               	.LBB798:
 1138               	.LBB799:
 1139               	.LBB800:
 1140               	.LBB801:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 1141               		.loc 2 110 0
 1142 03ee 81E0      		ldi r24,lo8(1)
 1143 03f0 8093 0000 		sts ep_in_data+1,r24
 1144               	.LVL57:
 1145               	.LBB802:
 1146               	.LBB803:
 1147               	.LBB804:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1148               		.loc 2 80 0
 1149 03f4 2FB7      		in r18,__SREG__
 1150               	.LVL58:
 1151               	.LBB805:
 1152               	.LBB806:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1153               		.loc 3 50 0
 1154               	/* #APP */
 1155               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1156 03f6 F894      		cli
 1157               	 ;  0 "" 2
 1158               	.LVL59:
 1159               	/* #NOAPP */
 1160               	.LBE806:
 1161               	.LBE805:
 1162               	.LBB807:
 1163               	.LBB808:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1164               		.loc 5 220 0
 1165 03f8 8091 0000 		lds r24,endpoints+24
 1166 03fc 8670      		andi r24,lo8(6)
 1167               	.LBE808:
 1168               	.LBE807:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 1169               		.loc 2 82 0
 1170 03fe 01F0      		breq .+2
 1171 0400 00C0      		rjmp .L78
 1172               	.LVL60:
 1173               	.L50:
 1174               	.LBB809:
 1175               	.LBB810:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1176               		.loc 3 70 0
 1177 0402 2FBF      		out __SREG__,r18
 1178               		.loc 3 71 0
 1179               	.LBE810:
 1180               	.LBE809:
 1181               	.LBE804:
 1182               	.LBE803:
 1183               	.LBE802:
 1184               	.LBE801:
 1185               	.LBE800:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 1186               		.loc 1 27 0
 1187 0404 82E0      		ldi r24,lo8(2)
 1188 0406 E0EC      		ldi r30,lo8(1216)
 1189 0408 F4E0      		ldi r31,hi8(1216)
 1190 040a 8587      		std Z+13,r24
 1191               	.LBB846:
 1192               	.LBB847:
 1193               	.LBB848:
 1194               	.LBB849:
 1195               	.LBB850:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1196               		.loc 4 57 0
 1197 040c 36E0      		ldi r19,lo8(6)
 1198               	.LVL61:
 1199               	.L59:
 1200               	.LBE850:
 1201               	.LBE849:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1202               		.loc 2 123 0
 1203 040e 9FB7      		in r25,__SREG__
 1204               	.LVL62:
 1205               	.LBB852:
 1206               	.LBB853:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1207               		.loc 3 50 0
 1208               	/* #APP */
 1209               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1210 0410 F894      		cli
 1211               	 ;  0 "" 2
 1212               	.LVL63:
 1213               	/* #NOAPP */
 1214               	.LBE853:
 1215               	.LBE852:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 1216               		.loc 2 124 0
 1217 0412 8091 0000 		lds r24,ep_in_data+1
 1218 0416 8823      		tst r24
 1219 0418 01F4      		brne .+2
 1220 041a 00C0      		rjmp .L79
 1221               	.L66:
 125:usb/usb_pipe.h **** 			r = false;
 1222               		.loc 2 125 0
 1223 041c 80E0      		ldi r24,lo8(0)
 1224               	.L61:
 1225               	.LBB854:
 1226               	.LBB855:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1227               		.loc 3 70 0
 1228 041e 9FBF      		out __SREG__,r25
 1229               		.loc 3 71 0
 1230               	.LBE855:
 1231               	.LBE854:
 1232               	.LBE848:
 1233               	.LBE847:
 1234               	.LBE846:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 1235               		.loc 1 28 0
 1236 0420 8823      		tst r24
 1237 0422 01F4      		brne .L33
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 1238               		.loc 1 29 0
 1239 0424 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 1240 0428 8823      		tst r24
 1241 042a 01F0      		breq .L59
 1242               	.LVL64:
 1243               	.LBB859:
 1244               	.LBB860:
 1245               	.LBB861:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 1246               		.loc 2 54 0
 1247 042c 2FB7      		in r18,__SREG__
 1248               	.LVL65:
 1249               	.LBB862:
 1250               	.LBB863:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 1251               		.loc 3 50 0
 1252               	/* #APP */
 1253               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 1254 042e F894      		cli
 1255               	 ;  0 "" 2
 1256               	.LVL66:
 1257               	/* #NOAPP */
 1258               	.LBE863:
 1259               	.LBE862:
 1260               	.LBB864:
 1261               	.LBB865:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 1262               		.loc 4 90 0
 1263 0430 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 1264               		.loc 4 91 0
 1265 0434 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 1266 0436 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 1267 0438 8093 0000 		sts ep_in_pipe_data+2,r24
 1268 043c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 1269 0440 8093 0000 		sts ep_in_pipe_data,r24
 1270 0444 9093 0000 		sts ep_in_pipe_data+1,r25
 1271               	.LVL67:
 1272               	.LBE865:
 1273               	.LBE864:
 1274               	.LBB866:
 1275               	.LBB867:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 1276               		.loc 5 158 0
 1277 0448 E0E0      		ldi r30,lo8(endpoints+24)
 1278 044a F0E0      		ldi r31,hi8(endpoints+24)
 1279               	/* #APP */
 1280               	 ;  158 "usb/usb.h" 1
 1281 044c 06E0      		ldi r16, 6
 1282 044e 0593      		.dc.w 0x9305
 1283               		
 1284               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 1285               		.loc 5 159 0
 1286               	 ;  159 "usb/usb.h" 1
 1287 0450 08E0      		ldi r16, 8
 1288 0452 0693      		.dc.w 0x9306
 1289               		
 1290               	 ;  0 "" 2
 1291               	/* #NOAPP */
 1292               	.LBE867:
 1293               	.LBE866:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 1294               		.loc 2 57 0
 1295 0454 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 1296               		.loc 2 58 0
 1297 0458 1092 0000 		sts ep_in_data+2,__zero_reg__
 1298 045c 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 1299               		.loc 2 59 0
 1300 0460 1092 0000 		sts ep_in_data,__zero_reg__
 1301               	.LVL68:
 1302               	.LBB868:
 1303               	.LBB869:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 1304               		.loc 3 70 0
 1305 0464 2FBF      		out __SREG__,r18
 1306               		.loc 3 71 0
 1307               	.LVL69:
 1308               	.L33:
 1309               	/* epilogue start */
 1310               	.LBE869:
 1311               	.LBE868:
 1312               	.LBE861:
 1313               	.LBE860:
 1314               	.LBE859:
 1315               	.LBE799:
 1316               	.LBE798:
   6:concat/concat.h ****     send_byte(*s);
   7:concat/concat.h ****     s++;
   8:concat/concat.h ****   }
   9:concat/concat.h ****   break_and_flush();
  10:concat/concat.h ****   s = NULL;
  11:concat/concat.h **** }
 1317               		.loc 7 11 0
 1318 0466 DF91      		pop r29
 1319 0468 CF91      		pop r28
 1320 046a 1F91      		pop r17
 1321 046c 0F91      		pop r16
 1322 046e FF90      		pop r15
 1323 0470 EF90      		pop r14
 1324 0472 DF90      		pop r13
 1325 0474 CF90      		pop r12
 1326 0476 BF90      		pop r11
 1327 0478 AF90      		pop r10
 1328 047a 0895      		ret
 1329               	.LVL70:
 1330               	.L76:
 1331               	.LBB875:
 1332               	.LBB795:
 1333               	.LBB792:
 1334               	.LBB785:
 1335               	.LBB782:
 1336               	.LBB779:
 1337               	.LBB776:
 1338               	.LBB767:
 1339               	.LBB764:
 1340               	.LBB746:
 1341               	.LBB747:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 1342               		.loc 4 51 0
 1343 047c A091 0000 		lds r26,ep_in_pipe_data+4
 1344               	.LBE747:
 1345               	.LBE746:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 1346               		.loc 2 83 0
 1347 0480 1A16      		cp __zero_reg__,r26
 1348 0482 04F0      		brlt .+2
 1349 0484 00C0      		rjmp .L41
 1350               	.LBB748:
 1351               	.LBB749:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1352               		.loc 4 62 0
 1353 0486 2091 0000 		lds r18,ep_in_pipe_data
 1354 048a 3091 0000 		lds r19,ep_in_pipe_data+1
 1355               	.LVL71:
 1356               	.LBE749:
 1357               	.LBE748:
 1358               	.LBB750:
 1359               	.LBB739:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1360               		.loc 2 68 0
 1361 048e E091 0000 		lds r30,ep_in_data
 1362               	.LVL72:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1363               		.loc 2 69 0
 1364 0492 8E2F      		mov r24,r30
 1365 0494 90E0      		ldi r25,lo8(0)
 1366               	.LVL73:
 1367 0496 F1E0      		ldi r31,lo8(1)
 1368 0498 8C17      		cp r24,r28
 1369 049a 9D07      		cpc r25,r29
 1370 049c 01F4      		brne .L42
 1371 049e F0E0      		ldi r31,lo8(0)
 1372               	.L42:
 1373 04a0 F093 0000 		sts ep_in_data,r31
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1374               		.loc 2 72 0
 1375 04a4 EE23      		tst r30
 1376 04a6 01F4      		brne .L43
 1377               	.LVL74:
 1378               	.LBB736:
 1379               	.LBB737:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1380               		.loc 5 168 0
 1381 04a8 2093 0000 		sts endpoints+28,r18
 1382 04ac 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1383               		.loc 5 169 0
 1384 04b0 E092 0000 		sts endpoints+26,r14
 1385 04b4 F092 0000 		sts endpoints+26+1,r15
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1386               		.loc 5 174 0
 1387 04b8 FB01      		movw r30,r22
 1388               	/* #APP */
 1389               	 ;  174 "usb/usb.h" 1
 1390 04ba 02E2      		ldi r16, 34
 1391 04bc 0693      		.dc.w 0x9306
 1392               		
 1393               	 ;  0 "" 2
 1394               	.LVL75:
 1395               	/* #NOAPP */
 1396               	.L44:
 1397               	.LBE737:
 1398               	.LBE736:
 1399               	.LBE739:
 1400               	.LBE750:
 1401               	.LBB751:
 1402               	.LBB752:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 1403               		.loc 4 72 0
 1404 04be A150      		subi r26,lo8(-(-1))
 1405 04c0 A093 0000 		sts ep_in_pipe_data+4,r26
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 1406               		.loc 4 73 0
 1407 04c4 C901      		movw r24,r18
 1408 04c6 805C      		subi r24,lo8(-(64))
 1409 04c8 9F4F      		sbci r25,hi8(-(64))
 1410 04ca 8093 0000 		sts ep_in_pipe_data,r24
 1411 04ce 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 1412               		.loc 4 75 0
 1413 04d2 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 1414 04d4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 1415 04d6 9F07      		cpc r25,r31
 1416 04d8 01F0      		breq .+2
 1417 04da 00C0      		rjmp .L40
 1418               	.LBE752:
 1419               	.LBE751:
 1420               	.LBB753:
 1421               	.LBB719:
 1422               		.loc 4 91 0
 1423 04dc A092 0000 		sts ep_in_pipe_data,r10
 1424 04e0 B092 0000 		sts ep_in_pipe_data+1,r11
 1425               	.LVL76:
 1426 04e4 00C0      		rjmp .L40
 1427               	.LVL77:
 1428               	.L43:
 1429               	.LBE719:
 1430               	.LBE753:
 1431               	.LBB754:
 1432               	.LBB740:
 1433               	.LBB738:
 1434               	.LBB735:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1435               		.loc 5 168 0
 1436 04e6 2093 0000 		sts endpoints+20,r18
 1437 04ea 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1438               		.loc 5 169 0
 1439 04ee E092 0000 		sts endpoints+18,r14
 1440 04f2 F092 0000 		sts endpoints+18+1,r15
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 1441               		.loc 5 176 0
 1442 04f6 FB01      		movw r30,r22
 1443               	/* #APP */
 1444               	 ;  176 "usb/usb.h" 1
 1445 04f8 04E1      		ldi r16, 20
 1446 04fa 0693      		.dc.w 0x9306
 1447               		
 1448               	 ;  0 "" 2
 1449               	/* #NOAPP */
 1450 04fc 00C0      		rjmp .L44
 1451               	.LVL78:
 1452               	.L41:
 1453               	.LBE735:
 1454               	.LBE738:
 1455               	.LBE740:
 1456               	.LBE754:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 1457               		.loc 2 87 0
 1458 04fe 8091 0000 		lds r24,ep_in_data+1
 1459 0502 8130      		cpi r24,lo8(1)
 1460 0504 01F0      		breq .L80
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 1461               		.loc 2 91 0
 1462 0506 8230      		cpi r24,lo8(2)
 1463 0508 01F0      		breq .+2
 1464 050a 00C0      		rjmp .L40
 1465               	.LVL79:
 1466               	.LBB755:
 1467               	.LBB756:
 1468               	.LBB757:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 1469               		.loc 5 228 0
 1470 050c 8091 0000 		lds r24,endpoints+24
 1471 0510 8670      		andi r24,lo8(6)
 1472               	.LBE757:
 1473               	.LBE756:
 1474               	.LBE755:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 1475               		.loc 2 91 0
 1476 0512 8630      		cpi r24,lo8(6)
 1477 0514 01F0      		breq .+2
 1478 0516 00C0      		rjmp .L40
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 1479               		.loc 2 92 0
 1480 0518 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 1481               		.loc 2 93 0
 1482 051c 1092 0000 		sts ep_in_data+2,__zero_reg__
 1483 0520 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 1484               	.LBB758:
 1485               	.LBB720:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 1486               		.loc 4 90 0
 1487 0524 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 1488               		.loc 4 91 0
 1489 0528 A092 0000 		sts ep_in_pipe_data+2,r10
 1490 052c B092 0000 		sts ep_in_pipe_data+2+1,r11
 1491 0530 A092 0000 		sts ep_in_pipe_data,r10
 1492 0534 B092 0000 		sts ep_in_pipe_data+1,r11
 1493               	.LVL80:
 1494 0538 00C0      		rjmp .L40
 1495               	.LVL81:
 1496               	.L80:
 1497               	.LBE720:
 1498               	.LBE758:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 1499               		.loc 2 88 0
 1500 053a 22E0      		ldi r18,lo8(2)
 1501               	.LVL82:
 1502 053c 2093 0000 		sts ep_in_data+1,r18
 1503               	.LBB759:
 1504               	.LBB760:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1505               		.loc 4 62 0
 1506 0540 A091 0000 		lds r26,ep_in_pipe_data
 1507 0544 1091 0000 		lds r17,ep_in_pipe_data+1
 1508               	.LBE760:
 1509               	.LBE759:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 1510               		.loc 2 90 0
 1511 0548 2091 0000 		lds r18,ep_in_data+2
 1512 054c 3091 0000 		lds r19,ep_in_data+2+1
 1513               	.LVL83:
 1514               	.LBB761:
 1515               	.LBB729:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1516               		.loc 2 68 0
 1517 0550 F091 0000 		lds r31,ep_in_data
 1518               	.LVL84:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1519               		.loc 2 69 0
 1520 0554 8F2F      		mov r24,r31
 1521 0556 90E0      		ldi r25,lo8(0)
 1522 0558 E1E0      		ldi r30,lo8(1)
 1523               	.LVL85:
 1524 055a 8C17      		cp r24,r28
 1525 055c 9D07      		cpc r25,r29
 1526 055e 01F4      		brne .L47
 1527 0560 E0E0      		ldi r30,lo8(0)
 1528               	.L47:
 1529 0562 E093 0000 		sts ep_in_data,r30
 1530               	.LBB723:
 1531               	.LBB724:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1532               		.loc 5 168 0
 1533 0566 8A2F      		mov r24,r26
 1534 0568 912F      		mov r25,r17
 1535               	.LBE724:
 1536               	.LBE723:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1537               		.loc 2 72 0
 1538 056a FF23      		tst r31
 1539 056c 01F0      		breq .+2
 1540 056e 00C0      		rjmp .L48
 1541               	.LVL86:
 1542               	.LBB726:
 1543               	.LBB725:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1544               		.loc 5 168 0
 1545 0570 8093 0000 		sts endpoints+28,r24
 1546 0574 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1547               		.loc 5 169 0
 1548 0578 2093 0000 		sts endpoints+26,r18
 1549 057c 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1550               		.loc 5 174 0
 1551 0580 FB01      		movw r30,r22
 1552               	/* #APP */
 1553               	 ;  174 "usb/usb.h" 1
 1554 0582 02E2      		ldi r16, 34
 1555 0584 0693      		.dc.w 0x9306
 1556               		
 1557               	 ;  0 "" 2
 1558               	/* #NOAPP */
 1559 0586 00C0      		rjmp .L40
 1560               	.LVL87:
 1561               	.L79:
 1562               	.LBE725:
 1563               	.LBE726:
 1564               	.LBE729:
 1565               	.LBE761:
 1566               	.LBE764:
 1567               	.LBE767:
 1568               	.LBE776:
 1569               	.LBE779:
 1570               	.LBE782:
 1571               	.LBE785:
 1572               	.LBE792:
 1573               	.LBE795:
 1574               	.LBE875:
 1575               	.LBB876:
 1576               	.LBB873:
 1577               	.LBB870:
 1578               	.LBB858:
 1579               	.LBB857:
 1580               	.LBB856:
 1581               	.LBB851:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 1582               		.loc 4 57 0
 1583 0588 8091 0000 		lds r24,ep_in_pipe_data+4
 1584 058c 232F      		mov r18,r19
 1585 058e 281B      		sub r18,r24
 1586               	.LBE851:
 1587               	.LBE856:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 1588               		.loc 2 127 0
 1589 0590 81E0      		ldi r24,lo8(1)
 1590 0592 1216      		cp __zero_reg__,r18
 1591 0594 04F4      		brge .+2
 1592 0596 00C0      		rjmp .L61
 1593 0598 00C0      		rjmp .L66
 1594               	.LVL88:
 1595               	.L78:
 1596               	.LBE857:
 1597               	.LBE858:
 1598               	.LBE870:
 1599               	.LBB871:
 1600               	.LBB844:
 1601               	.LBB842:
 1602               	.LBB840:
 1603               	.LBB838:
 1604               	.LBB811:
 1605               	.LBB812:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 1606               		.loc 4 51 0
 1607 059a 3091 0000 		lds r19,ep_in_pipe_data+4
 1608               	.LBE812:
 1609               	.LBE811:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 1610               		.loc 2 83 0
 1611 059e 1316      		cp __zero_reg__,r19
 1612 05a0 04F0      		brlt .+2
 1613 05a2 00C0      		rjmp .L51
 1614               	.LBB813:
 1615               	.LBB814:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1616               		.loc 4 62 0
 1617 05a4 8091 0000 		lds r24,ep_in_pipe_data
 1618 05a8 9091 0000 		lds r25,ep_in_pipe_data+1
 1619               	.LVL89:
 1620               	.LBE814:
 1621               	.LBE813:
 1622               	.LBB815:
 1623               	.LBB816:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1624               		.loc 2 68 0
 1625 05ac 4091 0000 		lds r20,ep_in_data
 1626               	.LVL90:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1627               		.loc 2 69 0
 1628 05b0 51E0      		ldi r21,lo8(1)
 1629 05b2 4130      		cpi r20,lo8(1)
 1630 05b4 01F4      		brne .L52
 1631 05b6 50E0      		ldi r21,lo8(0)
 1632               	.L52:
 1633 05b8 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1634               		.loc 2 72 0
 1635 05bc 4423      		tst r20
 1636 05be 01F4      		brne .L53
 1637               	.LVL91:
 1638               	.LBB817:
 1639               	.LBB818:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1640               		.loc 5 168 0
 1641 05c0 8093 0000 		sts endpoints+28,r24
 1642 05c4 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1643               		.loc 5 169 0
 1644 05c8 40E4      		ldi r20,lo8(64)
 1645 05ca 50E0      		ldi r21,hi8(64)
 1646 05cc 4093 0000 		sts endpoints+26,r20
 1647 05d0 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1648               		.loc 5 174 0
 1649 05d4 E0E0      		ldi r30,lo8(endpoints+24)
 1650 05d6 F0E0      		ldi r31,hi8(endpoints+24)
 1651               	.LVL92:
 1652               	/* #APP */
 1653               	 ;  174 "usb/usb.h" 1
 1654 05d8 02E2      		ldi r16, 34
 1655 05da 0693      		.dc.w 0x9306
 1656               		
 1657               	 ;  0 "" 2
 1658               	.LVL93:
 1659               	/* #NOAPP */
 1660               	.L54:
 1661               	.LBE818:
 1662               	.LBE817:
 1663               	.LBE816:
 1664               	.LBE815:
 1665               	.LBB822:
 1666               	.LBB823:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 1667               		.loc 4 72 0
 1668 05dc 3150      		subi r19,lo8(-(-1))
 1669 05de 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 1670               		.loc 4 73 0
 1671 05e2 805C      		subi r24,lo8(-(64))
 1672 05e4 9F4F      		sbci r25,hi8(-(64))
 1673 05e6 8093 0000 		sts ep_in_pipe_data,r24
 1674 05ea 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 1675               		.loc 4 75 0
 1676 05ee F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 1677 05f0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 1678 05f2 9F07      		cpc r25,r31
 1679 05f4 01F0      		breq .+2
 1680 05f6 00C0      		rjmp .L50
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 1681               		.loc 4 76 0
 1682 05f8 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 1683 05fa 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 1684 05fc 8093 0000 		sts ep_in_pipe_data,r24
 1685 0600 9093 0000 		sts ep_in_pipe_data+1,r25
 1686 0604 00C0      		rjmp .L50
 1687               	.LVL94:
 1688               	.L48:
 1689               	.LBE823:
 1690               	.LBE822:
 1691               	.LBE838:
 1692               	.LBE840:
 1693               	.LBE842:
 1694               	.LBE844:
 1695               	.LBE871:
 1696               	.LBE873:
 1697               	.LBE876:
 1698               	.LBB877:
 1699               	.LBB796:
 1700               	.LBB793:
 1701               	.LBB786:
 1702               	.LBB783:
 1703               	.LBB780:
 1704               	.LBB777:
 1705               	.LBB768:
 1706               	.LBB765:
 1707               	.LBB762:
 1708               	.LBB730:
 1709               	.LBB727:
 1710               	.LBB728:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1711               		.loc 5 168 0
 1712 0606 8093 0000 		sts endpoints+20,r24
 1713 060a 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1714               		.loc 5 169 0
 1715 060e 2093 0000 		sts endpoints+18,r18
 1716 0612 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 1717               		.loc 5 176 0
 1718 0616 FB01      		movw r30,r22
 1719               	/* #APP */
 1720               	 ;  176 "usb/usb.h" 1
 1721 0618 04E1      		ldi r16, 20
 1722 061a 0693      		.dc.w 0x9306
 1723               		
 1724               	 ;  0 "" 2
 1725               	/* #NOAPP */
 1726 061c 00C0      		rjmp .L40
 1727               	.LVL95:
 1728               	.L53:
 1729               	.LBE728:
 1730               	.LBE727:
 1731               	.LBE730:
 1732               	.LBE762:
 1733               	.LBE765:
 1734               	.LBE768:
 1735               	.LBE777:
 1736               	.LBE780:
 1737               	.LBE783:
 1738               	.LBE786:
 1739               	.LBE793:
 1740               	.LBE796:
 1741               	.LBE877:
 1742               	.LBB878:
 1743               	.LBB874:
 1744               	.LBB872:
 1745               	.LBB845:
 1746               	.LBB843:
 1747               	.LBB841:
 1748               	.LBB839:
 1749               	.LBB824:
 1750               	.LBB821:
 1751               	.LBB819:
 1752               	.LBB820:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1753               		.loc 5 168 0
 1754 061e 8093 0000 		sts endpoints+20,r24
 1755 0622 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1756               		.loc 5 169 0
 1757 0626 40E4      		ldi r20,lo8(64)
 1758 0628 50E0      		ldi r21,hi8(64)
 1759               	.LVL96:
 1760 062a 4093 0000 		sts endpoints+18,r20
 1761 062e 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 1762               		.loc 5 176 0
 1763 0632 E0E0      		ldi r30,lo8(endpoints+24)
 1764 0634 F0E0      		ldi r31,hi8(endpoints+24)
 1765               	/* #APP */
 1766               	 ;  176 "usb/usb.h" 1
 1767 0636 04E1      		ldi r16, 20
 1768 0638 0693      		.dc.w 0x9306
 1769               		
 1770               	 ;  0 "" 2
 1771               	/* #NOAPP */
 1772 063a 00C0      		rjmp .L54
 1773               	.LVL97:
 1774               	.L51:
 1775               	.LBE820:
 1776               	.LBE819:
 1777               	.LBE821:
 1778               	.LBE824:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 1779               		.loc 2 87 0
 1780 063c 8091 0000 		lds r24,ep_in_data+1
 1781 0640 8130      		cpi r24,lo8(1)
 1782 0642 01F0      		breq .L81
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 1783               		.loc 2 91 0
 1784 0644 8230      		cpi r24,lo8(2)
 1785 0646 01F0      		breq .+2
 1786 0648 00C0      		rjmp .L50
 1787               	.LVL98:
 1788               	.LBB825:
 1789               	.LBB826:
 1790               	.LBB827:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 1791               		.loc 5 228 0
 1792 064a 8091 0000 		lds r24,endpoints+24
 1793 064e 8670      		andi r24,lo8(6)
 1794               	.LBE827:
 1795               	.LBE826:
 1796               	.LBE825:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 1797               		.loc 2 91 0
 1798 0650 8630      		cpi r24,lo8(6)
 1799 0652 01F0      		breq .+2
 1800 0654 00C0      		rjmp .L50
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 1801               		.loc 2 92 0
 1802 0656 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 1803               		.loc 2 93 0
 1804 065a 1092 0000 		sts ep_in_data+2,__zero_reg__
 1805 065e 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 1806               	.LBB828:
 1807               	.LBB829:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 1808               		.loc 4 90 0
 1809 0662 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 1810               		.loc 4 91 0
 1811 0666 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 1812 0668 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 1813 066a 8093 0000 		sts ep_in_pipe_data+2,r24
 1814 066e 9093 0000 		sts ep_in_pipe_data+2+1,r25
 1815 0672 8093 0000 		sts ep_in_pipe_data,r24
 1816 0676 9093 0000 		sts ep_in_pipe_data+1,r25
 1817               	.LVL99:
 1818 067a 00C0      		rjmp .L50
 1819               	.LVL100:
 1820               	.L81:
 1821               	.LBE829:
 1822               	.LBE828:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 1823               		.loc 2 88 0
 1824 067c 82E0      		ldi r24,lo8(2)
 1825 067e 8093 0000 		sts ep_in_data+1,r24
 1826               	.LBB830:
 1827               	.LBB831:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 1828               		.loc 4 62 0
 1829 0682 6091 0000 		lds r22,ep_in_pipe_data
 1830 0686 3091 0000 		lds r19,ep_in_pipe_data+1
 1831               	.LBE831:
 1832               	.LBE830:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 1833               		.loc 2 90 0
 1834 068a 4091 0000 		lds r20,ep_in_data+2
 1835 068e 5091 0000 		lds r21,ep_in_data+2+1
 1836               	.LVL101:
 1837               	.LBB832:
 1838               	.LBB833:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 1839               		.loc 2 68 0
 1840 0692 8091 0000 		lds r24,ep_in_data
 1841               	.LVL102:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 1842               		.loc 2 69 0
 1843 0696 91E0      		ldi r25,lo8(1)
 1844 0698 8130      		cpi r24,lo8(1)
 1845 069a 01F4      		brne .L57
 1846 069c 90E0      		ldi r25,lo8(0)
 1847               	.L57:
 1848 069e 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 1849               		.loc 2 72 0
 1850 06a2 8823      		tst r24
 1851 06a4 01F4      		brne .L58
 1852               	.LVL103:
 1853               	.LBB834:
 1854               	.LBB835:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1855               		.loc 5 168 0
 1856 06a6 862F      		mov r24,r22
 1857 06a8 932F      		mov r25,r19
 1858 06aa 8093 0000 		sts endpoints+28,r24
 1859 06ae 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1860               		.loc 5 169 0
 1861 06b2 4093 0000 		sts endpoints+26,r20
 1862 06b6 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 1863               		.loc 5 174 0
 1864 06ba E0E0      		ldi r30,lo8(endpoints+24)
 1865 06bc F0E0      		ldi r31,hi8(endpoints+24)
 1866               	.LVL104:
 1867               	/* #APP */
 1868               	 ;  174 "usb/usb.h" 1
 1869 06be 02E2      		ldi r16, 34
 1870 06c0 0693      		.dc.w 0x9306
 1871               		
 1872               	 ;  0 "" 2
 1873               	/* #NOAPP */
 1874 06c2 00C0      		rjmp .L50
 1875               	.LVL105:
 1876               	.L58:
 1877               	.LBE835:
 1878               	.LBE834:
 1879               	.LBB836:
 1880               	.LBB837:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 1881               		.loc 5 168 0
 1882 06c4 862F      		mov r24,r22
 1883 06c6 932F      		mov r25,r19
 1884 06c8 8093 0000 		sts endpoints+20,r24
 1885 06cc 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 1886               		.loc 5 169 0
 1887 06d0 4093 0000 		sts endpoints+18,r20
 1888 06d4 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 1889               		.loc 5 176 0
 1890 06d8 E0E0      		ldi r30,lo8(endpoints+24)
 1891 06da F0E0      		ldi r31,hi8(endpoints+24)
 1892               	/* #APP */
 1893               	 ;  176 "usb/usb.h" 1
 1894 06dc 04E1      		ldi r16, 20
 1895 06de 0693      		.dc.w 0x9306
 1896               		
 1897               	 ;  0 "" 2
 1898               	/* #NOAPP */
 1899 06e0 00C0      		rjmp .L50
 1900               	.LBE837:
 1901               	.LBE836:
 1902               	.LBE833:
 1903               	.LBE832:
 1904               	.LBE839:
 1905               	.LBE841:
 1906               	.LBE843:
 1907               	.LBE845:
 1908               	.LBE872:
 1909               	.LBE874:
 1910               	.LBE878:
 1911               		.cfi_endproc
 1912               	.LFE61:
 1914               	.global	concat
 1916               	concat:
 1917               	.LFB62:
  12:concat/concat.h **** 
  13:concat/concat.h **** char* concat(char *s1, char *s2)
  14:concat/concat.h **** {
 1918               		.loc 7 14 0
 1919               		.cfi_startproc
 1920               	.LVL106:
 1921 06e2 EF92      		push r14
 1922               	.LCFI39:
 1923               		.cfi_def_cfa_offset 3
 1924               		.cfi_offset 14, -2
 1925 06e4 FF92      		push r15
 1926               	.LCFI40:
 1927               		.cfi_def_cfa_offset 4
 1928               		.cfi_offset 15, -3
 1929 06e6 0F93      		push r16
 1930               	.LCFI41:
 1931               		.cfi_def_cfa_offset 5
 1932               		.cfi_offset 16, -4
 1933 06e8 1F93      		push r17
 1934               	.LCFI42:
 1935               		.cfi_def_cfa_offset 6
 1936               		.cfi_offset 17, -5
 1937 06ea CF93      		push r28
 1938               	.LCFI43:
 1939               		.cfi_def_cfa_offset 7
 1940               		.cfi_offset 28, -6
 1941 06ec DF93      		push r29
 1942               	.LCFI44:
 1943               		.cfi_def_cfa_offset 8
 1944               		.cfi_offset 29, -7
 1945               	/* prologue: function */
 1946               	/* frame size = 0 */
 1947               	/* stack size = 6 */
 1948               	.L__stack_usage = 6
 1949 06ee F82E      		mov r15,r24
 1950 06f0 E92E      		mov r14,r25
 1951 06f2 162F      		mov r17,r22
 1952 06f4 072F      		mov r16,r23
  15:concat/concat.h ****     //string concatenation -- not needed now, but might prove useful later
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 1953               		.loc 7 16 0
 1954 06f6 A82F      		mov r26,r24
 1955 06f8 B92F      		mov r27,r25
 1956 06fa ED01      		movw r28,r26
 1957 06fc 0990      		ld __tmp_reg__,Y+
 1958 06fe 0020      		tst __tmp_reg__
 1959 0700 01F4      		brne .-6
 1960 0702 9E01      		movw r18,r28
 1961 0704 E62F      		mov r30,r22
 1962 0706 F72F      		mov r31,r23
 1963 0708 EF01      		movw r28,r30
 1964 070a 0990      		ld __tmp_reg__,Y+
 1965 070c 0020      		tst __tmp_reg__
 1966 070e 01F4      		brne .-6
 1967 0710 CE01      		movw r24,r28
 1968               	.LVL107:
 1969 0712 0197      		sbiw r24,1
 1970 0714 8E1B      		sub r24,r30
 1971 0716 9F0B      		sbc r25,r31
 1972 0718 8A1B      		sub r24,r26
 1973 071a 9B0B      		sbc r25,r27
 1974 071c 820F      		add r24,r18
 1975 071e 931F      		adc r25,r19
 1976 0720 0E94 0000 		call malloc
 1977               	.LVL108:
 1978 0724 D82F      		mov r29,r24
 1979 0726 C92F      		mov r28,r25
 1980               	.LVL109:
  17:concat/concat.h ****     //should also check for memory allocation errors here
  18:concat/concat.h ****     strcpy(result, s1);
 1981               		.loc 7 18 0
 1982 0728 6F2D      		mov r22,r15
 1983 072a 7E2D      		mov r23,r14
 1984 072c 0E94 0000 		call strcpy
 1985               	.LVL110:
  19:concat/concat.h ****     strcat(result, s2);
 1986               		.loc 7 19 0
 1987 0730 8D2F      		mov r24,r29
 1988 0732 9C2F      		mov r25,r28
 1989 0734 612F      		mov r22,r17
 1990 0736 702F      		mov r23,r16
 1991 0738 0E94 0000 		call strcat
  20:concat/concat.h ****     return result;
  21:concat/concat.h **** }
 1992               		.loc 7 21 0
 1993 073c 8D2F      		mov r24,r29
 1994 073e 9C2F      		mov r25,r28
 1995               	/* epilogue start */
 1996 0740 DF91      		pop r29
 1997               	.LVL111:
 1998 0742 CF91      		pop r28
 1999               	.LVL112:
 2000 0744 1F91      		pop r17
 2001 0746 0F91      		pop r16
 2002 0748 FF90      		pop r15
 2003 074a EF90      		pop r14
 2004 074c 0895      		ret
 2005               		.cfi_endproc
 2006               	.LFE62:
 2008               	.global	distance
 2010               	distance:
 2011               	.LFB63:
 2012               		.file 8 "nmea/nmea.h"
   1:nmea/nmea.h   **** #include <avr/io.h>
   2:nmea/nmea.h   **** #include <stdlib.h>
   3:nmea/nmea.h   **** #include <string.h>
   4:nmea/nmea.h   **** 
   5:nmea/nmea.h   **** //sample nmea strings for testing parser
   6:nmea/nmea.h   **** double lat = 42.292747;
   7:nmea/nmea.h   **** double lng = -71.264622;
   8:nmea/nmea.h   **** double max_dist = .200;
   9:nmea/nmea.h   **** 
  10:nmea/nmea.h   **** typedef struct _latlng {
  11:nmea/nmea.h   ****   double lat;
  12:nmea/nmea.h   ****   double lng;
  13:nmea/nmea.h   ****   char valid;
  14:nmea/nmea.h   **** } latlng;
  15:nmea/nmea.h   **** 
  16:nmea/nmea.h   **** char* parse_nmea(void);
  17:nmea/nmea.h   **** extern void parse_nmea_string(char *s, latlng *gps);
  18:nmea/nmea.h   **** double distance(double gpslat, double gpslng);
  19:nmea/nmea.h   **** 
  20:nmea/nmea.h   **** #define d2r (M_PI / 180.0)
  21:nmea/nmea.h   **** 
  22:nmea/nmea.h   **** //calculate distance, assuming earth is spherical
  23:nmea/nmea.h   **** double distance(double gpslat, double gpslng) {
 2013               		.loc 8 23 0
 2014               		.cfi_startproc
 2015               	.LVL113:
 2016 074e 2F92      		push r2
 2017               	.LCFI45:
 2018               		.cfi_def_cfa_offset 3
 2019               		.cfi_offset 2, -2
 2020 0750 3F92      		push r3
 2021               	.LCFI46:
 2022               		.cfi_def_cfa_offset 4
 2023               		.cfi_offset 3, -3
 2024 0752 4F92      		push r4
 2025               	.LCFI47:
 2026               		.cfi_def_cfa_offset 5
 2027               		.cfi_offset 4, -4
 2028 0754 5F92      		push r5
 2029               	.LCFI48:
 2030               		.cfi_def_cfa_offset 6
 2031               		.cfi_offset 5, -5
 2032 0756 6F92      		push r6
 2033               	.LCFI49:
 2034               		.cfi_def_cfa_offset 7
 2035               		.cfi_offset 6, -6
 2036 0758 7F92      		push r7
 2037               	.LCFI50:
 2038               		.cfi_def_cfa_offset 8
 2039               		.cfi_offset 7, -7
 2040 075a 8F92      		push r8
 2041               	.LCFI51:
 2042               		.cfi_def_cfa_offset 9
 2043               		.cfi_offset 8, -8
 2044 075c 9F92      		push r9
 2045               	.LCFI52:
 2046               		.cfi_def_cfa_offset 10
 2047               		.cfi_offset 9, -9
 2048 075e AF92      		push r10
 2049               	.LCFI53:
 2050               		.cfi_def_cfa_offset 11
 2051               		.cfi_offset 10, -10
 2052 0760 BF92      		push r11
 2053               	.LCFI54:
 2054               		.cfi_def_cfa_offset 12
 2055               		.cfi_offset 11, -11
 2056 0762 CF92      		push r12
 2057               	.LCFI55:
 2058               		.cfi_def_cfa_offset 13
 2059               		.cfi_offset 12, -12
 2060 0764 DF92      		push r13
 2061               	.LCFI56:
 2062               		.cfi_def_cfa_offset 14
 2063               		.cfi_offset 13, -13
 2064 0766 EF92      		push r14
 2065               	.LCFI57:
 2066               		.cfi_def_cfa_offset 15
 2067               		.cfi_offset 14, -14
 2068 0768 FF92      		push r15
 2069               	.LCFI58:
 2070               		.cfi_def_cfa_offset 16
 2071               		.cfi_offset 15, -15
 2072 076a 0F93      		push r16
 2073               	.LCFI59:
 2074               		.cfi_def_cfa_offset 17
 2075               		.cfi_offset 16, -16
 2076 076c 1F93      		push r17
 2077               	.LCFI60:
 2078               		.cfi_def_cfa_offset 18
 2079               		.cfi_offset 17, -17
 2080 076e CF93      		push r28
 2081               	.LCFI61:
 2082               		.cfi_def_cfa_offset 19
 2083               		.cfi_offset 28, -18
 2084 0770 DF93      		push r29
 2085               	.LCFI62:
 2086               		.cfi_def_cfa_offset 20
 2087               		.cfi_offset 29, -19
 2088 0772 CDB7      		in r28,__SP_L__
 2089 0774 DEB7      		in r29,__SP_H__
 2090 0776 2697      		sbiw r28,6
 2091               	.LCFI63:
 2092               		.cfi_def_cfa 28, 26
 2093 0778 CDBF      		out __SP_L__,r28
 2094 077a DEBF      		out __SP_H__,r29
 2095               	/* prologue: function */
 2096               	/* frame size = 6 */
 2097               	/* stack size = 24 */
 2098               	.L__stack_usage = 24
 2099 077c 4B01      		movw r8,r22
 2100 077e 5C01      		movw r10,r24
 2101 0780 2983      		std Y+1,r18
 2102 0782 3A83      		std Y+2,r19
 2103 0784 4B83      		std Y+3,r20
 2104 0786 5C83      		std Y+4,r21
 2105               	.LVL114:
  24:nmea/nmea.h   ****     double dlong = (gpslng - lng) * d2r;
  25:nmea/nmea.h   ****     double dlat = (gpslat - lat) * d2r;
 2106               		.loc 8 25 0
 2107 0788 C090 0000 		lds r12,lat
 2108 078c D090 0000 		lds r13,lat+1
 2109 0790 E090 0000 		lds r14,lat+2
 2110 0794 F090 0000 		lds r15,lat+3
 2111               	.LVL115:
 2112 0798 A701      		movw r20,r14
 2113 079a 9601      		movw r18,r12
 2114               	.LVL116:
 2115 079c 0E94 0000 		call __subsf3
 2116               	.LVL117:
 2117 07a0 25E3      		ldi r18,lo8(0x3c8efa35)
 2118 07a2 3AEF      		ldi r19,hi8(0x3c8efa35)
 2119 07a4 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2120 07a6 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2121 07a8 0E94 0000 		call __mulsf3
  26:nmea/nmea.h   ****     double a = pow(sin(dlat/2.0), 2) + cos(lat*d2r) * cos(gpslat*d2r) * pow(sin(dlong/2.0), 2);
 2122               		.loc 8 26 0
 2123 07ac 20E0      		ldi r18,lo8(0x3f000000)
 2124 07ae 30E0      		ldi r19,hi8(0x3f000000)
 2125 07b0 40E0      		ldi r20,hlo8(0x3f000000)
 2126 07b2 5FE3      		ldi r21,hhi8(0x3f000000)
 2127 07b4 0E94 0000 		call __mulsf3
 2128 07b8 0E94 0000 		call sin
 2129 07bc 9B01      		movw r18,r22
 2130 07be AC01      		movw r20,r24
 2131 07c0 0E94 0000 		call __mulsf3
 2132 07c4 362E      		mov r3,r22
 2133 07c6 272E      		mov r2,r23
 2134 07c8 8D83      		std Y+5,r24
 2135 07ca 9E83      		std Y+6,r25
 2136 07cc C701      		movw r24,r14
 2137 07ce B601      		movw r22,r12
 2138 07d0 25E3      		ldi r18,lo8(0x3c8efa35)
 2139 07d2 3AEF      		ldi r19,hi8(0x3c8efa35)
 2140 07d4 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2141 07d6 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2142 07d8 0E94 0000 		call __mulsf3
 2143 07dc 0E94 0000 		call cos
 2144 07e0 7B01      		movw r14,r22
 2145 07e2 8C01      		movw r16,r24
 2146 07e4 C501      		movw r24,r10
 2147 07e6 B401      		movw r22,r8
 2148 07e8 25E3      		ldi r18,lo8(0x3c8efa35)
 2149 07ea 3AEF      		ldi r19,hi8(0x3c8efa35)
 2150 07ec 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2151 07ee 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2152 07f0 0E94 0000 		call __mulsf3
 2153 07f4 0E94 0000 		call cos
 2154 07f8 2B01      		movw r4,r22
 2155 07fa 3C01      		movw r6,r24
  24:nmea/nmea.h   ****     double dlong = (gpslng - lng) * d2r;
 2156               		.loc 8 24 0
 2157 07fc 6981      		ldd r22,Y+1
 2158 07fe 7A81      		ldd r23,Y+2
 2159 0800 8B81      		ldd r24,Y+3
 2160 0802 9C81      		ldd r25,Y+4
 2161 0804 2091 0000 		lds r18,lng
 2162 0808 3091 0000 		lds r19,lng+1
 2163 080c 4091 0000 		lds r20,lng+2
 2164 0810 5091 0000 		lds r21,lng+3
 2165               	.LVL118:
 2166 0814 0E94 0000 		call __subsf3
 2167               	.LVL119:
 2168 0818 25E3      		ldi r18,lo8(0x3c8efa35)
 2169 081a 3AEF      		ldi r19,hi8(0x3c8efa35)
 2170 081c 4EE8      		ldi r20,hlo8(0x3c8efa35)
 2171 081e 5CE3      		ldi r21,hhi8(0x3c8efa35)
 2172 0820 0E94 0000 		call __mulsf3
 2173               		.loc 8 26 0
 2174 0824 20E0      		ldi r18,lo8(0x3f000000)
 2175 0826 30E0      		ldi r19,hi8(0x3f000000)
 2176 0828 40E0      		ldi r20,hlo8(0x3f000000)
 2177 082a 5FE3      		ldi r21,hhi8(0x3f000000)
 2178 082c 0E94 0000 		call __mulsf3
 2179 0830 0E94 0000 		call sin
 2180 0834 9B01      		movw r18,r22
 2181 0836 AC01      		movw r20,r24
 2182 0838 0E94 0000 		call __mulsf3
 2183 083c B62E      		mov r11,r22
 2184 083e D72E      		mov r13,r23
 2185 0840 882E      		mov r8,r24
 2186               	.LVL120:
 2187 0842 C92E      		mov r12,r25
 2188 0844 C801      		movw r24,r16
 2189 0846 B701      		movw r22,r14
 2190 0848 A301      		movw r20,r6
 2191 084a 9201      		movw r18,r4
 2192 084c 0E94 0000 		call __mulsf3
 2193 0850 0B2D      		mov r16,r11
 2194 0852 1D2D      		mov r17,r13
 2195 0854 282D      		mov r18,r8
 2196 0856 3C2D      		mov r19,r12
 2197 0858 A901      		movw r20,r18
 2198 085a 9801      		movw r18,r16
 2199 085c 0E94 0000 		call __mulsf3
 2200 0860 9B01      		movw r18,r22
 2201 0862 AC01      		movw r20,r24
 2202 0864 F101      		movw r30,r2
 2203 0866 7D81      		ldd r23,Y+5
 2204 0868 6E81      		ldd r22,Y+6
 2205 086a 8F2F      		mov r24,r31
 2206 086c 9E2F      		mov r25,r30
 2207 086e A72F      		mov r26,r23
 2208 0870 B62F      		mov r27,r22
 2209 0872 BC01      		movw r22,r24
 2210 0874 CD01      		movw r24,r26
 2211 0876 0E94 0000 		call __addsf3
 2212 087a 862E      		mov r8,r22
 2213 087c 072F      		mov r16,r23
 2214 087e 382E      		mov r3,r24
 2215 0880 492E      		mov r4,r25
 2216               	.LVL121:
  27:nmea/nmea.h   ****     double c = 2 * atan2(sqrt(a), sqrt(1-a));
 2217               		.loc 8 27 0
 2218 0882 982F      		mov r25,r24
 2219               	.LVL122:
 2220 0884 482D      		mov r20,r8
 2221 0886 502F      		mov r21,r16
 2222 0888 692F      		mov r22,r25
 2223               	.LVL123:
 2224 088a 742D      		mov r23,r4
 2225               	.LVL124:
 2226 088c CB01      		movw r24,r22
 2227 088e BA01      		movw r22,r20
 2228 0890 0E94 0000 		call sqrt
 2229               	.LVL125:
 2230 0894 6B01      		movw r12,r22
 2231 0896 7C01      		movw r14,r24
 2232 0898 60E0      		ldi r22,lo8(0x3f800000)
 2233 089a 70E0      		ldi r23,hi8(0x3f800000)
 2234 089c 80E8      		ldi r24,hlo8(0x3f800000)
 2235 089e 9FE3      		ldi r25,hhi8(0x3f800000)
 2236 08a0 E02F      		mov r30,r16
 2237 08a2 082D      		mov r16,r8
 2238               	.LVL126:
 2239 08a4 1E2F      		mov r17,r30
 2240 08a6 232D      		mov r18,r3
 2241 08a8 342D      		mov r19,r4
 2242 08aa A901      		movw r20,r18
 2243 08ac 9801      		movw r18,r16
 2244 08ae 0E94 0000 		call __subsf3
 2245               	.LVL127:
 2246 08b2 0E94 0000 		call sqrt
 2247 08b6 9B01      		movw r18,r22
 2248 08b8 AC01      		movw r20,r24
 2249 08ba C701      		movw r24,r14
 2250 08bc B601      		movw r22,r12
 2251 08be 0E94 0000 		call atan2
 2252 08c2 9B01      		movw r18,r22
 2253 08c4 AC01      		movw r20,r24
 2254               	.LVL128:
 2255 08c6 0E94 0000 		call __addsf3
 2256               	.LVL129:
  28:nmea/nmea.h   ****     double d = 6367 * c;
 2257               		.loc 8 28 0
 2258 08ca 20E0      		ldi r18,lo8(0x45c6f800)
 2259 08cc 38EF      		ldi r19,hi8(0x45c6f800)
 2260 08ce 46EC      		ldi r20,hlo8(0x45c6f800)
 2261 08d0 55E4      		ldi r21,hhi8(0x45c6f800)
 2262 08d2 0E94 0000 		call __mulsf3
  29:nmea/nmea.h   **** 
  30:nmea/nmea.h   ****     return d;
  31:nmea/nmea.h   **** }
 2263               		.loc 8 31 0
 2264 08d6 462F      		mov r20,r22
 2265 08d8 572F      		mov r21,r23
 2266 08da 682F      		mov r22,r24
 2267 08dc 792F      		mov r23,r25
 2268 08de CB01      		movw r24,r22
 2269 08e0 BA01      		movw r22,r20
 2270               	/* epilogue start */
 2271 08e2 2696      		adiw r28,6
 2272 08e4 CDBF      		out __SP_L__,r28
 2273 08e6 DEBF      		out __SP_H__,r29
 2274 08e8 DF91      		pop r29
 2275 08ea CF91      		pop r28
 2276 08ec 1F91      		pop r17
 2277               	.LVL130:
 2278 08ee 0F91      		pop r16
 2279 08f0 FF90      		pop r15
 2280 08f2 EF90      		pop r14
 2281 08f4 DF90      		pop r13
 2282 08f6 CF90      		pop r12
 2283 08f8 BF90      		pop r11
 2284 08fa AF90      		pop r10
 2285 08fc 9F90      		pop r9
 2286 08fe 8F90      		pop r8
 2287 0900 7F90      		pop r7
 2288 0902 6F90      		pop r6
 2289 0904 5F90      		pop r5
 2290 0906 4F90      		pop r4
 2291 0908 3F90      		pop r3
 2292 090a 2F90      		pop r2
 2293 090c 0895      		ret
 2294               		.cfi_endproc
 2295               	.LFE63:
 2297               		.data
 2298               	.LC0:
 2299 0000 2C00      		.string	","
 2300               	.LC1:
 2301 0002 4E6F 2047 		.string	"No GPS Signal"
 2301      5053 2053 
 2301      6967 6E61 
 2301      6C00 
 2302               		.text
 2303               	.global	parse_nmea_string
 2305               	parse_nmea_string:
 2306               	.LFB64:
  32:nmea/nmea.h   **** 
  33:nmea/nmea.h   **** 
  34:nmea/nmea.h   **** 
  35:nmea/nmea.h   **** void parse_nmea_string(char *s, latlng *gps)
  36:nmea/nmea.h   **** {
 2307               		.loc 8 36 0
 2308               		.cfi_startproc
 2309               	.LVL131:
 2310 090e 8F92      		push r8
 2311               	.LCFI64:
 2312               		.cfi_def_cfa_offset 3
 2313               		.cfi_offset 8, -2
 2314 0910 9F92      		push r9
 2315               	.LCFI65:
 2316               		.cfi_def_cfa_offset 4
 2317               		.cfi_offset 9, -3
 2318 0912 AF92      		push r10
 2319               	.LCFI66:
 2320               		.cfi_def_cfa_offset 5
 2321               		.cfi_offset 10, -4
 2322 0914 BF92      		push r11
 2323               	.LCFI67:
 2324               		.cfi_def_cfa_offset 6
 2325               		.cfi_offset 11, -5
 2326 0916 CF92      		push r12
 2327               	.LCFI68:
 2328               		.cfi_def_cfa_offset 7
 2329               		.cfi_offset 12, -6
 2330 0918 DF92      		push r13
 2331               	.LCFI69:
 2332               		.cfi_def_cfa_offset 8
 2333               		.cfi_offset 13, -7
 2334 091a EF92      		push r14
 2335               	.LCFI70:
 2336               		.cfi_def_cfa_offset 9
 2337               		.cfi_offset 14, -8
 2338 091c FF92      		push r15
 2339               	.LCFI71:
 2340               		.cfi_def_cfa_offset 10
 2341               		.cfi_offset 15, -9
 2342 091e 0F93      		push r16
 2343               	.LCFI72:
 2344               		.cfi_def_cfa_offset 11
 2345               		.cfi_offset 16, -10
 2346 0920 1F93      		push r17
 2347               	.LCFI73:
 2348               		.cfi_def_cfa_offset 12
 2349               		.cfi_offset 17, -11
 2350 0922 CF93      		push r28
 2351               	.LCFI74:
 2352               		.cfi_def_cfa_offset 13
 2353               		.cfi_offset 28, -12
 2354 0924 DF93      		push r29
 2355               	.LCFI75:
 2356               		.cfi_def_cfa_offset 14
 2357               		.cfi_offset 29, -13
 2358 0926 CDB7      		in r28,__SP_L__
 2359 0928 DEB7      		in r29,__SP_H__
 2360 092a A897      		sbiw r28,40
 2361               	.LCFI76:
 2362               		.cfi_def_cfa 28, 54
 2363 092c CDBF      		out __SP_L__,r28
 2364 092e DEBF      		out __SP_H__,r29
 2365               	/* prologue: function */
 2366               	/* frame size = 40 */
 2367               	/* stack size = 52 */
 2368               	.L__stack_usage = 52
 2369 0930 7B01      		movw r14,r22
 2370               	.LVL132:
  37:nmea/nmea.h   ****   int i=0; // used to iterate through array
  38:nmea/nmea.h   ****   char *token[20]; //stores the chunks of string after splitting the string on commas
  39:nmea/nmea.h   **** 
  40:nmea/nmea.h   ****   token[0] = strtok(s, ","); //get pointer to first token found and store in
 2371               		.loc 8 40 0
 2372 0932 60E0      		ldi r22,lo8(.LC0)
 2373 0934 70E0      		ldi r23,hi8(.LC0)
 2374               	.LVL133:
 2375 0936 0E94 0000 		call strtok
 2376               	.LVL134:
  41:nmea/nmea.h   ****                              //first element of array
  42:nmea/nmea.h   ****   while(token[i] != NULL) {  //while commas continue to be found
 2377               		.loc 8 42 0
 2378 093a 0097      		sbiw r24,0
 2379 093c 01F0      		breq .L85
 2380 093e 8E01      		movw r16,r28
 2381 0940 0D5F      		subi r16,lo8(-(3))
 2382 0942 1F4F      		sbci r17,hi8(-(3))
 2383               	.LVL135:
 2384               	.L86:
  43:nmea/nmea.h   ****       i++;  
  44:nmea/nmea.h   ****       token[i] = strtok(NULL, ","); //continue to split the string
 2385               		.loc 8 44 0
 2386 0944 80E0      		ldi r24,lo8(0)
 2387 0946 90E0      		ldi r25,hi8(0)
 2388 0948 60E0      		ldi r22,lo8(.LC0)
 2389 094a 70E0      		ldi r23,hi8(.LC0)
 2390 094c 0E94 0000 		call strtok
 2391 0950 D801      		movw r26,r16
 2392 0952 8D93      		st X+,r24
 2393 0954 9D93      		st X+,r25
 2394 0956 8D01      		movw r16,r26
  42:nmea/nmea.h   ****   while(token[i] != NULL) {  //while commas continue to be found
 2395               		.loc 8 42 0
 2396 0958 0097      		sbiw r24,0
 2397 095a 01F4      		brne .L86
 2398               	.L85:
  45:nmea/nmea.h   ****   }
  46:nmea/nmea.h   **** 
  47:nmea/nmea.h   ****   //Example: token = [], s = "a,b,c"
  48:nmea/nmea.h   ****   //Iteration 1
  49:nmea/nmea.h   ****   //token --> ["a"], s-->"b,c"
  50:nmea/nmea.h   ****   //token --> ["a", "b"], s-->"c"
  51:nmea/nmea.h   ****   //token --> ["a", "b", "c"], s-->""
  52:nmea/nmea.h   ****   //end
  53:nmea/nmea.h   **** 
  54:nmea/nmea.h   ****   //when parsing GPRMC data
  55:nmea/nmea.h   ****   //error char at index 1
  56:nmea/nmea.h   ****   //longitude should be stored at index 2
  57:nmea/nmea.h   ****   //latitude should be stord at index 4
  58:nmea/nmea.h   **** 
  59:nmea/nmea.h   ****   //indices will have to be changed if our gps module
  60:nmea/nmea.h   ****   //speaks a different dialog of NMEA
  61:nmea/nmea.h   **** 
  62:nmea/nmea.h   ****   char* valid = token[1]; //A --> Valid, V --> Invalid
 2399               		.loc 8 62 0
 2400 095c EB81      		ldd r30,Y+3
 2401 095e FC81      		ldd r31,Y+4
 2402               	.LVL136:
  63:nmea/nmea.h   ****   char* lat_str = token[2]; //longitude
 2403               		.loc 8 63 0
 2404 0960 0D81      		ldd r16,Y+5
 2405 0962 1E81      		ldd r17,Y+6
 2406               	.LVL137:
  64:nmea/nmea.h   ****   char* lng_str = token[4]; //latitude
 2407               		.loc 8 64 0
 2408 0964 D984      		ldd r13,Y+9
 2409 0966 CA84      		ldd r12,Y+10
 2410               	.LVL138:
  65:nmea/nmea.h   **** 
  66:nmea/nmea.h   ****   gps->valid = *valid;
 2411               		.loc 8 66 0
 2412 0968 8081      		ld r24,Z
 2413 096a D701      		movw r26,r14
 2414 096c 1896      		adiw r26,8
 2415 096e 8C93      		st X,r24
 2416 0970 1897      		sbiw r26,8
  67:nmea/nmea.h   **** 
  68:nmea/nmea.h   ****   if (*valid == 'A') {
 2417               		.loc 8 68 0
 2418 0972 8081      		ld r24,Z
 2419 0974 8134      		cpi r24,lo8(65)
 2420 0976 01F0      		breq .L90
  69:nmea/nmea.h   ****     gps->valid = 1;
  70:nmea/nmea.h   ****     char* string_rep = concat(lat_str, concat(" ", lng_str));
  71:nmea/nmea.h   ****     send_string(string_rep);
  72:nmea/nmea.h   ****     //converts string stored in gps->lat_str to double and stores in lat
  73:nmea/nmea.h   ****     gps->lat = atof(lat_str)/100.;
  74:nmea/nmea.h   **** 
  75:nmea/nmea.h   ****     //converts string stored in gps->lng_str to double and stores in lng
  76:nmea/nmea.h   ****     gps->lng = atof(lng_str)/100.;
  77:nmea/nmea.h   ****   } else {
  78:nmea/nmea.h   ****     gps->valid = 0;
 2421               		.loc 8 78 0
 2422 0978 D701      		movw r26,r14
 2423 097a 1896      		adiw r26,8
 2424 097c 1C92      		st X,__zero_reg__
  79:nmea/nmea.h   ****     send_string("No GPS Signal");
 2425               		.loc 8 79 0
 2426 097e 80E0      		ldi r24,lo8(.LC1)
 2427 0980 90E0      		ldi r25,hi8(.LC1)
 2428 0982 0E94 0000 		call send_string
 2429               	.LVL139:
 2430               	.L84:
 2431               	/* epilogue start */
  80:nmea/nmea.h   ****   }
  81:nmea/nmea.h   **** 
  82:nmea/nmea.h   **** 
  83:nmea/nmea.h   **** }
 2432               		.loc 8 83 0
 2433 0986 A896      		adiw r28,40
 2434 0988 CDBF      		out __SP_L__,r28
 2435 098a DEBF      		out __SP_H__,r29
 2436 098c DF91      		pop r29
 2437 098e CF91      		pop r28
 2438 0990 1F91      		pop r17
 2439               	.LVL140:
 2440 0992 0F91      		pop r16
 2441 0994 FF90      		pop r15
 2442 0996 EF90      		pop r14
 2443               	.LVL141:
 2444 0998 DF90      		pop r13
 2445               	.LVL142:
 2446 099a CF90      		pop r12
 2447 099c BF90      		pop r11
 2448 099e AF90      		pop r10
 2449 09a0 9F90      		pop r9
 2450 09a2 8F90      		pop r8
 2451 09a4 0895      		ret
 2452               	.LVL143:
 2453               	.L90:
 2454               	.LBB884:
  69:nmea/nmea.h   ****     gps->valid = 1;
 2455               		.loc 8 69 0
 2456 09a6 81E0      		ldi r24,lo8(1)
 2457 09a8 1896      		adiw r26,8
 2458 09aa 8C93      		st X,r24
 2459               	.LVL144:
 2460               	.LBB885:
 2461               	.LBB886:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 2462               		.loc 7 16 0
 2463 09ac ED2D      		mov r30,r13
 2464               	.LVL145:
 2465 09ae FC2D      		mov r31,r12
 2466 09b0 DF01      		movw r26,r30
 2467 09b2 0D90      		ld __tmp_reg__,X+
 2468 09b4 0020      		tst __tmp_reg__
 2469 09b6 01F4      		brne .-6
 2470 09b8 CD01      		movw r24,r26
 2471 09ba 8E1B      		sub r24,r30
 2472 09bc 9F0B      		sbc r25,r31
 2473 09be 0196      		adiw r24,1
 2474 09c0 0E94 0000 		call malloc
 2475               	.LVL146:
 2476 09c4 B92E      		mov r11,r25
 2477 09c6 882E      		mov r8,r24
 2478 09c8 992E      		mov r9,r25
 2479               	.LVL147:
  18:concat/concat.h ****     strcpy(result, s1);
 2480               		.loc 7 18 0
 2481 09ca 80E2      		ldi r24,lo8(32)
 2482 09cc 90E0      		ldi r25,hi8(32)
 2483 09ce F401      		movw r30,r8
 2484 09d0 8083      		st Z,r24
 2485 09d2 9183      		std Z+1,r25
  19:concat/concat.h ****     strcat(result, s2);
 2486               		.loc 7 19 0
 2487 09d4 C401      		movw r24,r8
 2488 09d6 6D2D      		mov r22,r13
 2489 09d8 7C2D      		mov r23,r12
 2490 09da 0E94 0000 		call strcat
 2491               	.LVL148:
 2492               	.LBE886:
 2493               	.LBE885:
 2494               	.LBB887:
 2495               	.LBB888:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 2496               		.loc 7 16 0
 2497 09de D801      		movw r26,r16
 2498 09e0 FD01      		movw r30,r26
 2499 09e2 0190      		ld __tmp_reg__,Z+
 2500 09e4 0020      		tst __tmp_reg__
 2501 09e6 01F4      		brne .-6
 2502 09e8 9F01      		movw r18,r30
 2503 09ea 482D      		mov r20,r8
 2504 09ec 5B2D      		mov r21,r11
 2505 09ee FA01      		movw r30,r20
 2506 09f0 0190      		ld __tmp_reg__,Z+
 2507 09f2 0020      		tst __tmp_reg__
 2508 09f4 01F4      		brne .-6
 2509 09f6 CF01      		movw r24,r30
 2510 09f8 0197      		sbiw r24,1
 2511 09fa 841B      		sub r24,r20
 2512 09fc 950B      		sbc r25,r21
 2513 09fe 8A1B      		sub r24,r26
 2514 0a00 9B0B      		sbc r25,r27
 2515 0a02 820F      		add r24,r18
 2516 0a04 931F      		adc r25,r19
 2517 0a06 0E94 0000 		call malloc
 2518 0a0a 5C01      		movw r10,r24
 2519               	.LVL149:
  18:concat/concat.h ****     strcpy(result, s1);
 2520               		.loc 7 18 0
 2521 0a0c B801      		movw r22,r16
 2522 0a0e 0E94 0000 		call strcpy
 2523               	.LVL150:
  19:concat/concat.h ****     strcat(result, s2);
 2524               		.loc 7 19 0
 2525 0a12 C501      		movw r24,r10
 2526 0a14 B401      		movw r22,r8
 2527 0a16 0E94 0000 		call strcat
 2528               	.LBE888:
 2529               	.LBE887:
  71:nmea/nmea.h   ****     send_string(string_rep);
 2530               		.loc 8 71 0
 2531 0a1a C501      		movw r24,r10
 2532 0a1c 0E94 0000 		call send_string
  73:nmea/nmea.h   ****     gps->lat = atof(lat_str)/100.;
 2533               		.loc 8 73 0
 2534 0a20 C801      		movw r24,r16
 2535 0a22 0E94 0000 		call atof
 2536 0a26 20E0      		ldi r18,lo8(0x42c80000)
 2537 0a28 30E0      		ldi r19,hi8(0x42c80000)
 2538 0a2a 48EC      		ldi r20,hlo8(0x42c80000)
 2539 0a2c 52E4      		ldi r21,hhi8(0x42c80000)
 2540 0a2e 0E94 0000 		call __divsf3
 2541 0a32 DC01      		movw r26,r24
 2542 0a34 CB01      		movw r24,r22
 2543 0a36 F701      		movw r30,r14
 2544 0a38 8083      		st Z,r24
 2545 0a3a 9183      		std Z+1,r25
 2546 0a3c A283      		std Z+2,r26
 2547 0a3e B383      		std Z+3,r27
  76:nmea/nmea.h   ****     gps->lng = atof(lng_str)/100.;
 2548               		.loc 8 76 0
 2549 0a40 8D2D      		mov r24,r13
 2550 0a42 9C2D      		mov r25,r12
 2551 0a44 0E94 0000 		call atof
 2552 0a48 20E0      		ldi r18,lo8(0x42c80000)
 2553 0a4a 30E0      		ldi r19,hi8(0x42c80000)
 2554 0a4c 48EC      		ldi r20,hlo8(0x42c80000)
 2555 0a4e 52E4      		ldi r21,hhi8(0x42c80000)
 2556 0a50 0E94 0000 		call __divsf3
 2557 0a54 DC01      		movw r26,r24
 2558 0a56 CB01      		movw r24,r22
 2559 0a58 F701      		movw r30,r14
 2560 0a5a 8483      		std Z+4,r24
 2561 0a5c 9583      		std Z+5,r25
 2562 0a5e A683      		std Z+6,r26
 2563 0a60 B783      		std Z+7,r27
 2564 0a62 00C0      		rjmp .L84
 2565               	.LBE884:
 2566               		.cfi_endproc
 2567               	.LFE64:
 2569               		.data
 2570               	.LC2:
 2571 0010 2447 5052 		.string	"$GPRMC,71.132,A,4230.00,N,-7130.00,E,11.2,0.0,261206,0.0,E*50\r\n"
 2571      4D43 2C37 
 2571      312E 3133 
 2571      322C 412C 
 2571      3432 3330 
 2572               	.LC3:
 2573 0050 2566 00   		.string	"%f"
 2574               		.text
 2575               	.global	parse_nmea
 2577               	parse_nmea:
 2578               	.LFB65:
  84:nmea/nmea.h   **** 
  85:nmea/nmea.h   **** 
  86:nmea/nmea.h   **** char* parse_nmea(void) {
 2579               		.loc 8 86 0
 2580               		.cfi_startproc
 2581 0a64 2F92      		push r2
 2582               	.LCFI77:
 2583               		.cfi_def_cfa_offset 3
 2584               		.cfi_offset 2, -2
 2585 0a66 3F92      		push r3
 2586               	.LCFI78:
 2587               		.cfi_def_cfa_offset 4
 2588               		.cfi_offset 3, -3
 2589 0a68 4F92      		push r4
 2590               	.LCFI79:
 2591               		.cfi_def_cfa_offset 5
 2592               		.cfi_offset 4, -4
 2593 0a6a 5F92      		push r5
 2594               	.LCFI80:
 2595               		.cfi_def_cfa_offset 6
 2596               		.cfi_offset 5, -5
 2597 0a6c 6F92      		push r6
 2598               	.LCFI81:
 2599               		.cfi_def_cfa_offset 7
 2600               		.cfi_offset 6, -6
 2601 0a6e 7F92      		push r7
 2602               	.LCFI82:
 2603               		.cfi_def_cfa_offset 8
 2604               		.cfi_offset 7, -7
 2605 0a70 8F92      		push r8
 2606               	.LCFI83:
 2607               		.cfi_def_cfa_offset 9
 2608               		.cfi_offset 8, -8
 2609 0a72 9F92      		push r9
 2610               	.LCFI84:
 2611               		.cfi_def_cfa_offset 10
 2612               		.cfi_offset 9, -9
 2613 0a74 AF92      		push r10
 2614               	.LCFI85:
 2615               		.cfi_def_cfa_offset 11
 2616               		.cfi_offset 10, -10
 2617 0a76 BF92      		push r11
 2618               	.LCFI86:
 2619               		.cfi_def_cfa_offset 12
 2620               		.cfi_offset 11, -11
 2621 0a78 CF92      		push r12
 2622               	.LCFI87:
 2623               		.cfi_def_cfa_offset 13
 2624               		.cfi_offset 12, -12
 2625 0a7a DF92      		push r13
 2626               	.LCFI88:
 2627               		.cfi_def_cfa_offset 14
 2628               		.cfi_offset 13, -13
 2629 0a7c EF92      		push r14
 2630               	.LCFI89:
 2631               		.cfi_def_cfa_offset 15
 2632               		.cfi_offset 14, -14
 2633 0a7e FF92      		push r15
 2634               	.LCFI90:
 2635               		.cfi_def_cfa_offset 16
 2636               		.cfi_offset 15, -15
 2637 0a80 0F93      		push r16
 2638               	.LCFI91:
 2639               		.cfi_def_cfa_offset 17
 2640               		.cfi_offset 16, -16
 2641 0a82 1F93      		push r17
 2642               	.LCFI92:
 2643               		.cfi_def_cfa_offset 18
 2644               		.cfi_offset 17, -17
 2645 0a84 CF93      		push r28
 2646               	.LCFI93:
 2647               		.cfi_def_cfa_offset 19
 2648               		.cfi_offset 28, -18
 2649 0a86 DF93      		push r29
 2650               	.LCFI94:
 2651               		.cfi_def_cfa_offset 20
 2652               		.cfi_offset 29, -19
 2653 0a88 CDB7      		in r28,__SP_L__
 2654 0a8a DEB7      		in r29,__SP_H__
 2655 0a8c CF53      		subi r28,lo8(-(-319))
 2656 0a8e D140      		sbci r29,hi8(-(-319))
 2657               	.LCFI95:
 2658               		.cfi_def_cfa 28, 339
 2659 0a90 CDBF      		out __SP_L__,r28
 2660 0a92 DEBF      		out __SP_H__,r29
 2661               	/* prologue: function */
 2662               	/* frame size = 319 */
 2663               	/* stack size = 337 */
 2664               	.L__stack_usage = 337
 2665               	.LVL151:
  87:nmea/nmea.h   ****  
  88:nmea/nmea.h   ****     char *buff = "$GPRMC,71.132,A,4230.00,N,-7130.00,E,11.2,0.0,261206,0.0,E*50\r\n";
  89:nmea/nmea.h   **** 
  90:nmea/nmea.h   ****     //latlng struct to store gps data in
  91:nmea/nmea.h   ****   
  92:nmea/nmea.h   ****     latlng gps;
  93:nmea/nmea.h   **** 
  94:nmea/nmea.h   ****     //parse lat and lng out of raw nmea string
  95:nmea/nmea.h   ****     parse_nmea_string(buff, &gps);
 2666               		.loc 8 95 0
 2667 0a94 80E0      		ldi r24,lo8(.LC2)
 2668 0a96 90E0      		ldi r25,hi8(.LC2)
 2669 0a98 BE01      		movw r22,r28
 2670 0a9a 6F5F      		subi r22,lo8(-(1))
 2671 0a9c 7F4F      		sbci r23,hi8(-(1))
 2672 0a9e 0E94 0000 		call parse_nmea_string
  96:nmea/nmea.h   **** 
  97:nmea/nmea.h   ****     double dist = distance(gps.lat, gps.lng);
 2673               		.loc 8 97 0
 2674 0aa2 C980      		ldd r12,Y+1
 2675 0aa4 DA80      		ldd r13,Y+2
 2676 0aa6 EB80      		ldd r14,Y+3
 2677 0aa8 FC80      		ldd r15,Y+4
 2678 0aaa 2D81      		ldd r18,Y+5
 2679 0aac 3E81      		ldd r19,Y+6
 2680 0aae 4F81      		ldd r20,Y+7
 2681 0ab0 5885      		ldd r21,Y+8
 2682 0ab2 C701      		movw r24,r14
 2683 0ab4 B601      		movw r22,r12
 2684 0ab6 0E94 0000 		call distance
 2685 0aba 4B01      		movw r8,r22
 2686 0abc 5C01      		movw r10,r24
 2687               	.LVL152:
  98:nmea/nmea.h   **** 
  99:nmea/nmea.h   ****     char** result = malloc(30 * sizeof(char*));
 2688               		.loc 8 99 0
 2689 0abe 8CE3      		ldi r24,lo8(60)
 2690 0ac0 90E0      		ldi r25,hi8(60)
 2691 0ac2 0E94 0000 		call malloc
 2692               	.LVL153:
 2693 0ac6 C45C      		subi r28,lo8(-316)
 2694 0ac8 DE4F      		sbci r29,hi8(-316)
 2695 0aca 8883      		st Y,r24
 2696 0acc CC53      		subi r28,lo8(316)
 2697 0ace D140      		sbci r29,hi8(316)
 2698 0ad0 C35C      		subi r28,lo8(-317)
 2699 0ad2 DE4F      		sbci r29,hi8(-317)
 2700 0ad4 9883      		st Y,r25
 2701 0ad6 CD53      		subi r28,lo8(317)
 2702 0ad8 D140      		sbci r29,hi8(317)
 2703               	.LVL154:
 100:nmea/nmea.h   **** 
 101:nmea/nmea.h   ****     if (dist > max_dist) {
 2704               		.loc 8 101 0
 2705 0ada C501      		movw r24,r10
 2706 0adc B401      		movw r22,r8
 2707 0ade 2091 0000 		lds r18,max_dist
 2708 0ae2 3091 0000 		lds r19,max_dist+1
 2709 0ae6 4091 0000 		lds r20,max_dist+2
 2710 0aea 5091 0000 		lds r21,max_dist+3
 2711 0aee 0E94 0000 		call __gtsf2
 2712 0af2 1816      		cp __zero_reg__,r24
 2713 0af4 04F4      		brge .+2
 2714 0af6 00C0      		rjmp .L206
 2715               	.LVL155:
 2716               	.L92:
 2717               	.LBB1386:
 2718               	.LBB1387:
 2719               	.LBB1388:
 2720               	.LBB1389:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 2721               		.loc 2 110 0
 2722 0af8 81E0      		ldi r24,lo8(1)
 2723 0afa 8093 0000 		sts ep_in_data+1,r24
 2724               	.LVL156:
 2725               	.LBB1390:
 2726               	.LBB1391:
 2727               	.LBB1392:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 2728               		.loc 2 80 0
 2729 0afe 5FB7      		in r21,__SREG__
 2730               	.LVL157:
 2731               	.LBB1393:
 2732               	.LBB1394:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 2733               		.loc 3 50 0
 2734               	/* #APP */
 2735               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 2736 0b00 F894      		cli
 2737               	 ;  0 "" 2
 2738               	.LVL158:
 2739               	/* #NOAPP */
 2740               	.LBE1394:
 2741               	.LBE1393:
 2742               	.LBB1395:
 2743               	.LBB1396:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 2744               		.loc 5 220 0
 2745 0b02 8091 0000 		lds r24,endpoints+24
 2746 0b06 8670      		andi r24,lo8(6)
 2747               	.LBE1396:
 2748               	.LBE1395:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 2749               		.loc 2 82 0
 2750 0b08 01F0      		breq .L170
 2751               	.LBB1397:
 2752               	.LBB1398:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 2753               		.loc 4 51 0
 2754 0b0a 4091 0000 		lds r20,ep_in_pipe_data+4
 2755               	.LBE1398:
 2756               	.LBE1397:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 2757               		.loc 2 83 0
 2758 0b0e 1416      		cp __zero_reg__,r20
 2759 0b10 04F0      		brlt .+2
 2760 0b12 00C0      		rjmp .L171
 2761               	.LBB1399:
 2762               	.LBB1400:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 2763               		.loc 4 62 0
 2764 0b14 8091 0000 		lds r24,ep_in_pipe_data
 2765 0b18 9091 0000 		lds r25,ep_in_pipe_data+1
 2766               	.LVL159:
 2767               	.LBE1400:
 2768               	.LBE1399:
 2769               	.LBB1401:
 2770               	.LBB1402:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 2771               		.loc 2 68 0
 2772 0b1c 2091 0000 		lds r18,ep_in_data
 2773               	.LVL160:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 2774               		.loc 2 69 0
 2775 0b20 31E0      		ldi r19,lo8(1)
 2776 0b22 2130      		cpi r18,lo8(1)
 2777 0b24 01F4      		brne .L172
 2778 0b26 30E0      		ldi r19,lo8(0)
 2779               	.L172:
 2780 0b28 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 2781               		.loc 2 72 0
 2782 0b2c 2223      		tst r18
 2783 0b2e 01F0      		breq .+2
 2784 0b30 00C0      		rjmp .L173
 2785               	.LVL161:
 2786               	.LBB1403:
 2787               	.LBB1404:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 2788               		.loc 5 168 0
 2789 0b32 8093 0000 		sts endpoints+28,r24
 2790 0b36 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 2791               		.loc 5 169 0
 2792 0b3a 20E4      		ldi r18,lo8(64)
 2793 0b3c 30E0      		ldi r19,hi8(64)
 2794 0b3e 2093 0000 		sts endpoints+26,r18
 2795 0b42 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 2796               		.loc 5 174 0
 2797 0b46 E0E0      		ldi r30,lo8(endpoints+24)
 2798 0b48 F0E0      		ldi r31,hi8(endpoints+24)
 2799               	/* #APP */
 2800               	 ;  174 "usb/usb.h" 1
 2801 0b4a 02E2      		ldi r16, 34
 2802 0b4c 0693      		.dc.w 0x9306
 2803               		
 2804               	 ;  0 "" 2
 2805               	.LVL162:
 2806               	/* #NOAPP */
 2807               	.L174:
 2808               	.LBE1404:
 2809               	.LBE1403:
 2810               	.LBE1402:
 2811               	.LBE1401:
 2812               	.LBB1408:
 2813               	.LBB1409:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 2814               		.loc 4 72 0
 2815 0b4e 4150      		subi r20,lo8(-(-1))
 2816 0b50 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 2817               		.loc 4 73 0
 2818 0b54 805C      		subi r24,lo8(-(64))
 2819 0b56 9F4F      		sbci r25,hi8(-(64))
 2820 0b58 8093 0000 		sts ep_in_pipe_data,r24
 2821 0b5c 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 2822               		.loc 4 75 0
 2823 0b60 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 2824 0b62 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 2825 0b64 9B07      		cpc r25,r27
 2826 0b66 01F4      		brne .+2
 2827 0b68 00C0      		rjmp .L207
 2828               	.LVL163:
 2829               	.L170:
 2830               	.LBE1409:
 2831               	.LBE1408:
 2832               	.LBB1411:
 2833               	.LBB1412:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 2834               		.loc 3 70 0
 2835 0b6a 5FBF      		out __SREG__,r21
 2836               		.loc 3 71 0
 2837               	.LBE1412:
 2838               	.LBE1411:
 2839               	.LBE1392:
 2840               	.LBE1391:
 2841               	.LBE1390:
 2842               	.LBE1389:
 2843               	.LBE1388:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 2844               		.loc 1 27 0
 2845 0b6c 82E0      		ldi r24,lo8(2)
 2846 0b6e E0EC      		ldi r30,lo8(1216)
 2847 0b70 F4E0      		ldi r31,hi8(1216)
 2848 0b72 8587      		std Z+13,r24
 2849               	.LBB1442:
 2850               	.LBB1443:
 2851               	.LBB1444:
 2852               	.LBB1445:
 2853               	.LBB1446:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 2854               		.loc 4 57 0
 2855 0b74 96E0      		ldi r25,lo8(6)
 2856               	.L179:
 2857               	.LVL164:
 2858               	.LBE1446:
 2859               	.LBE1445:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 2860               		.loc 2 123 0
 2861 0b76 2FB7      		in r18,__SREG__
 2862               	.LVL165:
 2863               	.LBB1448:
 2864               	.LBB1449:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 2865               		.loc 3 50 0
 2866               	/* #APP */
 2867               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 2868 0b78 F894      		cli
 2869               	 ;  0 "" 2
 2870               	.LVL166:
 2871               	/* #NOAPP */
 2872               	.LBE1449:
 2873               	.LBE1448:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 2874               		.loc 2 124 0
 2875 0b7a 8091 0000 		lds r24,ep_in_data+1
 2876 0b7e 8823      		tst r24
 2877 0b80 01F4      		brne .+2
 2878 0b82 00C0      		rjmp .L208
 2879               	.L189:
 125:usb/usb_pipe.h **** 			r = false;
 2880               		.loc 2 125 0
 2881 0b84 80E0      		ldi r24,lo8(0)
 2882               	.L181:
 2883               	.LBB1450:
 2884               	.LBB1451:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 2885               		.loc 3 70 0
 2886 0b86 2FBF      		out __SREG__,r18
 2887               		.loc 3 71 0
 2888               	.LBE1451:
 2889               	.LBE1450:
 2890               	.LBE1444:
 2891               	.LBE1443:
 2892               	.LBE1442:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 2893               		.loc 1 28 0
 2894 0b88 8823      		tst r24
 2895 0b8a 01F4      		brne .L180
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 2896               		.loc 1 29 0
 2897 0b8c 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 2898 0b90 8823      		tst r24
 2899 0b92 01F0      		breq .L179
 2900               	.LVL167:
 2901               	.LBB1455:
 2902               	.LBB1456:
 2903               	.LBB1457:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 2904               		.loc 2 54 0
 2905 0b94 2FB7      		in r18,__SREG__
 2906               	.LVL168:
 2907               	.LBB1458:
 2908               	.LBB1459:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 2909               		.loc 3 50 0
 2910               	/* #APP */
 2911               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 2912 0b96 F894      		cli
 2913               	 ;  0 "" 2
 2914               	.LVL169:
 2915               	/* #NOAPP */
 2916               	.LBE1459:
 2917               	.LBE1458:
 2918               	.LBB1460:
 2919               	.LBB1461:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 2920               		.loc 4 90 0
 2921 0b98 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 2922               		.loc 4 91 0
 2923 0b9c 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 2924 0b9e 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 2925 0ba0 8093 0000 		sts ep_in_pipe_data+2,r24
 2926 0ba4 9093 0000 		sts ep_in_pipe_data+2+1,r25
 2927 0ba8 8093 0000 		sts ep_in_pipe_data,r24
 2928 0bac 9093 0000 		sts ep_in_pipe_data+1,r25
 2929               	.LVL170:
 2930               	.LBE1461:
 2931               	.LBE1460:
 2932               	.LBB1462:
 2933               	.LBB1463:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 2934               		.loc 5 158 0
 2935 0bb0 E0E0      		ldi r30,lo8(endpoints+24)
 2936 0bb2 F0E0      		ldi r31,hi8(endpoints+24)
 2937               	/* #APP */
 2938               	 ;  158 "usb/usb.h" 1
 2939 0bb4 06E0      		ldi r16, 6
 2940 0bb6 0593      		.dc.w 0x9305
 2941               		
 2942               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 2943               		.loc 5 159 0
 2944               	 ;  159 "usb/usb.h" 1
 2945 0bb8 08E0      		ldi r16, 8
 2946 0bba 0693      		.dc.w 0x9306
 2947               		
 2948               	 ;  0 "" 2
 2949               	/* #NOAPP */
 2950               	.LBE1463:
 2951               	.LBE1462:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 2952               		.loc 2 57 0
 2953 0bbc 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 2954               		.loc 2 58 0
 2955 0bc0 1092 0000 		sts ep_in_data+2,__zero_reg__
 2956 0bc4 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 2957               		.loc 2 59 0
 2958 0bc8 1092 0000 		sts ep_in_data,__zero_reg__
 2959               	.LVL171:
 2960               	.LBB1464:
 2961               	.LBB1465:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 2962               		.loc 3 70 0
 2963 0bcc 2FBF      		out __SREG__,r18
 2964               		.loc 3 71 0
 2965               	.LVL172:
 2966               	.L180:
 2967               	.LBE1465:
 2968               	.LBE1464:
 2969               	.LBE1457:
 2970               	.LBE1456:
 2971               	.LBE1455:
 2972               	.LBE1387:
 2973               	.LBE1386:
 102:nmea/nmea.h   **** 
 103:nmea/nmea.h   ****       char lat_buff[100];
 104:nmea/nmea.h   ****       char lng_buff[100];
 105:nmea/nmea.h   ****       char dist_buff[100];
 106:nmea/nmea.h   **** 
 107:nmea/nmea.h   ****       sprintf(lat_buff, "%f", gps.lat);
 108:nmea/nmea.h   ****       sprintf(lng_buff, "%f", gps.lng);
 109:nmea/nmea.h   ****       sprintf(dist_buff, "%f", dist);
 110:nmea/nmea.h   **** 
 111:nmea/nmea.h   ****       //determine how many characters are in the gps latitude and longitude strings
 112:nmea/nmea.h   ****       int len_lat = strlen(lat_buff);
 113:nmea/nmea.h   ****       int len_lng = strlen(lng_buff);
 114:nmea/nmea.h   ****       int len_dist = strlen(dist_buff);
 115:nmea/nmea.h   **** 
 116:nmea/nmea.h   ****       //iterate over lat and lng strings, sending them char by char over usb
 117:nmea/nmea.h   ****       for (int i=0; i<len_lat; i++) {
 118:nmea/nmea.h   ****         send_byte(lat_buff[i]);  
 119:nmea/nmea.h   ****       }
 120:nmea/nmea.h   **** 
 121:nmea/nmea.h   ****       //lat/lng seperator 
 122:nmea/nmea.h   ****       send_byte(' ');  
 123:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 124:nmea/nmea.h   ****         send_byte(lng_buff[j]);  
 125:nmea/nmea.h   ****       }
 126:nmea/nmea.h   **** 
 127:nmea/nmea.h   ****             //lat/lng seperator 
 128:nmea/nmea.h   ****       send_byte(' ');  
 129:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 130:nmea/nmea.h   ****         send_byte(dist_buff[k]);  
 131:nmea/nmea.h   ****       }
 132:nmea/nmea.h   **** 
 133:nmea/nmea.h   ****       char* lat_str = &lat_buff[0];
 134:nmea/nmea.h   ****       char* lng_str = &lng_buff[0];
 135:nmea/nmea.h   ****       *result = concat(concat(lat_str, ","), lng_str);
 136:nmea/nmea.h   ****     }
 137:nmea/nmea.h   **** 
 138:nmea/nmea.h   ****     //presumably has to do with memory management
 139:nmea/nmea.h   ****     //for now, just make sure to call if after you're done sending bytes over usb
 140:nmea/nmea.h   ****     break_and_flush();
 141:nmea/nmea.h   ****     return *result;
 142:nmea/nmea.h   **** }
 2974               		.loc 8 142 0
 2975 0bce C45C      		subi r28,lo8(-316)
 2976 0bd0 DE4F      		sbci r29,hi8(-316)
 2977 0bd2 E881      		ld r30,Y
 2978 0bd4 F981      		ldd r31,Y+1
 2979 0bd6 CC53      		subi r28,lo8(316)
 2980 0bd8 D140      		sbci r29,hi8(316)
 2981 0bda 8081      		ld r24,Z
 2982 0bdc 9181      		ldd r25,Z+1
 2983               	/* epilogue start */
 2984 0bde C15C      		subi r28,lo8(-(319))
 2985 0be0 DE4F      		sbci r29,hi8(-(319))
 2986 0be2 CDBF      		out __SP_L__,r28
 2987 0be4 DEBF      		out __SP_H__,r29
 2988 0be6 DF91      		pop r29
 2989 0be8 CF91      		pop r28
 2990 0bea 1F91      		pop r17
 2991 0bec 0F91      		pop r16
 2992 0bee FF90      		pop r15
 2993 0bf0 EF90      		pop r14
 2994 0bf2 DF90      		pop r13
 2995 0bf4 CF90      		pop r12
 2996 0bf6 BF90      		pop r11
 2997 0bf8 AF90      		pop r10
 2998 0bfa 9F90      		pop r9
 2999 0bfc 8F90      		pop r8
 3000 0bfe 7F90      		pop r7
 3001 0c00 6F90      		pop r6
 3002 0c02 5F90      		pop r5
 3003 0c04 4F90      		pop r4
 3004 0c06 3F90      		pop r3
 3005 0c08 2F90      		pop r2
 3006 0c0a 0895      		ret
 3007               	.LVL173:
 3008               	.L208:
 3009               	.LBB1473:
 3010               	.LBB1470:
 3011               	.LBB1466:
 3012               	.LBB1454:
 3013               	.LBB1453:
 3014               	.LBB1452:
 3015               	.LBB1447:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3016               		.loc 4 57 0
 3017 0c0c 8091 0000 		lds r24,ep_in_pipe_data+4
 3018 0c10 392F      		mov r19,r25
 3019 0c12 381B      		sub r19,r24
 3020               	.LBE1447:
 3021               	.LBE1452:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 3022               		.loc 2 127 0
 3023 0c14 81E0      		ldi r24,lo8(1)
 3024 0c16 1316      		cp __zero_reg__,r19
 3025 0c18 04F4      		brge .+2
 3026 0c1a 00C0      		rjmp .L181
 3027 0c1c 00C0      		rjmp .L189
 3028               	.LVL174:
 3029               	.L173:
 3030               	.LBE1453:
 3031               	.LBE1454:
 3032               	.LBE1466:
 3033               	.LBB1467:
 3034               	.LBB1439:
 3035               	.LBB1436:
 3036               	.LBB1433:
 3037               	.LBB1430:
 3038               	.LBB1413:
 3039               	.LBB1407:
 3040               	.LBB1405:
 3041               	.LBB1406:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 3042               		.loc 5 168 0
 3043 0c1e 8093 0000 		sts endpoints+20,r24
 3044 0c22 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3045               		.loc 5 169 0
 3046 0c26 20E4      		ldi r18,lo8(64)
 3047 0c28 30E0      		ldi r19,hi8(64)
 3048               	.LVL175:
 3049 0c2a 2093 0000 		sts endpoints+18,r18
 3050 0c2e 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 3051               		.loc 5 176 0
 3052 0c32 E0E0      		ldi r30,lo8(endpoints+24)
 3053 0c34 F0E0      		ldi r31,hi8(endpoints+24)
 3054               	/* #APP */
 3055               	 ;  176 "usb/usb.h" 1
 3056 0c36 04E1      		ldi r16, 20
 3057 0c38 0693      		.dc.w 0x9306
 3058               		
 3059               	 ;  0 "" 2
 3060               	/* #NOAPP */
 3061 0c3a 00C0      		rjmp .L174
 3062               	.LVL176:
 3063               	.L207:
 3064               	.LBE1406:
 3065               	.LBE1405:
 3066               	.LBE1407:
 3067               	.LBE1413:
 3068               	.LBB1414:
 3069               	.LBB1410:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 3070               		.loc 4 76 0
 3071 0c3c 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 3072 0c3e 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 3073 0c40 8093 0000 		sts ep_in_pipe_data,r24
 3074 0c44 9093 0000 		sts ep_in_pipe_data+1,r25
 3075 0c48 00C0      		rjmp .L170
 3076               	.LVL177:
 3077               	.L171:
 3078               	.LBE1410:
 3079               	.LBE1414:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 3080               		.loc 2 87 0
 3081 0c4a 8091 0000 		lds r24,ep_in_data+1
 3082 0c4e 8130      		cpi r24,lo8(1)
 3083 0c50 01F4      		brne .+2
 3084 0c52 00C0      		rjmp .L209
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 3085               		.loc 2 91 0
 3086 0c54 8230      		cpi r24,lo8(2)
 3087 0c56 01F0      		breq .+2
 3088 0c58 00C0      		rjmp .L170
 3089               	.LVL178:
 3090               	.LBB1415:
 3091               	.LBB1416:
 3092               	.LBB1417:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 3093               		.loc 5 228 0
 3094 0c5a 8091 0000 		lds r24,endpoints+24
 3095 0c5e 8670      		andi r24,lo8(6)
 3096               	.LBE1417:
 3097               	.LBE1416:
 3098               	.LBE1415:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 3099               		.loc 2 91 0
 3100 0c60 8630      		cpi r24,lo8(6)
 3101 0c62 01F0      		breq .+2
 3102 0c64 00C0      		rjmp .L170
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 3103               		.loc 2 92 0
 3104 0c66 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 3105               		.loc 2 93 0
 3106 0c6a 1092 0000 		sts ep_in_data+2,__zero_reg__
 3107 0c6e 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 3108               	.LBB1418:
 3109               	.LBB1419:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 3110               		.loc 4 90 0
 3111 0c72 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 3112               		.loc 4 91 0
 3113 0c76 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 3114 0c78 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 3115 0c7a 8093 0000 		sts ep_in_pipe_data+2,r24
 3116 0c7e 9093 0000 		sts ep_in_pipe_data+2+1,r25
 3117 0c82 8093 0000 		sts ep_in_pipe_data,r24
 3118 0c86 9093 0000 		sts ep_in_pipe_data+1,r25
 3119               	.LVL179:
 3120 0c8a 00C0      		rjmp .L170
 3121               	.LVL180:
 3122               	.L206:
 3123               	.LBE1419:
 3124               	.LBE1418:
 3125               	.LBE1430:
 3126               	.LBE1433:
 3127               	.LBE1436:
 3128               	.LBE1439:
 3129               	.LBE1467:
 3130               	.LBE1470:
 3131               	.LBE1473:
 3132               	.LBB1474:
 107:nmea/nmea.h   ****       sprintf(lat_buff, "%f", gps.lat);
 3133               		.loc 8 107 0
 3134 0c8c 2DB7      		in r18,__SP_L__
 3135 0c8e 3EB7      		in r19,__SP_H__
 3136 0c90 2850      		subi r18,lo8(-(-8))
 3137 0c92 3040      		sbci r19,hi8(-(-8))
 3138 0c94 2DBF      		out __SP_L__,r18
 3139 0c96 3EBF      		out __SP_H__,r19
 3140 0c98 EDB7      		in r30,__SP_L__
 3141 0c9a FEB7      		in r31,__SP_H__
 3142 0c9c 3196      		adiw r30,1
 3143 0c9e 52ED      		ldi r21,lo8(210)
 3144 0ca0 652E      		mov r6,r21
 3145 0ca2 712C      		mov r7,__zero_reg__
 3146 0ca4 6C0E      		add r6,r28
 3147 0ca6 7D1E      		adc r7,r29
 3148 0ca8 ADB7      		in r26,__SP_L__
 3149 0caa BEB7      		in r27,__SP_H__
 3150 0cac 1196      		adiw r26,1
 3151 0cae 6D92      		st X+,r6
 3152 0cb0 7C92      		st X,r7
 3153 0cb2 1297      		sbiw r26,1+1
 3154 0cb4 60E0      		ldi r22,lo8(.LC3)
 3155 0cb6 262E      		mov r2,r22
 3156 0cb8 60E0      		ldi r22,hi8(.LC3)
 3157 0cba 362E      		mov r3,r22
 3158 0cbc 2282      		std Z+2,r2
 3159 0cbe 3382      		std Z+3,r3
 3160 0cc0 C482      		std Z+4,r12
 3161 0cc2 D582      		std Z+5,r13
 3162 0cc4 E682      		std Z+6,r14
 3163 0cc6 F782      		std Z+7,r15
 3164               		.cfi_escape 0x2e,0x8
 3165 0cc8 0E94 0000 		call sprintf
 108:nmea/nmea.h   ****       sprintf(lng_buff, "%f", gps.lng);
 3166               		.loc 8 108 0
 3167 0ccc EDB7      		in r30,__SP_L__
 3168 0cce FEB7      		in r31,__SP_H__
 3169 0cd0 3196      		adiw r30,1
 3170 0cd2 7EE6      		ldi r23,lo8(110)
 3171 0cd4 472E      		mov r4,r23
 3172 0cd6 512C      		mov r5,__zero_reg__
 3173 0cd8 4C0E      		add r4,r28
 3174 0cda 5D1E      		adc r5,r29
 3175 0cdc ADB7      		in r26,__SP_L__
 3176 0cde BEB7      		in r27,__SP_H__
 3177 0ce0 1196      		adiw r26,1
 3178 0ce2 4D92      		st X+,r4
 3179 0ce4 5C92      		st X,r5
 3180 0ce6 1297      		sbiw r26,1+1
 3181 0ce8 2282      		std Z+2,r2
 3182 0cea 3382      		std Z+3,r3
 3183 0cec 8D81      		ldd r24,Y+5
 3184 0cee 9E81      		ldd r25,Y+6
 3185 0cf0 AF81      		ldd r26,Y+7
 3186 0cf2 B885      		ldd r27,Y+8
 3187 0cf4 8483      		std Z+4,r24
 3188 0cf6 9583      		std Z+5,r25
 3189 0cf8 A683      		std Z+6,r26
 3190 0cfa B783      		std Z+7,r27
 3191 0cfc 0E94 0000 		call sprintf
 109:nmea/nmea.h   ****       sprintf(dist_buff, "%f", dist);
 3192               		.loc 8 109 0
 3193 0d00 EDB7      		in r30,__SP_L__
 3194 0d02 FEB7      		in r31,__SP_H__
 3195 0d04 3196      		adiw r30,1
 3196 0d06 9E01      		movw r18,r28
 3197 0d08 265F      		subi r18,lo8(-(10))
 3198 0d0a 3F4F      		sbci r19,hi8(-(10))
 3199 0d0c CA5C      		subi r28,lo8(-310)
 3200 0d0e DE4F      		sbci r29,hi8(-310)
 3201 0d10 2883      		st Y,r18
 3202 0d12 3983      		std Y+1,r19
 3203 0d14 C653      		subi r28,lo8(310)
 3204 0d16 D140      		sbci r29,hi8(310)
 3205 0d18 ADB7      		in r26,__SP_L__
 3206 0d1a BEB7      		in r27,__SP_H__
 3207 0d1c 1196      		adiw r26,1
 3208 0d1e 2D93      		st X+,r18
 3209 0d20 3C93      		st X,r19
 3210 0d22 1297      		sbiw r26,1+1
 3211 0d24 2282      		std Z+2,r2
 3212 0d26 3382      		std Z+3,r3
 3213 0d28 8482      		std Z+4,r8
 3214 0d2a 9582      		std Z+5,r9
 3215 0d2c A682      		std Z+6,r10
 3216 0d2e B782      		std Z+7,r11
 3217 0d30 0E94 0000 		call sprintf
 112:nmea/nmea.h   ****       int len_lat = strlen(lat_buff);
 3218               		.loc 8 112 0
 3219 0d34 F301      		movw r30,r6
 3220 0d36 0190      		ld __tmp_reg__,Z+
 3221 0d38 0020      		tst __tmp_reg__
 3222 0d3a 01F4      		brne .-6
 3223 0d3c 3197      		sbiw r30,1
 3224 0d3e E619      		sub r30,r6
 3225 0d40 F709      		sbc r31,r7
 3226               	.LVL181:
 113:nmea/nmea.h   ****       int len_lng = strlen(lng_buff);
 3227               		.loc 8 113 0
 3228 0d42 D201      		movw r26,r4
 3229 0d44 0D90      		ld __tmp_reg__,X+
 3230 0d46 0020      		tst __tmp_reg__
 3231 0d48 01F4      		brne .-6
 3232 0d4a 1197      		sbiw r26,1
 3233 0d4c A419      		sub r26,r4
 3234 0d4e B509      		sbc r27,r5
 3235 0d50 C65C      		subi r28,lo8(-314)
 3236 0d52 DE4F      		sbci r29,hi8(-314)
 3237 0d54 A883      		st Y,r26
 3238 0d56 B983      		std Y+1,r27
 3239 0d58 CA53      		subi r28,lo8(314)
 3240 0d5a D140      		sbci r29,hi8(314)
 3241               	.LVL182:
 114:nmea/nmea.h   ****       int len_dist = strlen(dist_buff);
 3242               		.loc 8 114 0
 3243 0d5c CA5C      		subi r28,lo8(-310)
 3244 0d5e DE4F      		sbci r29,hi8(-310)
 3245 0d60 A881      		ld r26,Y
 3246 0d62 B981      		ldd r27,Y+1
 3247 0d64 C653      		subi r28,lo8(310)
 3248 0d66 D140      		sbci r29,hi8(310)
 3249               	.LVL183:
 3250 0d68 0D90      		ld __tmp_reg__,X+
 3251 0d6a 0020      		tst __tmp_reg__
 3252 0d6c 01F4      		brne .-6
 3253 0d6e 1197      		sbiw r26,1
 3254 0d70 CA5C      		subi r28,lo8(-310)
 3255 0d72 DE4F      		sbci r29,hi8(-310)
 3256 0d74 2881      		ld r18,Y
 3257 0d76 3981      		ldd r19,Y+1
 3258 0d78 C653      		subi r28,lo8(310)
 3259 0d7a D140      		sbci r29,hi8(310)
 3260 0d7c A21B      		sub r26,r18
 3261 0d7e B30B      		sbc r27,r19
 3262 0d80 C85C      		subi r28,lo8(-312)
 3263 0d82 DE4F      		sbci r29,hi8(-312)
 3264 0d84 A883      		st Y,r26
 3265 0d86 B983      		std Y+1,r27
 3266 0d88 C853      		subi r28,lo8(312)
 3267 0d8a D140      		sbci r29,hi8(312)
 3268               	.LVL184:
 3269               	.LBB1475:
 117:nmea/nmea.h   ****       for (int i=0; i<len_lat; i++) {
 3270               		.loc 8 117 0
 3271 0d8c 8DB7      		in r24,__SP_L__
 3272 0d8e 9EB7      		in r25,__SP_H__
 3273 0d90 0896      		adiw r24,8
 3274 0d92 8DBF      		out __SP_L__,r24
 3275 0d94 9EBF      		out __SP_H__,r25
 3276 0d96 1E16      		cp __zero_reg__,r30
 3277 0d98 1F06      		cpc __zero_reg__,r31
 3278 0d9a 04F0      		brlt .+2
 3279 0d9c 00C0      		rjmp .L112
 3280 0d9e 4301      		movw r8,r6
 3281               	.LVL185:
  86:nmea/nmea.h   **** char* parse_nmea(void) {
 3282               		.loc 8 86 0
 3283 0da0 D301      		movw r26,r6
 3284               	.LVL186:
 3285 0da2 AE0F      		add r26,r30
 3286 0da4 BF1F      		adc r27,r31
 3287 0da6 C25C      		subi r28,lo8(-318)
 3288 0da8 DE4F      		sbci r29,hi8(-318)
 3289 0daa A883      		st Y,r26
 3290 0dac B983      		std Y+1,r27
 3291 0dae CE53      		subi r28,lo8(318)
 3292 0db0 D140      		sbci r29,hi8(318)
 3293               	.LBB1476:
 3294               	.LBB1477:
 3295               	.LBB1478:
 3296               	.LBB1479:
 3297               	.LBB1480:
 3298               	.LBB1481:
 3299               	.LBB1482:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3300               		.loc 4 57 0
 3301 0db2 56E0      		ldi r21,lo8(6)
 3302               	.LBE1482:
 3303               	.LBE1481:
 3304               	.LBE1480:
 3305               	.LBE1479:
 3306               	.LBE1478:
 3307               	.LBB1493:
 3308               	.LBB1494:
 3309               	.LBB1495:
 3310               	.LBB1496:
 3311               	.LBB1497:
 3312               	.LBB1498:
 3313               	.LBB1499:
 3314               	.LBB1500:
 3315               	.LBB1501:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 3316               		.loc 5 220 0
 3317 0db4 A0E0      		ldi r26,lo8(endpoints+24)
 3318 0db6 B0E0      		ldi r27,hi8(endpoints+24)
 3319               	.LBE1501:
 3320               	.LBE1500:
 3321               	.LBB1503:
 3322               	.LBB1504:
 3323               		.loc 4 91 0
 3324 0db8 20E0      		ldi r18,lo8(ep_in_pipe_buffer)
 3325 0dba 222E      		mov r2,r18
 3326 0dbc 20E0      		ldi r18,hi8(ep_in_pipe_buffer)
 3327 0dbe 322E      		mov r3,r18
 3328               	.LBE1504:
 3329               	.LBE1503:
 3330               	.LBB1507:
 3331               	.LBB1508:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 3332               		.loc 2 69 0
 3333 0dc0 31E0      		ldi r19,lo8(1)
 3334 0dc2 E32E      		mov r14,r19
 3335 0dc4 F12C      		mov r15,__zero_reg__
 3336               	.LBE1508:
 3337               	.LBE1507:
 3338               	.LBB1516:
 3339               	.LBB1517:
 3340               	.LBB1518:
 3341               	.LBB1519:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3342               		.loc 5 169 0
 3343 0dc6 40E4      		ldi r20,lo8(64)
 3344 0dc8 A42E      		mov r10,r20
 3345 0dca B12C      		mov r11,__zero_reg__
 3346               	.LVL187:
 3347               	.L109:
 3348               	.LBE1519:
 3349               	.LBE1518:
 3350               	.LBE1517:
 3351               	.LBE1516:
 3352               	.LBE1499:
 3353               	.LBE1498:
 3354               	.LBE1497:
 3355               	.LBE1496:
 3356               	.LBE1495:
 3357               	.LBE1494:
 3358               	.LBE1493:
 3359               	.LBE1477:
 3360               	.LBE1476:
 118:nmea/nmea.h   ****         send_byte(lat_buff[i]);  
 3361               		.loc 8 118 0 discriminator 2
 3362 0dcc F401      		movw r30,r8
 3363 0dce 3191      		ld r19,Z+
 3364 0dd0 4F01      		movw r8,r30
 3365               	.LVL188:
 3366               	.L97:
 3367               	.LBB1569:
 3368               	.LBB1567:
 3369               	.LBB1562:
 3370               	.LBB1491:
 3371               	.LBB1489:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3372               		.loc 2 123 0
 3373 0dd2 9FB7      		in r25,__SREG__
 3374               	.LVL189:
 3375               	.LBB1484:
 3376               	.LBB1485:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3377               		.loc 3 50 0
 3378               	/* #APP */
 3379               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3380 0dd4 F894      		cli
 3381               	 ;  0 "" 2
 3382               	.LVL190:
 3383               	/* #NOAPP */
 3384               	.LBE1485:
 3385               	.LBE1484:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3386               		.loc 2 124 0
 3387 0dd6 8091 0000 		lds r24,ep_in_data+1
 3388 0dda 8823      		tst r24
 3389 0ddc 01F4      		brne .+2
 3390 0dde 00C0      		rjmp .L210
 3391               	.L184:
 125:usb/usb_pipe.h **** 			r = false;
 3392               		.loc 2 125 0
 3393 0de0 80E0      		ldi r24,lo8(0)
 3394               	.L95:
 3395               	.LBB1486:
 3396               	.LBB1487:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3397               		.loc 3 70 0
 3398 0de2 9FBF      		out __SREG__,r25
 3399               		.loc 3 71 0
 3400               	.LBE1487:
 3401               	.LBE1486:
 3402               	.LBE1489:
 3403               	.LBE1491:
 3404               	.LBE1562:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3405               		.loc 1 20 0
 3406 0de4 8823      		tst r24
 3407 0de6 01F0      		breq .L97
 3408               	.LVL191:
 3409               	.LBB1563:
 3410               	.LBB1564:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3411               		.loc 2 175 0
 3412 0de8 8091 0000 		lds r24,ep_in_data+2
 3413 0dec 9091 0000 		lds r25,ep_in_data+2+1
 3414 0df0 E091 0000 		lds r30,ep_in_pipe_data+2
 3415 0df4 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3416               	.LVL192:
 3417 0df8 E80F      		add r30,r24
 3418 0dfa F91F      		adc r31,r25
 3419 0dfc 3083      		st Z,r19
 3420 0dfe 0196      		adiw r24,1
 3421 0e00 8093 0000 		sts ep_in_data+2,r24
 3422 0e04 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3423               		.loc 2 176 0
 3424 0e08 8034      		cpi r24,64
 3425 0e0a 9105      		cpc r25,__zero_reg__
 3426 0e0c 01F4      		brne .+2
 3427 0e0e 00C0      		rjmp .L211
 3428               	.LVL193:
 3429               	.L98:
 3430               	.LBE1564:
 3431               	.LBE1563:
 3432               	.LBE1567:
 3433               	.LBE1569:
 117:nmea/nmea.h   ****       for (int i=0; i<len_lat; i++) {
 3434               		.loc 8 117 0 discriminator 2
 3435 0e10 C25C      		subi r28,lo8(-318)
 3436 0e12 DE4F      		sbci r29,hi8(-318)
 3437 0e14 2881      		ld r18,Y
 3438 0e16 3981      		ldd r19,Y+1
 3439 0e18 CE53      		subi r28,lo8(318)
 3440 0e1a D140      		sbci r29,hi8(318)
 3441 0e1c 8216      		cp r8,r18
 3442 0e1e 9306      		cpc r9,r19
 3443 0e20 01F4      		brne .L109
 3444               	.LVL194:
 3445               	.L112:
 3446               	.LBE1475:
 3447               	.LBB1571:
 3448               	.LBB1572:
 3449               	.LBB1573:
 3450               	.LBB1574:
 3451               	.LBB1575:
 3452               	.LBB1576:
 3453               	.LBB1577:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3454               		.loc 4 57 0
 3455 0e22 96E0      		ldi r25,lo8(6)
 3456               	.L193:
 3457               	.LVL195:
 3458               	.LBE1577:
 3459               	.LBE1576:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3460               		.loc 2 123 0
 3461 0e24 2FB7      		in r18,__SREG__
 3462               	.LVL196:
 3463               	.LBB1579:
 3464               	.LBB1580:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3465               		.loc 3 50 0
 3466               	/* #APP */
 3467               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3468 0e26 F894      		cli
 3469               	 ;  0 "" 2
 3470               	.LVL197:
 3471               	/* #NOAPP */
 3472               	.LBE1580:
 3473               	.LBE1579:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3474               		.loc 2 124 0
 3475 0e28 8091 0000 		lds r24,ep_in_data+1
 3476 0e2c 8823      		tst r24
 3477 0e2e 01F4      		brne .+2
 3478 0e30 00C0      		rjmp .L212
 3479               	.L185:
 125:usb/usb_pipe.h **** 			r = false;
 3480               		.loc 2 125 0
 3481 0e32 80E0      		ldi r24,lo8(0)
 3482               	.L110:
 3483               	.LBB1581:
 3484               	.LBB1582:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3485               		.loc 3 70 0
 3486 0e34 2FBF      		out __SREG__,r18
 3487               		.loc 3 71 0
 3488               	.LBE1582:
 3489               	.LBE1581:
 3490               	.LBE1575:
 3491               	.LBE1574:
 3492               	.LBE1573:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3493               		.loc 1 20 0
 3494 0e36 8823      		tst r24
 3495 0e38 01F0      		breq .L193
 3496               	.LVL198:
 3497               	.LBB1586:
 3498               	.LBB1587:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3499               		.loc 2 175 0
 3500 0e3a 8091 0000 		lds r24,ep_in_data+2
 3501 0e3e 9091 0000 		lds r25,ep_in_data+2+1
 3502 0e42 E091 0000 		lds r30,ep_in_pipe_data+2
 3503 0e46 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3504 0e4a E80F      		add r30,r24
 3505 0e4c F91F      		adc r31,r25
 3506 0e4e 20E2      		ldi r18,lo8(32)
 3507               	.LVL199:
 3508 0e50 2083      		st Z,r18
 3509 0e52 0196      		adiw r24,1
 3510 0e54 8093 0000 		sts ep_in_data+2,r24
 3511 0e58 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3512               		.loc 2 176 0
 3513 0e5c 8034      		cpi r24,64
 3514 0e5e 9105      		cpc r25,__zero_reg__
 3515 0e60 01F4      		brne .+2
 3516 0e62 00C0      		rjmp .L213
 3517               	.L113:
 3518               	.LVL200:
 3519               	.LBE1587:
 3520               	.LBE1586:
 3521               	.LBE1572:
 3522               	.LBE1571:
 3523               	.LBB1654:
 123:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 3524               		.loc 8 123 0 discriminator 1
 3525 0e64 C65C      		subi r28,lo8(-314)
 3526 0e66 DE4F      		sbci r29,hi8(-314)
 3527 0e68 2881      		ld r18,Y
 3528 0e6a 3981      		ldd r19,Y+1
 3529 0e6c CA53      		subi r28,lo8(314)
 3530 0e6e D140      		sbci r29,hi8(314)
 3531 0e70 1216      		cp __zero_reg__,r18
 3532 0e72 1306      		cpc __zero_reg__,r19
 3533 0e74 04F0      		brlt .+2
 3534 0e76 00C0      		rjmp .L142
 123:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 3535               		.loc 8 123 0 is_stmt 0
 3536 0e78 4201      		movw r8,r4
  86:nmea/nmea.h   **** char* parse_nmea(void) {
 3537               		.loc 8 86 0 is_stmt 1
 3538 0e7a 240D      		add r18,r4
 3539 0e7c 351D      		adc r19,r5
 3540 0e7e C65C      		subi r28,lo8(-314)
 3541 0e80 DE4F      		sbci r29,hi8(-314)
 3542 0e82 2883      		st Y,r18
 3543 0e84 3983      		std Y+1,r19
 3544 0e86 CA53      		subi r28,lo8(314)
 3545 0e88 D140      		sbci r29,hi8(314)
 3546               	.LBB1655:
 3547               	.LBB1656:
 3548               	.LBB1657:
 3549               	.LBB1658:
 3550               	.LBB1659:
 3551               	.LBB1660:
 3552               	.LBB1661:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3553               		.loc 4 57 0
 3554 0e8a 56E0      		ldi r21,lo8(6)
 3555               	.LBE1661:
 3556               	.LBE1660:
 3557               	.LBE1659:
 3558               	.LBE1658:
 3559               	.LBE1657:
 3560               	.LBB1672:
 3561               	.LBB1673:
 3562               	.LBB1674:
 3563               	.LBB1675:
 3564               	.LBB1676:
 3565               	.LBB1677:
 3566               	.LBB1678:
 3567               	.LBB1679:
 3568               	.LBB1680:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 3569               		.loc 5 220 0
 3570 0e8c 10E0      		ldi r17,lo8(endpoints+24)
 3571 0e8e E12E      		mov r14,r17
 3572 0e90 10E0      		ldi r17,hi8(endpoints+24)
 3573 0e92 F12E      		mov r15,r17
 3574               	.LBE1680:
 3575               	.LBE1679:
 3576               	.LBB1682:
 3577               	.LBB1683:
 3578               		.loc 4 91 0
 3579 0e94 00E0      		ldi r16,lo8(ep_in_pipe_buffer)
 3580 0e96 202E      		mov r2,r16
 3581 0e98 00E0      		ldi r16,hi8(ep_in_pipe_buffer)
 3582 0e9a 302E      		mov r3,r16
 3583               	.LBE1683:
 3584               	.LBE1682:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 3585               		.loc 2 88 0
 3586 0e9c 12E0      		ldi r17,lo8(2)
 3587               	.LBB1686:
 3588               	.LBB1687:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 3589               		.loc 2 69 0
 3590 0e9e 81E0      		ldi r24,lo8(1)
 3591 0ea0 C82E      		mov r12,r24
 3592 0ea2 D12C      		mov r13,__zero_reg__
 3593               	.LBE1687:
 3594               	.LBE1686:
 3595               	.LBB1695:
 3596               	.LBB1696:
 3597               	.LBB1697:
 3598               	.LBB1698:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3599               		.loc 5 169 0
 3600 0ea4 90E4      		ldi r25,lo8(64)
 3601 0ea6 A92E      		mov r10,r25
 3602 0ea8 B12C      		mov r11,__zero_reg__
 3603               	.LVL201:
 3604               	.L139:
 3605               	.LBE1698:
 3606               	.LBE1697:
 3607               	.LBE1696:
 3608               	.LBE1695:
 3609               	.LBE1678:
 3610               	.LBE1677:
 3611               	.LBE1676:
 3612               	.LBE1675:
 3613               	.LBE1674:
 3614               	.LBE1673:
 3615               	.LBE1672:
 3616               	.LBE1656:
 3617               	.LBE1655:
 124:nmea/nmea.h   ****         send_byte(lng_buff[j]);  
 3618               		.loc 8 124 0 discriminator 2
 3619 0eaa D401      		movw r26,r8
 3620 0eac 2D91      		ld r18,X+
 3621 0eae 4D01      		movw r8,r26
 3622               	.LVL202:
 3623               	.L127:
 3624               	.LBB1748:
 3625               	.LBB1746:
 3626               	.LBB1741:
 3627               	.LBB1670:
 3628               	.LBB1668:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3629               		.loc 2 123 0
 3630 0eb0 9FB7      		in r25,__SREG__
 3631               	.LVL203:
 3632               	.LBB1663:
 3633               	.LBB1664:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3634               		.loc 3 50 0
 3635               	/* #APP */
 3636               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3637 0eb2 F894      		cli
 3638               	 ;  0 "" 2
 3639               	.LVL204:
 3640               	/* #NOAPP */
 3641               	.LBE1664:
 3642               	.LBE1663:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3643               		.loc 2 124 0
 3644 0eb4 8091 0000 		lds r24,ep_in_data+1
 3645 0eb8 8823      		tst r24
 3646 0eba 01F4      		brne .+2
 3647 0ebc 00C0      		rjmp .L214
 3648               	.L186:
 125:usb/usb_pipe.h **** 			r = false;
 3649               		.loc 2 125 0
 3650 0ebe 80E0      		ldi r24,lo8(0)
 3651               	.L125:
 3652               	.LBB1665:
 3653               	.LBB1666:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3654               		.loc 3 70 0
 3655 0ec0 9FBF      		out __SREG__,r25
 3656               		.loc 3 71 0
 3657               	.LBE1666:
 3658               	.LBE1665:
 3659               	.LBE1668:
 3660               	.LBE1670:
 3661               	.LBE1741:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3662               		.loc 1 20 0
 3663 0ec2 8823      		tst r24
 3664 0ec4 01F0      		breq .L127
 3665               	.LVL205:
 3666               	.LBB1742:
 3667               	.LBB1743:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3668               		.loc 2 175 0
 3669 0ec6 8091 0000 		lds r24,ep_in_data+2
 3670 0eca 9091 0000 		lds r25,ep_in_data+2+1
 3671 0ece E091 0000 		lds r30,ep_in_pipe_data+2
 3672 0ed2 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3673 0ed6 E80F      		add r30,r24
 3674 0ed8 F91F      		adc r31,r25
 3675 0eda 2083      		st Z,r18
 3676 0edc 0196      		adiw r24,1
 3677 0ede 8093 0000 		sts ep_in_data+2,r24
 3678 0ee2 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3679               		.loc 2 176 0
 3680 0ee6 8034      		cpi r24,64
 3681 0ee8 9105      		cpc r25,__zero_reg__
 3682 0eea 01F4      		brne .+2
 3683 0eec 00C0      		rjmp .L215
 3684               	.LVL206:
 3685               	.L128:
 3686               	.LBE1743:
 3687               	.LBE1742:
 3688               	.LBE1746:
 3689               	.LBE1748:
 123:nmea/nmea.h   ****       for (int j=0; j<len_lng; j++) {
 3690               		.loc 8 123 0 discriminator 2
 3691 0eee C65C      		subi r28,lo8(-314)
 3692 0ef0 DE4F      		sbci r29,hi8(-314)
 3693 0ef2 2881      		ld r18,Y
 3694 0ef4 3981      		ldd r19,Y+1
 3695 0ef6 CA53      		subi r28,lo8(314)
 3696 0ef8 D140      		sbci r29,hi8(314)
 3697 0efa 8216      		cp r8,r18
 3698 0efc 9306      		cpc r9,r19
 3699 0efe 01F4      		brne .L139
 3700               	.LVL207:
 3701               	.L142:
 3702               	.LBE1654:
 3703               	.LBB1750:
 3704               	.LBB1751:
 3705               	.LBB1752:
 3706               	.LBB1753:
 3707               	.LBB1754:
 3708               	.LBB1755:
 3709               	.LBB1756:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3710               		.loc 4 57 0
 3711 0f00 96E0      		ldi r25,lo8(6)
 3712               	.L192:
 3713               	.LBE1756:
 3714               	.LBE1755:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3715               		.loc 2 123 0
 3716 0f02 2FB7      		in r18,__SREG__
 3717               	.LVL208:
 3718               	.LBB1758:
 3719               	.LBB1759:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3720               		.loc 3 50 0
 3721               	/* #APP */
 3722               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3723 0f04 F894      		cli
 3724               	 ;  0 "" 2
 3725               	.LVL209:
 3726               	/* #NOAPP */
 3727               	.LBE1759:
 3728               	.LBE1758:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3729               		.loc 2 124 0
 3730 0f06 8091 0000 		lds r24,ep_in_data+1
 3731 0f0a 8823      		tst r24
 3732 0f0c 01F4      		brne .+2
 3733 0f0e 00C0      		rjmp .L216
 3734               	.L187:
 125:usb/usb_pipe.h **** 			r = false;
 3735               		.loc 2 125 0
 3736 0f10 80E0      		ldi r24,lo8(0)
 3737               	.L140:
 3738               	.LBB1760:
 3739               	.LBB1761:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3740               		.loc 3 70 0
 3741 0f12 2FBF      		out __SREG__,r18
 3742               		.loc 3 71 0
 3743               	.LBE1761:
 3744               	.LBE1760:
 3745               	.LBE1754:
 3746               	.LBE1753:
 3747               	.LBE1752:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3748               		.loc 1 20 0
 3749 0f14 8823      		tst r24
 3750 0f16 01F0      		breq .L192
 3751               	.LVL210:
 3752               	.LBB1765:
 3753               	.LBB1766:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3754               		.loc 2 175 0
 3755 0f18 8091 0000 		lds r24,ep_in_data+2
 3756 0f1c 9091 0000 		lds r25,ep_in_data+2+1
 3757 0f20 E091 0000 		lds r30,ep_in_pipe_data+2
 3758 0f24 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3759 0f28 E80F      		add r30,r24
 3760 0f2a F91F      		adc r31,r25
 3761 0f2c 20E2      		ldi r18,lo8(32)
 3762               	.LVL211:
 3763 0f2e 2083      		st Z,r18
 3764 0f30 0196      		adiw r24,1
 3765 0f32 8093 0000 		sts ep_in_data+2,r24
 3766 0f36 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3767               		.loc 2 176 0
 3768 0f3a 8034      		cpi r24,64
 3769 0f3c 9105      		cpc r25,__zero_reg__
 3770 0f3e 01F4      		brne .+2
 3771 0f40 00C0      		rjmp .L217
 3772               	.L143:
 3773               	.LVL212:
 3774               	.LBE1766:
 3775               	.LBE1765:
 3776               	.LBE1751:
 3777               	.LBE1750:
 3778               	.LBB1831:
 129:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 3779               		.loc 8 129 0 discriminator 1
 3780 0f42 C85C      		subi r28,lo8(-312)
 3781 0f44 DE4F      		sbci r29,hi8(-312)
 3782 0f46 2881      		ld r18,Y
 3783 0f48 3981      		ldd r19,Y+1
 3784 0f4a C853      		subi r28,lo8(312)
 3785 0f4c D140      		sbci r29,hi8(312)
 3786 0f4e 1216      		cp __zero_reg__,r18
 3787 0f50 1306      		cpc __zero_reg__,r19
 3788 0f52 04F0      		brlt .+2
 3789 0f54 00C0      		rjmp .L154
 129:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 3790               		.loc 8 129 0 is_stmt 0
 3791 0f56 6AE0      		ldi r22,lo8(10)
 3792 0f58 862E      		mov r8,r22
 3793 0f5a 912C      		mov r9,__zero_reg__
 3794 0f5c 8C0E      		add r8,r28
 3795 0f5e 9D1E      		adc r9,r29
  86:nmea/nmea.h   **** char* parse_nmea(void) {
 3796               		.loc 8 86 0 is_stmt 1
 3797 0f60 280D      		add r18,r8
 3798 0f62 391D      		adc r19,r9
 3799 0f64 C85C      		subi r28,lo8(-312)
 3800 0f66 DE4F      		sbci r29,hi8(-312)
 3801 0f68 2883      		st Y,r18
 3802 0f6a 3983      		std Y+1,r19
 3803 0f6c C853      		subi r28,lo8(312)
 3804 0f6e D140      		sbci r29,hi8(312)
 3805               	.LBB1832:
 3806               	.LBB1833:
 3807               	.LBB1834:
 3808               	.LBB1835:
 3809               	.LBB1836:
 3810               	.LBB1837:
 3811               	.LBB1838:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 3812               		.loc 4 57 0
 3813 0f70 76E0      		ldi r23,lo8(6)
 3814               	.LBE1838:
 3815               	.LBE1837:
 3816               	.LBE1836:
 3817               	.LBE1835:
 3818               	.LBE1834:
 3819               	.LBB1849:
 3820               	.LBB1850:
 3821               	.LBB1851:
 3822               	.LBB1852:
 3823               	.LBB1853:
 3824               	.LBB1854:
 3825               	.LBB1855:
 3826               	.LBB1856:
 3827               	.LBB1857:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 3828               		.loc 5 220 0
 3829 0f72 E0E0      		ldi r30,lo8(endpoints+24)
 3830 0f74 EE2E      		mov r14,r30
 3831 0f76 E0E0      		ldi r30,hi8(endpoints+24)
 3832 0f78 FE2E      		mov r15,r30
 3833               	.LBE1857:
 3834               	.LBE1856:
 3835               	.LBB1859:
 3836               	.LBB1860:
 3837               		.loc 4 91 0
 3838 0f7a F0E0      		ldi r31,lo8(ep_in_pipe_buffer)
 3839 0f7c 2F2E      		mov r2,r31
 3840 0f7e F0E0      		ldi r31,hi8(ep_in_pipe_buffer)
 3841 0f80 3F2E      		mov r3,r31
 3842               	.LBE1860:
 3843               	.LBE1859:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 3844               		.loc 2 88 0
 3845 0f82 12E0      		ldi r17,lo8(2)
 3846               	.LBB1863:
 3847               	.LBB1864:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 3848               		.loc 2 69 0
 3849 0f84 A1E0      		ldi r26,lo8(1)
 3850 0f86 CA2E      		mov r12,r26
 3851 0f88 D12C      		mov r13,__zero_reg__
 3852               	.LBE1864:
 3853               	.LBE1863:
 3854               	.LBB1872:
 3855               	.LBB1873:
 3856               	.LBB1874:
 3857               	.LBB1875:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 3858               		.loc 5 169 0
 3859 0f8a B0E4      		ldi r27,lo8(64)
 3860 0f8c AB2E      		mov r10,r27
 3861 0f8e B12C      		mov r11,__zero_reg__
 3862               	.LVL213:
 3863               	.L169:
 3864               	.LBE1875:
 3865               	.LBE1874:
 3866               	.LBE1873:
 3867               	.LBE1872:
 3868               	.LBE1855:
 3869               	.LBE1854:
 3870               	.LBE1853:
 3871               	.LBE1852:
 3872               	.LBE1851:
 3873               	.LBE1850:
 3874               	.LBE1849:
 3875               	.LBE1833:
 3876               	.LBE1832:
 130:nmea/nmea.h   ****         send_byte(dist_buff[k]);  
 3877               		.loc 8 130 0 discriminator 2
 3878 0f90 D401      		movw r26,r8
 3879 0f92 2D91      		ld r18,X+
 3880 0f94 4D01      		movw r8,r26
 3881               	.LVL214:
 3882               	.L157:
 3883               	.LBB1925:
 3884               	.LBB1923:
 3885               	.LBB1918:
 3886               	.LBB1847:
 3887               	.LBB1845:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 3888               		.loc 2 123 0
 3889 0f96 9FB7      		in r25,__SREG__
 3890               	.LVL215:
 3891               	.LBB1840:
 3892               	.LBB1841:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 3893               		.loc 3 50 0
 3894               	/* #APP */
 3895               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 3896 0f98 F894      		cli
 3897               	 ;  0 "" 2
 3898               	.LVL216:
 3899               	/* #NOAPP */
 3900               	.LBE1841:
 3901               	.LBE1840:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 3902               		.loc 2 124 0
 3903 0f9a 8091 0000 		lds r24,ep_in_data+1
 3904 0f9e 8823      		tst r24
 3905 0fa0 01F4      		brne .+2
 3906 0fa2 00C0      		rjmp .L218
 3907               	.L188:
 125:usb/usb_pipe.h **** 			r = false;
 3908               		.loc 2 125 0
 3909 0fa4 80E0      		ldi r24,lo8(0)
 3910               	.L155:
 3911               	.LBB1842:
 3912               	.LBB1843:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 3913               		.loc 3 70 0
 3914 0fa6 9FBF      		out __SREG__,r25
 3915               		.loc 3 71 0
 3916               	.LBE1843:
 3917               	.LBE1842:
 3918               	.LBE1845:
 3919               	.LBE1847:
 3920               	.LBE1918:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 3921               		.loc 1 20 0
 3922 0fa8 8823      		tst r24
 3923 0faa 01F0      		breq .L157
 3924               	.LVL217:
 3925               	.LBB1919:
 3926               	.LBB1920:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 3927               		.loc 2 175 0
 3928 0fac 8091 0000 		lds r24,ep_in_data+2
 3929 0fb0 9091 0000 		lds r25,ep_in_data+2+1
 3930 0fb4 E091 0000 		lds r30,ep_in_pipe_data+2
 3931 0fb8 F091 0000 		lds r31,ep_in_pipe_data+2+1
 3932 0fbc E80F      		add r30,r24
 3933 0fbe F91F      		adc r31,r25
 3934 0fc0 2083      		st Z,r18
 3935 0fc2 0196      		adiw r24,1
 3936 0fc4 8093 0000 		sts ep_in_data+2,r24
 3937 0fc8 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 3938               		.loc 2 176 0
 3939 0fcc 8034      		cpi r24,64
 3940 0fce 9105      		cpc r25,__zero_reg__
 3941 0fd0 01F4      		brne .+2
 3942 0fd2 00C0      		rjmp .L219
 3943               	.LVL218:
 3944               	.L158:
 3945               	.LBE1920:
 3946               	.LBE1919:
 3947               	.LBE1923:
 3948               	.LBE1925:
 129:nmea/nmea.h   ****       for (int k=0; k<len_dist; k++) {
 3949               		.loc 8 129 0 discriminator 2
 3950 0fd4 C85C      		subi r28,lo8(-312)
 3951 0fd6 DE4F      		sbci r29,hi8(-312)
 3952 0fd8 2881      		ld r18,Y
 3953 0fda 3981      		ldd r19,Y+1
 3954 0fdc C853      		subi r28,lo8(312)
 3955 0fde D140      		sbci r29,hi8(312)
 3956 0fe0 8216      		cp r8,r18
 3957 0fe2 9306      		cpc r9,r19
 3958 0fe4 01F4      		brne .L169
 3959               	.LVL219:
 3960               	.L154:
 3961               	.LBE1831:
 3962               	.LBB1927:
 3963               	.LBB1928:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 3964               		.loc 7 16 0
 3965 0fe6 D301      		movw r26,r6
 3966 0fe8 0D90      		ld __tmp_reg__,X+
 3967 0fea 0020      		tst __tmp_reg__
 3968 0fec 01F4      		brne .-6
 3969 0fee CD01      		movw r24,r26
 3970 0ff0 8619      		sub r24,r6
 3971 0ff2 9709      		sbc r25,r7
 3972 0ff4 0196      		adiw r24,1
 3973               		.cfi_escape 0x2e,0
 3974 0ff6 0E94 0000 		call malloc
 3975               	.LVL220:
 3976 0ffa 192F      		mov r17,r25
 3977 0ffc E82E      		mov r14,r24
 3978 0ffe F92E      		mov r15,r25
 3979               	.LVL221:
  18:concat/concat.h ****     strcpy(result, s1);
 3980               		.loc 7 18 0
 3981 1000 C701      		movw r24,r14
 3982 1002 B301      		movw r22,r6
 3983 1004 0E94 0000 		call strcpy
  19:concat/concat.h ****     strcat(result, s2);
 3984               		.loc 7 19 0
 3985 1008 EE2D      		mov r30,r14
 3986 100a F12F      		mov r31,r17
 3987 100c DF01      		movw r26,r30
 3988 100e 0D90      		ld __tmp_reg__,X+
 3989 1010 0020      		tst __tmp_reg__
 3990 1012 01F4      		brne .-6
 3991 1014 1197      		sbiw r26,1
 3992 1016 AE1B      		sub r26,r30
 3993 1018 BF0B      		sbc r27,r31
 3994 101a AE0D      		add r26,r14
 3995 101c BF1D      		adc r27,r15
 3996 101e 8CE2      		ldi r24,lo8(44)
 3997 1020 90E0      		ldi r25,hi8(44)
 3998 1022 8D93      		st X+,r24
 3999 1024 9C93      		st X,r25
 4000               	.LVL222:
 4001               	.LBE1928:
 4002               	.LBE1927:
 4003               	.LBB1929:
 4004               	.LBB1930:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 4005               		.loc 7 16 0
 4006 1026 AE2D      		mov r26,r14
 4007 1028 B12F      		mov r27,r17
 4008 102a FD01      		movw r30,r26
 4009 102c 0190      		ld __tmp_reg__,Z+
 4010 102e 0020      		tst __tmp_reg__
 4011 1030 01F4      		brne .-6
 4012 1032 9F01      		movw r18,r30
 4013 1034 F201      		movw r30,r4
 4014 1036 0190      		ld __tmp_reg__,Z+
 4015 1038 0020      		tst __tmp_reg__
 4016 103a 01F4      		brne .-6
 4017 103c CF01      		movw r24,r30
 4018 103e 0197      		sbiw r24,1
 4019 1040 8419      		sub r24,r4
 4020 1042 9509      		sbc r25,r5
 4021 1044 8A1B      		sub r24,r26
 4022 1046 9B0B      		sbc r25,r27
 4023 1048 820F      		add r24,r18
 4024 104a 931F      		adc r25,r19
 4025 104c 0E94 0000 		call malloc
 4026 1050 182F      		mov r17,r24
 4027 1052 C92E      		mov r12,r25
 4028               	.LVL223:
  18:concat/concat.h ****     strcpy(result, s1);
 4029               		.loc 7 18 0
 4030 1054 B701      		movw r22,r14
 4031 1056 0E94 0000 		call strcpy
 4032               	.LVL224:
  19:concat/concat.h ****     strcat(result, s2);
 4033               		.loc 7 19 0
 4034 105a 812F      		mov r24,r17
 4035 105c 9C2D      		mov r25,r12
 4036 105e B201      		movw r22,r4
 4037 1060 0E94 0000 		call strcat
 4038               	.LBE1930:
 4039               	.LBE1929:
 135:nmea/nmea.h   ****       *result = concat(concat(lat_str, ","), lng_str);
 4040               		.loc 8 135 0
 4041 1064 C45C      		subi r28,lo8(-316)
 4042 1066 DE4F      		sbci r29,hi8(-316)
 4043 1068 A881      		ld r26,Y
 4044 106a B981      		ldd r27,Y+1
 4045 106c CC53      		subi r28,lo8(316)
 4046 106e D140      		sbci r29,hi8(316)
 4047 1070 1C93      		st X,r17
 4048 1072 1196      		adiw r26,1
 4049 1074 CC92      		st X,r12
 4050 1076 1197      		sbiw r26,1
 4051 1078 00C0      		rjmp .L92
 4052               	.LVL225:
 4053               	.L210:
 4054               	.LBB1931:
 4055               	.LBB1570:
 4056               	.LBB1568:
 4057               	.LBB1565:
 4058               	.LBB1492:
 4059               	.LBB1490:
 4060               	.LBB1488:
 4061               	.LBB1483:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4062               		.loc 4 57 0
 4063 107a 8091 0000 		lds r24,ep_in_pipe_data+4
 4064 107e 252F      		mov r18,r21
 4065 1080 281B      		sub r18,r24
 4066               	.LBE1483:
 4067               	.LBE1488:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4068               		.loc 2 127 0
 4069 1082 81E0      		ldi r24,lo8(1)
 4070 1084 1216      		cp __zero_reg__,r18
 4071 1086 04F4      		brge .+2
 4072 1088 00C0      		rjmp .L95
 4073 108a 00C0      		rjmp .L184
 4074               	.LVL226:
 4075               	.L211:
 4076               	.LBE1490:
 4077               	.LBE1492:
 4078               	.LBE1565:
 4079               	.LBB1566:
 4080               	.LBB1561:
 4081               	.LBB1560:
 4082               	.LBB1559:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 4083               		.loc 2 177 0
 4084 108c CFB6      		in r12,__SREG__
 4085               	.LVL227:
 4086               	.LBB1551:
 4087               	.LBB1552:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4088               		.loc 3 50 0
 4089               	/* #APP */
 4090               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4091 108e F894      		cli
 4092               	 ;  0 "" 2
 4093               	.LVL228:
 4094               	/* #NOAPP */
 4095               	.LBE1552:
 4096               	.LBE1551:
 4097               		.loc 2 178 0
 4098 1090 1092 0000 		sts ep_in_data+2,__zero_reg__
 4099 1094 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4100               	.LVL229:
 4101               	.LBB1553:
 4102               	.LBB1554:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 4103               		.loc 4 81 0
 4104 1098 8091 0000 		lds r24,ep_in_pipe_data+4
 4105 109c 8F5F      		subi r24,lo8(-(1))
 4106 109e 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 4107               		.loc 4 82 0
 4108 10a2 8091 0000 		lds r24,ep_in_pipe_data+2
 4109 10a6 9091 0000 		lds r25,ep_in_pipe_data+2+1
 4110 10aa 805C      		subi r24,lo8(-(64))
 4111 10ac 9F4F      		sbci r25,hi8(-(64))
 4112 10ae 8093 0000 		sts ep_in_pipe_data+2,r24
 4113 10b2 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4114               		.loc 4 84 0
 4115 10b6 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 4116 10b8 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4117 10ba 9F07      		cpc r25,r31
 4118 10bc 01F4      		brne .L99
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 4119               		.loc 4 85 0
 4120 10be 2092 0000 		sts ep_in_pipe_data+2,r2
 4121 10c2 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4122               	.L99:
 4123               	.LVL230:
 4124               	.LBE1554:
 4125               	.LBE1553:
 4126               	.LBB1555:
 4127               	.LBB1549:
 4128               	.LBB1547:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 4129               		.loc 2 80 0
 4130 10c6 1FB7      		in r17,__SREG__
 4131               	.LVL231:
 4132               	.LBB1526:
 4133               	.LBB1527:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4134               		.loc 3 50 0
 4135               	/* #APP */
 4136               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4137 10c8 F894      		cli
 4138               	 ;  0 "" 2
 4139               	.LVL232:
 4140               	/* #NOAPP */
 4141               	.LBE1527:
 4142               	.LBE1526:
 4143               	.LBB1528:
 4144               	.LBB1502:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 4145               		.loc 5 220 0
 4146 10ca 8091 0000 		lds r24,endpoints+24
 4147 10ce 8670      		andi r24,lo8(6)
 4148               	.LBE1502:
 4149               	.LBE1528:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 4150               		.loc 2 82 0
 4151 10d0 01F4      		brne .L220
 4152               	.LVL233:
 4153               	.L100:
 4154               	.LBB1529:
 4155               	.LBB1530:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4156               		.loc 3 70 0
 4157 10d2 1FBF      		out __SREG__,r17
 4158               		.loc 3 71 0
 4159               	.LVL234:
 4160               	.LBE1530:
 4161               	.LBE1529:
 4162               	.LBE1547:
 4163               	.LBE1549:
 4164               	.LBE1555:
 4165               	.LBB1556:
 4166               	.LBB1557:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4167               		.loc 3 70 0
 4168 10d4 CFBE      		out __SREG__,r12
 4169               		.loc 3 71 0
 4170 10d6 00C0      		rjmp .L98
 4171               	.LVL235:
 4172               	.L220:
 4173               	.LBE1557:
 4174               	.LBE1556:
 4175               	.LBB1558:
 4176               	.LBB1550:
 4177               	.LBB1548:
 4178               	.LBB1531:
 4179               	.LBB1532:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 4180               		.loc 4 51 0
 4181 10d8 2091 0000 		lds r18,ep_in_pipe_data+4
 4182               	.LBE1532:
 4183               	.LBE1531:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 4184               		.loc 2 83 0
 4185 10dc 1216      		cp __zero_reg__,r18
 4186 10de 04F0      		brlt .+2
 4187 10e0 00C0      		rjmp .L101
 4188               	.LBB1533:
 4189               	.LBB1534:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4190               		.loc 4 62 0
 4191 10e2 6091 0000 		lds r22,ep_in_pipe_data
 4192 10e6 7091 0000 		lds r23,ep_in_pipe_data+1
 4193               	.LVL236:
 4194               	.LBE1534:
 4195               	.LBE1533:
 4196               	.LBB1535:
 4197               	.LBB1524:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4198               		.loc 2 68 0
 4199 10ea 3091 0000 		lds r19,ep_in_data
 4200               	.LVL237:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4201               		.loc 2 69 0
 4202 10ee 832F      		mov r24,r19
 4203 10f0 90E0      		ldi r25,lo8(0)
 4204 10f2 41E0      		ldi r20,lo8(1)
 4205 10f4 8E15      		cp r24,r14
 4206 10f6 9F05      		cpc r25,r15
 4207 10f8 01F4      		brne .L102
 4208 10fa 40E0      		ldi r20,lo8(0)
 4209               	.L102:
 4210 10fc 4093 0000 		sts ep_in_data,r20
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4211               		.loc 2 72 0
 4212 1100 3323      		tst r19
 4213 1102 01F4      		brne .L103
 4214               	.LVL238:
 4215               	.LBB1521:
 4216               	.LBB1522:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4217               		.loc 5 168 0
 4218 1104 6093 0000 		sts endpoints+28,r22
 4219 1108 7093 0000 		sts endpoints+28+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4220               		.loc 5 169 0
 4221 110c A092 0000 		sts endpoints+26,r10
 4222 1110 B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4223               		.loc 5 174 0
 4224 1114 FD01      		movw r30,r26
 4225               	/* #APP */
 4226               	 ;  174 "usb/usb.h" 1
 4227 1116 02E2      		ldi r16, 34
 4228 1118 0693      		.dc.w 0x9306
 4229               		
 4230               	 ;  0 "" 2
 4231               	.LVL239:
 4232               	/* #NOAPP */
 4233               	.L104:
 4234               	.LBE1522:
 4235               	.LBE1521:
 4236               	.LBE1524:
 4237               	.LBE1535:
 4238               	.LBB1536:
 4239               	.LBB1537:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 4240               		.loc 4 72 0
 4241 111a 2150      		subi r18,lo8(-(-1))
 4242 111c 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 4243               		.loc 4 73 0
 4244 1120 CB01      		movw r24,r22
 4245 1122 805C      		subi r24,lo8(-(64))
 4246 1124 9F4F      		sbci r25,hi8(-(64))
 4247 1126 8093 0000 		sts ep_in_pipe_data,r24
 4248 112a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4249               		.loc 4 75 0
 4250 112e F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 4251 1130 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4252 1132 9F07      		cpc r25,r31
 4253 1134 01F4      		brne .L100
 4254               	.LBE1537:
 4255               	.LBE1536:
 4256               	.LBB1538:
 4257               	.LBB1505:
 4258               		.loc 4 91 0
 4259 1136 2092 0000 		sts ep_in_pipe_data,r2
 4260 113a 3092 0000 		sts ep_in_pipe_data+1,r3
 4261               	.LVL240:
 4262 113e 00C0      		rjmp .L100
 4263               	.LVL241:
 4264               	.L103:
 4265               	.LBE1505:
 4266               	.LBE1538:
 4267               	.LBB1539:
 4268               	.LBB1525:
 4269               	.LBB1523:
 4270               	.LBB1520:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4271               		.loc 5 168 0
 4272 1140 6093 0000 		sts endpoints+20,r22
 4273 1144 7093 0000 		sts endpoints+20+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4274               		.loc 5 169 0
 4275 1148 A092 0000 		sts endpoints+18,r10
 4276 114c B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4277               		.loc 5 176 0
 4278 1150 FD01      		movw r30,r26
 4279               	/* #APP */
 4280               	 ;  176 "usb/usb.h" 1
 4281 1152 04E1      		ldi r16, 20
 4282 1154 0693      		.dc.w 0x9306
 4283               		
 4284               	 ;  0 "" 2
 4285               	/* #NOAPP */
 4286 1156 00C0      		rjmp .L104
 4287               	.LVL242:
 4288               	.L101:
 4289               	.LBE1520:
 4290               	.LBE1523:
 4291               	.LBE1525:
 4292               	.LBE1539:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 4293               		.loc 2 87 0
 4294 1158 8091 0000 		lds r24,ep_in_data+1
 4295 115c 8130      		cpi r24,lo8(1)
 4296 115e 01F0      		breq .L221
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4297               		.loc 2 91 0
 4298 1160 8230      		cpi r24,lo8(2)
 4299 1162 01F0      		breq .+2
 4300 1164 00C0      		rjmp .L100
 4301               	.LVL243:
 4302               	.LBB1540:
 4303               	.LBB1541:
 4304               	.LBB1542:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 4305               		.loc 5 228 0
 4306 1166 8091 0000 		lds r24,endpoints+24
 4307 116a 8670      		andi r24,lo8(6)
 4308               	.LBE1542:
 4309               	.LBE1541:
 4310               	.LBE1540:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4311               		.loc 2 91 0
 4312 116c 8630      		cpi r24,lo8(6)
 4313 116e 01F0      		breq .+2
 4314 1170 00C0      		rjmp .L100
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 4315               		.loc 2 92 0
 4316 1172 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 4317               		.loc 2 93 0
 4318 1176 1092 0000 		sts ep_in_data+2,__zero_reg__
 4319 117a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4320               	.LBB1543:
 4321               	.LBB1506:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 4322               		.loc 4 90 0
 4323 117e 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 4324               		.loc 4 91 0
 4325 1182 2092 0000 		sts ep_in_pipe_data+2,r2
 4326 1186 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4327 118a 2092 0000 		sts ep_in_pipe_data,r2
 4328 118e 3092 0000 		sts ep_in_pipe_data+1,r3
 4329               	.LVL244:
 4330 1192 00C0      		rjmp .L100
 4331               	.LVL245:
 4332               	.L221:
 4333               	.LBE1506:
 4334               	.LBE1543:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 4335               		.loc 2 88 0
 4336 1194 22E0      		ldi r18,lo8(2)
 4337 1196 2093 0000 		sts ep_in_data+1,r18
 4338               	.LBB1544:
 4339               	.LBB1545:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4340               		.loc 4 62 0
 4341 119a 7091 0000 		lds r23,ep_in_pipe_data
 4342 119e E091 0000 		lds r30,ep_in_pipe_data+1
 4343               	.LBE1545:
 4344               	.LBE1544:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 4345               		.loc 2 90 0
 4346 11a2 2091 0000 		lds r18,ep_in_data+2
 4347 11a6 3091 0000 		lds r19,ep_in_data+2+1
 4348               	.LVL246:
 4349               	.LBB1546:
 4350               	.LBB1515:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4351               		.loc 2 68 0
 4352 11aa 6091 0000 		lds r22,ep_in_data
 4353               	.LVL247:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4354               		.loc 2 69 0
 4355 11ae 862F      		mov r24,r22
 4356 11b0 90E0      		ldi r25,lo8(0)
 4357 11b2 41E0      		ldi r20,lo8(1)
 4358 11b4 8E15      		cp r24,r14
 4359 11b6 9F05      		cpc r25,r15
 4360 11b8 01F4      		brne .L107
 4361 11ba 40E0      		ldi r20,lo8(0)
 4362               	.L107:
 4363 11bc 4093 0000 		sts ep_in_data,r20
 4364               	.LBB1509:
 4365               	.LBB1510:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4366               		.loc 5 168 0
 4367 11c0 872F      		mov r24,r23
 4368 11c2 9E2F      		mov r25,r30
 4369               	.LBE1510:
 4370               	.LBE1509:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4371               		.loc 2 72 0
 4372 11c4 6623      		tst r22
 4373 11c6 01F4      		brne .L108
 4374               	.LVL248:
 4375               	.LBB1512:
 4376               	.LBB1511:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4377               		.loc 5 168 0
 4378 11c8 8093 0000 		sts endpoints+28,r24
 4379 11cc 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4380               		.loc 5 169 0
 4381 11d0 2093 0000 		sts endpoints+26,r18
 4382 11d4 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4383               		.loc 5 174 0
 4384 11d8 FD01      		movw r30,r26
 4385               	/* #APP */
 4386               	 ;  174 "usb/usb.h" 1
 4387 11da 02E2      		ldi r16, 34
 4388 11dc 0693      		.dc.w 0x9306
 4389               		
 4390               	 ;  0 "" 2
 4391               	/* #NOAPP */
 4392 11de 00C0      		rjmp .L100
 4393               	.LVL249:
 4394               	.L108:
 4395               	.LBE1511:
 4396               	.LBE1512:
 4397               	.LBB1513:
 4398               	.LBB1514:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4399               		.loc 5 168 0
 4400 11e0 8093 0000 		sts endpoints+20,r24
 4401 11e4 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4402               		.loc 5 169 0
 4403 11e8 2093 0000 		sts endpoints+18,r18
 4404 11ec 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4405               		.loc 5 176 0
 4406 11f0 FD01      		movw r30,r26
 4407               	/* #APP */
 4408               	 ;  176 "usb/usb.h" 1
 4409 11f2 04E1      		ldi r16, 20
 4410 11f4 0693      		.dc.w 0x9306
 4411               		
 4412               	 ;  0 "" 2
 4413               	/* #NOAPP */
 4414 11f6 00C0      		rjmp .L100
 4415               	.LVL250:
 4416               	.L212:
 4417               	.LBE1514:
 4418               	.LBE1513:
 4419               	.LBE1515:
 4420               	.LBE1546:
 4421               	.LBE1548:
 4422               	.LBE1550:
 4423               	.LBE1558:
 4424               	.LBE1559:
 4425               	.LBE1560:
 4426               	.LBE1561:
 4427               	.LBE1566:
 4428               	.LBE1568:
 4429               	.LBE1570:
 4430               	.LBE1931:
 4431               	.LBB1932:
 4432               	.LBB1651:
 4433               	.LBB1588:
 4434               	.LBB1585:
 4435               	.LBB1584:
 4436               	.LBB1583:
 4437               	.LBB1578:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4438               		.loc 4 57 0
 4439 11f8 8091 0000 		lds r24,ep_in_pipe_data+4
 4440 11fc 392F      		mov r19,r25
 4441 11fe 381B      		sub r19,r24
 4442               	.LBE1578:
 4443               	.LBE1583:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4444               		.loc 2 127 0
 4445 1200 81E0      		ldi r24,lo8(1)
 4446 1202 1316      		cp __zero_reg__,r19
 4447 1204 04F4      		brge .+2
 4448 1206 00C0      		rjmp .L110
 4449 1208 00C0      		rjmp .L185
 4450               	.LVL251:
 4451               	.L214:
 4452               	.LBE1584:
 4453               	.LBE1585:
 4454               	.LBE1588:
 4455               	.LBE1651:
 4456               	.LBE1932:
 4457               	.LBB1933:
 4458               	.LBB1749:
 4459               	.LBB1747:
 4460               	.LBB1744:
 4461               	.LBB1671:
 4462               	.LBB1669:
 4463               	.LBB1667:
 4464               	.LBB1662:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4465               		.loc 4 57 0
 4466 120a 8091 0000 		lds r24,ep_in_pipe_data+4
 4467 120e 352F      		mov r19,r21
 4468 1210 381B      		sub r19,r24
 4469               	.LBE1662:
 4470               	.LBE1667:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4471               		.loc 2 127 0
 4472 1212 81E0      		ldi r24,lo8(1)
 4473 1214 1316      		cp __zero_reg__,r19
 4474 1216 04F4      		brge .+2
 4475 1218 00C0      		rjmp .L125
 4476 121a 00C0      		rjmp .L186
 4477               	.LVL252:
 4478               	.L215:
 4479               	.LBE1669:
 4480               	.LBE1671:
 4481               	.LBE1744:
 4482               	.LBB1745:
 4483               	.LBB1740:
 4484               	.LBB1739:
 4485               	.LBB1738:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 4486               		.loc 2 177 0
 4487 121c BFB7      		in r27,__SREG__
 4488               	.LVL253:
 4489               	.LBB1730:
 4490               	.LBB1731:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4491               		.loc 3 50 0
 4492               	/* #APP */
 4493               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4494 121e F894      		cli
 4495               	 ;  0 "" 2
 4496               	.LVL254:
 4497               	/* #NOAPP */
 4498               	.LBE1731:
 4499               	.LBE1730:
 4500               		.loc 2 178 0
 4501 1220 1092 0000 		sts ep_in_data+2,__zero_reg__
 4502 1224 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4503               	.LVL255:
 4504               	.LBB1732:
 4505               	.LBB1733:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 4506               		.loc 4 81 0
 4507 1228 8091 0000 		lds r24,ep_in_pipe_data+4
 4508 122c 8F5F      		subi r24,lo8(-(1))
 4509 122e 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 4510               		.loc 4 82 0
 4511 1232 8091 0000 		lds r24,ep_in_pipe_data+2
 4512 1236 9091 0000 		lds r25,ep_in_pipe_data+2+1
 4513 123a 805C      		subi r24,lo8(-(64))
 4514 123c 9F4F      		sbci r25,hi8(-(64))
 4515 123e 8093 0000 		sts ep_in_pipe_data+2,r24
 4516 1242 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4517               		.loc 4 84 0
 4518 1246 E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 4519 1248 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4520 124a 9E07      		cpc r25,r30
 4521 124c 01F4      		brne .L129
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 4522               		.loc 4 85 0
 4523 124e 2092 0000 		sts ep_in_pipe_data+2,r2
 4524 1252 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4525               	.L129:
 4526               	.LVL256:
 4527               	.LBE1733:
 4528               	.LBE1732:
 4529               	.LBB1734:
 4530               	.LBB1728:
 4531               	.LBB1726:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 4532               		.loc 2 80 0
 4533 1256 AFB7      		in r26,__SREG__
 4534               	.LVL257:
 4535               	.LBB1705:
 4536               	.LBB1706:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4537               		.loc 3 50 0
 4538               	/* #APP */
 4539               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4540 1258 F894      		cli
 4541               	 ;  0 "" 2
 4542               	.LVL258:
 4543               	/* #NOAPP */
 4544               	.LBE1706:
 4545               	.LBE1705:
 4546               	.LBB1707:
 4547               	.LBB1681:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 4548               		.loc 5 220 0
 4549 125a 8091 0000 		lds r24,endpoints+24
 4550 125e 8670      		andi r24,lo8(6)
 4551               	.LBE1681:
 4552               	.LBE1707:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 4553               		.loc 2 82 0
 4554 1260 01F4      		brne .L222
 4555               	.LVL259:
 4556               	.L130:
 4557               	.LBB1708:
 4558               	.LBB1709:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4559               		.loc 3 70 0
 4560 1262 AFBF      		out __SREG__,r26
 4561               		.loc 3 71 0
 4562               	.LVL260:
 4563               	.LBE1709:
 4564               	.LBE1708:
 4565               	.LBE1726:
 4566               	.LBE1728:
 4567               	.LBE1734:
 4568               	.LBB1735:
 4569               	.LBB1736:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 4570               		.loc 3 70 0
 4571 1264 BFBF      		out __SREG__,r27
 4572               		.loc 3 71 0
 4573 1266 00C0      		rjmp .L128
 4574               	.LVL261:
 4575               	.L222:
 4576               	.LBE1736:
 4577               	.LBE1735:
 4578               	.LBB1737:
 4579               	.LBB1729:
 4580               	.LBB1727:
 4581               	.LBB1710:
 4582               	.LBB1711:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 4583               		.loc 4 51 0
 4584 1268 2091 0000 		lds r18,ep_in_pipe_data+4
 4585               	.LBE1711:
 4586               	.LBE1710:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 4587               		.loc 2 83 0
 4588 126c 1216      		cp __zero_reg__,r18
 4589 126e 04F0      		brlt .+2
 4590 1270 00C0      		rjmp .L131
 4591               	.LBB1712:
 4592               	.LBB1713:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4593               		.loc 4 62 0
 4594 1272 6091 0000 		lds r22,ep_in_pipe_data
 4595 1276 7091 0000 		lds r23,ep_in_pipe_data+1
 4596               	.LVL262:
 4597               	.LBE1713:
 4598               	.LBE1712:
 4599               	.LBB1714:
 4600               	.LBB1703:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4601               		.loc 2 68 0
 4602 127a 3091 0000 		lds r19,ep_in_data
 4603               	.LVL263:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4604               		.loc 2 69 0
 4605 127e 832F      		mov r24,r19
 4606 1280 90E0      		ldi r25,lo8(0)
 4607 1282 41E0      		ldi r20,lo8(1)
 4608 1284 8C15      		cp r24,r12
 4609 1286 9D05      		cpc r25,r13
 4610 1288 01F4      		brne .L132
 4611 128a 40E0      		ldi r20,lo8(0)
 4612               	.L132:
 4613 128c 4093 0000 		sts ep_in_data,r20
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4614               		.loc 2 72 0
 4615 1290 3323      		tst r19
 4616 1292 01F4      		brne .L133
 4617               	.LVL264:
 4618               	.LBB1700:
 4619               	.LBB1701:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4620               		.loc 5 168 0
 4621 1294 6093 0000 		sts endpoints+28,r22
 4622 1298 7093 0000 		sts endpoints+28+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4623               		.loc 5 169 0
 4624 129c A092 0000 		sts endpoints+26,r10
 4625 12a0 B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4626               		.loc 5 174 0
 4627 12a4 F701      		movw r30,r14
 4628               	/* #APP */
 4629               	 ;  174 "usb/usb.h" 1
 4630 12a6 02E2      		ldi r16, 34
 4631 12a8 0693      		.dc.w 0x9306
 4632               		
 4633               	 ;  0 "" 2
 4634               	.LVL265:
 4635               	/* #NOAPP */
 4636               	.L134:
 4637               	.LBE1701:
 4638               	.LBE1700:
 4639               	.LBE1703:
 4640               	.LBE1714:
 4641               	.LBB1715:
 4642               	.LBB1716:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 4643               		.loc 4 72 0
 4644 12aa 2150      		subi r18,lo8(-(-1))
 4645 12ac 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 4646               		.loc 4 73 0
 4647 12b0 CB01      		movw r24,r22
 4648 12b2 805C      		subi r24,lo8(-(64))
 4649 12b4 9F4F      		sbci r25,hi8(-(64))
 4650 12b6 8093 0000 		sts ep_in_pipe_data,r24
 4651 12ba 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4652               		.loc 4 75 0
 4653 12be F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 4654 12c0 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4655 12c2 9F07      		cpc r25,r31
 4656 12c4 01F4      		brne .L130
 4657               	.LBE1716:
 4658               	.LBE1715:
 4659               	.LBB1717:
 4660               	.LBB1684:
 4661               		.loc 4 91 0
 4662 12c6 2092 0000 		sts ep_in_pipe_data,r2
 4663 12ca 3092 0000 		sts ep_in_pipe_data+1,r3
 4664               	.LVL266:
 4665 12ce 00C0      		rjmp .L130
 4666               	.LVL267:
 4667               	.L133:
 4668               	.LBE1684:
 4669               	.LBE1717:
 4670               	.LBB1718:
 4671               	.LBB1704:
 4672               	.LBB1702:
 4673               	.LBB1699:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4674               		.loc 5 168 0
 4675 12d0 6093 0000 		sts endpoints+20,r22
 4676 12d4 7093 0000 		sts endpoints+20+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4677               		.loc 5 169 0
 4678 12d8 A092 0000 		sts endpoints+18,r10
 4679 12dc B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4680               		.loc 5 176 0
 4681 12e0 F701      		movw r30,r14
 4682               	/* #APP */
 4683               	 ;  176 "usb/usb.h" 1
 4684 12e2 04E1      		ldi r16, 20
 4685 12e4 0693      		.dc.w 0x9306
 4686               		
 4687               	 ;  0 "" 2
 4688               	/* #NOAPP */
 4689 12e6 00C0      		rjmp .L134
 4690               	.LVL268:
 4691               	.L131:
 4692               	.LBE1699:
 4693               	.LBE1702:
 4694               	.LBE1704:
 4695               	.LBE1718:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 4696               		.loc 2 87 0
 4697 12e8 8091 0000 		lds r24,ep_in_data+1
 4698 12ec 8130      		cpi r24,lo8(1)
 4699 12ee 01F0      		breq .L223
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4700               		.loc 2 91 0
 4701 12f0 8230      		cpi r24,lo8(2)
 4702 12f2 01F0      		breq .+2
 4703 12f4 00C0      		rjmp .L130
 4704               	.LVL269:
 4705               	.LBB1719:
 4706               	.LBB1720:
 4707               	.LBB1721:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 4708               		.loc 5 228 0
 4709 12f6 8091 0000 		lds r24,endpoints+24
 4710 12fa 8670      		andi r24,lo8(6)
 4711               	.LBE1721:
 4712               	.LBE1720:
 4713               	.LBE1719:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 4714               		.loc 2 91 0
 4715 12fc 8630      		cpi r24,lo8(6)
 4716 12fe 01F0      		breq .+2
 4717 1300 00C0      		rjmp .L130
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 4718               		.loc 2 92 0
 4719 1302 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 4720               		.loc 2 93 0
 4721 1306 1092 0000 		sts ep_in_data+2,__zero_reg__
 4722 130a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4723               	.LBB1722:
 4724               	.LBB1685:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 4725               		.loc 4 90 0
 4726 130e 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 4727               		.loc 4 91 0
 4728 1312 2092 0000 		sts ep_in_pipe_data+2,r2
 4729 1316 3092 0000 		sts ep_in_pipe_data+2+1,r3
 4730 131a 2092 0000 		sts ep_in_pipe_data,r2
 4731 131e 3092 0000 		sts ep_in_pipe_data+1,r3
 4732               	.LVL270:
 4733 1322 00C0      		rjmp .L130
 4734               	.LVL271:
 4735               	.L223:
 4736               	.LBE1685:
 4737               	.LBE1722:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 4738               		.loc 2 88 0
 4739 1324 1093 0000 		sts ep_in_data+1,r17
 4740               	.LBB1723:
 4741               	.LBB1724:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4742               		.loc 4 62 0
 4743 1328 7091 0000 		lds r23,ep_in_pipe_data
 4744 132c E091 0000 		lds r30,ep_in_pipe_data+1
 4745               	.LBE1724:
 4746               	.LBE1723:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 4747               		.loc 2 90 0
 4748 1330 2091 0000 		lds r18,ep_in_data+2
 4749 1334 3091 0000 		lds r19,ep_in_data+2+1
 4750               	.LVL272:
 4751               	.LBB1725:
 4752               	.LBB1694:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4753               		.loc 2 68 0
 4754 1338 6091 0000 		lds r22,ep_in_data
 4755               	.LVL273:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4756               		.loc 2 69 0
 4757 133c 862F      		mov r24,r22
 4758 133e 90E0      		ldi r25,lo8(0)
 4759 1340 41E0      		ldi r20,lo8(1)
 4760 1342 8C15      		cp r24,r12
 4761 1344 9D05      		cpc r25,r13
 4762 1346 01F4      		brne .L137
 4763 1348 40E0      		ldi r20,lo8(0)
 4764               	.L137:
 4765 134a 4093 0000 		sts ep_in_data,r20
 4766               	.LBB1688:
 4767               	.LBB1689:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4768               		.loc 5 168 0
 4769 134e 872F      		mov r24,r23
 4770 1350 9E2F      		mov r25,r30
 4771               	.LBE1689:
 4772               	.LBE1688:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4773               		.loc 2 72 0
 4774 1352 6623      		tst r22
 4775 1354 01F4      		brne .L138
 4776               	.LVL274:
 4777               	.LBB1691:
 4778               	.LBB1690:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4779               		.loc 5 168 0
 4780 1356 8093 0000 		sts endpoints+28,r24
 4781 135a 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4782               		.loc 5 169 0
 4783 135e 2093 0000 		sts endpoints+26,r18
 4784 1362 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4785               		.loc 5 174 0
 4786 1366 F701      		movw r30,r14
 4787               	/* #APP */
 4788               	 ;  174 "usb/usb.h" 1
 4789 1368 02E2      		ldi r16, 34
 4790 136a 0693      		.dc.w 0x9306
 4791               		
 4792               	 ;  0 "" 2
 4793               	/* #NOAPP */
 4794 136c 00C0      		rjmp .L130
 4795               	.LVL275:
 4796               	.L138:
 4797               	.LBE1690:
 4798               	.LBE1691:
 4799               	.LBB1692:
 4800               	.LBB1693:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4801               		.loc 5 168 0
 4802 136e 8093 0000 		sts endpoints+20,r24
 4803 1372 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4804               		.loc 5 169 0
 4805 1376 2093 0000 		sts endpoints+18,r18
 4806 137a 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 4807               		.loc 5 176 0
 4808 137e F701      		movw r30,r14
 4809               	/* #APP */
 4810               	 ;  176 "usb/usb.h" 1
 4811 1380 04E1      		ldi r16, 20
 4812 1382 0693      		.dc.w 0x9306
 4813               		
 4814               	 ;  0 "" 2
 4815               	/* #NOAPP */
 4816 1384 00C0      		rjmp .L130
 4817               	.LVL276:
 4818               	.L216:
 4819               	.LBE1693:
 4820               	.LBE1692:
 4821               	.LBE1694:
 4822               	.LBE1725:
 4823               	.LBE1727:
 4824               	.LBE1729:
 4825               	.LBE1737:
 4826               	.LBE1738:
 4827               	.LBE1739:
 4828               	.LBE1740:
 4829               	.LBE1745:
 4830               	.LBE1747:
 4831               	.LBE1749:
 4832               	.LBE1933:
 4833               	.LBB1934:
 4834               	.LBB1828:
 4835               	.LBB1767:
 4836               	.LBB1764:
 4837               	.LBB1763:
 4838               	.LBB1762:
 4839               	.LBB1757:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 4840               		.loc 4 57 0
 4841 1386 8091 0000 		lds r24,ep_in_pipe_data+4
 4842 138a 392F      		mov r19,r25
 4843 138c 381B      		sub r19,r24
 4844               	.LBE1757:
 4845               	.LBE1762:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 4846               		.loc 2 127 0
 4847 138e 81E0      		ldi r24,lo8(1)
 4848 1390 1316      		cp __zero_reg__,r19
 4849 1392 04F4      		brge .+2
 4850 1394 00C0      		rjmp .L140
 4851 1396 00C0      		rjmp .L187
 4852               	.LVL277:
 4853               	.L209:
 4854               	.LBE1763:
 4855               	.LBE1764:
 4856               	.LBE1767:
 4857               	.LBE1828:
 4858               	.LBE1934:
 4859               	.LBE1474:
 4860               	.LBB1940:
 4861               	.LBB1471:
 4862               	.LBB1468:
 4863               	.LBB1440:
 4864               	.LBB1437:
 4865               	.LBB1434:
 4866               	.LBB1431:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 4867               		.loc 2 88 0
 4868 1398 82E0      		ldi r24,lo8(2)
 4869 139a 8093 0000 		sts ep_in_data+1,r24
 4870               	.LBB1420:
 4871               	.LBB1421:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 4872               		.loc 4 62 0
 4873 139e 6091 0000 		lds r22,ep_in_pipe_data
 4874 13a2 4091 0000 		lds r20,ep_in_pipe_data+1
 4875               	.LBE1421:
 4876               	.LBE1420:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 4877               		.loc 2 90 0
 4878 13a6 8091 0000 		lds r24,ep_in_data+2
 4879 13aa 9091 0000 		lds r25,ep_in_data+2+1
 4880               	.LVL278:
 4881               	.LBB1422:
 4882               	.LBB1423:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 4883               		.loc 2 68 0
 4884 13ae 2091 0000 		lds r18,ep_in_data
 4885               	.LVL279:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 4886               		.loc 2 69 0
 4887 13b2 31E0      		ldi r19,lo8(1)
 4888 13b4 2130      		cpi r18,lo8(1)
 4889 13b6 01F4      		brne .L177
 4890 13b8 30E0      		ldi r19,lo8(0)
 4891               	.L177:
 4892 13ba 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 4893               		.loc 2 72 0
 4894 13be 2223      		tst r18
 4895 13c0 01F0      		breq .+2
 4896 13c2 00C0      		rjmp .L178
 4897               	.LVL280:
 4898               	.LBB1424:
 4899               	.LBB1425:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 4900               		.loc 5 168 0
 4901 13c4 262F      		mov r18,r22
 4902 13c6 342F      		mov r19,r20
 4903 13c8 2093 0000 		sts endpoints+28,r18
 4904 13cc 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 4905               		.loc 5 169 0
 4906 13d0 8093 0000 		sts endpoints+26,r24
 4907 13d4 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 4908               		.loc 5 174 0
 4909 13d8 E0E0      		ldi r30,lo8(endpoints+24)
 4910 13da F0E0      		ldi r31,hi8(endpoints+24)
 4911               	.LVL281:
 4912               	/* #APP */
 4913               	 ;  174 "usb/usb.h" 1
 4914 13dc 02E2      		ldi r16, 34
 4915 13de 0693      		.dc.w 0x9306
 4916               		
 4917               	 ;  0 "" 2
 4918               	/* #NOAPP */
 4919 13e0 00C0      		rjmp .L170
 4920               	.LVL282:
 4921               	.L213:
 4922               	.LBE1425:
 4923               	.LBE1424:
 4924               	.LBE1423:
 4925               	.LBE1422:
 4926               	.LBE1431:
 4927               	.LBE1434:
 4928               	.LBE1437:
 4929               	.LBE1440:
 4930               	.LBE1468:
 4931               	.LBE1471:
 4932               	.LBE1940:
 4933               	.LBB1941:
 4934               	.LBB1935:
 4935               	.LBB1652:
 4936               	.LBB1589:
 4937               	.LBB1590:
 4938               	.LBB1591:
 4939               	.LBB1592:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 4940               		.loc 2 177 0
 4941 13e2 7FB7      		in r23,__SREG__
 4942               	.LVL283:
 4943               	.LBB1593:
 4944               	.LBB1594:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4945               		.loc 3 50 0
 4946               	/* #APP */
 4947               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4948 13e4 F894      		cli
 4949               	 ;  0 "" 2
 4950               	.LVL284:
 4951               	/* #NOAPP */
 4952               	.LBE1594:
 4953               	.LBE1593:
 4954               		.loc 2 178 0
 4955 13e6 1092 0000 		sts ep_in_data+2,__zero_reg__
 4956 13ea 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 4957               	.LVL285:
 4958               	.LBB1595:
 4959               	.LBB1596:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 4960               		.loc 4 81 0
 4961 13ee 8091 0000 		lds r24,ep_in_pipe_data+4
 4962 13f2 8F5F      		subi r24,lo8(-(1))
 4963 13f4 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 4964               		.loc 4 82 0
 4965 13f8 8091 0000 		lds r24,ep_in_pipe_data+2
 4966 13fc 9091 0000 		lds r25,ep_in_pipe_data+2+1
 4967 1400 805C      		subi r24,lo8(-(64))
 4968 1402 9F4F      		sbci r25,hi8(-(64))
 4969 1404 8093 0000 		sts ep_in_pipe_data+2,r24
 4970 1408 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 4971               		.loc 4 84 0
 4972 140c 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 4973 140e 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 4974 1410 9307      		cpc r25,r19
 4975 1412 01F4      		brne .L114
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 4976               		.loc 4 85 0
 4977 1414 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 4978 1416 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 4979 1418 8093 0000 		sts ep_in_pipe_data+2,r24
 4980 141c 9093 0000 		sts ep_in_pipe_data+2+1,r25
 4981               	.L114:
 4982               	.LVL286:
 4983               	.LBE1596:
 4984               	.LBE1595:
 4985               	.LBB1597:
 4986               	.LBB1598:
 4987               	.LBB1599:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 4988               		.loc 2 80 0
 4989 1420 6FB7      		in r22,__SREG__
 4990               	.LVL287:
 4991               	.LBB1600:
 4992               	.LBB1601:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 4993               		.loc 3 50 0
 4994               	/* #APP */
 4995               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 4996 1422 F894      		cli
 4997               	 ;  0 "" 2
 4998               	.LVL288:
 4999               	/* #NOAPP */
 5000               	.LBE1601:
 5001               	.LBE1600:
 5002               	.LBB1602:
 5003               	.LBB1603:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 5004               		.loc 5 220 0
 5005 1424 8091 0000 		lds r24,endpoints+24
 5006 1428 8670      		andi r24,lo8(6)
 5007               	.LBE1603:
 5008               	.LBE1602:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 5009               		.loc 2 82 0
 5010 142a 01F0      		breq .L115
 5011               	.LBB1604:
 5012               	.LBB1605:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 5013               		.loc 4 51 0
 5014 142c 4091 0000 		lds r20,ep_in_pipe_data+4
 5015               	.LBE1605:
 5016               	.LBE1604:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 5017               		.loc 2 83 0
 5018 1430 1416      		cp __zero_reg__,r20
 5019 1432 04F0      		brlt .+2
 5020 1434 00C0      		rjmp .L116
 5021               	.LBB1606:
 5022               	.LBB1607:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5023               		.loc 4 62 0
 5024 1436 2091 0000 		lds r18,ep_in_pipe_data
 5025 143a 3091 0000 		lds r19,ep_in_pipe_data+1
 5026               	.LVL289:
 5027               	.LBE1607:
 5028               	.LBE1606:
 5029               	.LBB1608:
 5030               	.LBB1609:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5031               		.loc 2 68 0
 5032 143e 9091 0000 		lds r25,ep_in_data
 5033               	.LVL290:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5034               		.loc 2 69 0
 5035 1442 81E0      		ldi r24,lo8(1)
 5036 1444 9130      		cpi r25,lo8(1)
 5037 1446 01F4      		brne .L117
 5038 1448 80E0      		ldi r24,lo8(0)
 5039               	.L117:
 5040 144a 8093 0000 		sts ep_in_data,r24
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5041               		.loc 2 72 0
 5042 144e 9923      		tst r25
 5043 1450 01F4      		brne .L118
 5044               	.LVL291:
 5045               	.LBB1610:
 5046               	.LBB1611:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5047               		.loc 5 168 0
 5048 1452 2093 0000 		sts endpoints+28,r18
 5049 1456 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5050               		.loc 5 169 0
 5051 145a 80E4      		ldi r24,lo8(64)
 5052 145c 90E0      		ldi r25,hi8(64)
 5053 145e 8093 0000 		sts endpoints+26,r24
 5054 1462 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5055               		.loc 5 174 0
 5056 1466 E0E0      		ldi r30,lo8(endpoints+24)
 5057 1468 F0E0      		ldi r31,hi8(endpoints+24)
 5058               	.LVL292:
 5059               	/* #APP */
 5060               	 ;  174 "usb/usb.h" 1
 5061 146a 02E2      		ldi r16, 34
 5062 146c 0693      		.dc.w 0x9306
 5063               		
 5064               	 ;  0 "" 2
 5065               	.LVL293:
 5066               	/* #NOAPP */
 5067               	.L119:
 5068               	.LBE1611:
 5069               	.LBE1610:
 5070               	.LBE1609:
 5071               	.LBE1608:
 5072               	.LBB1615:
 5073               	.LBB1616:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 5074               		.loc 4 72 0
 5075 146e 842F      		mov r24,r20
 5076 1470 8150      		subi r24,lo8(-(-1))
 5077 1472 8093 0000 		sts ep_in_pipe_data+4,r24
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 5078               		.loc 4 73 0
 5079 1476 C901      		movw r24,r18
 5080 1478 805C      		subi r24,lo8(-(64))
 5081 147a 9F4F      		sbci r25,hi8(-(64))
 5082 147c 8093 0000 		sts ep_in_pipe_data,r24
 5083 1480 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5084               		.loc 4 75 0
 5085 1484 A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 5086 1486 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5087 1488 9A07      		cpc r25,r26
 5088 148a 01F0      		breq .L224
 5089               	.LVL294:
 5090               	.L115:
 5091               	.LBE1616:
 5092               	.LBE1615:
 5093               	.LBB1618:
 5094               	.LBB1619:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5095               		.loc 3 70 0
 5096 148c 6FBF      		out __SREG__,r22
 5097               		.loc 3 71 0
 5098               	.LVL295:
 5099               	.LBE1619:
 5100               	.LBE1618:
 5101               	.LBE1599:
 5102               	.LBE1598:
 5103               	.LBE1597:
 5104               	.LBB1643:
 5105               	.LBB1644:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5106               		.loc 3 70 0
 5107 148e 7FBF      		out __SREG__,r23
 5108               		.loc 3 71 0
 5109 1490 00C0      		rjmp .L113
 5110               	.LVL296:
 5111               	.L118:
 5112               	.LBE1644:
 5113               	.LBE1643:
 5114               	.LBB1645:
 5115               	.LBB1641:
 5116               	.LBB1639:
 5117               	.LBB1620:
 5118               	.LBB1614:
 5119               	.LBB1612:
 5120               	.LBB1613:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5121               		.loc 5 168 0
 5122 1492 2093 0000 		sts endpoints+20,r18
 5123 1496 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5124               		.loc 5 169 0
 5125 149a 80E4      		ldi r24,lo8(64)
 5126 149c 90E0      		ldi r25,hi8(64)
 5127 149e 8093 0000 		sts endpoints+18,r24
 5128 14a2 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5129               		.loc 5 176 0
 5130 14a6 E0E0      		ldi r30,lo8(endpoints+24)
 5131 14a8 F0E0      		ldi r31,hi8(endpoints+24)
 5132               	/* #APP */
 5133               	 ;  176 "usb/usb.h" 1
 5134 14aa 04E1      		ldi r16, 20
 5135 14ac 0693      		.dc.w 0x9306
 5136               		
 5137               	 ;  0 "" 2
 5138               	/* #NOAPP */
 5139 14ae 00C0      		rjmp .L119
 5140               	.LVL297:
 5141               	.L116:
 5142               	.LBE1613:
 5143               	.LBE1612:
 5144               	.LBE1614:
 5145               	.LBE1620:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 5146               		.loc 2 87 0
 5147 14b0 8091 0000 		lds r24,ep_in_data+1
 5148 14b4 8130      		cpi r24,lo8(1)
 5149 14b6 01F0      		breq .L225
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5150               		.loc 2 91 0
 5151 14b8 8230      		cpi r24,lo8(2)
 5152 14ba 01F4      		brne .L115
 5153               	.LVL298:
 5154               	.LBB1621:
 5155               	.LBB1622:
 5156               	.LBB1623:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 5157               		.loc 5 228 0
 5158 14bc 8091 0000 		lds r24,endpoints+24
 5159 14c0 8670      		andi r24,lo8(6)
 5160               	.LBE1623:
 5161               	.LBE1622:
 5162               	.LBE1621:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5163               		.loc 2 91 0
 5164 14c2 8630      		cpi r24,lo8(6)
 5165 14c4 01F4      		brne .L115
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 5166               		.loc 2 92 0
 5167 14c6 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 5168               		.loc 2 93 0
 5169 14ca 1092 0000 		sts ep_in_data+2,__zero_reg__
 5170 14ce 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5171               	.LBB1624:
 5172               	.LBB1625:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 5173               		.loc 4 90 0
 5174 14d2 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 5175               		.loc 4 91 0
 5176 14d6 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5177 14d8 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5178 14da 8093 0000 		sts ep_in_pipe_data+2,r24
 5179 14de 9093 0000 		sts ep_in_pipe_data+2+1,r25
 5180 14e2 8093 0000 		sts ep_in_pipe_data,r24
 5181 14e6 9093 0000 		sts ep_in_pipe_data+1,r25
 5182               	.LVL299:
 5183 14ea 00C0      		rjmp .L115
 5184               	.LVL300:
 5185               	.L224:
 5186               	.LBE1625:
 5187               	.LBE1624:
 5188               	.LBB1626:
 5189               	.LBB1617:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 5190               		.loc 4 76 0
 5191 14ec 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5192 14ee 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5193 14f0 8093 0000 		sts ep_in_pipe_data,r24
 5194 14f4 9093 0000 		sts ep_in_pipe_data+1,r25
 5195 14f8 00C0      		rjmp .L115
 5196               	.LVL301:
 5197               	.L225:
 5198               	.LBE1617:
 5199               	.LBE1626:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 5200               		.loc 2 88 0
 5201 14fa 82E0      		ldi r24,lo8(2)
 5202 14fc 8093 0000 		sts ep_in_data+1,r24
 5203               	.LBB1627:
 5204               	.LBB1628:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5205               		.loc 4 62 0
 5206 1500 4091 0000 		lds r20,ep_in_pipe_data
 5207 1504 5091 0000 		lds r21,ep_in_pipe_data+1
 5208               	.LBE1628:
 5209               	.LBE1627:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5210               		.loc 2 90 0
 5211 1508 8091 0000 		lds r24,ep_in_data+2
 5212 150c 9091 0000 		lds r25,ep_in_data+2+1
 5213               	.LVL302:
 5214               	.LBB1629:
 5215               	.LBB1630:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5216               		.loc 2 68 0
 5217 1510 3091 0000 		lds r19,ep_in_data
 5218               	.LVL303:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5219               		.loc 2 69 0
 5220 1514 21E0      		ldi r18,lo8(1)
 5221 1516 3130      		cpi r19,lo8(1)
 5222 1518 01F4      		brne .L122
 5223 151a 20E0      		ldi r18,lo8(0)
 5224               	.L122:
 5225 151c 2093 0000 		sts ep_in_data,r18
 5226               	.LBB1631:
 5227               	.LBB1632:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5228               		.loc 5 168 0
 5229 1520 242F      		mov r18,r20
 5230               	.LBE1632:
 5231               	.LBE1631:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5232               		.loc 2 72 0
 5233 1522 3323      		tst r19
 5234 1524 01F0      		breq .+2
 5235 1526 00C0      		rjmp .L123
 5236               	.LVL304:
 5237               	.LBB1634:
 5238               	.LBB1633:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5239               		.loc 5 168 0
 5240 1528 352F      		mov r19,r21
 5241 152a 2093 0000 		sts endpoints+28,r18
 5242 152e 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5243               		.loc 5 169 0
 5244 1532 8093 0000 		sts endpoints+26,r24
 5245 1536 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5246               		.loc 5 174 0
 5247 153a E0E0      		ldi r30,lo8(endpoints+24)
 5248 153c F0E0      		ldi r31,hi8(endpoints+24)
 5249               	.LVL305:
 5250               	/* #APP */
 5251               	 ;  174 "usb/usb.h" 1
 5252 153e 02E2      		ldi r16, 34
 5253 1540 0693      		.dc.w 0x9306
 5254               		
 5255               	 ;  0 "" 2
 5256               	/* #NOAPP */
 5257 1542 00C0      		rjmp .L115
 5258               	.LVL306:
 5259               	.L218:
 5260               	.LBE1633:
 5261               	.LBE1634:
 5262               	.LBE1630:
 5263               	.LBE1629:
 5264               	.LBE1639:
 5265               	.LBE1641:
 5266               	.LBE1645:
 5267               	.LBE1592:
 5268               	.LBE1591:
 5269               	.LBE1590:
 5270               	.LBE1589:
 5271               	.LBE1652:
 5272               	.LBE1935:
 5273               	.LBB1936:
 5274               	.LBB1926:
 5275               	.LBB1924:
 5276               	.LBB1921:
 5277               	.LBB1848:
 5278               	.LBB1846:
 5279               	.LBB1844:
 5280               	.LBB1839:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 5281               		.loc 4 57 0
 5282 1544 8091 0000 		lds r24,ep_in_pipe_data+4
 5283 1548 372F      		mov r19,r23
 5284 154a 381B      		sub r19,r24
 5285               	.LBE1839:
 5286               	.LBE1844:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 5287               		.loc 2 127 0
 5288 154c 81E0      		ldi r24,lo8(1)
 5289 154e 1316      		cp __zero_reg__,r19
 5290 1550 04F4      		brge .+2
 5291 1552 00C0      		rjmp .L155
 5292 1554 00C0      		rjmp .L188
 5293               	.LVL307:
 5294               	.L219:
 5295               	.LBE1846:
 5296               	.LBE1848:
 5297               	.LBE1921:
 5298               	.LBB1922:
 5299               	.LBB1917:
 5300               	.LBB1916:
 5301               	.LBB1915:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 5302               		.loc 2 177 0
 5303 1556 BFB7      		in r27,__SREG__
 5304               	.LVL308:
 5305               	.LBB1907:
 5306               	.LBB1908:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5307               		.loc 3 50 0
 5308               	/* #APP */
 5309               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5310 1558 F894      		cli
 5311               	 ;  0 "" 2
 5312               	.LVL309:
 5313               	/* #NOAPP */
 5314               	.LBE1908:
 5315               	.LBE1907:
 5316               		.loc 2 178 0
 5317 155a 1092 0000 		sts ep_in_data+2,__zero_reg__
 5318 155e 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5319               	.LVL310:
 5320               	.LBB1909:
 5321               	.LBB1910:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 5322               		.loc 4 81 0
 5323 1562 8091 0000 		lds r24,ep_in_pipe_data+4
 5324 1566 8F5F      		subi r24,lo8(-(1))
 5325 1568 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 5326               		.loc 4 82 0
 5327 156c 8091 0000 		lds r24,ep_in_pipe_data+2
 5328 1570 9091 0000 		lds r25,ep_in_pipe_data+2+1
 5329 1574 805C      		subi r24,lo8(-(64))
 5330 1576 9F4F      		sbci r25,hi8(-(64))
 5331 1578 8093 0000 		sts ep_in_pipe_data+2,r24
 5332 157c 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5333               		.loc 4 84 0
 5334 1580 E0E0      		ldi r30,hi8(ep_in_pipe_buffer+512)
 5335 1582 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5336 1584 9E07      		cpc r25,r30
 5337 1586 01F4      		brne .L159
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 5338               		.loc 4 85 0
 5339 1588 2092 0000 		sts ep_in_pipe_data+2,r2
 5340 158c 3092 0000 		sts ep_in_pipe_data+2+1,r3
 5341               	.L159:
 5342               	.LVL311:
 5343               	.LBE1910:
 5344               	.LBE1909:
 5345               	.LBB1911:
 5346               	.LBB1905:
 5347               	.LBB1903:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 5348               		.loc 2 80 0
 5349 1590 AFB7      		in r26,__SREG__
 5350               	.LVL312:
 5351               	.LBB1882:
 5352               	.LBB1883:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5353               		.loc 3 50 0
 5354               	/* #APP */
 5355               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5356 1592 F894      		cli
 5357               	 ;  0 "" 2
 5358               	.LVL313:
 5359               	/* #NOAPP */
 5360               	.LBE1883:
 5361               	.LBE1882:
 5362               	.LBB1884:
 5363               	.LBB1858:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 5364               		.loc 5 220 0
 5365 1594 8091 0000 		lds r24,endpoints+24
 5366 1598 8670      		andi r24,lo8(6)
 5367               	.LBE1858:
 5368               	.LBE1884:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 5369               		.loc 2 82 0
 5370 159a 01F4      		brne .L226
 5371               	.LVL314:
 5372               	.L160:
 5373               	.LBB1885:
 5374               	.LBB1886:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5375               		.loc 3 70 0
 5376 159c AFBF      		out __SREG__,r26
 5377               		.loc 3 71 0
 5378               	.LVL315:
 5379               	.LBE1886:
 5380               	.LBE1885:
 5381               	.LBE1903:
 5382               	.LBE1905:
 5383               	.LBE1911:
 5384               	.LBB1912:
 5385               	.LBB1913:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5386               		.loc 3 70 0
 5387 159e BFBF      		out __SREG__,r27
 5388               		.loc 3 71 0
 5389 15a0 00C0      		rjmp .L158
 5390               	.LVL316:
 5391               	.L226:
 5392               	.LBE1913:
 5393               	.LBE1912:
 5394               	.LBB1914:
 5395               	.LBB1906:
 5396               	.LBB1904:
 5397               	.LBB1887:
 5398               	.LBB1888:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 5399               		.loc 4 51 0
 5400 15a2 2091 0000 		lds r18,ep_in_pipe_data+4
 5401               	.LBE1888:
 5402               	.LBE1887:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 5403               		.loc 2 83 0
 5404 15a6 1216      		cp __zero_reg__,r18
 5405 15a8 04F0      		brlt .+2
 5406 15aa 00C0      		rjmp .L161
 5407               	.LBB1889:
 5408               	.LBB1890:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5409               		.loc 4 62 0
 5410 15ac 4091 0000 		lds r20,ep_in_pipe_data
 5411 15b0 5091 0000 		lds r21,ep_in_pipe_data+1
 5412               	.LVL317:
 5413               	.LBE1890:
 5414               	.LBE1889:
 5415               	.LBB1891:
 5416               	.LBB1880:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5417               		.loc 2 68 0
 5418 15b4 3091 0000 		lds r19,ep_in_data
 5419               	.LVL318:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5420               		.loc 2 69 0
 5421 15b8 832F      		mov r24,r19
 5422 15ba 90E0      		ldi r25,lo8(0)
 5423 15bc 61E0      		ldi r22,lo8(1)
 5424 15be 8C15      		cp r24,r12
 5425 15c0 9D05      		cpc r25,r13
 5426 15c2 01F4      		brne .L162
 5427 15c4 60E0      		ldi r22,lo8(0)
 5428               	.L162:
 5429 15c6 6093 0000 		sts ep_in_data,r22
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5430               		.loc 2 72 0
 5431 15ca 3323      		tst r19
 5432 15cc 01F4      		brne .L163
 5433               	.LVL319:
 5434               	.LBB1877:
 5435               	.LBB1878:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5436               		.loc 5 168 0
 5437 15ce 4093 0000 		sts endpoints+28,r20
 5438 15d2 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5439               		.loc 5 169 0
 5440 15d6 A092 0000 		sts endpoints+26,r10
 5441 15da B092 0000 		sts endpoints+26+1,r11
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5442               		.loc 5 174 0
 5443 15de F701      		movw r30,r14
 5444               	/* #APP */
 5445               	 ;  174 "usb/usb.h" 1
 5446 15e0 02E2      		ldi r16, 34
 5447 15e2 0693      		.dc.w 0x9306
 5448               		
 5449               	 ;  0 "" 2
 5450               	.LVL320:
 5451               	/* #NOAPP */
 5452               	.L164:
 5453               	.LBE1878:
 5454               	.LBE1877:
 5455               	.LBE1880:
 5456               	.LBE1891:
 5457               	.LBB1892:
 5458               	.LBB1893:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 5459               		.loc 4 72 0
 5460 15e4 2150      		subi r18,lo8(-(-1))
 5461 15e6 2093 0000 		sts ep_in_pipe_data+4,r18
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 5462               		.loc 4 73 0
 5463 15ea CA01      		movw r24,r20
 5464 15ec 805C      		subi r24,lo8(-(64))
 5465 15ee 9F4F      		sbci r25,hi8(-(64))
 5466 15f0 8093 0000 		sts ep_in_pipe_data,r24
 5467 15f4 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5468               		.loc 4 75 0
 5469 15f8 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 5470 15fa 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5471 15fc 9F07      		cpc r25,r31
 5472 15fe 01F4      		brne .L160
 5473               	.LBE1893:
 5474               	.LBE1892:
 5475               	.LBB1894:
 5476               	.LBB1861:
 5477               		.loc 4 91 0
 5478 1600 2092 0000 		sts ep_in_pipe_data,r2
 5479 1604 3092 0000 		sts ep_in_pipe_data+1,r3
 5480               	.LVL321:
 5481 1608 00C0      		rjmp .L160
 5482               	.LVL322:
 5483               	.L163:
 5484               	.LBE1861:
 5485               	.LBE1894:
 5486               	.LBB1895:
 5487               	.LBB1881:
 5488               	.LBB1879:
 5489               	.LBB1876:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5490               		.loc 5 168 0
 5491 160a 4093 0000 		sts endpoints+20,r20
 5492 160e 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5493               		.loc 5 169 0
 5494 1612 A092 0000 		sts endpoints+18,r10
 5495 1616 B092 0000 		sts endpoints+18+1,r11
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5496               		.loc 5 176 0
 5497 161a F701      		movw r30,r14
 5498               	/* #APP */
 5499               	 ;  176 "usb/usb.h" 1
 5500 161c 04E1      		ldi r16, 20
 5501 161e 0693      		.dc.w 0x9306
 5502               		
 5503               	 ;  0 "" 2
 5504               	/* #NOAPP */
 5505 1620 00C0      		rjmp .L164
 5506               	.LVL323:
 5507               	.L161:
 5508               	.LBE1876:
 5509               	.LBE1879:
 5510               	.LBE1881:
 5511               	.LBE1895:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 5512               		.loc 2 87 0
 5513 1622 8091 0000 		lds r24,ep_in_data+1
 5514 1626 8130      		cpi r24,lo8(1)
 5515 1628 01F0      		breq .L227
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5516               		.loc 2 91 0
 5517 162a 8230      		cpi r24,lo8(2)
 5518 162c 01F0      		breq .+2
 5519 162e 00C0      		rjmp .L160
 5520               	.LVL324:
 5521               	.LBB1896:
 5522               	.LBB1897:
 5523               	.LBB1898:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 5524               		.loc 5 228 0
 5525 1630 8091 0000 		lds r24,endpoints+24
 5526 1634 8670      		andi r24,lo8(6)
 5527               	.LBE1898:
 5528               	.LBE1897:
 5529               	.LBE1896:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5530               		.loc 2 91 0
 5531 1636 8630      		cpi r24,lo8(6)
 5532 1638 01F0      		breq .+2
 5533 163a 00C0      		rjmp .L160
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 5534               		.loc 2 92 0
 5535 163c 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 5536               		.loc 2 93 0
 5537 1640 1092 0000 		sts ep_in_data+2,__zero_reg__
 5538 1644 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5539               	.LBB1899:
 5540               	.LBB1862:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 5541               		.loc 4 90 0
 5542 1648 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 5543               		.loc 4 91 0
 5544 164c 2092 0000 		sts ep_in_pipe_data+2,r2
 5545 1650 3092 0000 		sts ep_in_pipe_data+2+1,r3
 5546 1654 2092 0000 		sts ep_in_pipe_data,r2
 5547 1658 3092 0000 		sts ep_in_pipe_data+1,r3
 5548               	.LVL325:
 5549 165c 00C0      		rjmp .L160
 5550               	.LVL326:
 5551               	.L227:
 5552               	.LBE1862:
 5553               	.LBE1899:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 5554               		.loc 2 88 0
 5555 165e 1093 0000 		sts ep_in_data+1,r17
 5556               	.LBB1900:
 5557               	.LBB1901:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5558               		.loc 4 62 0
 5559 1662 6091 0000 		lds r22,ep_in_pipe_data
 5560 1666 E091 0000 		lds r30,ep_in_pipe_data+1
 5561               	.LBE1901:
 5562               	.LBE1900:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5563               		.loc 2 90 0
 5564 166a 2091 0000 		lds r18,ep_in_data+2
 5565 166e 3091 0000 		lds r19,ep_in_data+2+1
 5566               	.LVL327:
 5567               	.LBB1902:
 5568               	.LBB1871:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5569               		.loc 2 68 0
 5570 1672 5091 0000 		lds r21,ep_in_data
 5571               	.LVL328:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5572               		.loc 2 69 0
 5573 1676 852F      		mov r24,r21
 5574 1678 90E0      		ldi r25,lo8(0)
 5575 167a 41E0      		ldi r20,lo8(1)
 5576 167c 8C15      		cp r24,r12
 5577 167e 9D05      		cpc r25,r13
 5578 1680 01F4      		brne .L167
 5579 1682 40E0      		ldi r20,lo8(0)
 5580               	.L167:
 5581 1684 4093 0000 		sts ep_in_data,r20
 5582               	.LBB1865:
 5583               	.LBB1866:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5584               		.loc 5 168 0
 5585 1688 862F      		mov r24,r22
 5586 168a 9E2F      		mov r25,r30
 5587               	.LBE1866:
 5588               	.LBE1865:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5589               		.loc 2 72 0
 5590 168c 5523      		tst r21
 5591 168e 01F4      		brne .L168
 5592               	.LVL329:
 5593               	.LBB1868:
 5594               	.LBB1867:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5595               		.loc 5 168 0
 5596 1690 8093 0000 		sts endpoints+28,r24
 5597 1694 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5598               		.loc 5 169 0
 5599 1698 2093 0000 		sts endpoints+26,r18
 5600 169c 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5601               		.loc 5 174 0
 5602 16a0 F701      		movw r30,r14
 5603               	/* #APP */
 5604               	 ;  174 "usb/usb.h" 1
 5605 16a2 02E2      		ldi r16, 34
 5606 16a4 0693      		.dc.w 0x9306
 5607               		
 5608               	 ;  0 "" 2
 5609               	/* #NOAPP */
 5610 16a6 00C0      		rjmp .L160
 5611               	.LVL330:
 5612               	.L168:
 5613               	.LBE1867:
 5614               	.LBE1868:
 5615               	.LBB1869:
 5616               	.LBB1870:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5617               		.loc 5 168 0
 5618 16a8 8093 0000 		sts endpoints+20,r24
 5619 16ac 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5620               		.loc 5 169 0
 5621 16b0 2093 0000 		sts endpoints+18,r18
 5622 16b4 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5623               		.loc 5 176 0
 5624 16b8 F701      		movw r30,r14
 5625               	/* #APP */
 5626               	 ;  176 "usb/usb.h" 1
 5627 16ba 04E1      		ldi r16, 20
 5628 16bc 0693      		.dc.w 0x9306
 5629               		
 5630               	 ;  0 "" 2
 5631               	/* #NOAPP */
 5632 16be 00C0      		rjmp .L160
 5633               	.LVL331:
 5634               	.L217:
 5635               	.LBE1870:
 5636               	.LBE1869:
 5637               	.LBE1871:
 5638               	.LBE1902:
 5639               	.LBE1904:
 5640               	.LBE1906:
 5641               	.LBE1914:
 5642               	.LBE1915:
 5643               	.LBE1916:
 5644               	.LBE1917:
 5645               	.LBE1922:
 5646               	.LBE1924:
 5647               	.LBE1926:
 5648               	.LBE1936:
 5649               	.LBB1937:
 5650               	.LBB1829:
 5651               	.LBB1768:
 5652               	.LBB1769:
 5653               	.LBB1770:
 5654               	.LBB1771:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 5655               		.loc 2 177 0
 5656 16c0 7FB7      		in r23,__SREG__
 5657               	.LVL332:
 5658               	.LBB1772:
 5659               	.LBB1773:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5660               		.loc 3 50 0
 5661               	/* #APP */
 5662               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5663 16c2 F894      		cli
 5664               	 ;  0 "" 2
 5665               	.LVL333:
 5666               	/* #NOAPP */
 5667               	.LBE1773:
 5668               	.LBE1772:
 5669               		.loc 2 178 0
 5670 16c4 1092 0000 		sts ep_in_data+2,__zero_reg__
 5671 16c8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5672               	.LVL334:
 5673               	.LBB1774:
 5674               	.LBB1775:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 5675               		.loc 4 81 0
 5676 16cc 8091 0000 		lds r24,ep_in_pipe_data+4
 5677 16d0 8F5F      		subi r24,lo8(-(1))
 5678 16d2 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 5679               		.loc 4 82 0
 5680 16d6 8091 0000 		lds r24,ep_in_pipe_data+2
 5681 16da 9091 0000 		lds r25,ep_in_pipe_data+2+1
 5682 16de 805C      		subi r24,lo8(-(64))
 5683 16e0 9F4F      		sbci r25,hi8(-(64))
 5684 16e2 8093 0000 		sts ep_in_pipe_data+2,r24
 5685 16e6 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5686               		.loc 4 84 0
 5687 16ea 30E0      		ldi r19,hi8(ep_in_pipe_buffer+512)
 5688 16ec 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5689 16ee 9307      		cpc r25,r19
 5690 16f0 01F4      		brne .L144
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 5691               		.loc 4 85 0
 5692 16f2 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5693 16f4 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5694 16f6 8093 0000 		sts ep_in_pipe_data+2,r24
 5695 16fa 9093 0000 		sts ep_in_pipe_data+2+1,r25
 5696               	.L144:
 5697               	.LVL335:
 5698               	.LBE1775:
 5699               	.LBE1774:
 5700               	.LBB1776:
 5701               	.LBB1777:
 5702               	.LBB1778:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 5703               		.loc 2 80 0
 5704 16fe 6FB7      		in r22,__SREG__
 5705               	.LVL336:
 5706               	.LBB1779:
 5707               	.LBB1780:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 5708               		.loc 3 50 0
 5709               	/* #APP */
 5710               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 5711 1700 F894      		cli
 5712               	 ;  0 "" 2
 5713               	.LVL337:
 5714               	/* #NOAPP */
 5715               	.LBE1780:
 5716               	.LBE1779:
 5717               	.LBB1781:
 5718               	.LBB1782:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 5719               		.loc 5 220 0
 5720 1702 8091 0000 		lds r24,endpoints+24
 5721 1706 8670      		andi r24,lo8(6)
 5722               	.LBE1782:
 5723               	.LBE1781:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 5724               		.loc 2 82 0
 5725 1708 01F0      		breq .L145
 5726               	.LBB1783:
 5727               	.LBB1784:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 5728               		.loc 4 51 0
 5729 170a 4091 0000 		lds r20,ep_in_pipe_data+4
 5730               	.LBE1784:
 5731               	.LBE1783:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 5732               		.loc 2 83 0
 5733 170e 1416      		cp __zero_reg__,r20
 5734 1710 04F0      		brlt .+2
 5735 1712 00C0      		rjmp .L146
 5736               	.LBB1785:
 5737               	.LBB1786:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5738               		.loc 4 62 0
 5739 1714 8091 0000 		lds r24,ep_in_pipe_data
 5740 1718 9091 0000 		lds r25,ep_in_pipe_data+1
 5741               	.LVL338:
 5742               	.LBE1786:
 5743               	.LBE1785:
 5744               	.LBB1787:
 5745               	.LBB1788:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5746               		.loc 2 68 0
 5747 171c 2091 0000 		lds r18,ep_in_data
 5748               	.LVL339:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5749               		.loc 2 69 0
 5750 1720 31E0      		ldi r19,lo8(1)
 5751 1722 2130      		cpi r18,lo8(1)
 5752 1724 01F4      		brne .L147
 5753 1726 30E0      		ldi r19,lo8(0)
 5754               	.L147:
 5755 1728 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5756               		.loc 2 72 0
 5757 172c 2223      		tst r18
 5758 172e 01F4      		brne .L148
 5759               	.LVL340:
 5760               	.LBB1789:
 5761               	.LBB1790:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5762               		.loc 5 168 0
 5763 1730 8093 0000 		sts endpoints+28,r24
 5764 1734 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5765               		.loc 5 169 0
 5766 1738 20E4      		ldi r18,lo8(64)
 5767 173a 30E0      		ldi r19,hi8(64)
 5768 173c 2093 0000 		sts endpoints+26,r18
 5769 1740 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5770               		.loc 5 174 0
 5771 1744 E0E0      		ldi r30,lo8(endpoints+24)
 5772 1746 F0E0      		ldi r31,hi8(endpoints+24)
 5773               	.LVL341:
 5774               	/* #APP */
 5775               	 ;  174 "usb/usb.h" 1
 5776 1748 02E2      		ldi r16, 34
 5777 174a 0693      		.dc.w 0x9306
 5778               		
 5779               	 ;  0 "" 2
 5780               	.LVL342:
 5781               	/* #NOAPP */
 5782               	.L149:
 5783               	.LBE1790:
 5784               	.LBE1789:
 5785               	.LBE1788:
 5786               	.LBE1787:
 5787               	.LBB1794:
 5788               	.LBB1795:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 5789               		.loc 4 72 0
 5790 174c 4150      		subi r20,lo8(-(-1))
 5791 174e 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 5792               		.loc 4 73 0
 5793 1752 805C      		subi r24,lo8(-(64))
 5794 1754 9F4F      		sbci r25,hi8(-(64))
 5795 1756 8093 0000 		sts ep_in_pipe_data,r24
 5796 175a 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 5797               		.loc 4 75 0
 5798 175e A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 5799 1760 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 5800 1762 9A07      		cpc r25,r26
 5801 1764 01F0      		breq .L228
 5802               	.LVL343:
 5803               	.L145:
 5804               	.LBE1795:
 5805               	.LBE1794:
 5806               	.LBB1797:
 5807               	.LBB1798:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5808               		.loc 3 70 0
 5809 1766 6FBF      		out __SREG__,r22
 5810               		.loc 3 71 0
 5811               	.LVL344:
 5812               	.LBE1798:
 5813               	.LBE1797:
 5814               	.LBE1778:
 5815               	.LBE1777:
 5816               	.LBE1776:
 5817               	.LBB1820:
 5818               	.LBB1821:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 5819               		.loc 3 70 0
 5820 1768 7FBF      		out __SREG__,r23
 5821               		.loc 3 71 0
 5822 176a 00C0      		rjmp .L143
 5823               	.LVL345:
 5824               	.L148:
 5825               	.LBE1821:
 5826               	.LBE1820:
 5827               	.LBB1822:
 5828               	.LBB1818:
 5829               	.LBB1816:
 5830               	.LBB1799:
 5831               	.LBB1793:
 5832               	.LBB1791:
 5833               	.LBB1792:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5834               		.loc 5 168 0
 5835 176c 8093 0000 		sts endpoints+20,r24
 5836 1770 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5837               		.loc 5 169 0
 5838 1774 20E4      		ldi r18,lo8(64)
 5839 1776 30E0      		ldi r19,hi8(64)
 5840               	.LVL346:
 5841 1778 2093 0000 		sts endpoints+18,r18
 5842 177c 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 5843               		.loc 5 176 0
 5844 1780 E0E0      		ldi r30,lo8(endpoints+24)
 5845 1782 F0E0      		ldi r31,hi8(endpoints+24)
 5846               	/* #APP */
 5847               	 ;  176 "usb/usb.h" 1
 5848 1784 04E1      		ldi r16, 20
 5849 1786 0693      		.dc.w 0x9306
 5850               		
 5851               	 ;  0 "" 2
 5852               	/* #NOAPP */
 5853 1788 00C0      		rjmp .L149
 5854               	.LVL347:
 5855               	.L146:
 5856               	.LBE1792:
 5857               	.LBE1791:
 5858               	.LBE1793:
 5859               	.LBE1799:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 5860               		.loc 2 87 0
 5861 178a 8091 0000 		lds r24,ep_in_data+1
 5862 178e 8130      		cpi r24,lo8(1)
 5863 1790 01F0      		breq .L229
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5864               		.loc 2 91 0
 5865 1792 8230      		cpi r24,lo8(2)
 5866 1794 01F4      		brne .L145
 5867               	.LVL348:
 5868               	.LBB1800:
 5869               	.LBB1801:
 5870               	.LBB1802:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 5871               		.loc 5 228 0
 5872 1796 8091 0000 		lds r24,endpoints+24
 5873 179a 8670      		andi r24,lo8(6)
 5874               	.LBE1802:
 5875               	.LBE1801:
 5876               	.LBE1800:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 5877               		.loc 2 91 0
 5878 179c 8630      		cpi r24,lo8(6)
 5879 179e 01F4      		brne .L145
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 5880               		.loc 2 92 0
 5881 17a0 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 5882               		.loc 2 93 0
 5883 17a4 1092 0000 		sts ep_in_data+2,__zero_reg__
 5884 17a8 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 5885               	.LBB1803:
 5886               	.LBB1804:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 5887               		.loc 4 90 0
 5888 17ac 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 5889               		.loc 4 91 0
 5890 17b0 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5891 17b2 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5892 17b4 8093 0000 		sts ep_in_pipe_data+2,r24
 5893 17b8 9093 0000 		sts ep_in_pipe_data+2+1,r25
 5894 17bc 8093 0000 		sts ep_in_pipe_data,r24
 5895 17c0 9093 0000 		sts ep_in_pipe_data+1,r25
 5896               	.LVL349:
 5897 17c4 00C0      		rjmp .L145
 5898               	.LVL350:
 5899               	.L228:
 5900               	.LBE1804:
 5901               	.LBE1803:
 5902               	.LBB1805:
 5903               	.LBB1796:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 5904               		.loc 4 76 0
 5905 17c6 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 5906 17c8 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 5907 17ca 8093 0000 		sts ep_in_pipe_data,r24
 5908 17ce 9093 0000 		sts ep_in_pipe_data+1,r25
 5909 17d2 00C0      		rjmp .L145
 5910               	.LVL351:
 5911               	.L229:
 5912               	.LBE1796:
 5913               	.LBE1805:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 5914               		.loc 2 88 0
 5915 17d4 82E0      		ldi r24,lo8(2)
 5916 17d6 8093 0000 		sts ep_in_data+1,r24
 5917               	.LBB1806:
 5918               	.LBB1807:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 5919               		.loc 4 62 0
 5920 17da 4091 0000 		lds r20,ep_in_pipe_data
 5921 17de 5091 0000 		lds r21,ep_in_pipe_data+1
 5922               	.LBE1807:
 5923               	.LBE1806:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 5924               		.loc 2 90 0
 5925 17e2 8091 0000 		lds r24,ep_in_data+2
 5926 17e6 9091 0000 		lds r25,ep_in_data+2+1
 5927               	.LVL352:
 5928               	.LBB1808:
 5929               	.LBB1809:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 5930               		.loc 2 68 0
 5931 17ea 2091 0000 		lds r18,ep_in_data
 5932               	.LVL353:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 5933               		.loc 2 69 0
 5934 17ee 31E0      		ldi r19,lo8(1)
 5935 17f0 2130      		cpi r18,lo8(1)
 5936 17f2 01F4      		brne .L152
 5937 17f4 30E0      		ldi r19,lo8(0)
 5938               	.L152:
 5939 17f6 3093 0000 		sts ep_in_data,r19
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 5940               		.loc 2 72 0
 5941 17fa 2223      		tst r18
 5942 17fc 01F4      		brne .L153
 5943               	.LVL354:
 5944               	.LBB1810:
 5945               	.LBB1811:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5946               		.loc 5 168 0
 5947 17fe 4093 0000 		sts endpoints+28,r20
 5948 1802 5093 0000 		sts endpoints+28+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5949               		.loc 5 169 0
 5950 1806 8093 0000 		sts endpoints+26,r24
 5951 180a 9093 0000 		sts endpoints+26+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 5952               		.loc 5 174 0
 5953 180e E0E0      		ldi r30,lo8(endpoints+24)
 5954 1810 F0E0      		ldi r31,hi8(endpoints+24)
 5955               	.LVL355:
 5956               	/* #APP */
 5957               	 ;  174 "usb/usb.h" 1
 5958 1812 02E2      		ldi r16, 34
 5959 1814 0693      		.dc.w 0x9306
 5960               		
 5961               	 ;  0 "" 2
 5962               	/* #NOAPP */
 5963 1816 00C0      		rjmp .L145
 5964               	.LVL356:
 5965               	.L178:
 5966               	.LBE1811:
 5967               	.LBE1810:
 5968               	.LBE1809:
 5969               	.LBE1808:
 5970               	.LBE1816:
 5971               	.LBE1818:
 5972               	.LBE1822:
 5973               	.LBE1771:
 5974               	.LBE1770:
 5975               	.LBE1769:
 5976               	.LBE1768:
 5977               	.LBE1829:
 5978               	.LBE1937:
 5979               	.LBE1941:
 5980               	.LBB1942:
 5981               	.LBB1472:
 5982               	.LBB1469:
 5983               	.LBB1441:
 5984               	.LBB1438:
 5985               	.LBB1435:
 5986               	.LBB1432:
 5987               	.LBB1429:
 5988               	.LBB1428:
 5989               	.LBB1426:
 5990               	.LBB1427:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 5991               		.loc 5 168 0
 5992 1818 262F      		mov r18,r22
 5993               	.LVL357:
 5994 181a 342F      		mov r19,r20
 5995 181c 2093 0000 		sts endpoints+20,r18
 5996 1820 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 5997               		.loc 5 169 0
 5998 1824 8093 0000 		sts endpoints+18,r24
 5999 1828 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6000               		.loc 5 176 0
 6001 182c E0E0      		ldi r30,lo8(endpoints+24)
 6002 182e F0E0      		ldi r31,hi8(endpoints+24)
 6003               	/* #APP */
 6004               	 ;  176 "usb/usb.h" 1
 6005 1830 04E1      		ldi r16, 20
 6006 1832 0693      		.dc.w 0x9306
 6007               		
 6008               	 ;  0 "" 2
 6009               	/* #NOAPP */
 6010 1834 00C0      		rjmp .L170
 6011               	.LVL358:
 6012               	.L123:
 6013               	.LBE1427:
 6014               	.LBE1426:
 6015               	.LBE1428:
 6016               	.LBE1429:
 6017               	.LBE1432:
 6018               	.LBE1435:
 6019               	.LBE1438:
 6020               	.LBE1441:
 6021               	.LBE1469:
 6022               	.LBE1472:
 6023               	.LBE1942:
 6024               	.LBB1943:
 6025               	.LBB1938:
 6026               	.LBB1653:
 6027               	.LBB1650:
 6028               	.LBB1649:
 6029               	.LBB1648:
 6030               	.LBB1647:
 6031               	.LBB1646:
 6032               	.LBB1642:
 6033               	.LBB1640:
 6034               	.LBB1638:
 6035               	.LBB1637:
 6036               	.LBB1635:
 6037               	.LBB1636:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6038               		.loc 5 168 0
 6039 1836 352F      		mov r19,r21
 6040               	.LVL359:
 6041 1838 2093 0000 		sts endpoints+20,r18
 6042 183c 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6043               		.loc 5 169 0
 6044 1840 8093 0000 		sts endpoints+18,r24
 6045 1844 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6046               		.loc 5 176 0
 6047 1848 E0E0      		ldi r30,lo8(endpoints+24)
 6048 184a F0E0      		ldi r31,hi8(endpoints+24)
 6049               	/* #APP */
 6050               	 ;  176 "usb/usb.h" 1
 6051 184c 04E1      		ldi r16, 20
 6052 184e 0693      		.dc.w 0x9306
 6053               		
 6054               	 ;  0 "" 2
 6055               	/* #NOAPP */
 6056 1850 00C0      		rjmp .L115
 6057               	.LVL360:
 6058               	.L153:
 6059               	.LBE1636:
 6060               	.LBE1635:
 6061               	.LBE1637:
 6062               	.LBE1638:
 6063               	.LBE1640:
 6064               	.LBE1642:
 6065               	.LBE1646:
 6066               	.LBE1647:
 6067               	.LBE1648:
 6068               	.LBE1649:
 6069               	.LBE1650:
 6070               	.LBE1653:
 6071               	.LBE1938:
 6072               	.LBB1939:
 6073               	.LBB1830:
 6074               	.LBB1827:
 6075               	.LBB1826:
 6076               	.LBB1825:
 6077               	.LBB1824:
 6078               	.LBB1823:
 6079               	.LBB1819:
 6080               	.LBB1817:
 6081               	.LBB1815:
 6082               	.LBB1814:
 6083               	.LBB1812:
 6084               	.LBB1813:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6085               		.loc 5 168 0
 6086 1852 4093 0000 		sts endpoints+20,r20
 6087 1856 5093 0000 		sts endpoints+20+1,r21
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6088               		.loc 5 169 0
 6089 185a 8093 0000 		sts endpoints+18,r24
 6090 185e 9093 0000 		sts endpoints+18+1,r25
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6091               		.loc 5 176 0
 6092 1862 E0E0      		ldi r30,lo8(endpoints+24)
 6093 1864 F0E0      		ldi r31,hi8(endpoints+24)
 6094               	/* #APP */
 6095               	 ;  176 "usb/usb.h" 1
 6096 1866 04E1      		ldi r16, 20
 6097 1868 0693      		.dc.w 0x9306
 6098               		
 6099               	 ;  0 "" 2
 6100               	/* #NOAPP */
 6101 186a 00C0      		rjmp .L145
 6102               	.LBE1813:
 6103               	.LBE1812:
 6104               	.LBE1814:
 6105               	.LBE1815:
 6106               	.LBE1817:
 6107               	.LBE1819:
 6108               	.LBE1823:
 6109               	.LBE1824:
 6110               	.LBE1825:
 6111               	.LBE1826:
 6112               	.LBE1827:
 6113               	.LBE1830:
 6114               	.LBE1939:
 6115               	.LBE1943:
 6116               		.cfi_endproc
 6117               	.LFE65:
 6119               	.global	uart_putchar
 6121               	uart_putchar:
 6122               	.LFB66:
 6123               		.file 9 "uart/uart.h"
   1:uart/uart.h   **** #include "Framework.h"
   2:uart/uart.h   **** #include <stdio.h>
   3:uart/uart.h   **** #include <stdlib.h>
   4:uart/uart.h   **** #include <string.h>
   5:uart/uart.h   **** 
   6:uart/uart.h   **** uint8_t debug = 0;
   7:uart/uart.h   **** 
   8:uart/uart.h   **** int uart_putchar(char c, USART_t* USART); 
   9:uart/uart.h   **** char uart_getchar(USART_t* USART);
  10:uart/uart.h   **** void send_uart(char*, USART_t* USART);
  11:uart/uart.h   **** 
  12:uart/uart.h   **** // code for communicating with the gprs module via uart
  13:uart/uart.h   **** int uart_putchar (char c, USART_t* USART) { 
 6124               		.loc 9 13 0
 6125               		.cfi_startproc
 6126               	.LVL361:
 6127               	/* prologue: function */
 6128               	/* frame size = 0 */
 6129               	/* stack size = 0 */
 6130               	.L__stack_usage = 0
 6131 186c FB01      		movw r30,r22
  14:uart/uart.h   ****     if (c == '\n') 
 6132               		.loc 9 14 0
 6133 186e 8A30      		cpi r24,lo8(10)
 6134 1870 01F0      		breq .L235
 6135               	.L234:
  15:uart/uart.h   ****         uart_putchar('\r', USART); 
  16:uart/uart.h   **** 
  17:uart/uart.h   ****     // Wait for the transmit buffer to be empty 
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 6136               		.loc 9 18 0 discriminator 1
 6137 1872 9181      		ldd r25,Z+1
 6138 1874 95FF      		sbrs r25,5
 6139 1876 00C0      		rjmp .L234
  19:uart/uart.h   **** 
  20:uart/uart.h   ****     // Put our character into the transmit buffer 
  21:uart/uart.h   ****     USART->DATA = c; 
 6140               		.loc 9 21 0
 6141 1878 8083      		st Z,r24
  22:uart/uart.h   **** 
  23:uart/uart.h   ****     return 0; 
  24:uart/uart.h   **** } 
 6142               		.loc 9 24 0
 6143 187a 80E0      		ldi r24,lo8(0)
 6144 187c 90E0      		ldi r25,hi8(0)
 6145               	.LVL362:
 6146               	/* epilogue start */
 6147 187e 0895      		ret
 6148               	.LVL363:
 6149               	.L235:
 6150               	.LBB1960:
 6151               	.LBB1961:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 6152               		.loc 9 18 0
 6153 1880 9181      		ldd r25,Z+1
 6154 1882 95FF      		sbrs r25,5
 6155 1884 00C0      		rjmp .L235
  21:uart/uart.h   ****     USART->DATA = c; 
 6156               		.loc 9 21 0
 6157 1886 9DE0      		ldi r25,lo8(13)
 6158 1888 9083      		st Z,r25
 6159 188a 00C0      		rjmp .L234
 6160               	.LBE1961:
 6161               	.LBE1960:
 6162               		.cfi_endproc
 6163               	.LFE66:
 6165               	.global	uart_getchar
 6167               	uart_getchar:
 6168               	.LFB67:
  25:uart/uart.h   **** 
  26:uart/uart.h   **** // code for communicating with the gprs module via uart
  27:uart/uart.h   **** char uart_getchar (USART_t* USART) { 
 6169               		.loc 9 27 0
 6170               		.cfi_startproc
 6171               	.LVL364:
 6172               	/* prologue: function */
 6173               	/* frame size = 0 */
 6174               	/* stack size = 0 */
 6175               	.L__stack_usage = 0
 6176 188c FC01      		movw r30,r24
 6177               	.LVL365:
 6178               	.L239:
  28:uart/uart.h   **** 
  29:uart/uart.h   ****     // Wait for the receive buffer to be empty 
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 6179               		.loc 9 30 0 discriminator 1
 6180 188e 8181      		ldd r24,Z+1
 6181 1890 87FF      		sbrs r24,7
 6182 1892 00C0      		rjmp .L239
  31:uart/uart.h   **** 
  32:uart/uart.h   ****     // Receive char from receive buffer 
  33:uart/uart.h   ****     return USART->DATA; 
 6183               		.loc 9 33 0
 6184 1894 8081      		ld r24,Z
 6185               	/* epilogue start */
  34:uart/uart.h   **** } 
 6186               		.loc 9 34 0
 6187 1896 0895      		ret
 6188               		.cfi_endproc
 6189               	.LFE67:
 6191               	.global	send_uart
 6193               	send_uart:
 6194               	.LFB68:
  35:uart/uart.h   **** 
  36:uart/uart.h   **** void send_uart(char* text, USART_t* USART) {
 6195               		.loc 9 36 0
 6196               		.cfi_startproc
 6197               	.LVL366:
 6198 1898 4F92      		push r4
 6199               	.LCFI96:
 6200               		.cfi_def_cfa_offset 3
 6201               		.cfi_offset 4, -2
 6202 189a 5F92      		push r5
 6203               	.LCFI97:
 6204               		.cfi_def_cfa_offset 4
 6205               		.cfi_offset 5, -3
 6206 189c 6F92      		push r6
 6207               	.LCFI98:
 6208               		.cfi_def_cfa_offset 5
 6209               		.cfi_offset 6, -4
 6210 189e 7F92      		push r7
 6211               	.LCFI99:
 6212               		.cfi_def_cfa_offset 6
 6213               		.cfi_offset 7, -5
 6214 18a0 8F92      		push r8
 6215               	.LCFI100:
 6216               		.cfi_def_cfa_offset 7
 6217               		.cfi_offset 8, -6
 6218 18a2 9F92      		push r9
 6219               	.LCFI101:
 6220               		.cfi_def_cfa_offset 8
 6221               		.cfi_offset 9, -7
 6222 18a4 AF92      		push r10
 6223               	.LCFI102:
 6224               		.cfi_def_cfa_offset 9
 6225               		.cfi_offset 10, -8
 6226 18a6 BF92      		push r11
 6227               	.LCFI103:
 6228               		.cfi_def_cfa_offset 10
 6229               		.cfi_offset 11, -9
 6230 18a8 CF92      		push r12
 6231               	.LCFI104:
 6232               		.cfi_def_cfa_offset 11
 6233               		.cfi_offset 12, -10
 6234 18aa DF92      		push r13
 6235               	.LCFI105:
 6236               		.cfi_def_cfa_offset 12
 6237               		.cfi_offset 13, -11
 6238 18ac EF92      		push r14
 6239               	.LCFI106:
 6240               		.cfi_def_cfa_offset 13
 6241               		.cfi_offset 14, -12
 6242 18ae FF92      		push r15
 6243               	.LCFI107:
 6244               		.cfi_def_cfa_offset 14
 6245               		.cfi_offset 15, -13
 6246 18b0 0F93      		push r16
 6247               	.LCFI108:
 6248               		.cfi_def_cfa_offset 15
 6249               		.cfi_offset 16, -14
 6250 18b2 1F93      		push r17
 6251               	.LCFI109:
 6252               		.cfi_def_cfa_offset 16
 6253               		.cfi_offset 17, -15
 6254 18b4 CF93      		push r28
 6255               	.LCFI110:
 6256               		.cfi_def_cfa_offset 17
 6257               		.cfi_offset 28, -16
 6258 18b6 DF93      		push r29
 6259               	.LCFI111:
 6260               		.cfi_def_cfa_offset 18
 6261               		.cfi_offset 29, -17
 6262               	/* prologue: function */
 6263               	/* frame size = 0 */
 6264               	/* stack size = 16 */
 6265               	.L__stack_usage = 16
 6266 18b8 EC01      		movw r28,r24
 6267 18ba 7B01      		movw r14,r22
 6268               	.LVL367:
 6269               	.LBB2133:
 6270               	.LBB2134:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 6271               		.loc 7 16 0
 6272 18bc DC01      		movw r26,r24
 6273 18be 0D90      		ld __tmp_reg__,X+
 6274 18c0 0020      		tst __tmp_reg__
 6275 18c2 01F4      		brne .-6
 6276 18c4 CD01      		movw r24,r26
 6277               	.LVL368:
 6278 18c6 8C1B      		sub r24,r28
 6279 18c8 9D0B      		sbc r25,r29
 6280 18ca 0196      		adiw r24,1
 6281 18cc 0E94 0000 		call malloc
 6282               	.LVL369:
 6283 18d0 A92E      		mov r10,r25
 6284 18d2 C82E      		mov r12,r24
 6285 18d4 D92E      		mov r13,r25
 6286               	.LVL370:
  18:concat/concat.h ****     strcpy(result, s1);
 6287               		.loc 7 18 0
 6288 18d6 C601      		movw r24,r12
 6289 18d8 BE01      		movw r22,r28
 6290 18da 0E94 0000 		call strcpy
  19:concat/concat.h ****     strcat(result, s2);
 6291               		.loc 7 19 0
 6292 18de AC2D      		mov r26,r12
 6293 18e0 BA2D      		mov r27,r10
 6294 18e2 FD01      		movw r30,r26
 6295 18e4 0190      		ld __tmp_reg__,Z+
 6296 18e6 0020      		tst __tmp_reg__
 6297 18e8 01F4      		brne .-6
 6298 18ea 3197      		sbiw r30,1
 6299 18ec EA1B      		sub r30,r26
 6300 18ee FB0B      		sbc r31,r27
 6301 18f0 EC0D      		add r30,r12
 6302 18f2 FD1D      		adc r31,r13
 6303 18f4 8DE0      		ldi r24,lo8(13)
 6304 18f6 90E0      		ldi r25,hi8(13)
 6305 18f8 8083      		st Z,r24
 6306 18fa 9183      		std Z+1,r25
 6307               	.LBE2134:
 6308               	.LBE2133:
 6309               	.LBB2135:
 6310               	.LBB2136:
 6311               	.LBB2137:
 6312               	.LBB2138:
 6313               	.LBB2139:
 6314               	.LBB2140:
 6315               	.LBB2141:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 6316               		.loc 4 57 0
 6317 18fc D6E0      		ldi r29,lo8(6)
 6318               	.LBE2141:
 6319               	.LBE2140:
 6320               	.LBE2139:
 6321               	.LBE2138:
 6322               	.LBE2137:
 6323               	.LBB2152:
 6324               	.LBB2153:
 6325               	.LBB2154:
 6326               	.LBB2155:
 6327               	.LBB2156:
 6328               	.LBB2157:
 6329               	.LBB2158:
 6330               	.LBB2159:
 6331               	.LBB2160:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 6332               		.loc 5 220 0
 6333 18fe C0E0      		ldi r28,lo8(endpoints+24)
 6334 1900 6C2E      		mov r6,r28
 6335 1902 C0E0      		ldi r28,hi8(endpoints+24)
 6336 1904 7C2E      		mov r7,r28
 6337               	.LVL371:
 6338               	.LBE2160:
 6339               	.LBE2159:
 6340               	.LBB2162:
 6341               	.LBB2163:
 6342               		.loc 4 91 0
 6343 1906 10E0      		ldi r17,lo8(ep_in_pipe_buffer)
 6344 1908 412E      		mov r4,r17
 6345 190a 10E0      		ldi r17,hi8(ep_in_pipe_buffer)
 6346 190c 512E      		mov r5,r17
 6347               	.LBE2163:
 6348               	.LBE2162:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 6349               		.loc 2 88 0
 6350 190e 12E0      		ldi r17,lo8(2)
 6351               	.LBB2166:
 6352               	.LBB2167:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6353               		.loc 2 69 0
 6354 1910 01E0      		ldi r16,lo8(1)
 6355 1912 A02E      		mov r10,r16
 6356 1914 B12C      		mov r11,__zero_reg__
 6357               	.LBE2167:
 6358               	.LBE2166:
 6359               	.LBB2177:
 6360               	.LBB2178:
 6361               	.LBB2179:
 6362               	.LBB2180:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6363               		.loc 5 169 0
 6364 1916 20E4      		ldi r18,lo8(64)
 6365 1918 822E      		mov r8,r18
 6366 191a 912C      		mov r9,__zero_reg__
 6367               	.LVL372:
 6368               	.L285:
 6369               	.LBE2180:
 6370               	.LBE2179:
 6371               	.LBE2178:
 6372               	.LBE2177:
 6373               	.LBE2158:
 6374               	.LBE2157:
 6375               	.LBE2156:
 6376               	.LBE2155:
 6377               	.LBE2154:
 6378               	.LBE2153:
 6379               	.LBE2152:
 6380               	.LBE2136:
 6381               	.LBE2135:
  37:uart/uart.h   ****   char c;
  38:uart/uart.h   ****   char* new_text = concat(text, "\r");
  39:uart/uart.h   ****   while (*new_text != '\0') {  
 6382               		.loc 9 39 0 discriminator 1
 6383 191c D601      		movw r26,r12
 6384 191e CD91      		ld r28,X+
 6385 1920 6D01      		movw r12,r26
 6386 1922 CC23      		tst r28
 6387 1924 01F4      		brne .+2
 6388 1926 00C0      		rjmp .L287
 6389               	.L260:
 6390               	.LVL373:
 6391               	.LBB2242:
 6392               	.LBB2243:
  14:uart/uart.h   ****     if (c == '\n') 
 6393               		.loc 9 14 0
 6394 1928 CA30      		cpi r28,lo8(10)
 6395 192a 01F4      		brne .+2
 6396 192c 00C0      		rjmp .L288
 6397               	.L279:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 6398               		.loc 9 18 0
 6399 192e F701      		movw r30,r14
 6400 1930 8181      		ldd r24,Z+1
 6401 1932 85FF      		sbrs r24,5
 6402 1934 00C0      		rjmp .L279
  21:uart/uart.h   ****     USART->DATA = c; 
 6403               		.loc 9 21 0
 6404 1936 C083      		st Z,r28
 6405               	.LBE2243:
 6406               	.LBE2242:
  40:uart/uart.h   ****     uart_putchar(*new_text, USART);
  41:uart/uart.h   ****     new_text++;
  42:uart/uart.h   **** 
  43:uart/uart.h   ****     if (debug == 1) {
 6407               		.loc 9 43 0
 6408 1938 8091 0000 		lds r24,debug
 6409 193c 8130      		cpi r24,lo8(1)
 6410 193e 01F4      		brne .L285
 6411               	.L278:
 6412               	.LBB2245:
 6413               	.LBB2246:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 6414               		.loc 9 30 0
 6415 1940 D701      		movw r26,r14
 6416 1942 1196      		adiw r26,1
 6417 1944 8C91      		ld r24,X
 6418 1946 1197      		sbiw r26,1
 6419 1948 87FF      		sbrs r24,7
 6420 194a 00C0      		rjmp .L278
  33:uart/uart.h   ****     return USART->DATA; 
 6421               		.loc 9 33 0
 6422 194c 2C91      		ld r18,X
 6423               	.LVL374:
 6424               	.L249:
 6425               	.LBE2246:
 6426               	.LBE2245:
 6427               	.LBB2247:
 6428               	.LBB2239:
 6429               	.LBB2232:
 6430               	.LBB2150:
 6431               	.LBB2148:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 6432               		.loc 2 123 0
 6433 194e 9FB7      		in r25,__SREG__
 6434               	.LVL375:
 6435               	.LBB2143:
 6436               	.LBB2144:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6437               		.loc 3 50 0
 6438               	/* #APP */
 6439               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6440 1950 F894      		cli
 6441               	 ;  0 "" 2
 6442               	.LVL376:
 6443               	/* #NOAPP */
 6444               	.LBE2144:
 6445               	.LBE2143:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 6446               		.loc 2 124 0
 6447 1952 8091 0000 		lds r24,ep_in_data+1
 6448 1956 8823      		tst r24
 6449 1958 01F4      		brne .+2
 6450 195a 00C0      		rjmp .L289
 6451               	.L275:
 125:usb/usb_pipe.h **** 			r = false;
 6452               		.loc 2 125 0
 6453 195c 80E0      		ldi r24,lo8(0)
 6454               	.L247:
 6455               	.LBB2145:
 6456               	.LBB2146:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6457               		.loc 3 70 0
 6458 195e 9FBF      		out __SREG__,r25
 6459               		.loc 3 71 0
 6460               	.LBE2146:
 6461               	.LBE2145:
 6462               	.LBE2148:
 6463               	.LBE2150:
 6464               	.LBE2232:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 6465               		.loc 1 20 0
 6466 1960 8823      		tst r24
 6467 1962 01F0      		breq .L249
 6468               	.LVL377:
 6469               	.LBB2233:
 6470               	.LBB2234:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 6471               		.loc 2 175 0
 6472 1964 8091 0000 		lds r24,ep_in_data+2
 6473 1968 9091 0000 		lds r25,ep_in_data+2+1
 6474 196c E091 0000 		lds r30,ep_in_pipe_data+2
 6475 1970 F091 0000 		lds r31,ep_in_pipe_data+2+1
 6476 1974 E80F      		add r30,r24
 6477 1976 F91F      		adc r31,r25
 6478 1978 2083      		st Z,r18
 6479 197a 0196      		adiw r24,1
 6480 197c 8093 0000 		sts ep_in_data+2,r24
 6481 1980 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 6482               		.loc 2 176 0
 6483 1984 8034      		cpi r24,64
 6484 1986 9105      		cpc r25,__zero_reg__
 6485 1988 01F4      		brne .L285
 6486               	.LBE2234:
 6487               	.LBE2233:
 6488               	.LBB2235:
 6489               	.LBB2229:
 6490               	.LBB2226:
 6491               	.LBB2223:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 6492               		.loc 2 177 0
 6493 198a AFB7      		in r26,__SREG__
 6494               	.LVL378:
 6495               	.LBB2214:
 6496               	.LBB2215:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6497               		.loc 3 50 0
 6498               	/* #APP */
 6499               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6500 198c F894      		cli
 6501               	 ;  0 "" 2
 6502               	.LVL379:
 6503               	/* #NOAPP */
 6504               	.LBE2215:
 6505               	.LBE2214:
 6506               		.loc 2 178 0
 6507 198e 1092 0000 		sts ep_in_data+2,__zero_reg__
 6508 1992 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 6509               	.LVL380:
 6510               	.LBB2216:
 6511               	.LBB2217:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 6512               		.loc 4 81 0
 6513 1996 8091 0000 		lds r24,ep_in_pipe_data+4
 6514 199a 8F5F      		subi r24,lo8(-(1))
 6515 199c 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 6516               		.loc 4 82 0
 6517 19a0 8091 0000 		lds r24,ep_in_pipe_data+2
 6518 19a4 9091 0000 		lds r25,ep_in_pipe_data+2+1
 6519 19a8 805C      		subi r24,lo8(-(64))
 6520 19aa 9F4F      		sbci r25,hi8(-(64))
 6521 19ac 8093 0000 		sts ep_in_pipe_data+2,r24
 6522 19b0 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 6523               		.loc 4 84 0
 6524 19b4 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 6525 19b6 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 6526 19b8 9B07      		cpc r25,r27
 6527 19ba 01F4      		brne .L250
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 6528               		.loc 4 85 0
 6529 19bc 4092 0000 		sts ep_in_pipe_data+2,r4
 6530 19c0 5092 0000 		sts ep_in_pipe_data+2+1,r5
 6531               	.L250:
 6532               	.LVL381:
 6533               	.LBE2217:
 6534               	.LBE2216:
 6535               	.LBB2218:
 6536               	.LBB2211:
 6537               	.LBB2208:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 6538               		.loc 2 80 0
 6539 19c4 5FB7      		in r21,__SREG__
 6540               	.LVL382:
 6541               	.LBB2187:
 6542               	.LBB2188:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6543               		.loc 3 50 0
 6544               	/* #APP */
 6545               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6546 19c6 F894      		cli
 6547               	 ;  0 "" 2
 6548               	.LVL383:
 6549               	/* #NOAPP */
 6550               	.LBE2188:
 6551               	.LBE2187:
 6552               	.LBB2189:
 6553               	.LBB2161:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 6554               		.loc 5 220 0
 6555 19c8 8091 0000 		lds r24,endpoints+24
 6556 19cc 8670      		andi r24,lo8(6)
 6557               	.LBE2161:
 6558               	.LBE2189:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 6559               		.loc 2 82 0
 6560 19ce 01F4      		brne .L290
 6561               	.LVL384:
 6562               	.L251:
 6563               	.LBB2190:
 6564               	.LBB2191:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6565               		.loc 3 70 0
 6566 19d0 5FBF      		out __SREG__,r21
 6567               		.loc 3 71 0
 6568               	.LVL385:
 6569               	.LBE2191:
 6570               	.LBE2190:
 6571               	.LBE2208:
 6572               	.LBE2211:
 6573               	.LBE2218:
 6574               	.LBB2219:
 6575               	.LBB2220:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6576               		.loc 3 70 0
 6577 19d2 AFBF      		out __SREG__,r26
 6578               		.loc 3 71 0
 6579               	.LBE2220:
 6580               	.LBE2219:
 6581               	.LBE2223:
 6582               	.LBE2226:
 6583               	.LBE2229:
 6584               	.LBE2235:
 6585               	.LBE2239:
 6586               	.LBE2247:
  39:uart/uart.h   ****   while (*new_text != '\0') {  
 6587               		.loc 9 39 0
 6588 19d4 D601      		movw r26,r12
 6589               	.LVL386:
 6590 19d6 CD91      		ld r28,X+
 6591               	.LVL387:
 6592 19d8 6D01      		movw r12,r26
 6593 19da CC23      		tst r28
 6594 19dc 01F0      		breq .+2
 6595 19de 00C0      		rjmp .L260
 6596               	.LVL388:
 6597               	.L287:
  44:uart/uart.h   ****       c = uart_getchar(USART);
  45:uart/uart.h   ****       send_byte(c);
  46:uart/uart.h   ****     }
  47:uart/uart.h   ****   }
  48:uart/uart.h   ****   if (debug == 1) {
 6598               		.loc 9 48 0
 6599 19e0 8091 0000 		lds r24,debug
 6600 19e4 8130      		cpi r24,lo8(1)
 6601 19e6 01F4      		brne .+2
 6602 19e8 00C0      		rjmp .L291
 6603               	.L241:
 6604               	/* epilogue start */
  49:uart/uart.h   ****     break_and_flush();
  50:uart/uart.h   ****   }
  51:uart/uart.h   **** }
 6605               		.loc 9 51 0
 6606 19ea DF91      		pop r29
 6607 19ec CF91      		pop r28
 6608 19ee 1F91      		pop r17
 6609 19f0 0F91      		pop r16
 6610 19f2 FF90      		pop r15
 6611 19f4 EF90      		pop r14
 6612               	.LVL389:
 6613 19f6 DF90      		pop r13
 6614 19f8 CF90      		pop r12
 6615 19fa BF90      		pop r11
 6616 19fc AF90      		pop r10
 6617 19fe 9F90      		pop r9
 6618 1a00 8F90      		pop r8
 6619 1a02 7F90      		pop r7
 6620 1a04 6F90      		pop r6
 6621 1a06 5F90      		pop r5
 6622 1a08 4F90      		pop r4
 6623 1a0a 0895      		ret
 6624               	.LVL390:
 6625               	.L289:
 6626               	.LBB2248:
 6627               	.LBB2240:
 6628               	.LBB2236:
 6629               	.LBB2151:
 6630               	.LBB2149:
 6631               	.LBB2147:
 6632               	.LBB2142:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 6633               		.loc 4 57 0
 6634 1a0c 8091 0000 		lds r24,ep_in_pipe_data+4
 6635 1a10 3D2F      		mov r19,r29
 6636 1a12 381B      		sub r19,r24
 6637               	.LBE2142:
 6638               	.LBE2147:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 6639               		.loc 2 127 0
 6640 1a14 81E0      		ldi r24,lo8(1)
 6641 1a16 1316      		cp __zero_reg__,r19
 6642 1a18 04F4      		brge .+2
 6643 1a1a 00C0      		rjmp .L247
 6644 1a1c 00C0      		rjmp .L275
 6645               	.LVL391:
 6646               	.L290:
 6647               	.LBE2149:
 6648               	.LBE2151:
 6649               	.LBE2236:
 6650               	.LBB2237:
 6651               	.LBB2230:
 6652               	.LBB2227:
 6653               	.LBB2224:
 6654               	.LBB2221:
 6655               	.LBB2212:
 6656               	.LBB2209:
 6657               	.LBB2192:
 6658               	.LBB2193:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 6659               		.loc 4 51 0
 6660 1a1e 4091 0000 		lds r20,ep_in_pipe_data+4
 6661               	.LBE2193:
 6662               	.LBE2192:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 6663               		.loc 2 83 0
 6664 1a22 1416      		cp __zero_reg__,r20
 6665 1a24 04F0      		brlt .+2
 6666 1a26 00C0      		rjmp .L252
 6667               	.LBB2194:
 6668               	.LBB2195:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 6669               		.loc 4 62 0
 6670 1a28 2091 0000 		lds r18,ep_in_pipe_data
 6671 1a2c 3091 0000 		lds r19,ep_in_pipe_data+1
 6672               	.LVL392:
 6673               	.LBE2195:
 6674               	.LBE2194:
 6675               	.LBB2196:
 6676               	.LBB2185:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 6677               		.loc 2 68 0
 6678 1a30 6091 0000 		lds r22,ep_in_data
 6679               	.LVL393:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6680               		.loc 2 69 0
 6681 1a34 862F      		mov r24,r22
 6682 1a36 90E0      		ldi r25,lo8(0)
 6683               	.LVL394:
 6684 1a38 71E0      		ldi r23,lo8(1)
 6685 1a3a 8A15      		cp r24,r10
 6686 1a3c 9B05      		cpc r25,r11
 6687 1a3e 01F4      		brne .L253
 6688 1a40 70E0      		ldi r23,lo8(0)
 6689               	.L253:
 6690 1a42 7093 0000 		sts ep_in_data,r23
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 6691               		.loc 2 72 0
 6692 1a46 6623      		tst r22
 6693 1a48 01F4      		brne .L254
 6694               	.LVL395:
 6695               	.LBB2182:
 6696               	.LBB2183:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6697               		.loc 5 168 0
 6698 1a4a 2093 0000 		sts endpoints+28,r18
 6699 1a4e 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6700               		.loc 5 169 0
 6701 1a52 8092 0000 		sts endpoints+26,r8
 6702 1a56 9092 0000 		sts endpoints+26+1,r9
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 6703               		.loc 5 174 0
 6704 1a5a F301      		movw r30,r6
 6705               	.LVL396:
 6706               	/* #APP */
 6707               	 ;  174 "usb/usb.h" 1
 6708 1a5c 02E2      		ldi r16, 34
 6709 1a5e 0693      		.dc.w 0x9306
 6710               		
 6711               	 ;  0 "" 2
 6712               	.LVL397:
 6713               	/* #NOAPP */
 6714               	.L255:
 6715               	.LBE2183:
 6716               	.LBE2182:
 6717               	.LBE2185:
 6718               	.LBE2196:
 6719               	.LBB2197:
 6720               	.LBB2198:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 6721               		.loc 4 72 0
 6722 1a60 4150      		subi r20,lo8(-(-1))
 6723 1a62 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 6724               		.loc 4 73 0
 6725 1a66 C901      		movw r24,r18
 6726 1a68 805C      		subi r24,lo8(-(64))
 6727 1a6a 9F4F      		sbci r25,hi8(-(64))
 6728 1a6c 8093 0000 		sts ep_in_pipe_data,r24
 6729 1a70 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 6730               		.loc 4 75 0
 6731 1a74 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 6732 1a76 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 6733 1a78 9F07      		cpc r25,r31
 6734 1a7a 01F0      		breq .+2
 6735 1a7c 00C0      		rjmp .L251
 6736               	.LBE2198:
 6737               	.LBE2197:
 6738               	.LBB2199:
 6739               	.LBB2164:
 6740               		.loc 4 91 0
 6741 1a7e 4092 0000 		sts ep_in_pipe_data,r4
 6742 1a82 5092 0000 		sts ep_in_pipe_data+1,r5
 6743               	.LVL398:
 6744 1a86 00C0      		rjmp .L251
 6745               	.LVL399:
 6746               	.L254:
 6747               	.LBE2164:
 6748               	.LBE2199:
 6749               	.LBB2200:
 6750               	.LBB2186:
 6751               	.LBB2184:
 6752               	.LBB2181:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6753               		.loc 5 168 0
 6754 1a88 2093 0000 		sts endpoints+20,r18
 6755 1a8c 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6756               		.loc 5 169 0
 6757 1a90 8092 0000 		sts endpoints+18,r8
 6758 1a94 9092 0000 		sts endpoints+18+1,r9
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6759               		.loc 5 176 0
 6760 1a98 F301      		movw r30,r6
 6761               	.LVL400:
 6762               	/* #APP */
 6763               	 ;  176 "usb/usb.h" 1
 6764 1a9a 04E1      		ldi r16, 20
 6765 1a9c 0693      		.dc.w 0x9306
 6766               		
 6767               	 ;  0 "" 2
 6768               	/* #NOAPP */
 6769 1a9e 00C0      		rjmp .L255
 6770               	.LVL401:
 6771               	.L252:
 6772               	.LBE2181:
 6773               	.LBE2184:
 6774               	.LBE2186:
 6775               	.LBE2200:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 6776               		.loc 2 87 0
 6777 1aa0 8091 0000 		lds r24,ep_in_data+1
 6778 1aa4 8130      		cpi r24,lo8(1)
 6779 1aa6 01F0      		breq .L292
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 6780               		.loc 2 91 0
 6781 1aa8 8230      		cpi r24,lo8(2)
 6782 1aaa 01F0      		breq .+2
 6783 1aac 00C0      		rjmp .L251
 6784               	.LVL402:
 6785               	.LBB2201:
 6786               	.LBB2202:
 6787               	.LBB2203:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 6788               		.loc 5 228 0
 6789 1aae 8091 0000 		lds r24,endpoints+24
 6790 1ab2 8670      		andi r24,lo8(6)
 6791               	.LBE2203:
 6792               	.LBE2202:
 6793               	.LBE2201:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 6794               		.loc 2 91 0
 6795 1ab4 8630      		cpi r24,lo8(6)
 6796 1ab6 01F0      		breq .+2
 6797 1ab8 00C0      		rjmp .L251
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 6798               		.loc 2 92 0
 6799 1aba 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 6800               		.loc 2 93 0
 6801 1abe 1092 0000 		sts ep_in_data+2,__zero_reg__
 6802 1ac2 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 6803               	.LBB2204:
 6804               	.LBB2165:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 6805               		.loc 4 90 0
 6806 1ac6 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 6807               		.loc 4 91 0
 6808 1aca 4092 0000 		sts ep_in_pipe_data+2,r4
 6809 1ace 5092 0000 		sts ep_in_pipe_data+2+1,r5
 6810 1ad2 4092 0000 		sts ep_in_pipe_data,r4
 6811 1ad6 5092 0000 		sts ep_in_pipe_data+1,r5
 6812               	.LVL403:
 6813 1ada 00C0      		rjmp .L251
 6814               	.LVL404:
 6815               	.L288:
 6816               	.LBE2165:
 6817               	.LBE2204:
 6818               	.LBE2209:
 6819               	.LBE2212:
 6820               	.LBE2221:
 6821               	.LBE2224:
 6822               	.LBE2227:
 6823               	.LBE2230:
 6824               	.LBE2237:
 6825               	.LBE2240:
 6826               	.LBE2248:
 6827               	.LBB2249:
 6828               	.LBB2244:
  15:uart/uart.h   ****         uart_putchar('\r', USART); 
 6829               		.loc 9 15 0
 6830 1adc 8DE0      		ldi r24,lo8(13)
 6831 1ade B701      		movw r22,r14
 6832 1ae0 0E94 0000 		call uart_putchar
 6833 1ae4 00C0      		rjmp .L279
 6834               	.LVL405:
 6835               	.L292:
 6836               	.LBE2244:
 6837               	.LBE2249:
 6838               	.LBB2250:
 6839               	.LBB2241:
 6840               	.LBB2238:
 6841               	.LBB2231:
 6842               	.LBB2228:
 6843               	.LBB2225:
 6844               	.LBB2222:
 6845               	.LBB2213:
 6846               	.LBB2210:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 6847               		.loc 2 88 0
 6848 1ae6 1093 0000 		sts ep_in_data+1,r17
 6849               	.LBB2205:
 6850               	.LBB2206:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 6851               		.loc 4 62 0
 6852 1aea 7091 0000 		lds r23,ep_in_pipe_data
 6853 1aee E091 0000 		lds r30,ep_in_pipe_data+1
 6854               	.LBE2206:
 6855               	.LBE2205:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 6856               		.loc 2 90 0
 6857 1af2 2091 0000 		lds r18,ep_in_data+2
 6858 1af6 3091 0000 		lds r19,ep_in_data+2+1
 6859               	.LVL406:
 6860               	.LBB2207:
 6861               	.LBB2176:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 6862               		.loc 2 68 0
 6863 1afa 6091 0000 		lds r22,ep_in_data
 6864               	.LVL407:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6865               		.loc 2 69 0
 6866 1afe 862F      		mov r24,r22
 6867 1b00 90E0      		ldi r25,lo8(0)
 6868               	.LVL408:
 6869 1b02 41E0      		ldi r20,lo8(1)
 6870 1b04 8A15      		cp r24,r10
 6871 1b06 9B05      		cpc r25,r11
 6872 1b08 01F0      		breq .L293
 6873 1b0a 4093 0000 		sts ep_in_data,r20
 6874               	.LBB2168:
 6875               	.LBB2169:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6876               		.loc 5 168 0
 6877 1b0e 872F      		mov r24,r23
 6878 1b10 9E2F      		mov r25,r30
 6879               	.LBE2169:
 6880               	.LBE2168:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 6881               		.loc 2 72 0
 6882 1b12 6623      		tst r22
 6883 1b14 01F4      		brne .L259
 6884               	.L294:
 6885               	.LVL409:
 6886               	.LBB2172:
 6887               	.LBB2170:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6888               		.loc 5 168 0
 6889 1b16 8093 0000 		sts endpoints+28,r24
 6890 1b1a 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6891               		.loc 5 169 0
 6892 1b1e 2093 0000 		sts endpoints+26,r18
 6893 1b22 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 6894               		.loc 5 174 0
 6895 1b26 F301      		movw r30,r6
 6896               	/* #APP */
 6897               	 ;  174 "usb/usb.h" 1
 6898 1b28 02E2      		ldi r16, 34
 6899 1b2a 0693      		.dc.w 0x9306
 6900               		
 6901               	 ;  0 "" 2
 6902               	/* #NOAPP */
 6903 1b2c 00C0      		rjmp .L251
 6904               	.LVL410:
 6905               	.L259:
 6906               	.LBE2170:
 6907               	.LBE2172:
 6908               	.LBB2173:
 6909               	.LBB2174:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6910               		.loc 5 168 0
 6911 1b2e 8093 0000 		sts endpoints+20,r24
 6912 1b32 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 6913               		.loc 5 169 0
 6914 1b36 2093 0000 		sts endpoints+18,r18
 6915 1b3a 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 6916               		.loc 5 176 0
 6917 1b3e F301      		movw r30,r6
 6918               	/* #APP */
 6919               	 ;  176 "usb/usb.h" 1
 6920 1b40 04E1      		ldi r16, 20
 6921 1b42 0693      		.dc.w 0x9306
 6922               		
 6923               	 ;  0 "" 2
 6924               	/* #NOAPP */
 6925 1b44 00C0      		rjmp .L251
 6926               	.LVL411:
 6927               	.L293:
 6928               	.LBE2174:
 6929               	.LBE2173:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 6930               		.loc 2 69 0
 6931 1b46 40E0      		ldi r20,lo8(0)
 6932 1b48 4093 0000 		sts ep_in_data,r20
 6933               	.LBB2175:
 6934               	.LBB2171:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 6935               		.loc 5 168 0
 6936 1b4c 872F      		mov r24,r23
 6937 1b4e 9E2F      		mov r25,r30
 6938               	.LBE2171:
 6939               	.LBE2175:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 6940               		.loc 2 72 0
 6941 1b50 6623      		tst r22
 6942 1b52 01F4      		brne .L259
 6943 1b54 00C0      		rjmp .L294
 6944               	.LVL412:
 6945               	.L291:
 6946               	.LBE2176:
 6947               	.LBE2207:
 6948               	.LBE2210:
 6949               	.LBE2213:
 6950               	.LBE2222:
 6951               	.LBE2225:
 6952               	.LBE2228:
 6953               	.LBE2231:
 6954               	.LBE2238:
 6955               	.LBE2241:
 6956               	.LBE2250:
 6957               	.LBB2251:
 6958               	.LBB2252:
 6959               	.LBB2253:
 6960               	.LBB2254:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 6961               		.loc 2 110 0
 6962 1b56 8093 0000 		sts ep_in_data+1,r24
 6963               	.LVL413:
 6964               	.LBB2255:
 6965               	.LBB2256:
 6966               	.LBB2257:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 6967               		.loc 2 80 0
 6968 1b5a 2FB7      		in r18,__SREG__
 6969               	.LVL414:
 6970               	.LBB2258:
 6971               	.LBB2259:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 6972               		.loc 3 50 0
 6973               	/* #APP */
 6974               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 6975 1b5c F894      		cli
 6976               	 ;  0 "" 2
 6977               	.LVL415:
 6978               	/* #NOAPP */
 6979               	.LBE2259:
 6980               	.LBE2258:
 6981               	.LBB2260:
 6982               	.LBB2261:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 6983               		.loc 5 220 0
 6984 1b5e 8091 0000 		lds r24,endpoints+24
 6985 1b62 8670      		andi r24,lo8(6)
 6986               	.LBE2261:
 6987               	.LBE2260:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 6988               		.loc 2 82 0
 6989 1b64 01F0      		breq .+2
 6990 1b66 00C0      		rjmp .L295
 6991               	.LVL416:
 6992               	.L262:
 6993               	.LBB2262:
 6994               	.LBB2263:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 6995               		.loc 3 70 0
 6996 1b68 2FBF      		out __SREG__,r18
 6997               		.loc 3 71 0
 6998               	.LBE2263:
 6999               	.LBE2262:
 7000               	.LBE2257:
 7001               	.LBE2256:
 7002               	.LBE2255:
 7003               	.LBE2254:
 7004               	.LBE2253:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 7005               		.loc 1 27 0
 7006 1b6a 82E0      		ldi r24,lo8(2)
 7007 1b6c E0EC      		ldi r30,lo8(1216)
 7008 1b6e F4E0      		ldi r31,hi8(1216)
 7009 1b70 8587      		std Z+13,r24
 7010               	.LBB2295:
 7011               	.LBB2296:
 7012               	.LBB2297:
 7013               	.LBB2298:
 7014               	.LBB2299:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7015               		.loc 4 57 0
 7016 1b72 36E0      		ldi r19,lo8(6)
 7017               	.LVL417:
 7018               	.L271:
 7019               	.LBE2299:
 7020               	.LBE2298:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7021               		.loc 2 123 0
 7022 1b74 9FB7      		in r25,__SREG__
 7023               	.LVL418:
 7024               	.LBB2301:
 7025               	.LBB2302:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7026               		.loc 3 50 0
 7027               	/* #APP */
 7028               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7029 1b76 F894      		cli
 7030               	 ;  0 "" 2
 7031               	.LVL419:
 7032               	/* #NOAPP */
 7033               	.LBE2302:
 7034               	.LBE2301:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 7035               		.loc 2 124 0
 7036 1b78 8091 0000 		lds r24,ep_in_data+1
 7037 1b7c 8823      		tst r24
 7038 1b7e 01F0      		breq .L296
 7039               	.L276:
 125:usb/usb_pipe.h **** 			r = false;
 7040               		.loc 2 125 0
 7041 1b80 80E0      		ldi r24,lo8(0)
 7042               	.L272:
 7043               	.LBB2303:
 7044               	.LBB2304:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7045               		.loc 3 70 0
 7046 1b82 9FBF      		out __SREG__,r25
 7047               		.loc 3 71 0
 7048               	.LBE2304:
 7049               	.LBE2303:
 7050               	.LBE2297:
 7051               	.LBE2296:
 7052               	.LBE2295:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 7053               		.loc 1 28 0
 7054 1b84 8823      		tst r24
 7055 1b86 01F0      		breq .+2
 7056 1b88 00C0      		rjmp .L241
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 7057               		.loc 1 29 0
 7058 1b8a 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 7059 1b8e 8823      		tst r24
 7060 1b90 01F0      		breq .L271
 7061               	.LVL420:
 7062               	.LBB2308:
 7063               	.LBB2309:
 7064               	.LBB2310:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 7065               		.loc 2 54 0
 7066 1b92 2FB7      		in r18,__SREG__
 7067               	.LVL421:
 7068               	.LBB2311:
 7069               	.LBB2312:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 7070               		.loc 3 50 0
 7071               	/* #APP */
 7072               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 7073 1b94 F894      		cli
 7074               	 ;  0 "" 2
 7075               	.LVL422:
 7076               	/* #NOAPP */
 7077               	.LBE2312:
 7078               	.LBE2311:
 7079               	.LBB2313:
 7080               	.LBB2314:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 7081               		.loc 4 90 0
 7082 1b96 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 7083               		.loc 4 91 0
 7084 1b9a 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7085 1b9c 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7086 1b9e 8093 0000 		sts ep_in_pipe_data+2,r24
 7087 1ba2 9093 0000 		sts ep_in_pipe_data+2+1,r25
 7088 1ba6 8093 0000 		sts ep_in_pipe_data,r24
 7089 1baa 9093 0000 		sts ep_in_pipe_data+1,r25
 7090               	.LVL423:
 7091               	.LBE2314:
 7092               	.LBE2313:
 7093               	.LBB2315:
 7094               	.LBB2316:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 7095               		.loc 5 158 0
 7096 1bae E0E0      		ldi r30,lo8(endpoints+24)
 7097 1bb0 F0E0      		ldi r31,hi8(endpoints+24)
 7098               	/* #APP */
 7099               	 ;  158 "usb/usb.h" 1
 7100 1bb2 06E0      		ldi r16, 6
 7101 1bb4 0593      		.dc.w 0x9305
 7102               		
 7103               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 7104               		.loc 5 159 0
 7105               	 ;  159 "usb/usb.h" 1
 7106 1bb6 08E0      		ldi r16, 8
 7107 1bb8 0693      		.dc.w 0x9306
 7108               		
 7109               	 ;  0 "" 2
 7110               	/* #NOAPP */
 7111               	.LBE2316:
 7112               	.LBE2315:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 7113               		.loc 2 57 0
 7114 1bba 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 7115               		.loc 2 58 0
 7116 1bbe 1092 0000 		sts ep_in_data+2,__zero_reg__
 7117 1bc2 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 7118               		.loc 2 59 0
 7119 1bc6 1092 0000 		sts ep_in_data,__zero_reg__
 7120               	.LVL424:
 7121               	.LBB2317:
 7122               	.LBB2318:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 7123               		.loc 3 70 0
 7124 1bca 2FBF      		out __SREG__,r18
 7125               		.loc 3 71 0
 7126 1bcc 00C0      		rjmp .L241
 7127               	.LVL425:
 7128               	.L296:
 7129               	.LBE2318:
 7130               	.LBE2317:
 7131               	.LBE2310:
 7132               	.LBE2309:
 7133               	.LBE2308:
 7134               	.LBB2319:
 7135               	.LBB2307:
 7136               	.LBB2306:
 7137               	.LBB2305:
 7138               	.LBB2300:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 7139               		.loc 4 57 0
 7140 1bce 8091 0000 		lds r24,ep_in_pipe_data+4
 7141 1bd2 232F      		mov r18,r19
 7142 1bd4 281B      		sub r18,r24
 7143               	.LBE2300:
 7144               	.LBE2305:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 7145               		.loc 2 127 0
 7146 1bd6 81E0      		ldi r24,lo8(1)
 7147 1bd8 1216      		cp __zero_reg__,r18
 7148 1bda 04F0      		brlt .L272
 7149 1bdc 00C0      		rjmp .L276
 7150               	.LVL426:
 7151               	.L295:
 7152               	.LBE2306:
 7153               	.LBE2307:
 7154               	.LBE2319:
 7155               	.LBB2320:
 7156               	.LBB2294:
 7157               	.LBB2293:
 7158               	.LBB2292:
 7159               	.LBB2291:
 7160               	.LBB2264:
 7161               	.LBB2265:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 7162               		.loc 4 51 0
 7163 1bde 3091 0000 		lds r19,ep_in_pipe_data+4
 7164               	.LBE2265:
 7165               	.LBE2264:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 7166               		.loc 2 83 0
 7167 1be2 1316      		cp __zero_reg__,r19
 7168 1be4 04F0      		brlt .+2
 7169 1be6 00C0      		rjmp .L263
 7170               	.LBB2266:
 7171               	.LBB2267:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 7172               		.loc 4 62 0
 7173 1be8 8091 0000 		lds r24,ep_in_pipe_data
 7174 1bec 9091 0000 		lds r25,ep_in_pipe_data+1
 7175               	.LVL427:
 7176               	.LBE2267:
 7177               	.LBE2266:
 7178               	.LBB2268:
 7179               	.LBB2269:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 7180               		.loc 2 68 0
 7181 1bf0 4091 0000 		lds r20,ep_in_data
 7182               	.LVL428:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 7183               		.loc 2 69 0
 7184 1bf4 51E0      		ldi r21,lo8(1)
 7185 1bf6 4130      		cpi r20,lo8(1)
 7186 1bf8 01F4      		brne .L264
 7187 1bfa 50E0      		ldi r21,lo8(0)
 7188               	.L264:
 7189 1bfc 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 7190               		.loc 2 72 0
 7191 1c00 4423      		tst r20
 7192 1c02 01F4      		brne .L265
 7193               	.LVL429:
 7194               	.LBB2270:
 7195               	.LBB2271:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7196               		.loc 5 168 0
 7197 1c04 8093 0000 		sts endpoints+28,r24
 7198 1c08 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7199               		.loc 5 169 0
 7200 1c0c 40E4      		ldi r20,lo8(64)
 7201 1c0e 50E0      		ldi r21,hi8(64)
 7202 1c10 4093 0000 		sts endpoints+26,r20
 7203 1c14 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 7204               		.loc 5 174 0
 7205 1c18 E0E0      		ldi r30,lo8(endpoints+24)
 7206 1c1a F0E0      		ldi r31,hi8(endpoints+24)
 7207               	/* #APP */
 7208               	 ;  174 "usb/usb.h" 1
 7209 1c1c 02E2      		ldi r16, 34
 7210 1c1e 0693      		.dc.w 0x9306
 7211               		
 7212               	 ;  0 "" 2
 7213               	.LVL430:
 7214               	/* #NOAPP */
 7215               	.L266:
 7216               	.LBE2271:
 7217               	.LBE2270:
 7218               	.LBE2269:
 7219               	.LBE2268:
 7220               	.LBB2275:
 7221               	.LBB2276:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 7222               		.loc 4 72 0
 7223 1c20 3150      		subi r19,lo8(-(-1))
 7224 1c22 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 7225               		.loc 4 73 0
 7226 1c26 805C      		subi r24,lo8(-(64))
 7227 1c28 9F4F      		sbci r25,hi8(-(64))
 7228 1c2a 8093 0000 		sts ep_in_pipe_data,r24
 7229 1c2e 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 7230               		.loc 4 75 0
 7231 1c32 B0E0      		ldi r27,hi8(ep_in_pipe_buffer+512)
 7232 1c34 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 7233 1c36 9B07      		cpc r25,r27
 7234 1c38 01F0      		breq .+2
 7235 1c3a 00C0      		rjmp .L262
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 7236               		.loc 4 76 0
 7237 1c3c 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7238 1c3e 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7239 1c40 8093 0000 		sts ep_in_pipe_data,r24
 7240 1c44 9093 0000 		sts ep_in_pipe_data+1,r25
 7241 1c48 00C0      		rjmp .L262
 7242               	.LVL431:
 7243               	.L265:
 7244               	.LBE2276:
 7245               	.LBE2275:
 7246               	.LBB2277:
 7247               	.LBB2274:
 7248               	.LBB2272:
 7249               	.LBB2273:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7250               		.loc 5 168 0
 7251 1c4a 8093 0000 		sts endpoints+20,r24
 7252 1c4e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7253               		.loc 5 169 0
 7254 1c52 40E4      		ldi r20,lo8(64)
 7255 1c54 50E0      		ldi r21,hi8(64)
 7256 1c56 4093 0000 		sts endpoints+18,r20
 7257 1c5a 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 7258               		.loc 5 176 0
 7259 1c5e E0E0      		ldi r30,lo8(endpoints+24)
 7260 1c60 F0E0      		ldi r31,hi8(endpoints+24)
 7261               	/* #APP */
 7262               	 ;  176 "usb/usb.h" 1
 7263 1c62 04E1      		ldi r16, 20
 7264 1c64 0693      		.dc.w 0x9306
 7265               		
 7266               	 ;  0 "" 2
 7267               	/* #NOAPP */
 7268 1c66 00C0      		rjmp .L266
 7269               	.LVL432:
 7270               	.L263:
 7271               	.LBE2273:
 7272               	.LBE2272:
 7273               	.LBE2274:
 7274               	.LBE2277:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 7275               		.loc 2 87 0
 7276 1c68 8091 0000 		lds r24,ep_in_data+1
 7277 1c6c 8130      		cpi r24,lo8(1)
 7278 1c6e 01F0      		breq .L297
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 7279               		.loc 2 91 0
 7280 1c70 8230      		cpi r24,lo8(2)
 7281 1c72 01F0      		breq .+2
 7282 1c74 00C0      		rjmp .L262
 7283               	.LVL433:
 7284               	.LBB2278:
 7285               	.LBB2279:
 7286               	.LBB2280:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 7287               		.loc 5 228 0
 7288 1c76 8091 0000 		lds r24,endpoints+24
 7289 1c7a 8670      		andi r24,lo8(6)
 7290               	.LBE2280:
 7291               	.LBE2279:
 7292               	.LBE2278:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 7293               		.loc 2 91 0
 7294 1c7c 8630      		cpi r24,lo8(6)
 7295 1c7e 01F0      		breq .+2
 7296 1c80 00C0      		rjmp .L262
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 7297               		.loc 2 92 0
 7298 1c82 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 7299               		.loc 2 93 0
 7300 1c86 1092 0000 		sts ep_in_data+2,__zero_reg__
 7301 1c8a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 7302               	.LBB2281:
 7303               	.LBB2282:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 7304               		.loc 4 90 0
 7305 1c8e 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 7306               		.loc 4 91 0
 7307 1c92 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 7308 1c94 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 7309 1c96 8093 0000 		sts ep_in_pipe_data+2,r24
 7310 1c9a 9093 0000 		sts ep_in_pipe_data+2+1,r25
 7311 1c9e 8093 0000 		sts ep_in_pipe_data,r24
 7312 1ca2 9093 0000 		sts ep_in_pipe_data+1,r25
 7313               	.LVL434:
 7314 1ca6 00C0      		rjmp .L262
 7315               	.LVL435:
 7316               	.L297:
 7317               	.LBE2282:
 7318               	.LBE2281:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 7319               		.loc 2 88 0
 7320 1ca8 82E0      		ldi r24,lo8(2)
 7321 1caa 8093 0000 		sts ep_in_data+1,r24
 7322               	.LBB2283:
 7323               	.LBB2284:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 7324               		.loc 4 62 0
 7325 1cae 6091 0000 		lds r22,ep_in_pipe_data
 7326 1cb2 3091 0000 		lds r19,ep_in_pipe_data+1
 7327               	.LBE2284:
 7328               	.LBE2283:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 7329               		.loc 2 90 0
 7330 1cb6 4091 0000 		lds r20,ep_in_data+2
 7331 1cba 5091 0000 		lds r21,ep_in_data+2+1
 7332               	.LVL436:
 7333               	.LBB2285:
 7334               	.LBB2286:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 7335               		.loc 2 68 0
 7336 1cbe 8091 0000 		lds r24,ep_in_data
 7337               	.LVL437:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 7338               		.loc 2 69 0
 7339 1cc2 91E0      		ldi r25,lo8(1)
 7340 1cc4 8130      		cpi r24,lo8(1)
 7341 1cc6 01F4      		brne .L269
 7342 1cc8 90E0      		ldi r25,lo8(0)
 7343               	.L269:
 7344 1cca 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 7345               		.loc 2 72 0
 7346 1cce 8823      		tst r24
 7347 1cd0 01F4      		brne .L270
 7348               	.LVL438:
 7349               	.LBB2287:
 7350               	.LBB2288:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7351               		.loc 5 168 0
 7352 1cd2 862F      		mov r24,r22
 7353 1cd4 932F      		mov r25,r19
 7354 1cd6 8093 0000 		sts endpoints+28,r24
 7355 1cda 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7356               		.loc 5 169 0
 7357 1cde 4093 0000 		sts endpoints+26,r20
 7358 1ce2 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 7359               		.loc 5 174 0
 7360 1ce6 E0E0      		ldi r30,lo8(endpoints+24)
 7361 1ce8 F0E0      		ldi r31,hi8(endpoints+24)
 7362               	/* #APP */
 7363               	 ;  174 "usb/usb.h" 1
 7364 1cea 02E2      		ldi r16, 34
 7365 1cec 0693      		.dc.w 0x9306
 7366               		
 7367               	 ;  0 "" 2
 7368               	/* #NOAPP */
 7369 1cee 00C0      		rjmp .L262
 7370               	.LVL439:
 7371               	.L270:
 7372               	.LBE2288:
 7373               	.LBE2287:
 7374               	.LBB2289:
 7375               	.LBB2290:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 7376               		.loc 5 168 0
 7377 1cf0 862F      		mov r24,r22
 7378 1cf2 932F      		mov r25,r19
 7379 1cf4 8093 0000 		sts endpoints+20,r24
 7380 1cf8 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 7381               		.loc 5 169 0
 7382 1cfc 4093 0000 		sts endpoints+18,r20
 7383 1d00 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 7384               		.loc 5 176 0
 7385 1d04 E0E0      		ldi r30,lo8(endpoints+24)
 7386 1d06 F0E0      		ldi r31,hi8(endpoints+24)
 7387               	/* #APP */
 7388               	 ;  176 "usb/usb.h" 1
 7389 1d08 04E1      		ldi r16, 20
 7390 1d0a 0693      		.dc.w 0x9306
 7391               		
 7392               	 ;  0 "" 2
 7393               	/* #NOAPP */
 7394 1d0c 00C0      		rjmp .L262
 7395               	.LBE2290:
 7396               	.LBE2289:
 7397               	.LBE2286:
 7398               	.LBE2285:
 7399               	.LBE2291:
 7400               	.LBE2292:
 7401               	.LBE2293:
 7402               	.LBE2294:
 7403               	.LBE2320:
 7404               	.LBE2252:
 7405               	.LBE2251:
 7406               		.cfi_endproc
 7407               	.LFE68:
 7409               	.global	toggle_power_gps
 7411               	toggle_power_gps:
 7412               	.LFB69:
 7413               		.file 10 "gps/gps.h"
   1:gps/gps.h     **** void gps_init (USART_t* USART, PORT_t* PORT, char PWRPIN_bm, char TXPIN_bm, char RESETPIN_bm);
   2:gps/gps.h     **** void toggle_power_gps(PORT_t* PORT, char PWRPIN_bm);
   3:gps/gps.h     **** 
   4:gps/gps.h     **** void toggle_power_gps(PORT_t* PORT, char PWRPIN_bm)
   5:gps/gps.h     **** {
 7414               		.loc 10 5 0
 7415               		.cfi_startproc
 7416               	.LVL440:
 7417               	/* prologue: function */
 7418               	/* frame size = 0 */
 7419               	/* stack size = 0 */
 7420               	.L__stack_usage = 0
 7421 1d0e FC01      		movw r30,r24
 7422               	.LVL441:
 7423               	.LBB2321:
 7424               	.LBB2322:
 7425               		.file 11 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h"
   1:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /* Copyright (c) 2002, Marek Michalkiewicz
   2:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Copyright (c) 2004,2005,2007 Joerg Wunsch
   3:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Copyright (c) 2007  Florin-Viorel Petrov
   4:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    All rights reserved.
   5:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
   6:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Redistribution and use in source and binary forms, with or without
   7:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    modification, are permitted provided that the following conditions are met:
   8:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
   9:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    * Redistributions of source code must retain the above copyright
  10:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      notice, this list of conditions and the following disclaimer.
  11:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  12:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    * Redistributions in binary form must reproduce the above copyright
  13:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      notice, this list of conditions and the following disclaimer in
  14:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      the documentation and/or other materials provided with the
  15:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      distribution.
  16:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  17:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    * Neither the name of the copyright holders nor the names of
  18:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      contributors may be used to endorse or promote products derived
  19:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****      from this software without specific prior written permission.
  20:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  21:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  25:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   POSSIBILITY OF SUCH DAMAGE. */
  32:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  33:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /* $Id: delay.h.in 2251 2011-09-14 08:20:33Z joerg_wunsch $ */
  34:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  35:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef _UTIL_DELAY_H_
  36:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #define _UTIL_DELAY_H_ 1
  37:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  38:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef __HAS_DELAY_CYCLES
  39:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #define __HAS_DELAY_CYCLES 1
  40:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  41:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  42:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #include <inttypes.h>
  43:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #include <util/delay_basic.h>
  44:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #include <math.h>
  45:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  46:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /** \file */
  47:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /** \defgroup util_delay <util/delay.h>: Convenience functions for busy-wait delay loops
  48:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \code
  49:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     #define F_CPU 1000000UL  // 1 MHz
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     //#define F_CPU 14.7456E6
  51:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     #include <util/delay.h>
  52:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \endcode
  53:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  54:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \note As an alternative method, it is possible to pass the
  55:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     F_CPU macro down to the compiler from the Makefile.
  56:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     Obviously, in that case, no \c \#define statement should be
  57:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     used.
  58:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  59:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     The functions in this header file are wrappers around the basic
  60:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     busy-wait functions from <util/delay_basic.h>.  They are meant as
  61:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     convenience functions where actual time values can be specified
  62:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     rather than a number of cycles to wait for.  The idea behind is
  63:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     that compile-time constant expressions will be eliminated by
  64:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     compiler optimization so floating-point expressions can be used
  65:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     to calculate the number of delay cycles needed based on the CPU
  66:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     frequency passed by the macro F_CPU.
  67:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  68:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     \note In order for these functions to work as intended, compiler
  69:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     optimizations <em>must</em> be enabled, and the delay time
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     <em>must</em> be an expression that is a known constant at
  71:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     compile-time.  If these requirements are not met, the resulting
  72:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     delay will be much longer (and basically unpredictable), and
  73:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     applications that otherwise do not use floating-point calculations
  74:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     will experience severe code bloat by the floating-point library
  75:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     routines linked into the application.
  76:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  77:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     The functions available allow the specification of microsecond, and
  78:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     millisecond delays directly, using the application-supplied macro
  79:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     F_CPU as the CPU clock frequency (in Hertz).
  80:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  81:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** */
  82:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  83:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #if !defined(__DOXYGEN__)
  84:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** static inline void _delay_us(double __us) __attribute__((always_inline));
  85:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** static inline void _delay_ms(double __ms) __attribute__((always_inline));
  86:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  87:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  88:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef F_CPU
  89:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /* prevent compiler error by supplying a default */
  90:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** # warning "F_CPU not defined for <util/delay.h>"
  91:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** # define F_CPU 1000000UL
  92:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  93:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  94:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #ifndef __OPTIMIZE__
  95:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** # warning "Compiler optimizations disabled; functions from <util/delay.h> won't work as designed"
  96:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
  97:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
  98:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #if __HAS_DELAY_CYCLES && defined(__OPTIMIZE__) && \
  99:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   !defined(__DELAY_BACKWARD_COMPATIBLE__) &&	   \
 100:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   __STDC_HOSTED__
 101:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #  include <math.h>
 102:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #endif
 103:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 104:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** /**
 105:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    \ingroup util_delay
 106:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 107:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Perform a delay of \c __ms milliseconds, using _delay_loop_2().
 108:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 109:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    The macro F_CPU is supposed to be defined to a
 110:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    constant defining the CPU clock frequency (in Hertz).
 111:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 112:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    The maximal possible delay is 262.14 ms / F_CPU in MHz.
 113:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 114:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    When the user request delay which exceed the maximum possible one,
 115:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    _delay_ms() provides a decreased resolution functionality. In this
 116:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    mode _delay_ms() will work with a resolution of 1/10 ms, providing
 117:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    delays up to 6.5535 seconds (independent from CPU frequency).  The
 118:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    user will not be informed about decreased resolution.
 119:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 120:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    If the avr-gcc toolchain has __builtin_avr_delay_cycles(unsigned long)
 121:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    support, maximal possible delay is 4294967.295 ms/ F_CPU in MHz. For
 122:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    values greater than the maximal possible delay, overflows results in
 123:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    no delay i.e., 0ms.
 124:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 125:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Conversion of __us into clock cycles may not always result in integer.
 126:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    By default, the clock cycles rounded up to next integer. This ensures that
 127:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    the user gets atleast __us microseconds of delay.
 128:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 129:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Alternatively, user can define __DELAY_ROUND_DOWN__ and __DELAY_ROUND_CLOSEST__
 130:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    to round down and round to closest integer.
 131:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 132:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Note: The new implementation of _delay_ms(double __ms) with 
 133:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****     __builtin_avr_delay_cycles(unsigned long) support is not backward compatible. 
 134:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    User can define __DELAY_BACKWARD_COMPATIBLE__ to get a backward compatible delay.
 135:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    Also, the backward compatible
 136:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    algorithm will be chosen if the code is compiled in a <em>freestanding
 137:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    environment</em> (GCC option \c -ffreestanding), as the math functions
 138:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****    required for rounding are not available to the compiler then.
 139:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 140:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****  */
 141:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** void
 142:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** _delay_ms(double __ms)
 143:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** {
 144:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	uint16_t __ticks;
 145:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	double __tmp ; 
 146:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** #if __HAS_DELAY_CYCLES && defined(__OPTIMIZE__) && \
 147:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   !defined(__DELAY_BACKWARD_COMPATIBLE__) &&	   \
 148:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h ****   __STDC_HOSTED__
 149:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	uint32_t __ticks_dc;
 150:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	extern void __builtin_avr_delay_cycles(unsigned long);
 151:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	__tmp = ((F_CPU) / 1e3) * __ms;
 152:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 153:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#if defined(__DELAY_ROUND_DOWN__)
 154:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		__ticks_dc = (uint32_t)fabs(__tmp);
 155:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 156:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#elif defined(__DELAY_ROUND_CLOSEST__)
 157:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		__ticks_dc = (uint32_t)(fabs(__tmp)+0.5);
 158:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 159:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#else
 160:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		//round up by default
 161:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 		__ticks_dc = (uint32_t)(ceil(fabs(__tmp)));
 162:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	#endif
 163:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 
 164:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/delay.h **** 	__builtin_avr_delay_cycles(__ticks_dc);
 7426               		.loc 11 164 0
 7427 1d10 8FEF      		 ldi r24,lo8(12799999)
 7428 1d12 9FE4      	    ldi r25,hi8(12799999)
 7429 1d14 A3EC      	    ldi r26,hlo8(12799999)
 7430 1d16 8150      	    1:subi r24,1
 7431 1d18 9040      	    sbci r25,0
 7432 1d1a A040      	    sbci r26,0
 7433 1d1c 01F4      	    brne 1b
 7434               	.LVL442:
 7435 1d1e 00C0      		rjmp .
 7436 1d20 0000      		nop
 7437               	.LBE2322:
 7438               	.LBE2321:
   6:gps/gps.h     ****   // LOW/HIGH transmission of PD0 to wakeup gps module 
   7:gps/gps.h     ****   _delay_ms(2000);
   8:gps/gps.h     ****   PORT->OUTSET |= PWRPIN_bm;
 7439               		.loc 10 8 0
 7440 1d22 8581      		ldd r24,Z+5
 7441 1d24 862B      		or r24,r22
 7442 1d26 8583      		std Z+5,r24
 7443               	.LVL443:
 7444               	.LBB2323:
 7445               	.LBB2324:
 7446               		.loc 11 164 0
 7447 1d28 8FEF      		 ldi r24,lo8(1279999)
 7448 1d2a 97E8      	    ldi r25,hi8(1279999)
 7449 1d2c A3E1      	    ldi r26,hlo8(1279999)
 7450 1d2e 8150      	    1:subi r24,1
 7451 1d30 9040      	    sbci r25,0
 7452 1d32 A040      	    sbci r26,0
 7453 1d34 01F4      	    brne 1b
 7454 1d36 00C0      		rjmp .
 7455 1d38 0000      		nop
 7456               	.LBE2324:
 7457               	.LBE2323:
   9:gps/gps.h     ****   _delay_ms(200);
  10:gps/gps.h     ****   PORT->OUTTGL = PWRPIN_bm;
 7458               		.loc 10 10 0
 7459 1d3a 6783      		std Z+7,r22
 7460               	.LVL444:
 7461               	.LBB2325:
 7462               	.LBB2326:
 7463               		.loc 11 164 0
 7464 1d3c 8AEA      		 ldi r24,lo8(26666666)
 7465 1d3e 96EE      	    ldi r25,hi8(26666666)
 7466 1d40 A6E9      	    ldi r26,hlo8(26666666)
 7467 1d42 B1E0      	    ldi r27,hhi8(26666666)
 7468 1d44 8150      	    1:subi r24,1
 7469 1d46 9040      	    sbci r25,0
 7470 1d48 A040      	    sbci r26,0
 7471 1d4a B040      	    sbci r27,0
 7472 1d4c 01F4      	    brne 1b
 7473 1d4e 0000      		nop
 7474               	/* epilogue start */
 7475               	.LBE2326:
 7476               	.LBE2325:
  11:gps/gps.h     ****   // give gps time to boot up and start sending nmea string
  12:gps/gps.h     ****   _delay_ms(5000);
  13:gps/gps.h     **** }
 7477               		.loc 10 13 0
 7478 1d50 0895      		ret
 7479               		.cfi_endproc
 7480               	.LFE69:
 7482               	.global	gps_init
 7484               	gps_init:
 7485               	.LFB70:
  14:gps/gps.h     **** 
  15:gps/gps.h     **** void gps_init(USART_t* USART, PORT_t* PORT, char PWRPIN_bm, char TXPIN_bm, char RESETPIN_bm) {
 7486               		.loc 10 15 0
 7487               		.cfi_startproc
 7488               	.LVL445:
 7489 1d52 0F93      		push r16
 7490               	.LCFI112:
 7491               		.cfi_def_cfa_offset 3
 7492               		.cfi_offset 16, -2
 7493               	/* prologue: function */
 7494               	/* frame size = 0 */
 7495               	/* stack size = 1 */
 7496               	.L__stack_usage = 1
 7497 1d54 FC01      		movw r30,r24
 7498 1d56 DB01      		movw r26,r22
 7499               	.LVL446:
 7500               	.LBB2327:
 7501               	.LBB2328:
 7502               		.loc 11 164 0
 7503 1d58 6FEF      		 ldi r22,lo8(9599999)
 7504 1d5a 7BE7      	    ldi r23,hi8(9599999)
 7505 1d5c 82E9      	    ldi r24,hlo8(9599999)
 7506 1d5e 6150      	    1:subi r22,1
 7507 1d60 7040      	    sbci r23,0
 7508 1d62 8040      	    sbci r24,0
 7509 1d64 01F4      	    brne 1b
 7510               	.LVL447:
 7511 1d66 00C0      		rjmp .
 7512 1d68 0000      		nop
 7513               	.LBE2328:
 7514               	.LBE2327:
  16:gps/gps.h     ****   /*
  17:gps/gps.h     ****   
  18:gps/gps.h     ****   Port numbers, baud rate, etc will need to be changed when switching 
  19:gps/gps.h     ****   to a different port.  This is a bit complex to abstract out to a new 
  20:gps/gps.h     ****   code layer, but we'll give it our best shot.
  21:gps/gps.h     **** 
  22:gps/gps.h     ****   */
  23:gps/gps.h     **** 
  24:gps/gps.h     ****   // wait 1+ seconds after powering on, as recommended by a2235-h data sheet
  25:gps/gps.h     ****   _delay_ms(1500);
  26:gps/gps.h     **** 
  27:gps/gps.h     ****   //Binary logic notes
  28:gps/gps.h     **** 
  29:gps/gps.h     ****   //Flip a 0 to a 1
  30:gps/gps.h     ****   //00000000
  31:gps/gps.h     ****   //   OR
  32:gps/gps.h     ****   //00100000
  33:gps/gps.h     ****   //   =
  34:gps/gps.h     ****   //00100000
  35:gps/gps.h     **** 
  36:gps/gps.h     ****   //Flip a 1 to a 0
  37:gps/gps.h     ****   //00100000
  38:gps/gps.h     ****   //   ~
  39:gps/gps.h     ****   //11011111
  40:gps/gps.h     ****   //  AND
  41:gps/gps.h     ****   //00100000
  42:gps/gps.h     ****   //   =
  43:gps/gps.h     ****   //00000000
  44:gps/gps.h     **** 
  45:gps/gps.h     ****   //76543210
  46:gps/gps.h     **** 
  47:gps/gps.h     **** 
  48:gps/gps.h     **** 
  49:gps/gps.h     ****   // POWER PIN -- ON_OFF
  50:gps/gps.h     ****   // Set PD0 to low
  51:gps/gps.h     ****   PORT->DIRSET |= PWRPIN_bm;
 7515               		.loc 10 51 0
 7516 1d6a 1196      		adiw r26,1
 7517 1d6c 8C91      		ld r24,X
 7518 1d6e 1197      		sbiw r26,1
 7519               	.LVL448:
 7520 1d70 842B      		or r24,r20
 7521 1d72 1196      		adiw r26,1
 7522 1d74 8C93      		st X,r24
 7523 1d76 1197      		sbiw r26,1
  52:gps/gps.h     ****   PORT->OUTSET &= (~PWRPIN_bm);  
 7524               		.loc 10 52 0
 7525 1d78 1596      		adiw r26,5
 7526 1d7a 9C91      		ld r25,X
 7527 1d7c 1597      		sbiw r26,5
 7528 1d7e 842F      		mov r24,r20
 7529 1d80 8095      		com r24
 7530 1d82 8923      		and r24,r25
 7531 1d84 1596      		adiw r26,5
 7532 1d86 8C93      		st X,r24
 7533 1d88 1597      		sbiw r26,5
  53:gps/gps.h     **** 
  54:gps/gps.h     ****   // RESET PIN : Active LOW
  55:gps/gps.h     ****   // Set to output and send high
  56:gps/gps.h     ****   PORT->DIRSET |= RESETPIN_bm;
 7534               		.loc 10 56 0
 7535 1d8a 1196      		adiw r26,1
 7536 1d8c 8C91      		ld r24,X
 7537 1d8e 1197      		sbiw r26,1
 7538 1d90 802B      		or r24,r16
 7539 1d92 1196      		adiw r26,1
 7540 1d94 8C93      		st X,r24
 7541 1d96 1197      		sbiw r26,1
  57:gps/gps.h     ****   PORT->OUTSET |= RESETPIN_bm;
 7542               		.loc 10 57 0
 7543 1d98 1596      		adiw r26,5
 7544 1d9a 8C91      		ld r24,X
 7545 1d9c 1597      		sbiw r26,5
 7546 1d9e 802B      		or r24,r16
 7547 1da0 1596      		adiw r26,5
 7548 1da2 8C93      		st X,r24
 7549 1da4 1597      		sbiw r26,5
  58:gps/gps.h     **** 
  59:gps/gps.h     ****   // Set the TxD pin as an output - set PORT OUT register bit 3 to 1 
  60:gps/gps.h     ****   PORT->DIRSET |= TXPIN_bm; 
 7550               		.loc 10 60 0
 7551 1da6 1196      		adiw r26,1
 7552 1da8 8C91      		ld r24,X
 7553 1daa 1197      		sbiw r26,1
 7554 1dac 282B      		or r18,r24
 7555               	.LVL449:
 7556 1dae 1196      		adiw r26,1
 7557 1db0 2C93      		st X,r18
 7558 1db2 1197      		sbiw r26,1
 7559               	.LVL450:
  61:gps/gps.h     **** 
  62:gps/gps.h     ****   //Baud rate of 4800 for nmea string communication
  63:gps/gps.h     ****   int BSEL = 12;
  64:gps/gps.h     ****   int BSCALE = 5;
  65:gps/gps.h     ****   USART->BAUDCTRLA = BSEL & 0xFF;
 7560               		.loc 10 65 0
 7561 1db4 8CE0      		ldi r24,lo8(12)
 7562 1db6 8683      		std Z+6,r24
  66:gps/gps.h     ****   USART->BAUDCTRLB = (BSCALE << 4) | (BSEL & 0xF000) >> 8;
 7563               		.loc 10 66 0
 7564 1db8 80E5      		ldi r24,lo8(80)
 7565 1dba 8783      		std Z+7,r24
  67:gps/gps.h     **** 
  68:gps/gps.h     ****   // no interrupts
  69:gps/gps.h     ****   // can't overwrite bits 7:6
  70:gps/gps.h     ****   USART->CTRLA = 0x00;
 7566               		.loc 10 70 0
 7567 1dbc 1382      		std Z+3,__zero_reg__
  71:gps/gps.h     **** 
  72:gps/gps.h     ****   // Enable transmitter and receiver
  73:gps/gps.h     ****   USART->CTRLB = USART_TXEN_bm | USART_RXEN_bm;  
 7568               		.loc 10 73 0
 7569 1dbe 88E1      		ldi r24,lo8(24)
 7570 1dc0 8483      		std Z+4,r24
  74:gps/gps.h     **** 
  75:gps/gps.h     ****   // async, no parity, 1 stop bit, 8 bit data,
  76:gps/gps.h     ****   // 00     00         0           011    
  77:gps/gps.h     ****   USART->CTRLC = 0x03;  
 7571               		.loc 10 77 0
 7572 1dc2 83E0      		ldi r24,lo8(3)
 7573 1dc4 8583      		std Z+5,r24
 7574               	.LVL451:
 7575               	.LBB2329:
 7576               	.LBB2330:
 7577               	.LBB2331:
 7578               	.LBB2332:
 7579               		.loc 11 164 0
 7580 1dc6 6FEF      		 ldi r22,lo8(12799999)
 7581 1dc8 7FE4      	    ldi r23,hi8(12799999)
 7582 1dca 83EC      	    ldi r24,hlo8(12799999)
 7583 1dcc 6150      	    1:subi r22,1
 7584 1dce 7040      	    sbci r23,0
 7585 1dd0 8040      	    sbci r24,0
 7586 1dd2 01F4      	    brne 1b
 7587 1dd4 00C0      		rjmp .
 7588 1dd6 0000      		nop
 7589               	.LBE2332:
 7590               	.LBE2331:
   8:gps/gps.h     ****   PORT->OUTSET |= PWRPIN_bm;
 7591               		.loc 10 8 0
 7592 1dd8 1596      		adiw r26,5
 7593 1dda 8C91      		ld r24,X
 7594 1ddc 1597      		sbiw r26,5
 7595 1dde 842B      		or r24,r20
 7596 1de0 1596      		adiw r26,5
 7597 1de2 8C93      		st X,r24
 7598 1de4 1597      		sbiw r26,5
 7599               	.LVL452:
 7600               	.LBB2333:
 7601               	.LBB2334:
 7602               		.loc 11 164 0
 7603 1de6 6FEF      		 ldi r22,lo8(1279999)
 7604 1de8 77E8      	    ldi r23,hi8(1279999)
 7605 1dea 83E1      	    ldi r24,hlo8(1279999)
 7606 1dec 6150      	    1:subi r22,1
 7607 1dee 7040      	    sbci r23,0
 7608 1df0 8040      	    sbci r24,0
 7609 1df2 01F4      	    brne 1b
 7610 1df4 00C0      		rjmp .
 7611 1df6 0000      		nop
 7612               	.LBE2334:
 7613               	.LBE2333:
  10:gps/gps.h     ****   PORT->OUTTGL = PWRPIN_bm;
 7614               		.loc 10 10 0
 7615 1df8 1796      		adiw r26,7
 7616 1dfa 4C93      		st X,r20
 7617 1dfc 1797      		sbiw r26,7
 7618               	.LVL453:
 7619               	.LBB2335:
 7620               	.LBB2336:
 7621               		.loc 11 164 0
 7622 1dfe 8AEA      		 ldi r24,lo8(26666666)
 7623 1e00 96EE      	    ldi r25,hi8(26666666)
 7624 1e02 A6E9      	    ldi r26,hlo8(26666666)
 7625 1e04 B1E0      	    ldi r27,hhi8(26666666)
 7626 1e06 8150      	    1:subi r24,1
 7627 1e08 9040      	    sbci r25,0
 7628 1e0a A040      	    sbci r26,0
 7629 1e0c B040      	    sbci r27,0
 7630 1e0e 01F4      	    brne 1b
 7631 1e10 0000      		nop
 7632               	/* epilogue start */
 7633               	.LBE2336:
 7634               	.LBE2335:
 7635               	.LBE2330:
 7636               	.LBE2329:
  78:gps/gps.h     **** 
  79:gps/gps.h     ****   // LOW/HIGH transmission of PD0 to wakeup gps module 
  80:gps/gps.h     ****   toggle_power_gps(PORT, PWRPIN_bm);
  81:gps/gps.h     **** 
  82:gps/gps.h     ****   // send_string("Wake up gps");
  83:gps/gps.h     **** }
 7637               		.loc 10 83 0
 7638 1e12 0F91      		pop r16
 7639               	.LVL454:
 7640 1e14 0895      		ret
 7641               		.cfi_endproc
 7642               	.LFE70:
 7644               		.data
 7645               	.LC4:
 7646 0053 2447 5052 		.string	"$GPRMC,"
 7646      4D43 2C00 
 7647               		.text
 7648               	.global	gps_receive
 7650               	gps_receive:
 7651               	.LFB71:
  84:gps/gps.h     **** 
  85:gps/gps.h     **** void gps_receive(USART_t* USART) {
 7652               		.loc 10 85 0
 7653               		.cfi_startproc
 7654               	.LVL455:
 7655 1e16 CF93      		push r28
 7656               	.LCFI113:
 7657               		.cfi_def_cfa_offset 3
 7658               		.cfi_offset 28, -2
 7659 1e18 DF93      		push r29
 7660               	.LCFI114:
 7661               		.cfi_def_cfa_offset 4
 7662               		.cfi_offset 29, -3
 7663 1e1a CDB7      		in r28,__SP_L__
 7664 1e1c DEB7      		in r29,__SP_H__
 7665 1e1e CD56      		subi r28,lo8(-(-109))
 7666 1e20 D040      		sbci r29,hi8(-(-109))
 7667               	.LCFI115:
 7668               		.cfi_def_cfa 28, 113
 7669 1e22 CDBF      		out __SP_L__,r28
 7670 1e24 DEBF      		out __SP_H__,r29
 7671               	/* prologue: function */
 7672               	/* frame size = 109 */
 7673               	/* stack size = 111 */
 7674               	.L__stack_usage = 111
 7675 1e26 DC01      		movw r26,r24
 7676               	.LVL456:
  86:gps/gps.h     ****   //parsing out gps coordinates
  87:gps/gps.h     **** 
  88:gps/gps.h     ****   //code to look for to indicate start of gps coord string
  89:gps/gps.h     ****   char *code = "$GPRMC,";
  90:gps/gps.h     **** 
  91:gps/gps.h     ****   //length of code
  92:gps/gps.h     ****   int length = 7;
  93:gps/gps.h     **** 
  94:gps/gps.h     ****   //keep track of location in code
  95:gps/gps.h     ****   int index = 0;
  96:gps/gps.h     **** 
  97:gps/gps.h     ****   //indicates whether or not a gps string should be built
  98:gps/gps.h     ****   int read = 0;
  99:gps/gps.h     **** 
 100:gps/gps.h     ****   //buffer to hold gps string -- liberally sized
 101:gps/gps.h     ****   char buff[100];
 102:gps/gps.h     **** 
 103:gps/gps.h     ****   //keep track of position in buffer
 104:gps/gps.h     ****   int buff_index = 0;
 7677               		.loc 10 104 0
 7678 1e28 40E0      		ldi r20,lo8(0)
 7679 1e2a 50E0      		ldi r21,hi8(0)
  98:gps/gps.h     ****   int read = 0;
 7680               		.loc 10 98 0
 7681 1e2c 20E0      		ldi r18,lo8(0)
 7682 1e2e 30E0      		ldi r19,hi8(0)
  95:gps/gps.h     ****   int index = 0;
 7683               		.loc 10 95 0
 7684 1e30 80E0      		ldi r24,lo8(0)
 7685 1e32 90E0      		ldi r25,hi8(0)
 7686               	.LVL457:
 7687               	.L311:
 7688               	.LBB2337:
 7689               	.LBB2338:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 7690               		.loc 9 30 0
 7691 1e34 1196      		adiw r26,1
 7692 1e36 6C91      		ld r22,X
 7693 1e38 1197      		sbiw r26,1
 7694 1e3a 67FF      		sbrs r22,7
 7695 1e3c 00C0      		rjmp .L311
  33:uart/uart.h   ****     return USART->DATA; 
 7696               		.loc 9 33 0
 7697 1e3e 6C91      		ld r22,X
 7698               	.LBE2338:
 7699               	.LBE2337:
 105:gps/gps.h     **** 
 106:gps/gps.h     ****   //gps struct to hold error codes and lat, lng double values
 107:gps/gps.h     ****   latlng gps;
 108:gps/gps.h     **** 
 109:gps/gps.h     ****   //char to store bytes from uart
 110:gps/gps.h     ****   char c; 
 111:gps/gps.h     **** 
 112:gps/gps.h     ****   //only terminates when break is hit
 113:gps/gps.h     ****   while (1) {
 114:gps/gps.h     ****     //pull char from uart
 115:gps/gps.h     ****     c = uart_getchar(USART);
 116:gps/gps.h     ****     if (index == length) {
 7700               		.loc 10 116 0
 7701 1e40 8730      		cpi r24,7
 7702 1e42 9105      		cpc r25,__zero_reg__
 7703 1e44 01F0      		breq .L303
 7704               	.LVL458:
 117:gps/gps.h     ****       //if past `length` characters match code set flip read to on
 118:gps/gps.h     ****       read = 1;
 119:gps/gps.h     ****     }
 120:gps/gps.h     **** 
 121:gps/gps.h     ****     if (read == 1) {
 7705               		.loc 10 121 0
 7706 1e46 2130      		cpi r18,1
 7707 1e48 3105      		cpc r19,__zero_reg__
 7708 1e4a 01F0      		breq .L303
 122:gps/gps.h     ****       //build string
 123:gps/gps.h     ****       buff[buff_index] = c;
 124:gps/gps.h     ****       buff_index++;
 125:gps/gps.h     **** 
 126:gps/gps.h     ****       if (c == '\r' || c == '\n' || c == 'W' || c == 'E') {
 127:gps/gps.h     ****         //send full string
 128:gps/gps.h     ****         buff[buff_index] = '\0';
 129:gps/gps.h     ****         send_string(buff);
 130:gps/gps.h     ****         //additional parsing
 131:gps/gps.h     ****         parse_nmea_string(buff, &gps);
 132:gps/gps.h     ****         break;
 133:gps/gps.h     ****       }
 134:gps/gps.h     ****     } else if (c == code[index]) {
 7709               		.loc 10 134 0
 7710 1e4c FC01      		movw r30,r24
 7711 1e4e E050      		subi r30,lo8(-(.LC4))
 7712 1e50 F040      		sbci r31,hi8(-(.LC4))
 7713 1e52 7081      		ld r23,Z
 7714 1e54 7617      		cp r23,r22
 7715 1e56 01F0      		breq .L312
 135:gps/gps.h     ****       //char from matches corresponding char in code
 136:gps/gps.h     ****       index++;
 137:gps/gps.h     ****     } else {
 138:gps/gps.h     ****       //incorrect character, reset counter
 139:gps/gps.h     ****       index = 0;
 7716               		.loc 10 139 0
 7717 1e58 80E0      		ldi r24,lo8(0)
 7718 1e5a 90E0      		ldi r25,hi8(0)
 7719 1e5c 00C0      		rjmp .L311
 7720               	.LVL459:
 7721               	.L303:
 123:gps/gps.h     ****       buff[buff_index] = c;
 7722               		.loc 10 123 0
 7723 1e5e EAE0      		ldi r30,lo8(10)
 7724 1e60 F0E0      		ldi r31,hi8(10)
 7725 1e62 EC0F      		add r30,r28
 7726 1e64 FD1F      		adc r31,r29
 7727 1e66 E40F      		add r30,r20
 7728 1e68 F51F      		adc r31,r21
 7729 1e6a 6083      		st Z,r22
 124:gps/gps.h     ****       buff_index++;
 7730               		.loc 10 124 0
 7731 1e6c 4F5F      		subi r20,lo8(-(1))
 7732 1e6e 5F4F      		sbci r21,hi8(-(1))
 7733               	.LVL460:
 126:gps/gps.h     ****       if (c == '\r' || c == '\n' || c == 'W' || c == 'E') {
 7734               		.loc 10 126 0
 7735 1e70 6D30      		cpi r22,lo8(13)
 7736 1e72 01F0      		breq .L305
 126:gps/gps.h     ****       if (c == '\r' || c == '\n' || c == 'W' || c == 'E') {
 7737               		.loc 10 126 0 is_stmt 0 discriminator 1
 7738 1e74 6A30      		cpi r22,lo8(10)
 7739 1e76 01F0      		breq .L305
 7740 1e78 6735      		cpi r22,lo8(87)
 7741 1e7a 01F0      		breq .L305
 7742 1e7c 6534      		cpi r22,lo8(69)
 7743 1e7e 01F0      		breq .L305
 126:gps/gps.h     ****       if (c == '\r' || c == '\n' || c == 'W' || c == 'E') {
 7744               		.loc 10 126 0
 7745 1e80 21E0      		ldi r18,lo8(1)
 7746 1e82 30E0      		ldi r19,hi8(1)
 7747 1e84 00C0      		rjmp .L311
 7748               	.LVL461:
 7749               	.L312:
 136:gps/gps.h     ****       index++;
 7750               		.loc 10 136 0 is_stmt 1
 7751 1e86 0196      		adiw r24,1
 7752               	.LVL462:
 7753 1e88 00C0      		rjmp .L311
 7754               	.LVL463:
 7755               	.L305:
 128:gps/gps.h     ****         buff[buff_index] = '\0';
 7756               		.loc 10 128 0
 7757 1e8a 8AE0      		ldi r24,lo8(10)
 7758 1e8c 90E0      		ldi r25,hi8(10)
 7759 1e8e 8C0F      		add r24,r28
 7760 1e90 9D1F      		adc r25,r29
 7761 1e92 480F      		add r20,r24
 7762 1e94 591F      		adc r21,r25
 7763               	.LVL464:
 7764 1e96 FA01      		movw r30,r20
 7765 1e98 1082      		st Z,__zero_reg__
 129:gps/gps.h     ****         send_string(buff);
 7766               		.loc 10 129 0
 7767 1e9a CE01      		movw r24,r28
 7768 1e9c 0A96      		adiw r24,10
 7769 1e9e 0E94 0000 		call send_string
 7770               	.LVL465:
 131:gps/gps.h     ****         parse_nmea_string(buff, &gps);
 7771               		.loc 10 131 0
 7772 1ea2 CE01      		movw r24,r28
 7773 1ea4 0A96      		adiw r24,10
 7774 1ea6 BE01      		movw r22,r28
 7775 1ea8 6F5F      		subi r22,lo8(-(1))
 7776 1eaa 7F4F      		sbci r23,hi8(-(1))
 7777 1eac 0E94 0000 		call parse_nmea_string
 7778               	/* epilogue start */
 140:gps/gps.h     ****     }
 141:gps/gps.h     ****   }
 142:gps/gps.h     **** }
 7779               		.loc 10 142 0
 7780 1eb0 C359      		subi r28,lo8(-(109))
 7781 1eb2 DF4F      		sbci r29,hi8(-(109))
 7782 1eb4 CDBF      		out __SP_L__,r28
 7783 1eb6 DEBF      		out __SP_H__,r29
 7784 1eb8 DF91      		pop r29
 7785 1eba CF91      		pop r28
 7786 1ebc 0895      		ret
 7787               		.cfi_endproc
 7788               	.LFE71:
 7790               	.global	wake_up_gprs
 7792               	wake_up_gprs:
 7793               	.LFB72:
 7794               		.file 12 "gprs/gprs.h"
   1:gprs/gprs.h   **** void wake_up_gprs(void);
   2:gprs/gprs.h   **** void gprs_init(USART_t* USART, PORT_t* PORT, char TXPIN_bm);
   3:gprs/gprs.h   **** 
   4:gprs/gprs.h   **** void wake_up_gprs(void) {
 7795               		.loc 12 4 0
 7796               		.cfi_startproc
 7797               	/* prologue: function */
 7798               	/* frame size = 0 */
 7799               	/* stack size = 0 */
 7800               	.L__stack_usage = 0
 7801               	/* epilogue start */
   5:gprs/gprs.h   ****   // 
   6:gprs/gprs.h   **** }
 7802               		.loc 12 6 0
 7803 1ebe 0895      		ret
 7804               		.cfi_endproc
 7805               	.LFE72:
 7807               	.global	gprs_init
 7809               	gprs_init:
 7810               	.LFB73:
   7:gprs/gprs.h   **** 
   8:gprs/gprs.h   **** void gprs_init(USART_t* USART, PORT_t* PORT, char TXPIN_bm) {
 7811               		.loc 12 8 0
 7812               		.cfi_startproc
 7813               	.LVL466:
 7814               	/* prologue: function */
 7815               	/* frame size = 0 */
 7816               	/* stack size = 0 */
 7817               	.L__stack_usage = 0
 7818 1ec0 FC01      		movw r30,r24
 7819 1ec2 DB01      		movw r26,r22
   9:gprs/gprs.h   ****   //change port numbers when we get our proto board
  10:gprs/gprs.h   **** 
  11:gprs/gprs.h   ****   wake_up_gprs();
  12:gprs/gprs.h   ****   //Baud rate of 19200
  13:gprs/gprs.h   **** 
  14:gprs/gprs.h   ****   // Set the TxD pin as an output - set PORTD OUT register bit 3 to 1 
  15:gprs/gprs.h   ****   PORT->DIRSET = TXPIN_bm; 
 7820               		.loc 12 15 0
 7821 1ec4 1196      		adiw r26,1
 7822 1ec6 4C93      		st X,r20
 7823 1ec8 1197      		sbiw r26,1
  16:gprs/gprs.h   **** 
  17:gprs/gprs.h   ****   // Set the TxD pin high - set PORTD DIR register bit 3 to 1 
  18:gprs/gprs.h   ****   PORT->OUTSET = TXPIN_bm; 
 7824               		.loc 12 18 0
 7825 1eca 1596      		adiw r26,5
 7826 1ecc 4C93      		st X,r20
 7827 1ece 1597      		sbiw r26,5
 7828               	.LVL467:
  19:gprs/gprs.h   **** 
  20:gprs/gprs.h   ****   uint16_t BSEL = 6;
  21:gprs/gprs.h   ****   uint8_t BSCALE = 0;
  22:gprs/gprs.h   ****   USART->BAUDCTRLA = BSEL & 0XFF;
 7829               		.loc 12 22 0
 7830 1ed0 86E0      		ldi r24,lo8(6)
 7831               	.LVL468:
 7832 1ed2 8683      		std Z+6,r24
  23:gprs/gprs.h   ****   USART->BAUDCTRLB = (BSCALE << 4) | (BSEL & 0xF000) >> 8;
 7833               		.loc 12 23 0
 7834 1ed4 1782      		std Z+7,__zero_reg__
  24:gprs/gprs.h   **** 
  25:gprs/gprs.h   ****   // no interrupts
  26:gprs/gprs.h   ****   // can't overwrite bits 7:6
  27:gprs/gprs.h   ****   USART->CTRLA = 0x00;
 7835               		.loc 12 27 0
 7836 1ed6 1382      		std Z+3,__zero_reg__
  28:gprs/gprs.h   **** 
  29:gprs/gprs.h   ****   // Enable transmitter and receiver
  30:gprs/gprs.h   ****   USART->CTRLB = USART_TXEN_bm | USART_RXEN_bm;  
 7837               		.loc 12 30 0
 7838 1ed8 88E1      		ldi r24,lo8(24)
 7839 1eda 8483      		std Z+4,r24
  31:gprs/gprs.h   **** 
  32:gprs/gprs.h   ****   // async, no parity, 1 stop bit, 8 bit data,
  33:gprs/gprs.h   ****   // 00     00         00          11    
  34:gprs/gprs.h   ****   USART->CTRLC = 0x03;  
 7840               		.loc 12 34 0
 7841 1edc 83E0      		ldi r24,lo8(3)
 7842 1ede 8583      		std Z+5,r24
 7843               	/* epilogue start */
  35:gprs/gprs.h   **** }...
 7844               		.loc 12 35 0
 7845 1ee0 0895      		ret
 7846               		.cfi_endproc
 7847               	.LFE73:
 7849               		.data
 7850               	.LC5:
 7851 005b 4154 2B43 		.string	"AT+CMGF=1"
 7851      4D47 463D 
 7851      3100 
 7852               	.LC6:
 7853 0065 4154 2B43 		.string	"AT+CMGS=\""
 7853      4D47 533D 
 7853      2200 
 7854               		.text
 7855               	.global	send_message
 7857               	send_message:
 7858               	.LFB74:
 7859               		.file 13 "sms/sms.h"
   1:sms/sms.h     **** #include "Framework.h"
   2:sms/sms.h     **** #include <avr/io.h>
   3:sms/sms.h     **** #include <stdlib.h>
   4:sms/sms.h     **** #include <string.h>
   5:sms/sms.h     **** 
   6:sms/sms.h     **** void send_message(char*, char*, USART_t*);
   7:sms/sms.h     **** char* read_message(USART_t*);
   8:sms/sms.h     **** void delSMS(USART_t*);
   9:sms/sms.h     **** void GprsTextModeSMS(USART_t*);
  10:sms/sms.h     **** void ClearGprsMsg(void);
  11:sms/sms.h     **** void GprsReadSmsStore(char* SmsStorePos, USART_t* USART);
  12:sms/sms.h     **** void ProcessGprsMsg(USART_t*);
  13:sms/sms.h     **** void ProcessSms(char* sms);
  14:sms/sms.h     **** void ReceiveTextMessage(USART_t*);
  15:sms/sms.h     **** void SimpleReceive();
  16:sms/sms.h     **** 
  17:sms/sms.h     **** void send_message(char* number, char* text_message, USART_t* USART) {
 7860               		.loc 13 17 0
 7861               		.cfi_startproc
 7862               	.LVL469:
 7863 1ee2 BF92      		push r11
 7864               	.LCFI116:
 7865               		.cfi_def_cfa_offset 3
 7866               		.cfi_offset 11, -2
 7867 1ee4 CF92      		push r12
 7868               	.LCFI117:
 7869               		.cfi_def_cfa_offset 4
 7870               		.cfi_offset 12, -3
 7871 1ee6 DF92      		push r13
 7872               	.LCFI118:
 7873               		.cfi_def_cfa_offset 5
 7874               		.cfi_offset 13, -4
 7875 1ee8 EF92      		push r14
 7876               	.LCFI119:
 7877               		.cfi_def_cfa_offset 6
 7878               		.cfi_offset 14, -5
 7879 1eea FF92      		push r15
 7880               	.LCFI120:
 7881               		.cfi_def_cfa_offset 7
 7882               		.cfi_offset 15, -6
 7883 1eec 0F93      		push r16
 7884               	.LCFI121:
 7885               		.cfi_def_cfa_offset 8
 7886               		.cfi_offset 16, -7
 7887 1eee 1F93      		push r17
 7888               	.LCFI122:
 7889               		.cfi_def_cfa_offset 9
 7890               		.cfi_offset 17, -8
 7891 1ef0 CF93      		push r28
 7892               	.LCFI123:
 7893               		.cfi_def_cfa_offset 10
 7894               		.cfi_offset 28, -9
 7895 1ef2 DF93      		push r29
 7896               	.LCFI124:
 7897               		.cfi_def_cfa_offset 11
 7898               		.cfi_offset 29, -10
 7899               	/* prologue: function */
 7900               	/* frame size = 0 */
 7901               	/* stack size = 9 */
 7902               	.L__stack_usage = 9
 7903 1ef4 D82E      		mov r13,r24
 7904 1ef6 C92E      		mov r12,r25
 7905 1ef8 7B01      		movw r14,r22
 7906 1efa EA01      		movw r28,r20
 7907               	.LVL470:
 7908               	.L316:
 7909               	.LBB2443:
 7910               	.LBB2444:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 7911               		.loc 9 18 0
 7912 1efc 8981      		ldd r24,Y+1
 7913 1efe 85FF      		sbrs r24,5
 7914 1f00 00C0      		rjmp .L316
  21:uart/uart.h   ****     USART->DATA = c; 
 7915               		.loc 9 21 0
 7916 1f02 8DE0      		ldi r24,lo8(13)
 7917 1f04 8883      		st Y,r24
 7918               	.LVL471:
 7919               	.LBE2444:
 7920               	.LBE2443:
 7921               	.LBB2445:
 7922               	.LBB2446:
 7923               		.loc 11 164 0
 7924 1f06 8FEF      		 ldi r24,lo8(639999)
 7925 1f08 93EC      	    ldi r25,hi8(639999)
 7926 1f0a A9E0      	    ldi r26,hlo8(639999)
 7927 1f0c 8150      	    1:subi r24,1
 7928 1f0e 9040      	    sbci r25,0
 7929 1f10 A040      	    sbci r26,0
 7930 1f12 01F4      	    brne 1b
 7931 1f14 00C0      		rjmp .
 7932 1f16 0000      		nop
 7933               	.LVL472:
 7934               	.LBE2446:
 7935               	.LBE2445:
 7936               	.LBB2447:
 7937               	.LBB2448:
  18:sms/sms.h     **** 
  19:sms/sms.h     ****   uart_putchar('\r', USART);
  20:sms/sms.h     ****   _delay_ms(100);
  21:sms/sms.h     **** 
  22:sms/sms.h     ****   GprsTextModeSMS(USART);
  23:sms/sms.h     ****   _delay_ms(100);
  24:sms/sms.h     **** 
  25:sms/sms.h     ****   //build number string
  26:sms/sms.h     ****   char* number_string = concat(concat("AT+CMGS=\"", number), "\"");
  27:sms/sms.h     ****   send_uart(number_string, USART);
  28:sms/sms.h     ****   _delay_ms(100);
  29:sms/sms.h     **** 
  30:sms/sms.h     ****   send_uart(text_message, USART);
  31:sms/sms.h     ****   _delay_ms(100);
  32:sms/sms.h     **** 
  33:sms/sms.h     ****   uart_putchar(26, USART);
  34:sms/sms.h     ****   _delay_ms(100);
  35:sms/sms.h     ****   break_and_flush();
  36:sms/sms.h     **** }
  37:sms/sms.h     **** 
  38:sms/sms.h     **** void GprsTextModeSMS(USART_t* USART) {
  39:sms/sms.h     ****   send_uart("AT+CMGF=1", USART);
 7938               		.loc 13 39 0
 7939 1f18 80E0      		ldi r24,lo8(.LC5)
 7940 1f1a 90E0      		ldi r25,hi8(.LC5)
 7941 1f1c BE01      		movw r22,r28
 7942 1f1e 0E94 0000 		call send_uart
 7943               	.LVL473:
 7944               	.LBE2448:
 7945               	.LBE2447:
 7946               	.LBB2449:
 7947               	.LBB2450:
 7948               		.loc 11 164 0
 7949 1f22 8FEF      		 ldi r24,lo8(639999)
 7950 1f24 93EC      	    ldi r25,hi8(639999)
 7951 1f26 A9E0      	    ldi r26,hlo8(639999)
 7952 1f28 8150      	    1:subi r24,1
 7953 1f2a 9040      	    sbci r25,0
 7954 1f2c A040      	    sbci r26,0
 7955 1f2e 01F4      	    brne 1b
 7956 1f30 00C0      		rjmp .
 7957 1f32 0000      		nop
 7958               	.LVL474:
 7959               	.LBE2450:
 7960               	.LBE2449:
 7961               	.LBB2451:
 7962               	.LBB2452:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 7963               		.loc 7 16 0
 7964 1f34 ED2D      		mov r30,r13
 7965 1f36 FC2D      		mov r31,r12
 7966 1f38 DF01      		movw r26,r30
 7967 1f3a 0D90      		ld __tmp_reg__,X+
 7968 1f3c 0020      		tst __tmp_reg__
 7969 1f3e 01F4      		brne .-6
 7970 1f40 CD01      		movw r24,r26
 7971 1f42 8E1B      		sub r24,r30
 7972 1f44 9F0B      		sbc r25,r31
 7973 1f46 0996      		adiw r24,9
 7974 1f48 0E94 0000 		call malloc
 7975 1f4c 182F      		mov r17,r24
 7976 1f4e 092F      		mov r16,r25
 7977               	.LVL475:
  18:concat/concat.h ****     strcpy(result, s1);
 7978               		.loc 7 18 0
 7979 1f50 E82F      		mov r30,r24
 7980 1f52 F92F      		mov r31,r25
 7981 1f54 A0E0      		ldi r26,lo8(.LC6)
 7982 1f56 B0E0      		ldi r27,hi8(.LC6)
 7983 1f58 8AE0      		ldi r24,lo8(10)
 7984               	.LVL476:
 7985               	.L317:
 7986 1f5a 0D90      		ld r0,X+
 7987 1f5c 0192      		st Z+,r0
 7988 1f5e 8150      		subi r24,lo8(-(-1))
 7989 1f60 01F4      		brne .L317
  19:concat/concat.h ****     strcat(result, s2);
 7990               		.loc 7 19 0
 7991 1f62 812F      		mov r24,r17
 7992 1f64 902F      		mov r25,r16
 7993               	.LVL477:
 7994 1f66 6D2D      		mov r22,r13
 7995 1f68 7C2D      		mov r23,r12
 7996 1f6a 0E94 0000 		call strcat
 7997               	.LVL478:
 7998               	.LBE2452:
 7999               	.LBE2451:
 8000               	.LBB2453:
 8001               	.LBB2454:
  16:concat/concat.h ****     char *result = malloc(strlen(s1)+strlen(s2)+1);
 8002               		.loc 7 16 0
 8003 1f6e E12F      		mov r30,r17
 8004 1f70 F02F      		mov r31,r16
 8005 1f72 DF01      		movw r26,r30
 8006 1f74 0D90      		ld __tmp_reg__,X+
 8007 1f76 0020      		tst __tmp_reg__
 8008 1f78 01F4      		brne .-6
 8009 1f7a CD01      		movw r24,r26
 8010 1f7c 8E1B      		sub r24,r30
 8011 1f7e 9F0B      		sbc r25,r31
 8012 1f80 0196      		adiw r24,1
 8013 1f82 0E94 0000 		call malloc
 8014 1f86 B92E      		mov r11,r25
 8015 1f88 C82E      		mov r12,r24
 8016               	.LVL479:
 8017 1f8a D92E      		mov r13,r25
 8018               	.LVL480:
  18:concat/concat.h ****     strcpy(result, s1);
 8019               		.loc 7 18 0
 8020 1f8c C601      		movw r24,r12
 8021 1f8e 612F      		mov r22,r17
 8022 1f90 702F      		mov r23,r16
 8023 1f92 0E94 0000 		call strcpy
  19:concat/concat.h ****     strcat(result, s2);
 8024               		.loc 7 19 0
 8025 1f96 AC2D      		mov r26,r12
 8026 1f98 BB2D      		mov r27,r11
 8027 1f9a FD01      		movw r30,r26
 8028 1f9c 0190      		ld __tmp_reg__,Z+
 8029 1f9e 0020      		tst __tmp_reg__
 8030 1fa0 01F4      		brne .-6
 8031 1fa2 3197      		sbiw r30,1
 8032 1fa4 EA1B      		sub r30,r26
 8033 1fa6 FB0B      		sbc r31,r27
 8034 1fa8 EC0D      		add r30,r12
 8035 1faa FD1D      		adc r31,r13
 8036 1fac 82E2      		ldi r24,lo8(34)
 8037 1fae 90E0      		ldi r25,hi8(34)
 8038 1fb0 8083      		st Z,r24
 8039 1fb2 9183      		std Z+1,r25
 8040               	.LBE2454:
 8041               	.LBE2453:
  27:sms/sms.h     ****   send_uart(number_string, USART);
 8042               		.loc 13 27 0
 8043 1fb4 C601      		movw r24,r12
 8044 1fb6 BE01      		movw r22,r28
 8045 1fb8 0E94 0000 		call send_uart
 8046               	.LVL481:
 8047               	.LBB2455:
 8048               	.LBB2456:
 8049               		.loc 11 164 0
 8050 1fbc 8FEF      		 ldi r24,lo8(639999)
 8051 1fbe 93EC      	    ldi r25,hi8(639999)
 8052 1fc0 A9E0      	    ldi r26,hlo8(639999)
 8053 1fc2 8150      	    1:subi r24,1
 8054 1fc4 9040      	    sbci r25,0
 8055 1fc6 A040      	    sbci r26,0
 8056 1fc8 01F4      	    brne 1b
 8057 1fca 00C0      		rjmp .
 8058 1fcc 0000      		nop
 8059               	.LBE2456:
 8060               	.LBE2455:
  30:sms/sms.h     ****   send_uart(text_message, USART);
 8061               		.loc 13 30 0
 8062 1fce C701      		movw r24,r14
 8063 1fd0 BE01      		movw r22,r28
 8064 1fd2 0E94 0000 		call send_uart
 8065               	.LVL482:
 8066               	.LBB2457:
 8067               	.LBB2458:
 8068               		.loc 11 164 0
 8069 1fd6 8FEF      		 ldi r24,lo8(639999)
 8070 1fd8 93EC      	    ldi r25,hi8(639999)
 8071 1fda A9E0      	    ldi r26,hlo8(639999)
 8072 1fdc 8150      	    1:subi r24,1
 8073 1fde 9040      	    sbci r25,0
 8074 1fe0 A040      	    sbci r26,0
 8075 1fe2 01F4      	    brne 1b
 8076 1fe4 00C0      		rjmp .
 8077 1fe6 0000      		nop
 8078               	.LVL483:
 8079               	.L318:
 8080               	.LBE2458:
 8081               	.LBE2457:
 8082               	.LBB2459:
 8083               	.LBB2460:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 8084               		.loc 9 18 0
 8085 1fe8 8981      		ldd r24,Y+1
 8086 1fea 85FF      		sbrs r24,5
 8087 1fec 00C0      		rjmp .L318
  21:uart/uart.h   ****     USART->DATA = c; 
 8088               		.loc 9 21 0
 8089 1fee 8AE1      		ldi r24,lo8(26)
 8090 1ff0 8883      		st Y,r24
 8091               	.LVL484:
 8092               	.LBE2460:
 8093               	.LBE2459:
 8094               	.LBB2461:
 8095               	.LBB2462:
 8096               		.loc 11 164 0
 8097 1ff2 8FEF      		 ldi r24,lo8(639999)
 8098 1ff4 93EC      	    ldi r25,hi8(639999)
 8099 1ff6 A9E0      	    ldi r26,hlo8(639999)
 8100 1ff8 8150      	    1:subi r24,1
 8101 1ffa 9040      	    sbci r25,0
 8102 1ffc A040      	    sbci r26,0
 8103 1ffe 01F4      	    brne 1b
 8104 2000 00C0      		rjmp .
 8105 2002 0000      		nop
 8106               	.LVL485:
 8107               	.LBE2462:
 8108               	.LBE2461:
 8109               	.LBB2463:
 8110               	.LBB2464:
 8111               	.LBB2465:
 8112               	.LBB2466:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 8113               		.loc 2 110 0
 8114 2004 81E0      		ldi r24,lo8(1)
 8115 2006 8093 0000 		sts ep_in_data+1,r24
 8116               	.LVL486:
 8117               	.LBB2467:
 8118               	.LBB2468:
 8119               	.LBB2469:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8120               		.loc 2 80 0
 8121 200a 2FB7      		in r18,__SREG__
 8122               	.LVL487:
 8123               	.LBB2470:
 8124               	.LBB2471:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8125               		.loc 3 50 0
 8126               	/* #APP */
 8127               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8128 200c F894      		cli
 8129               	 ;  0 "" 2
 8130               	.LVL488:
 8131               	/* #NOAPP */
 8132               	.LBE2471:
 8133               	.LBE2470:
 8134               	.LBB2472:
 8135               	.LBB2473:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8136               		.loc 5 220 0
 8137 200e 8091 0000 		lds r24,endpoints+24
 8138 2012 8670      		andi r24,lo8(6)
 8139               	.LBE2473:
 8140               	.LBE2472:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 8141               		.loc 2 82 0
 8142 2014 01F0      		breq .+2
 8143 2016 00C0      		rjmp .L338
 8144               	.LVL489:
 8145               	.L319:
 8146               	.LBB2474:
 8147               	.LBB2475:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8148               		.loc 3 70 0
 8149 2018 2FBF      		out __SREG__,r18
 8150               		.loc 3 71 0
 8151               	.LBE2475:
 8152               	.LBE2474:
 8153               	.LBE2469:
 8154               	.LBE2468:
 8155               	.LBE2467:
 8156               	.LBE2466:
 8157               	.LBE2465:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 8158               		.loc 1 27 0
 8159 201a 82E0      		ldi r24,lo8(2)
 8160 201c E0EC      		ldi r30,lo8(1216)
 8161 201e F4E0      		ldi r31,hi8(1216)
 8162 2020 8587      		std Z+13,r24
 8163               	.LBB2507:
 8164               	.LBB2508:
 8165               	.LBB2509:
 8166               	.LBB2510:
 8167               	.LBB2511:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8168               		.loc 4 57 0
 8169 2022 36E0      		ldi r19,lo8(6)
 8170               	.LVL490:
 8171               	.L328:
 8172               	.LBE2511:
 8173               	.LBE2510:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8174               		.loc 2 123 0
 8175 2024 9FB7      		in r25,__SREG__
 8176               	.LVL491:
 8177               	.LBB2513:
 8178               	.LBB2514:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8179               		.loc 3 50 0
 8180               	/* #APP */
 8181               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8182 2026 F894      		cli
 8183               	 ;  0 "" 2
 8184               	.LVL492:
 8185               	/* #NOAPP */
 8186               	.LBE2514:
 8187               	.LBE2513:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 8188               		.loc 2 124 0
 8189 2028 8091 0000 		lds r24,ep_in_data+1
 8190 202c 8823      		tst r24
 8191 202e 01F0      		breq .L339
 8192               	.L333:
 125:usb/usb_pipe.h **** 			r = false;
 8193               		.loc 2 125 0
 8194 2030 80E0      		ldi r24,lo8(0)
 8195               	.L330:
 8196               	.LBB2515:
 8197               	.LBB2516:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8198               		.loc 3 70 0
 8199 2032 9FBF      		out __SREG__,r25
 8200               		.loc 3 71 0
 8201               	.LBE2516:
 8202               	.LBE2515:
 8203               	.LBE2509:
 8204               	.LBE2508:
 8205               	.LBE2507:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 8206               		.loc 1 28 0
 8207 2034 8823      		tst r24
 8208 2036 01F4      		brne .L315
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 8209               		.loc 1 29 0
 8210 2038 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 8211 203c 8823      		tst r24
 8212 203e 01F0      		breq .L328
 8213               	.LVL493:
 8214               	.LBB2520:
 8215               	.LBB2521:
 8216               	.LBB2522:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 8217               		.loc 2 54 0
 8218 2040 2FB7      		in r18,__SREG__
 8219               	.LVL494:
 8220               	.LBB2523:
 8221               	.LBB2524:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 8222               		.loc 3 50 0
 8223               	/* #APP */
 8224               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 8225 2042 F894      		cli
 8226               	 ;  0 "" 2
 8227               	.LVL495:
 8228               	/* #NOAPP */
 8229               	.LBE2524:
 8230               	.LBE2523:
 8231               	.LBB2525:
 8232               	.LBB2526:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 8233               		.loc 4 90 0
 8234 2044 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 8235               		.loc 4 91 0
 8236 2048 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 8237 204a 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 8238 204c 8093 0000 		sts ep_in_pipe_data+2,r24
 8239 2050 9093 0000 		sts ep_in_pipe_data+2+1,r25
 8240 2054 8093 0000 		sts ep_in_pipe_data,r24
 8241 2058 9093 0000 		sts ep_in_pipe_data+1,r25
 8242               	.LVL496:
 8243               	.LBE2526:
 8244               	.LBE2525:
 8245               	.LBB2527:
 8246               	.LBB2528:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 8247               		.loc 5 158 0
 8248 205c E0E0      		ldi r30,lo8(endpoints+24)
 8249 205e F0E0      		ldi r31,hi8(endpoints+24)
 8250               	/* #APP */
 8251               	 ;  158 "usb/usb.h" 1
 8252 2060 06E0      		ldi r16, 6
 8253 2062 0593      		.dc.w 0x9305
 8254               		
 8255               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 8256               		.loc 5 159 0
 8257               	 ;  159 "usb/usb.h" 1
 8258 2064 08E0      		ldi r16, 8
 8259 2066 0693      		.dc.w 0x9306
 8260               		
 8261               	 ;  0 "" 2
 8262               	/* #NOAPP */
 8263               	.LBE2528:
 8264               	.LBE2527:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 8265               		.loc 2 57 0
 8266 2068 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 8267               		.loc 2 58 0
 8268 206c 1092 0000 		sts ep_in_data+2,__zero_reg__
 8269 2070 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 8270               		.loc 2 59 0
 8271 2074 1092 0000 		sts ep_in_data,__zero_reg__
 8272               	.LVL497:
 8273               	.LBB2529:
 8274               	.LBB2530:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 8275               		.loc 3 70 0
 8276 2078 2FBF      		out __SREG__,r18
 8277               		.loc 3 71 0
 8278               	.LVL498:
 8279               	.L315:
 8280               	/* epilogue start */
 8281               	.LBE2530:
 8282               	.LBE2529:
 8283               	.LBE2522:
 8284               	.LBE2521:
 8285               	.LBE2520:
 8286               	.LBE2464:
 8287               	.LBE2463:
  36:sms/sms.h     **** }
 8288               		.loc 13 36 0
 8289 207a DF91      		pop r29
 8290 207c CF91      		pop r28
 8291               	.LVL499:
 8292 207e 1F91      		pop r17
 8293 2080 0F91      		pop r16
 8294 2082 FF90      		pop r15
 8295 2084 EF90      		pop r14
 8296               	.LVL500:
 8297 2086 DF90      		pop r13
 8298 2088 CF90      		pop r12
 8299               	.LVL501:
 8300 208a BF90      		pop r11
 8301 208c 0895      		ret
 8302               	.LVL502:
 8303               	.L339:
 8304               	.LBB2534:
 8305               	.LBB2533:
 8306               	.LBB2531:
 8307               	.LBB2519:
 8308               	.LBB2518:
 8309               	.LBB2517:
 8310               	.LBB2512:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 8311               		.loc 4 57 0
 8312 208e 8091 0000 		lds r24,ep_in_pipe_data+4
 8313 2092 232F      		mov r18,r19
 8314 2094 281B      		sub r18,r24
 8315               	.LBE2512:
 8316               	.LBE2517:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 8317               		.loc 2 127 0
 8318 2096 81E0      		ldi r24,lo8(1)
 8319 2098 1216      		cp __zero_reg__,r18
 8320 209a 04F0      		brlt .L330
 8321 209c 00C0      		rjmp .L333
 8322               	.LVL503:
 8323               	.L338:
 8324               	.LBE2518:
 8325               	.LBE2519:
 8326               	.LBE2531:
 8327               	.LBB2532:
 8328               	.LBB2506:
 8329               	.LBB2505:
 8330               	.LBB2504:
 8331               	.LBB2503:
 8332               	.LBB2476:
 8333               	.LBB2477:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 8334               		.loc 4 51 0
 8335 209e 3091 0000 		lds r19,ep_in_pipe_data+4
 8336               	.LBE2477:
 8337               	.LBE2476:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 8338               		.loc 2 83 0
 8339 20a2 1316      		cp __zero_reg__,r19
 8340 20a4 04F0      		brlt .+2
 8341 20a6 00C0      		rjmp .L320
 8342               	.LBB2478:
 8343               	.LBB2479:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 8344               		.loc 4 62 0
 8345 20a8 8091 0000 		lds r24,ep_in_pipe_data
 8346 20ac 9091 0000 		lds r25,ep_in_pipe_data+1
 8347               	.LVL504:
 8348               	.LBE2479:
 8349               	.LBE2478:
 8350               	.LBB2480:
 8351               	.LBB2481:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 8352               		.loc 2 68 0
 8353 20b0 4091 0000 		lds r20,ep_in_data
 8354               	.LVL505:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 8355               		.loc 2 69 0
 8356 20b4 51E0      		ldi r21,lo8(1)
 8357 20b6 4130      		cpi r20,lo8(1)
 8358 20b8 01F4      		brne .L321
 8359 20ba 50E0      		ldi r21,lo8(0)
 8360               	.L321:
 8361 20bc 5093 0000 		sts ep_in_data,r21
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 8362               		.loc 2 72 0
 8363 20c0 4423      		tst r20
 8364 20c2 01F4      		brne .L322
 8365               	.LVL506:
 8366               	.LBB2482:
 8367               	.LBB2483:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 8368               		.loc 5 168 0
 8369 20c4 8093 0000 		sts endpoints+28,r24
 8370 20c8 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 8371               		.loc 5 169 0
 8372 20cc 40E4      		ldi r20,lo8(64)
 8373 20ce 50E0      		ldi r21,hi8(64)
 8374 20d0 4093 0000 		sts endpoints+26,r20
 8375 20d4 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 8376               		.loc 5 174 0
 8377 20d8 E0E0      		ldi r30,lo8(endpoints+24)
 8378 20da F0E0      		ldi r31,hi8(endpoints+24)
 8379               	.LVL507:
 8380               	/* #APP */
 8381               	 ;  174 "usb/usb.h" 1
 8382 20dc 02E2      		ldi r16, 34
 8383 20de 0693      		.dc.w 0x9306
 8384               		
 8385               	 ;  0 "" 2
 8386               	.LVL508:
 8387               	/* #NOAPP */
 8388               	.L323:
 8389               	.LBE2483:
 8390               	.LBE2482:
 8391               	.LBE2481:
 8392               	.LBE2480:
 8393               	.LBB2487:
 8394               	.LBB2488:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 8395               		.loc 4 72 0
 8396 20e0 3150      		subi r19,lo8(-(-1))
 8397 20e2 3093 0000 		sts ep_in_pipe_data+4,r19
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 8398               		.loc 4 73 0
 8399 20e6 805C      		subi r24,lo8(-(64))
 8400 20e8 9F4F      		sbci r25,hi8(-(64))
 8401 20ea 8093 0000 		sts ep_in_pipe_data,r24
 8402 20ee 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 8403               		.loc 4 75 0
 8404 20f2 A0E0      		ldi r26,hi8(ep_in_pipe_buffer+512)
 8405 20f4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 8406 20f6 9A07      		cpc r25,r26
 8407 20f8 01F0      		breq .+2
 8408 20fa 00C0      		rjmp .L319
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 8409               		.loc 4 76 0
 8410 20fc 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 8411 20fe 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 8412 2100 8093 0000 		sts ep_in_pipe_data,r24
 8413 2104 9093 0000 		sts ep_in_pipe_data+1,r25
 8414 2108 00C0      		rjmp .L319
 8415               	.LVL509:
 8416               	.L322:
 8417               	.LBE2488:
 8418               	.LBE2487:
 8419               	.LBB2489:
 8420               	.LBB2486:
 8421               	.LBB2484:
 8422               	.LBB2485:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 8423               		.loc 5 168 0
 8424 210a 8093 0000 		sts endpoints+20,r24
 8425 210e 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 8426               		.loc 5 169 0
 8427 2112 40E4      		ldi r20,lo8(64)
 8428 2114 50E0      		ldi r21,hi8(64)
 8429 2116 4093 0000 		sts endpoints+18,r20
 8430 211a 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 8431               		.loc 5 176 0
 8432 211e E0E0      		ldi r30,lo8(endpoints+24)
 8433 2120 F0E0      		ldi r31,hi8(endpoints+24)
 8434               	/* #APP */
 8435               	 ;  176 "usb/usb.h" 1
 8436 2122 04E1      		ldi r16, 20
 8437 2124 0693      		.dc.w 0x9306
 8438               		
 8439               	 ;  0 "" 2
 8440               	.LVL510:
 8441               	/* #NOAPP */
 8442 2126 00C0      		rjmp .L323
 8443               	.LVL511:
 8444               	.L320:
 8445               	.LBE2485:
 8446               	.LBE2484:
 8447               	.LBE2486:
 8448               	.LBE2489:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 8449               		.loc 2 87 0
 8450 2128 8091 0000 		lds r24,ep_in_data+1
 8451 212c 8130      		cpi r24,lo8(1)
 8452 212e 01F0      		breq .L340
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 8453               		.loc 2 91 0
 8454 2130 8230      		cpi r24,lo8(2)
 8455 2132 01F0      		breq .+2
 8456 2134 00C0      		rjmp .L319
 8457               	.LVL512:
 8458               	.LBB2490:
 8459               	.LBB2491:
 8460               	.LBB2492:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 8461               		.loc 5 228 0
 8462 2136 8091 0000 		lds r24,endpoints+24
 8463 213a 8670      		andi r24,lo8(6)
 8464               	.LBE2492:
 8465               	.LBE2491:
 8466               	.LBE2490:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 8467               		.loc 2 91 0
 8468 213c 8630      		cpi r24,lo8(6)
 8469 213e 01F0      		breq .+2
 8470 2140 00C0      		rjmp .L319
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 8471               		.loc 2 92 0
 8472 2142 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 8473               		.loc 2 93 0
 8474 2146 1092 0000 		sts ep_in_data+2,__zero_reg__
 8475 214a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 8476               	.LBB2493:
 8477               	.LBB2494:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 8478               		.loc 4 90 0
 8479 214e 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 8480               		.loc 4 91 0
 8481 2152 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 8482 2154 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 8483 2156 8093 0000 		sts ep_in_pipe_data+2,r24
 8484 215a 9093 0000 		sts ep_in_pipe_data+2+1,r25
 8485 215e 8093 0000 		sts ep_in_pipe_data,r24
 8486 2162 9093 0000 		sts ep_in_pipe_data+1,r25
 8487               	.LVL513:
 8488 2166 00C0      		rjmp .L319
 8489               	.LVL514:
 8490               	.L340:
 8491               	.LBE2494:
 8492               	.LBE2493:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 8493               		.loc 2 88 0
 8494 2168 82E0      		ldi r24,lo8(2)
 8495 216a 8093 0000 		sts ep_in_data+1,r24
 8496               	.LBB2495:
 8497               	.LBB2496:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 8498               		.loc 4 62 0
 8499 216e 6091 0000 		lds r22,ep_in_pipe_data
 8500 2172 3091 0000 		lds r19,ep_in_pipe_data+1
 8501               	.LBE2496:
 8502               	.LBE2495:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 8503               		.loc 2 90 0
 8504 2176 4091 0000 		lds r20,ep_in_data+2
 8505 217a 5091 0000 		lds r21,ep_in_data+2+1
 8506               	.LVL515:
 8507               	.LBB2497:
 8508               	.LBB2498:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 8509               		.loc 2 68 0
 8510 217e 8091 0000 		lds r24,ep_in_data
 8511               	.LVL516:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 8512               		.loc 2 69 0
 8513 2182 91E0      		ldi r25,lo8(1)
 8514 2184 8130      		cpi r24,lo8(1)
 8515 2186 01F0      		breq .L341
 8516               	.L326:
 8517 2188 9093 0000 		sts ep_in_data,r25
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 8518               		.loc 2 72 0
 8519 218c 8823      		tst r24
 8520 218e 01F4      		brne .L327
 8521               	.LVL517:
 8522               	.LBB2499:
 8523               	.LBB2500:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 8524               		.loc 5 168 0
 8525 2190 862F      		mov r24,r22
 8526 2192 932F      		mov r25,r19
 8527 2194 8093 0000 		sts endpoints+28,r24
 8528 2198 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 8529               		.loc 5 169 0
 8530 219c 4093 0000 		sts endpoints+26,r20
 8531 21a0 5093 0000 		sts endpoints+26+1,r21
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 8532               		.loc 5 174 0
 8533 21a4 E0E0      		ldi r30,lo8(endpoints+24)
 8534 21a6 F0E0      		ldi r31,hi8(endpoints+24)
 8535               	.LVL518:
 8536               	/* #APP */
 8537               	 ;  174 "usb/usb.h" 1
 8538 21a8 02E2      		ldi r16, 34
 8539 21aa 0693      		.dc.w 0x9306
 8540               		
 8541               	 ;  0 "" 2
 8542               	.LVL519:
 8543               	/* #NOAPP */
 8544 21ac 00C0      		rjmp .L319
 8545               	.LVL520:
 8546               	.L327:
 8547               	.LBE2500:
 8548               	.LBE2499:
 8549               	.LBB2501:
 8550               	.LBB2502:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 8551               		.loc 5 168 0
 8552 21ae 862F      		mov r24,r22
 8553 21b0 932F      		mov r25,r19
 8554 21b2 8093 0000 		sts endpoints+20,r24
 8555 21b6 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 8556               		.loc 5 169 0
 8557 21ba 4093 0000 		sts endpoints+18,r20
 8558 21be 5093 0000 		sts endpoints+18+1,r21
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 8559               		.loc 5 176 0
 8560 21c2 E0E0      		ldi r30,lo8(endpoints+24)
 8561 21c4 F0E0      		ldi r31,hi8(endpoints+24)
 8562               	/* #APP */
 8563               	 ;  176 "usb/usb.h" 1
 8564 21c6 04E1      		ldi r16, 20
 8565 21c8 0693      		.dc.w 0x9306
 8566               		
 8567               	 ;  0 "" 2
 8568               	.LVL521:
 8569               	/* #NOAPP */
 8570 21ca 00C0      		rjmp .L319
 8571               	.LVL522:
 8572               	.L341:
 8573               	.LBE2502:
 8574               	.LBE2501:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 8575               		.loc 2 69 0
 8576 21cc 90E0      		ldi r25,lo8(0)
 8577 21ce 00C0      		rjmp .L326
 8578               	.LBE2498:
 8579               	.LBE2497:
 8580               	.LBE2503:
 8581               	.LBE2504:
 8582               	.LBE2505:
 8583               	.LBE2506:
 8584               	.LBE2532:
 8585               	.LBE2533:
 8586               	.LBE2534:
 8587               		.cfi_endproc
 8588               	.LFE74:
 8590               	.global	GprsTextModeSMS
 8592               	GprsTextModeSMS:
 8593               	.LFB75:
  38:sms/sms.h     **** void GprsTextModeSMS(USART_t* USART) {
 8594               		.loc 13 38 0
 8595               		.cfi_startproc
 8596               	.LVL523:
 8597               	/* prologue: function */
 8598               	/* frame size = 0 */
 8599               	/* stack size = 0 */
 8600               	.L__stack_usage = 0
 8601 21d0 BC01      		movw r22,r24
 8602               		.loc 13 39 0
 8603 21d2 80E0      		ldi r24,lo8(.LC5)
 8604 21d4 90E0      		ldi r25,hi8(.LC5)
 8605               	.LVL524:
 8606 21d6 0E94 0000 		call send_uart
 8607               	.LVL525:
 8608               	/* epilogue start */
  40:sms/sms.h     **** }
 8609               		.loc 13 40 0
 8610 21da 0895      		ret
 8611               		.cfi_endproc
 8612               	.LFE75:
 8614               		.data
 8615               	.LC7:
 8616 006f 4154 2B43 		.string	"AT+CPOWD=1"
 8616      504F 5744 
 8616      3D31 00
 8617               		.text
 8618               	.global	PowerDownModem
 8620               	PowerDownModem:
 8621               	.LFB76:
  41:sms/sms.h     **** 
  42:sms/sms.h     **** void PowerDownModem(USART_t* USART) {
 8622               		.loc 13 42 0
 8623               		.cfi_startproc
 8624               	.LVL526:
 8625               	/* prologue: function */
 8626               	/* frame size = 0 */
 8627               	/* stack size = 0 */
 8628               	.L__stack_usage = 0
 8629 21dc BC01      		movw r22,r24
  43:sms/sms.h     ****   send_uart("AT+CPOWD=1", USART);
 8630               		.loc 13 43 0
 8631 21de 80E0      		ldi r24,lo8(.LC7)
 8632 21e0 90E0      		ldi r25,hi8(.LC7)
 8633               	.LVL527:
 8634 21e2 0E94 0000 		call send_uart
 8635               	.LVL528:
 8636               	/* epilogue start */
  44:sms/sms.h     **** }
 8637               		.loc 13 44 0
 8638 21e6 0895      		ret
 8639               		.cfi_endproc
 8640               	.LFE76:
 8642               		.data
 8643               	.LC8:
 8644 007a 4154 2B43 		.string	"AT+CFUN=0"
 8644      4655 4E3D 
 8644      3000 
 8645               		.text
 8646               	.global	SleepModem
 8648               	SleepModem:
 8649               	.LFB77:
  45:sms/sms.h     **** 
  46:sms/sms.h     **** void SleepModem(USART_t* USART) {
 8650               		.loc 13 46 0
 8651               		.cfi_startproc
 8652               	.LVL529:
 8653               	/* prologue: function */
 8654               	/* frame size = 0 */
 8655               	/* stack size = 0 */
 8656               	.L__stack_usage = 0
 8657 21e8 BC01      		movw r22,r24
  47:sms/sms.h     ****   send_uart("AT+CFUN=0", USART);
 8658               		.loc 13 47 0
 8659 21ea 80E0      		ldi r24,lo8(.LC8)
 8660 21ec 90E0      		ldi r25,hi8(.LC8)
 8661               	.LVL530:
 8662 21ee 0E94 0000 		call send_uart
 8663               	.LVL531:
 8664               	/* epilogue start */
  48:sms/sms.h     **** }
 8665               		.loc 13 48 0
 8666 21f2 0895      		ret
 8667               		.cfi_endproc
 8668               	.LFE77:
 8670               		.data
 8671               	.LC9:
 8672 0084 4154 2B43 		.string	"AT+CFUN=1"
 8672      4655 4E3D 
 8672      3100 
 8673               		.text
 8674               	.global	WakeUpModem
 8676               	WakeUpModem:
 8677               	.LFB78:
  49:sms/sms.h     **** 
  50:sms/sms.h     **** void WakeUpModem(USART_t* USART) {
 8678               		.loc 13 50 0
 8679               		.cfi_startproc
 8680               	.LVL532:
 8681               	/* prologue: function */
 8682               	/* frame size = 0 */
 8683               	/* stack size = 0 */
 8684               	.L__stack_usage = 0
 8685 21f4 BC01      		movw r22,r24
  51:sms/sms.h     ****   send_uart("AT+CFUN=1", USART);
 8686               		.loc 13 51 0
 8687 21f6 80E0      		ldi r24,lo8(.LC9)
 8688 21f8 90E0      		ldi r25,hi8(.LC9)
 8689               	.LVL533:
 8690 21fa 0E94 0000 		call send_uart
 8691               	.LVL534:
 8692               	/* epilogue start */
  52:sms/sms.h     **** }
 8693               		.loc 13 52 0
 8694 21fe 0895      		ret
 8695               		.cfi_endproc
 8696               	.LFE78:
 8698               		.data
 8699               	.LC10:
 8700 008e 5379 6E63 		.string	"Sync"
 8700      00
 8701               	.LC11:
 8702 0093 4154 00   		.string	"AT"
 8703               	.LC12:
 8704 0096 5049 4E47 		.string	"PING"
 8704      00
 8705               	.LC13:
 8706 009b 5465 7874 		.string	"Text Mode"
 8706      204D 6F64 
 8706      6500 
 8707               	.LC14:
 8708 00a5 4154 2B43 		.string	"AT+CMGF=?"
 8708      4D47 463D 
 8708      3F00 
 8709               	.LC15:
 8710 00af 4368 6563 		.string	"Check Mode"
 8710      6B20 4D6F 
 8710      6465 00
 8711               		.text
 8712               	.global	SimpleReceive
 8714               	SimpleReceive:
 8715               	.LFB79:
  53:sms/sms.h     **** 
  54:sms/sms.h     **** void SimpleReceive(USART_t* USART) {
 8716               		.loc 13 54 0
 8717               		.cfi_startproc
 8718               	.LVL535:
 8719 2200 CF92      		push r12
 8720               	.LCFI125:
 8721               		.cfi_def_cfa_offset 3
 8722               		.cfi_offset 12, -2
 8723 2202 DF92      		push r13
 8724               	.LCFI126:
 8725               		.cfi_def_cfa_offset 4
 8726               		.cfi_offset 13, -3
 8727 2204 EF92      		push r14
 8728               	.LCFI127:
 8729               		.cfi_def_cfa_offset 5
 8730               		.cfi_offset 14, -4
 8731 2206 FF92      		push r15
 8732               	.LCFI128:
 8733               		.cfi_def_cfa_offset 6
 8734               		.cfi_offset 15, -5
 8735 2208 0F93      		push r16
 8736               	.LCFI129:
 8737               		.cfi_def_cfa_offset 7
 8738               		.cfi_offset 16, -6
 8739 220a 1F93      		push r17
 8740               	.LCFI130:
 8741               		.cfi_def_cfa_offset 8
 8742               		.cfi_offset 17, -7
 8743 220c CF93      		push r28
 8744               	.LCFI131:
 8745               		.cfi_def_cfa_offset 9
 8746               		.cfi_offset 28, -8
 8747 220e DF93      		push r29
 8748               	.LCFI132:
 8749               		.cfi_def_cfa_offset 10
 8750               		.cfi_offset 29, -9
 8751 2210 CDB7      		in r28,__SP_L__
 8752 2212 DEB7      		in r29,__SP_H__
 8753               	.LCFI133:
 8754               		.cfi_def_cfa_register 28
 8755               	/* prologue: function */
 8756               	/* frame size = 0 */
 8757               	/* stack size = 8 */
 8758               	.L__stack_usage = 8
 8759 2214 8C01      		movw r16,r24
  55:sms/sms.h     ****   char c;
  56:sms/sms.h     ****   int n = 1;
  57:sms/sms.h     ****   char s[n+1];
  58:sms/sms.h     **** 
  59:sms/sms.h     ****   uart_putchar('A', USART);
  60:sms/sms.h     ****   send_string("Sync");
  61:sms/sms.h     ****   _delay_ms(3000);
  62:sms/sms.h     **** 
  63:sms/sms.h     ****   send_uart("AT", USART);
  64:sms/sms.h     ****   send_string("PING");
  65:sms/sms.h     ****   _delay_ms(100);
  66:sms/sms.h     ****   for (int i=0; i<n; i++) {
  67:sms/sms.h     ****     c = uart_getchar(USART);
  68:sms/sms.h     ****     s[i] = c;
  69:sms/sms.h     ****   }
  70:sms/sms.h     ****   s[n] = '\0';
  71:sms/sms.h     **** 
  72:sms/sms.h     ****   send_string(s);
  73:sms/sms.h     **** 
  74:sms/sms.h     **** 
  75:sms/sms.h     **** 
  76:sms/sms.h     ****   GprsTextModeSMS(USART);
  77:sms/sms.h     ****   send_string("Text Mode");
  78:sms/sms.h     ****   _delay_ms(800);
  79:sms/sms.h     **** 
  80:sms/sms.h     ****   // send_uart("AT+CMGL=\"REC UNREAD\"", USART); // Read Message 
  81:sms/sms.h     ****   // send_string("Read Messages");
  82:sms/sms.h     ****   // _delay_ms(1000);
  83:sms/sms.h     **** 
  84:sms/sms.h     ****   send_uart("AT+CMGF=?", USART); // Read Message 
  85:sms/sms.h     ****   send_string("Check Mode");
  86:sms/sms.h     ****   _delay_ms(1000);
  87:sms/sms.h     **** }...
 8760               		.loc 13 87 0
 8761 2216 CDB6      		in r12,__SP_L__
 8762 2218 DEB6      		in r13,__SP_H__
 8763               	.LVL536:
  57:sms/sms.h     ****   char s[n+1];
 8764               		.loc 13 57 0
 8765 221a 00D0      		rcall .
 8766 221c EDB6      		in r14,__SP_L__
 8767 221e FEB6      		in r15,__SP_H__
 8768 2220 0894      		sec
 8769 2222 E11C      		adc r14,__zero_reg__
 8770 2224 F11C      		adc r15,__zero_reg__
 8771               	.LVL537:
 8772               	.L347:
 8773               	.LBB2550:
 8774               	.LBB2551:
  18:uart/uart.h   ****     while ( !( USART->STATUS & USART_DREIF_bm) ); 
 8775               		.loc 9 18 0
 8776 2226 D801      		movw r26,r16
 8777 2228 1196      		adiw r26,1
 8778 222a 8C91      		ld r24,X
 8779 222c 1197      		sbiw r26,1
 8780 222e 85FF      		sbrs r24,5
 8781 2230 00C0      		rjmp .L347
  21:uart/uart.h   ****     USART->DATA = c; 
 8782               		.loc 9 21 0
 8783 2232 81E4      		ldi r24,lo8(65)
 8784 2234 8C93      		st X,r24
 8785               	.LBE2551:
 8786               	.LBE2550:
  60:sms/sms.h     ****   send_string("Sync");
 8787               		.loc 13 60 0
 8788 2236 80E0      		ldi r24,lo8(.LC10)
 8789 2238 90E0      		ldi r25,hi8(.LC10)
 8790 223a 0E94 0000 		call send_string
 8791               	.LVL538:
 8792               	.LBB2552:
 8793               	.LBB2553:
 8794               		.loc 11 164 0
 8795 223e 8FEF      		 ldi r24,lo8(15999999)
 8796 2240 93E2      	    ldi r25,hi8(15999999)
 8797 2242 A4EF      	    ldi r26,hlo8(15999999)
 8798 2244 B0E0      	    ldi r27,hhi8(15999999)
 8799 2246 8150      	    1:subi r24,1
 8800 2248 9040      	    sbci r25,0
 8801 224a A040      	    sbci r26,0
 8802 224c B040      	    sbci r27,0
 8803 224e 01F4      	    brne 1b
 8804 2250 00C0      		rjmp .
 8805 2252 0000      		nop
 8806               	.LBE2553:
 8807               	.LBE2552:
  63:sms/sms.h     ****   send_uart("AT", USART);
 8808               		.loc 13 63 0
 8809 2254 80E0      		ldi r24,lo8(.LC11)
 8810 2256 90E0      		ldi r25,hi8(.LC11)
 8811 2258 B801      		movw r22,r16
 8812 225a 0E94 0000 		call send_uart
  64:sms/sms.h     ****   send_string("PING");
 8813               		.loc 13 64 0
 8814 225e 80E0      		ldi r24,lo8(.LC12)
 8815 2260 90E0      		ldi r25,hi8(.LC12)
 8816 2262 0E94 0000 		call send_string
 8817               	.LVL539:
 8818               	.LBB2554:
 8819               	.LBB2555:
 8820               		.loc 11 164 0
 8821 2266 8FEF      		 ldi r24,lo8(639999)
 8822 2268 93EC      	    ldi r25,hi8(639999)
 8823 226a A9E0      	    ldi r26,hlo8(639999)
 8824 226c 8150      	    1:subi r24,1
 8825 226e 9040      	    sbci r25,0
 8826 2270 A040      	    sbci r26,0
 8827 2272 01F4      	    brne 1b
 8828 2274 00C0      		rjmp .
 8829 2276 0000      		nop
 8830               	.LVL540:
 8831               	.L348:
 8832               	.LBE2555:
 8833               	.LBE2554:
 8834               	.LBB2556:
 8835               	.LBB2557:
 8836               	.LBB2558:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 8837               		.loc 9 30 0
 8838 2278 D801      		movw r26,r16
 8839 227a 1196      		adiw r26,1
 8840 227c 8C91      		ld r24,X
 8841 227e 1197      		sbiw r26,1
 8842 2280 87FF      		sbrs r24,7
 8843 2282 00C0      		rjmp .L348
  33:uart/uart.h   ****     return USART->DATA; 
 8844               		.loc 9 33 0
 8845 2284 8C91      		ld r24,X
 8846               	.LBE2558:
 8847               	.LBE2557:
  68:sms/sms.h     ****     s[i] = c;
 8848               		.loc 13 68 0
 8849 2286 F701      		movw r30,r14
 8850 2288 8083      		st Z,r24
 8851               	.LVL541:
 8852               	.LBE2556:
  70:sms/sms.h     ****   s[n] = '\0';
 8853               		.loc 13 70 0
 8854 228a 1182      		std Z+1,__zero_reg__
  72:sms/sms.h     ****   send_string(s);
 8855               		.loc 13 72 0
 8856 228c C701      		movw r24,r14
 8857 228e 0E94 0000 		call send_string
 8858               	.LVL542:
 8859               	.LBB2559:
 8860               	.LBB2560:
  39:sms/sms.h     ****   send_uart("AT+CMGF=1", USART);
 8861               		.loc 13 39 0
 8862 2292 80E0      		ldi r24,lo8(.LC5)
 8863 2294 90E0      		ldi r25,hi8(.LC5)
 8864 2296 B801      		movw r22,r16
 8865 2298 0E94 0000 		call send_uart
 8866               	.LBE2560:
 8867               	.LBE2559:
  77:sms/sms.h     ****   send_string("Text Mode");
 8868               		.loc 13 77 0
 8869 229c 80E0      		ldi r24,lo8(.LC13)
 8870 229e 90E0      		ldi r25,hi8(.LC13)
 8871 22a0 0E94 0000 		call send_string
 8872               	.LVL543:
 8873               	.LBB2561:
 8874               	.LBB2562:
 8875               		.loc 11 164 0
 8876 22a4 8FEF      		 ldi r24,lo8(5119999)
 8877 22a6 9FE1      	    ldi r25,hi8(5119999)
 8878 22a8 AEE4      	    ldi r26,hlo8(5119999)
 8879 22aa 8150      	    1:subi r24,1
 8880 22ac 9040      	    sbci r25,0
 8881 22ae A040      	    sbci r26,0
 8882 22b0 01F4      	    brne 1b
 8883 22b2 00C0      		rjmp .
 8884 22b4 0000      		nop
 8885               	.LBE2562:
 8886               	.LBE2561:
  84:sms/sms.h     ****   send_uart("AT+CMGF=?", USART); // Read Message 
 8887               		.loc 13 84 0
 8888 22b6 80E0      		ldi r24,lo8(.LC14)
 8889 22b8 90E0      		ldi r25,hi8(.LC14)
 8890 22ba B801      		movw r22,r16
 8891 22bc 0E94 0000 		call send_uart
  85:sms/sms.h     ****   send_string("Check Mode");
 8892               		.loc 13 85 0
 8893 22c0 80E0      		ldi r24,lo8(.LC15)
 8894 22c2 90E0      		ldi r25,hi8(.LC15)
 8895 22c4 0E94 0000 		call send_string
 8896               	.LVL544:
 8897               	.LBB2563:
 8898               	.LBB2564:
 8899               		.loc 11 164 0
 8900 22c8 8FEF      		 ldi r24,lo8(6399999)
 8901 22ca 97EA      	    ldi r25,hi8(6399999)
 8902 22cc A1E6      	    ldi r26,hlo8(6399999)
 8903 22ce 8150      	    1:subi r24,1
 8904 22d0 9040      	    sbci r25,0
 8905 22d2 A040      	    sbci r26,0
 8906 22d4 01F4      	    brne 1b
 8907 22d6 00C0      		rjmp .
 8908 22d8 0000      		nop
 8909               	.LBE2564:
 8910               	.LBE2563:
 8911               		.loc 13 87 0
 8912 22da CDBE      		out __SP_L__,r12
 8913 22dc DEBE      		out __SP_H__,r13
 8914               	/* epilogue start */
 8915 22de DF91      		pop r29
 8916 22e0 CF91      		pop r28
 8917 22e2 1F91      		pop r17
 8918 22e4 0F91      		pop r16
 8919               	.LVL545:
 8920 22e6 FF90      		pop r15
 8921 22e8 EF90      		pop r14
 8922               	.LVL546:
 8923 22ea DF90      		pop r13
 8924 22ec CF90      		pop r12
 8925               	.LVL547:
 8926 22ee 0895      		ret
 8927               		.cfi_endproc
 8928               	.LFE79:
 8930               		.section	.text.startup,"ax",@progbits
 8931               	.global	main
 8933               	main:
 8934               	.LFB80:
  22:main.c        **** int main(void){
 8935               		.loc 6 22 0
 8936               		.cfi_startproc
 8937 0000 CF93      		push r28
 8938               	.LCFI134:
 8939               		.cfi_def_cfa_offset 3
 8940               		.cfi_offset 28, -2
 8941 0002 DF93      		push r29
 8942               	.LCFI135:
 8943               		.cfi_def_cfa_offset 4
 8944               		.cfi_offset 29, -3
 8945 0004 CDB7      		in r28,__SP_L__
 8946 0006 DEB7      		in r29,__SP_H__
 8947 0008 CD56      		subi r28,lo8(-(-109))
 8948 000a D040      		sbci r29,hi8(-(-109))
 8949               	.LCFI136:
 8950               		.cfi_def_cfa 28, 113
 8951 000c CDBF      		out __SP_L__,r28
 8952 000e DEBF      		out __SP_H__,r29
 8953               	/* prologue: function */
 8954               	/* frame size = 109 */
 8955               	/* stack size = 111 */
 8956               	.L__stack_usage = 111
  25:main.c        **** 	USB_ConfigureClock();
 8957               		.loc 6 25 0
 8958 0010 0E94 0000 		call USB_ConfigureClock
  26:main.c        **** 	USB_Init();
 8959               		.loc 6 26 0
 8960 0014 0E94 0000 		call USB_Init
  27:main.c        **** 	USB.INTCTRLA = USB_BUSEVIE_bm | USB_INTLVL_MED_gc;
 8961               		.loc 6 27 0
 8962 0018 E0EC      		ldi r30,lo8(1216)
 8963 001a F4E0      		ldi r31,hi8(1216)
 8964 001c 82E4      		ldi r24,lo8(66)
 8965 001e 8087      		std Z+8,r24
  28:main.c        **** 	USB.INTCTRLB = USB_TRNIE_bm | USB_SETUPIE_bm;
 8966               		.loc 6 28 0
 8967 0020 83E0      		ldi r24,lo8(3)
 8968 0022 8187      		std Z+9,r24
  29:main.c        **** 	PMIC.CTRL = PMIC_LOLVLEN_bm | PMIC_MEDLVLEN_bm;
 8969               		.loc 6 29 0
 8970 0024 E0EA      		ldi r30,lo8(160)
 8971 0026 F0E0      		ldi r31,hi8(160)
 8972 0028 8283      		std Z+2,r24
  30:main.c        **** 	sei();
 8973               		.loc 6 30 0
 8974               	/* #APP */
 8975               	 ;  30 "main.c" 1
 8976 002a 7894      		sei
 8977               	 ;  0 "" 2
  35:main.c        **** 		gps_init(&USARTD0, &PORTD, PIN0_bm, PIN3_bm, PIN4_bm);
 8978               		.loc 6 35 0
 8979               	/* #NOAPP */
 8980 002c 80EA      		ldi r24,lo8(2464)
 8981 002e 99E0      		ldi r25,hi8(2464)
 8982 0030 60E6      		ldi r22,lo8(1632)
 8983 0032 76E0      		ldi r23,hi8(1632)
 8984 0034 41E0      		ldi r20,lo8(1)
 8985 0036 28E0      		ldi r18,lo8(8)
 8986 0038 00E1      		ldi r16,lo8(16)
 8987 003a 0E94 0000 		call gps_init
 8988               	.LVL548:
 8989               	.LBB2820:
 8990               	.LBB2821:
 8991               	.LBB2822:
 8992               	.LBB2823:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 8993               		.loc 2 110 0
 8994 003e 81E0      		ldi r24,lo8(1)
 8995 0040 8093 0000 		sts ep_in_data+1,r24
 8996               	.LVL549:
 8997               	.LBB2824:
 8998               	.LBB2825:
 8999               	.LBB2826:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9000               		.loc 2 80 0
 9001 0044 BFB7      		in r27,__SREG__
 9002               	.LVL550:
 9003               	.LBB2827:
 9004               	.LBB2828:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9005               		.loc 3 50 0
 9006               	/* #APP */
 9007               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9008 0046 F894      		cli
 9009               	 ;  0 "" 2
 9010               	/* #NOAPP */
 9011 0048 7091 0000 		lds r23,ep_in_pipe_data+4
 9012 004c 8091 0000 		lds r24,ep_in_pipe_data
 9013 0050 9091 0000 		lds r25,ep_in_pipe_data+1
 9014 0054 E091 0000 		lds r30,ep_in_data
 9015 0058 6091 0000 		lds r22,ep_in_data+1
 9016 005c 2091 0000 		lds r18,ep_in_data+2
 9017 0060 3091 0000 		lds r19,ep_in_data+2+1
 9018 0064 4091 0000 		lds r20,ep_in_pipe_data+2
 9019 0068 5091 0000 		lds r21,ep_in_pipe_data+2+1
 9020               	.LVL551:
 9021               	.LBE2828:
 9022               	.LBE2827:
 9023               	.LBB2829:
 9024               	.LBB2830:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9025               		.loc 5 220 0
 9026 006c F091 0000 		lds r31,endpoints+24
 9027 0070 F670      		andi r31,lo8(6)
 9028               	.LBE2830:
 9029               	.LBE2829:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 9030               		.loc 2 82 0
 9031 0072 01F0      		breq .+2
 9032 0074 00C0      		rjmp .L352
 9033 0076 80E0      		ldi r24,lo8(endpoints+24)
 9034 0078 E82E      		mov r14,r24
 9035 007a 80E0      		ldi r24,hi8(endpoints+24)
 9036 007c F82E      		mov r15,r24
 9037 007e 90E0      		ldi r25,lo8(ep_in_pipe_buffer)
 9038 0080 C92E      		mov r12,r25
 9039 0082 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 9040 0084 D92E      		mov r13,r25
 9041               	.LVL552:
 9042               	.L353:
 9043               	.LBB2831:
 9044               	.LBB2832:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9045               		.loc 3 70 0
 9046 0086 BFBF      		out __SREG__,r27
 9047               		.loc 3 71 0
 9048               	.LBE2832:
 9049               	.LBE2831:
 9050               	.LBE2826:
 9051               	.LBE2825:
 9052               	.LBE2824:
 9053               	.LBE2823:
 9054               	.LBE2822:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 9055               		.loc 1 27 0
 9056 0088 82E0      		ldi r24,lo8(2)
 9057 008a E0EC      		ldi r30,lo8(1216)
 9058 008c F4E0      		ldi r31,hi8(1216)
 9059 008e 8587      		std Z+13,r24
 9060               	.LBB2868:
 9061               	.LBB2869:
 9062               	.LBB2870:
 9063               	.LBB2871:
 9064               	.LBB2872:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9065               		.loc 4 57 0
 9066 0090 96E0      		ldi r25,lo8(6)
 9067               	.L362:
 9068               	.LVL553:
 9069               	.LBE2872:
 9070               	.LBE2871:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9071               		.loc 2 123 0
 9072 0092 2FB7      		in r18,__SREG__
 9073               	.LVL554:
 9074               	.LBB2874:
 9075               	.LBB2875:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9076               		.loc 3 50 0
 9077               	/* #APP */
 9078               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9079 0094 F894      		cli
 9080               	 ;  0 "" 2
 9081               	/* #NOAPP */
 9082               	.LBE2875:
 9083               	.LBE2874:
 9084               	.LBB2876:
 9085               	.LBB2873:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9086               		.loc 4 57 0
 9087 0096 8091 0000 		lds r24,ep_in_pipe_data+4
 9088 009a 392F      		mov r19,r25
 9089 009c 381B      		sub r19,r24
 9090               	.LBE2873:
 9091               	.LBE2876:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9092               		.loc 2 127 0
 9093 009e 81E0      		ldi r24,lo8(1)
 9094 00a0 1316      		cp __zero_reg__,r19
 9095 00a2 04F0      		brlt .L364
 9096 00a4 80E0      		ldi r24,lo8(0)
 9097               	.L364:
 9098               	.LVL555:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9099               		.loc 2 124 0
 9100 00a6 3091 0000 		lds r19,ep_in_data+1
 9101 00aa 3111      		cpse r19,__zero_reg__
 125:usb/usb_pipe.h **** 			r = false;
 9102               		.loc 2 125 0
 9103 00ac 80E0      		ldi r24,lo8(0)
 9104               	.L365:
 9105               	.LBB2877:
 9106               	.LBB2878:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9107               		.loc 3 70 0
 9108 00ae 2FBF      		out __SREG__,r18
 9109               		.loc 3 71 0
 9110               	.LBE2878:
 9111               	.LBE2877:
 9112               	.LBE2870:
 9113               	.LBE2869:
 9114               	.LBE2868:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 9115               		.loc 1 28 0
 9116 00b0 8823      		tst r24
 9117 00b2 01F4      		brne .L367
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 9118               		.loc 1 29 0
 9119 00b4 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 9120 00b8 8823      		tst r24
 9121 00ba 01F0      		breq .L362
 9122               	.LVL556:
 9123               	.LBB2879:
 9124               	.LBB2880:
 9125               	.LBB2881:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9126               		.loc 2 54 0
 9127 00bc 8FB7      		in r24,__SREG__
 9128               	.LVL557:
 9129               	.LBB2882:
 9130               	.LBB2883:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9131               		.loc 3 50 0
 9132               	/* #APP */
 9133               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9134 00be F894      		cli
 9135               	 ;  0 "" 2
 9136               	.LVL558:
 9137               	/* #NOAPP */
 9138               	.LBE2883:
 9139               	.LBE2882:
 9140               	.LBB2884:
 9141               	.LBB2885:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 9142               		.loc 4 90 0
 9143 00c0 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 9144               		.loc 4 91 0
 9145 00c4 C092 0000 		sts ep_in_pipe_data+2,r12
 9146 00c8 D092 0000 		sts ep_in_pipe_data+2+1,r13
 9147 00cc C092 0000 		sts ep_in_pipe_data,r12
 9148 00d0 D092 0000 		sts ep_in_pipe_data+1,r13
 9149               	.LVL559:
 9150               	.LBE2885:
 9151               	.LBE2884:
 9152               	.LBB2886:
 9153               	.LBB2887:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9154               		.loc 5 158 0
 9155 00d4 F701      		movw r30,r14
 9156               	/* #APP */
 9157               	 ;  158 "usb/usb.h" 1
 9158 00d6 06E0      		ldi r16, 6
 9159 00d8 0593      		.dc.w 0x9305
 9160               		
 9161               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 9162               		.loc 5 159 0
 9163               	 ;  159 "usb/usb.h" 1
 9164 00da 08E0      		ldi r16, 8
 9165 00dc 0693      		.dc.w 0x9306
 9166               		
 9167               	 ;  0 "" 2
 9168               	/* #NOAPP */
 9169               	.LBE2887:
 9170               	.LBE2886:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 9171               		.loc 2 57 0
 9172 00de 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 9173               		.loc 2 58 0
 9174 00e2 1092 0000 		sts ep_in_data+2,__zero_reg__
 9175 00e6 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 9176               		.loc 2 59 0
 9177 00ea 1092 0000 		sts ep_in_data,__zero_reg__
 9178               	.LVL560:
 9179               	.LBB2888:
 9180               	.LBB2889:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9181               		.loc 3 70 0
 9182 00ee 8FBF      		out __SREG__,r24
 9183               		.loc 3 71 0
 9184               	.LVL561:
 9185               	.L367:
 9186               	.LBE2889:
 9187               	.LBE2888:
 9188               	.LBE2881:
 9189               	.LBE2880:
 9190               	.LBE2879:
 9191               	.LBE2821:
 9192               	.LBE2820:
 9193               	.LBB2896:
 9194               	.LBB2897:
 126:gps/gps.h     ****       if (c == '\r' || c == '\n' || c == 'W' || c == 'E') {
 9195               		.loc 10 126 0
 9196 00f0 60E0      		ldi r22,lo8(0)
 9197 00f2 70E0      		ldi r23,hi8(0)
 9198 00f4 40E0      		ldi r20,lo8(0)
 9199 00f6 50E0      		ldi r21,hi8(0)
 9200 00f8 80E0      		ldi r24,lo8(0)
 9201 00fa 90E0      		ldi r25,hi8(0)
 9202               	.LBB2898:
 9203               	.LBB2899:
 9204               	.LBB2900:
 9205               	.LBB2901:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 9206               		.loc 1 27 0
 9207 00fc 32E0      		ldi r19,lo8(2)
 9208 00fe 632E      		mov r6,r19
 9209               	.LBB2902:
 9210               	.LBB2903:
 9211               	.LBB2904:
 9212               	.LBB2905:
 9213               	.LBB2906:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9214               		.loc 4 57 0
 9215 0100 16E0      		ldi r17,lo8(6)
 9216               	.LBE2906:
 9217               	.LBE2905:
 9218               	.LBE2904:
 9219               	.LBE2903:
 9220               	.LBE2902:
 9221               	.LBB2917:
 9222               	.LBB2918:
 9223               	.LBB2919:
 9224               	.LBB2920:
 9225               	.LBB2921:
 9226               	.LBB2922:
 9227               	.LBB2923:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 9228               		.loc 2 69 0
 9229 0102 E1E0      		ldi r30,lo8(1)
 9230 0104 AE2E      		mov r10,r30
 9231 0106 B12C      		mov r11,__zero_reg__
 9232               	.LBE2923:
 9233               	.LBE2922:
 9234               	.LBB2930:
 9235               	.LBB2931:
 9236               	.LBB2932:
 9237               	.LBB2933:
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9238               		.loc 5 169 0
 9239 0108 F0E4      		ldi r31,lo8(64)
 9240 010a 8F2E      		mov r8,r31
 9241 010c 912C      		mov r9,__zero_reg__
 9242               	.LVL562:
 9243               	.L418:
 9244               	.LBE2933:
 9245               	.LBE2932:
 9246               	.LBE2931:
 9247               	.LBE2930:
 9248               	.LBE2921:
 9249               	.LBE2920:
 9250               	.LBE2919:
 9251               	.LBE2918:
 9252               	.LBE2917:
 9253               	.LBE2901:
 9254               	.LBE2900:
 9255               	.LBE2899:
 9256               	.LBE2898:
 9257               	.LBB3107:
 9258               	.LBB3108:
  30:uart/uart.h   ****     while ( !( USART->STATUS & USART_RXCIF_bm) ); 
 9259               		.loc 9 30 0
 9260 010e 2091 A109 		lds r18,2465
 9261 0112 27FF      		sbrs r18,7
 9262 0114 00C0      		rjmp .L418
  33:uart/uart.h   ****     return USART->DATA; 
 9263               		.loc 9 33 0
 9264 0116 2091 A009 		lds r18,2464
 9265               	.LBE3108:
 9266               	.LBE3107:
 116:gps/gps.h     ****     if (index == length) {
 9267               		.loc 10 116 0
 9268 011a 8730      		cpi r24,7
 9269 011c 9105      		cpc r25,__zero_reg__
 9270 011e 01F4      		brne .+2
 9271 0120 00C0      		rjmp .L369
 9272               	.LVL563:
 121:gps/gps.h     ****     if (read == 1) {
 9273               		.loc 10 121 0
 9274 0122 4130      		cpi r20,1
 9275 0124 5105      		cpc r21,__zero_reg__
 9276 0126 01F4      		brne .+2
 9277 0128 00C0      		rjmp .L369
 134:gps/gps.h     ****     } else if (c == code[index]) {
 9278               		.loc 10 134 0
 9279 012a FC01      		movw r30,r24
 9280 012c E050      		subi r30,lo8(-(.LC4))
 9281 012e F040      		sbci r31,hi8(-(.LC4))
 9282 0130 3081      		ld r19,Z
 9283 0132 2317      		cp r18,r19
 9284 0134 01F4      		brne .+2
 9285 0136 00C0      		rjmp .L425
 139:gps/gps.h     ****       index = 0;
 9286               		.loc 10 139 0
 9287 0138 80E0      		ldi r24,lo8(0)
 9288 013a 90E0      		ldi r25,hi8(0)
 9289 013c 00C0      		rjmp .L418
 9290               	.LVL564:
 9291               	.L352:
 9292               	.LBE2897:
 9293               	.LBE2896:
 9294               	.LBB3116:
 9295               	.LBB2893:
 9296               	.LBB2890:
 9297               	.LBB2865:
 9298               	.LBB2862:
 9299               	.LBB2859:
 9300               	.LBB2856:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 9301               		.loc 2 83 0
 9302 013e 1716      		cp __zero_reg__,r23
 9303 0140 04F4      		brge .L354
 9304               	.LVL565:
 9305               	.LBB2833:
 9306               	.LBB2834:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 9307               		.loc 2 69 0
 9308 0142 A1E0      		ldi r26,lo8(1)
 9309 0144 E130      		cpi r30,lo8(1)
 9310 0146 01F4      		brne .L355
 9311 0148 A0E0      		ldi r26,lo8(0)
 9312               	.L355:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 9313               		.loc 2 72 0
 9314 014a EE23      		tst r30
 9315 014c 01F0      		breq .+2
 9316 014e 00C0      		rjmp .L356
 9317               	.LVL566:
 9318               	.LBB2835:
 9319               	.LBB2836:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9320               		.loc 5 168 0
 9321 0150 8093 0000 		sts endpoints+28,r24
 9322 0154 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9323               		.loc 5 169 0
 9324 0158 E0E4      		ldi r30,lo8(64)
 9325 015a F0E0      		ldi r31,hi8(64)
 9326               	.LVL567:
 9327 015c E093 0000 		sts endpoints+26,r30
 9328 0160 F093 0000 		sts endpoints+26+1,r31
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 9329               		.loc 5 174 0
 9330 0164 00E0      		ldi r16,lo8(endpoints+24)
 9331 0166 E02E      		mov r14,r16
 9332 0168 00E0      		ldi r16,hi8(endpoints+24)
 9333 016a F02E      		mov r15,r16
 9334               	.LVL568:
 9335 016c F701      		movw r30,r14
 9336               	/* #APP */
 9337               	 ;  174 "usb/usb.h" 1
 9338 016e 02E2      		ldi r16, 34
 9339 0170 0693      		.dc.w 0x9306
 9340               		
 9341               	 ;  0 "" 2
 9342               	.LVL569:
 9343               	/* #NOAPP */
 9344               	.L357:
 9345               	.LBE2836:
 9346               	.LBE2835:
 9347               	.LBE2834:
 9348               	.LBE2833:
 9349               	.LBB2840:
 9350               	.LBB2841:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 9351               		.loc 4 72 0
 9352 0172 7150      		subi r23,lo8(-(-1))
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 9353               		.loc 4 73 0
 9354 0174 805C      		subi r24,lo8(-(64))
 9355 0176 9F4F      		sbci r25,hi8(-(64))
 9356               	.LVL570:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 9357               		.loc 2 69 0
 9358 0178 EA2F      		mov r30,r26
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 9359               		.loc 4 75 0
 9360 017a F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 9361 017c 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 9362 017e 9F07      		cpc r25,r31
 9363 0180 01F0      		breq .L426
 9364 0182 A0E0      		ldi r26,lo8(ep_in_pipe_buffer)
 9365 0184 CA2E      		mov r12,r26
 9366 0186 A0E0      		ldi r26,hi8(ep_in_pipe_buffer)
 9367 0188 DA2E      		mov r13,r26
 9368               	.LVL571:
 9369               	.L358:
 9370               	.LBE2841:
 9371               	.LBE2840:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 9372               		.loc 2 91 0
 9373 018a 7093 0000 		sts ep_in_pipe_data+4,r23
 9374 018e 8093 0000 		sts ep_in_pipe_data,r24
 9375 0192 9093 0000 		sts ep_in_pipe_data+1,r25
 9376 0196 E093 0000 		sts ep_in_data,r30
 9377 019a 6093 0000 		sts ep_in_data+1,r22
 9378 019e 2093 0000 		sts ep_in_data+2,r18
 9379 01a2 3093 0000 		sts ep_in_data+2+1,r19
 9380 01a6 E0E0      		ldi r30,lo8(ep_in_pipe_data)
 9381 01a8 F0E0      		ldi r31,hi8(ep_in_pipe_data)
 9382 01aa 4283      		std Z+2,r20
 9383 01ac 5383      		std Z+3,r21
 9384 01ae 00C0      		rjmp .L353
 9385               	.LVL572:
 9386               	.L354:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 9387               		.loc 2 87 0
 9388 01b0 6130      		cpi r22,lo8(1)
 9389 01b2 01F4      		brne .+2
 9390 01b4 00C0      		rjmp .L427
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 9391               		.loc 2 91 0
 9392 01b6 6230      		cpi r22,lo8(2)
 9393 01b8 01F4      		brne .+2
 9394 01ba 00C0      		rjmp .L420
 9395               	.L422:
 9396 01bc 00E0      		ldi r16,lo8(endpoints+24)
 9397 01be E02E      		mov r14,r16
 9398 01c0 00E0      		ldi r16,hi8(endpoints+24)
 9399 01c2 F02E      		mov r15,r16
 9400 01c4 F0E0      		ldi r31,lo8(ep_in_pipe_buffer)
 9401 01c6 CF2E      		mov r12,r31
 9402 01c8 F0E0      		ldi r31,hi8(ep_in_pipe_buffer)
 9403 01ca DF2E      		mov r13,r31
 9404 01cc 00C0      		rjmp .L358
 9405               	.LVL573:
 9406               	.L426:
 9407               	.LBB2843:
 9408               	.LBB2842:
  76:usb/pipe.h    **** 		pipe->data->read_ptr = &pipe->buffer[0];
 9409               		.loc 4 76 0
 9410 01ce 80E0      		ldi r24,lo8(ep_in_pipe_buffer)
 9411 01d0 90E0      		ldi r25,hi8(ep_in_pipe_buffer)
 9412 01d2 6C01      		movw r12,r24
 9413 01d4 00C0      		rjmp .L358
 9414               	.LVL574:
 9415               	.L356:
 9416               	.LBE2842:
 9417               	.LBE2843:
 9418               	.LBB2844:
 9419               	.LBB2839:
 9420               	.LBB2837:
 9421               	.LBB2838:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9422               		.loc 5 168 0
 9423 01d6 8093 0000 		sts endpoints+20,r24
 9424 01da 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9425               		.loc 5 169 0
 9426 01de E0E4      		ldi r30,lo8(64)
 9427 01e0 F0E0      		ldi r31,hi8(64)
 9428 01e2 E093 0000 		sts endpoints+18,r30
 9429 01e6 F093 0000 		sts endpoints+18+1,r31
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 9430               		.loc 5 176 0
 9431 01ea 10E0      		ldi r17,lo8(endpoints+24)
 9432 01ec E12E      		mov r14,r17
 9433 01ee 10E0      		ldi r17,hi8(endpoints+24)
 9434 01f0 F12E      		mov r15,r17
 9435 01f2 F701      		movw r30,r14
 9436               	/* #APP */
 9437               	 ;  176 "usb/usb.h" 1
 9438 01f4 04E1      		ldi r16, 20
 9439 01f6 0693      		.dc.w 0x9306
 9440               		
 9441               	 ;  0 "" 2
 9442               	/* #NOAPP */
 9443 01f8 00C0      		rjmp .L357
 9444               	.LVL575:
 9445               	.L369:
 9446               	.LBE2838:
 9447               	.LBE2837:
 9448               	.LBE2839:
 9449               	.LBE2844:
 9450               	.LBE2856:
 9451               	.LBE2859:
 9452               	.LBE2862:
 9453               	.LBE2865:
 9454               	.LBE2890:
 9455               	.LBE2893:
 9456               	.LBE3116:
 9457               	.LBB3117:
 9458               	.LBB3113:
 123:gps/gps.h     ****       buff[buff_index] = c;
 9459               		.loc 10 123 0
 9460 01fa EAE0      		ldi r30,lo8(10)
 9461 01fc F0E0      		ldi r31,hi8(10)
 9462 01fe EC0F      		add r30,r28
 9463 0200 FD1F      		adc r31,r29
 9464 0202 E60F      		add r30,r22
 9465 0204 F71F      		adc r31,r23
 9466 0206 2083      		st Z,r18
 124:gps/gps.h     ****       buff_index++;
 9467               		.loc 10 124 0
 9468 0208 6F5F      		subi r22,lo8(-(1))
 9469 020a 7F4F      		sbci r23,hi8(-(1))
 9470               	.LVL576:
 126:gps/gps.h     ****       if (c == '\r' || c == '\n' || c == 'W' || c == 'E') {
 9471               		.loc 10 126 0
 9472 020c 2D30      		cpi r18,lo8(13)
 9473 020e 01F0      		breq .L371
 9474 0210 2A30      		cpi r18,lo8(10)
 9475 0212 01F0      		breq .L371
 9476 0214 2735      		cpi r18,lo8(87)
 9477 0216 01F0      		breq .L371
 9478 0218 2534      		cpi r18,lo8(69)
 9479 021a 01F0      		breq .L371
 9480 021c 41E0      		ldi r20,lo8(1)
 9481 021e 50E0      		ldi r21,hi8(1)
 9482 0220 00C0      		rjmp .L418
 9483               	.LVL577:
 9484               	.L425:
 136:gps/gps.h     ****       index++;
 9485               		.loc 10 136 0
 9486 0222 0196      		adiw r24,1
 9487               	.LVL578:
 9488 0224 00C0      		rjmp .L418
 9489               	.LVL579:
 9490               	.L371:
 128:gps/gps.h     ****         buff[buff_index] = '\0';
 9491               		.loc 10 128 0
 9492 0226 EAE0      		ldi r30,lo8(10)
 9493 0228 F0E0      		ldi r31,hi8(10)
 9494 022a EC0F      		add r30,r28
 9495 022c FD1F      		adc r31,r29
 9496 022e E60F      		add r30,r22
 9497 0230 F71F      		adc r31,r23
 9498 0232 1082      		st Z,__zero_reg__
 9499               	.LBB3109:
 9500               	.LBB3103:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 9501               		.loc 7 5 0
 9502 0234 2A85      		ldd r18,Y+10
 9503 0236 2223      		tst r18
 9504 0238 01F4      		brne .+2
 9505 023a 00C0      		rjmp .L373
 9506 023c DE01      		movw r26,r28
 9507 023e 1B96      		adiw r26,11
 9508               	.LVL580:
 9509               	.L419:
 9510               	.LBB3008:
 9511               	.LBB3009:
 9512               	.LBB3010:
 9513               	.LBB3011:
 9514               	.LBB3012:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9515               		.loc 2 123 0
 9516 0240 9FB7      		in r25,__SREG__
 9517               	.LVL581:
 9518               	.LBB3013:
 9519               	.LBB3014:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9520               		.loc 3 50 0
 9521               	/* #APP */
 9522               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9523 0242 F894      		cli
 9524               	 ;  0 "" 2
 9525               	.LVL582:
 9526               	/* #NOAPP */
 9527               	.LBE3014:
 9528               	.LBE3013:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9529               		.loc 2 124 0
 9530 0244 8091 0000 		lds r24,ep_in_data+1
 9531 0248 8823      		tst r24
 9532 024a 01F0      		breq .L428
 9533               	.L406:
 125:usb/usb_pipe.h **** 			r = false;
 9534               		.loc 2 125 0
 9535 024c 80E0      		ldi r24,lo8(0)
 9536               	.L374:
 9537               	.LBB3016:
 9538               	.LBB3017:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9539               		.loc 3 70 0
 9540 024e 9FBF      		out __SREG__,r25
 9541               		.loc 3 71 0
 9542               	.LBE3017:
 9543               	.LBE3016:
 9544               	.LBE3012:
 9545               	.LBE3011:
 9546               	.LBE3010:
  20:Framework.h   ****     while (!usb_pipe_can_write(&ep_in));
 9547               		.loc 1 20 0
 9548 0250 8823      		tst r24
 9549 0252 01F0      		breq .L419
 9550               	.LVL583:
 9551               	.LBB3023:
 9552               	.LBB3024:
 175:usb/usb_pipe.h **** 	p->pipe->data->write_ptr[p->data->packet_offset++] = v;
 9553               		.loc 2 175 0
 9554 0254 8091 0000 		lds r24,ep_in_data+2
 9555 0258 9091 0000 		lds r25,ep_in_data+2+1
 9556 025c E091 0000 		lds r30,ep_in_pipe_data+2
 9557 0260 F091 0000 		lds r31,ep_in_pipe_data+2+1
 9558 0264 E80F      		add r30,r24
 9559 0266 F91F      		adc r31,r25
 9560 0268 2083      		st Z,r18
 9561 026a 0196      		adiw r24,1
 9562 026c 8093 0000 		sts ep_in_data+2,r24
 9563 0270 9093 0000 		sts ep_in_data+2+1,r25
 176:usb/usb_pipe.h **** 	if (p->data->packet_offset == p->pipe->size){
 9564               		.loc 2 176 0
 9565 0274 8034      		cpi r24,64
 9566 0276 9105      		cpc r25,__zero_reg__
 9567 0278 01F0      		breq .L429
 9568               	.LBE3024:
 9569               	.LBE3023:
 9570               	.LBE3009:
 9571               	.LBE3008:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 9572               		.loc 7 5 0
 9573 027a FD01      		movw r30,r26
 9574 027c 2191      		ld r18,Z+
 9575               	.LVL584:
 9576 027e 2223      		tst r18
 9577 0280 01F4      		brne .+2
 9578 0282 00C0      		rjmp .L373
 9579               	.LVL585:
 9580               	.L431:
 9581 0284 1097      		sbiw r26,0
 9582 0286 01F4      		brne .+2
 9583 0288 00C0      		rjmp .L373
 9584 028a DF01      		movw r26,r30
 9585               	.LBB3095:
 9586               	.LBB3092:
 9587               	.LBB3025:
 9588               	.LBB3022:
 9589               	.LBB3021:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9590               		.loc 2 123 0
 9591 028c 9FB7      		in r25,__SREG__
 9592               	.LVL586:
 9593               	.LBB3018:
 9594               	.LBB3015:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9595               		.loc 3 50 0
 9596               	/* #APP */
 9597               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9598 028e F894      		cli
 9599               	 ;  0 "" 2
 9600               	/* #NOAPP */
 9601               	.LBE3015:
 9602               	.LBE3018:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9603               		.loc 2 124 0
 9604 0290 8091 0000 		lds r24,ep_in_data+1
 9605 0294 8823      		tst r24
 9606 0296 01F4      		brne .L406
 9607               	.LVL587:
 9608               	.L428:
 9609               	.LBB3019:
 9610               	.LBB3020:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 9611               		.loc 4 57 0
 9612 0298 8091 0000 		lds r24,ep_in_pipe_data+4
 9613 029c 312F      		mov r19,r17
 9614 029e 381B      		sub r19,r24
 9615               	.LBE3020:
 9616               	.LBE3019:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 9617               		.loc 2 127 0
 9618 02a0 81E0      		ldi r24,lo8(1)
 9619 02a2 1316      		cp __zero_reg__,r19
 9620 02a4 04F0      		brlt .L374
 9621 02a6 00C0      		rjmp .L406
 9622               	.LVL588:
 9623               	.L429:
 9624               	.LBE3021:
 9625               	.LBE3022:
 9626               	.LBE3025:
 9627               	.LBB3026:
 9628               	.LBB3027:
 9629               	.LBB3028:
 9630               	.LBB3029:
 177:usb/usb_pipe.h **** 		ATOMIC_BLOCK(PIPE_ATOMIC){
 9631               		.loc 2 177 0
 9632 02a8 7FB6      		in r7,__SREG__
 9633               	.LVL589:
 9634               	.LBB3030:
 9635               	.LBB3031:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9636               		.loc 3 50 0
 9637               	/* #APP */
 9638               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9639 02aa F894      		cli
 9640               	 ;  0 "" 2
 9641               	.LVL590:
 9642               	/* #NOAPP */
 9643               	.LBE3031:
 9644               	.LBE3030:
 9645               		.loc 2 178 0
 9646 02ac 1092 0000 		sts ep_in_data+2,__zero_reg__
 9647 02b0 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 9648               	.LVL591:
 9649               	.LBB3032:
 9650               	.LBB3033:
  81:usb/pipe.h    **** 	pipe->data->count += 1;
 9651               		.loc 4 81 0
 9652 02b4 8091 0000 		lds r24,ep_in_pipe_data+4
 9653 02b8 8F5F      		subi r24,lo8(-(1))
 9654 02ba 8093 0000 		sts ep_in_pipe_data+4,r24
  82:usb/pipe.h    **** 	pipe->data->write_ptr += pipe->size;
 9655               		.loc 4 82 0
 9656 02be 8091 0000 		lds r24,ep_in_pipe_data+2
 9657 02c2 9091 0000 		lds r25,ep_in_pipe_data+2+1
 9658 02c6 805C      		subi r24,lo8(-(64))
 9659 02c8 9F4F      		sbci r25,hi8(-(64))
 9660 02ca 8093 0000 		sts ep_in_pipe_data+2,r24
 9661 02ce 9093 0000 		sts ep_in_pipe_data+2+1,r25
  84:usb/pipe.h    **** 	if (pipe->data->write_ptr == &pipe->buffer[pipe->slots*pipe->size])
 9662               		.loc 4 84 0
 9663 02d2 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 9664 02d4 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 9665 02d6 9F07      		cpc r25,r31
 9666 02d8 01F4      		brne .L378
  85:usb/pipe.h    **** 		pipe->data->write_ptr = &pipe->buffer[0];
 9667               		.loc 4 85 0
 9668 02da C092 0000 		sts ep_in_pipe_data+2,r12
 9669 02de D092 0000 		sts ep_in_pipe_data+2+1,r13
 9670               	.L378:
 9671               	.LVL592:
 9672               	.LBE3033:
 9673               	.LBE3032:
 9674               	.LBB3034:
 9675               	.LBB3035:
 9676               	.LBB3036:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9677               		.loc 2 80 0
 9678 02e2 5FB7      		in r21,__SREG__
 9679               	.LVL593:
 9680               	.LBB3037:
 9681               	.LBB3038:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9682               		.loc 3 50 0
 9683               	/* #APP */
 9684               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9685 02e4 F894      		cli
 9686               	 ;  0 "" 2
 9687               	.LVL594:
 9688               	/* #NOAPP */
 9689               	.LBE3038:
 9690               	.LBE3037:
 9691               	.LBB3039:
 9692               	.LBB3040:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9693               		.loc 5 220 0
 9694 02e6 8091 0000 		lds r24,endpoints+24
 9695 02ea 8670      		andi r24,lo8(6)
 9696               	.LBE3040:
 9697               	.LBE3039:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 9698               		.loc 2 82 0
 9699 02ec 01F0      		breq .+2
 9700 02ee 00C0      		rjmp .L430
 9701               	.LVL595:
 9702               	.L379:
 9703               	.LBB3041:
 9704               	.LBB3042:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9705               		.loc 3 70 0
 9706 02f0 5FBF      		out __SREG__,r21
 9707               		.loc 3 71 0
 9708               	.LVL596:
 9709               	.LBE3042:
 9710               	.LBE3041:
 9711               	.LBE3036:
 9712               	.LBE3035:
 9713               	.LBE3034:
 9714               	.LBB3080:
 9715               	.LBB3081:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9716               		.loc 3 70 0
 9717 02f2 7FBE      		out __SREG__,r7
 9718               		.loc 3 71 0
 9719               	.LBE3081:
 9720               	.LBE3080:
 9721               	.LBE3029:
 9722               	.LBE3028:
 9723               	.LBE3027:
 9724               	.LBE3026:
 9725               	.LBE3092:
 9726               	.LBE3095:
   5:concat/concat.h ****   while (*s != '\0' && s != NULL) {  
 9727               		.loc 7 5 0
 9728 02f4 FD01      		movw r30,r26
 9729 02f6 2191      		ld r18,Z+
 9730 02f8 2223      		tst r18
 9731 02fa 01F0      		breq .+2
 9732 02fc 00C0      		rjmp .L431
 9733               	.LVL597:
 9734               	.L373:
 9735               	.LBB3096:
 9736               	.LBB3003:
 9737               	.LBB2985:
 9738               	.LBB2980:
 110:usb/usb_pipe.h **** 	p->data->flush = 1;
 9739               		.loc 2 110 0
 9740 02fe F1E0      		ldi r31,lo8(1)
 9741 0300 F093 0000 		sts ep_in_data+1,r31
 9742               	.LVL598:
 9743               	.LBB2975:
 9744               	.LBB2970:
 9745               	.LBB2965:
  80:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9746               		.loc 2 80 0
 9747 0304 AFB7      		in r26,__SREG__
 9748               	.LVL599:
 9749               	.LBB2940:
 9750               	.LBB2941:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9751               		.loc 3 50 0
 9752               	/* #APP */
 9753               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9754 0306 F894      		cli
 9755               	 ;  0 "" 2
 9756               	.LVL600:
 9757               	/* #NOAPP */
 9758               	.LBE2941:
 9759               	.LBE2940:
 9760               	.LBB2942:
 9761               	.LBB2943:
 220:usb/usb.h     **** 	return e->STATUS & (USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9762               		.loc 5 220 0
 9763 0308 8091 0000 		lds r24,endpoints+24
 9764 030c 8670      		andi r24,lo8(6)
 9765               	.LBE2943:
 9766               	.LBE2942:
  82:usb/usb_pipe.h **** 			if (USB_ep_ready(p->ep)){
 9767               		.loc 2 82 0
 9768 030e 01F0      		breq .+2
 9769 0310 00C0      		rjmp .L432
 9770               	.LVL601:
 9771               	.L389:
 9772               	.LBB2944:
 9773               	.LBB2945:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9774               		.loc 3 70 0
 9775 0312 AFBF      		out __SREG__,r26
 9776               		.loc 3 71 0
 9777               	.LBE2945:
 9778               	.LBE2944:
 9779               	.LBE2965:
 9780               	.LBE2970:
 9781               	.LBE2975:
 9782               	.LBE2980:
 9783               	.LBE2985:
  27:Framework.h   ****     USB.INTFLAGSBSET = USB_TRNIF_bm;
 9784               		.loc 1 27 0
 9785 0314 6092 CD04 		sts 1229,r6
 9786               	.L398:
 9787               	.LVL602:
 9788               	.LBB2986:
 9789               	.LBB2915:
 9790               	.LBB2913:
 123:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9791               		.loc 2 123 0
 9792 0318 9FB7      		in r25,__SREG__
 9793               	.LVL603:
 9794               	.LBB2908:
 9795               	.LBB2909:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9796               		.loc 3 50 0
 9797               	/* #APP */
 9798               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9799 031a F894      		cli
 9800               	 ;  0 "" 2
 9801               	.LVL604:
 9802               	/* #NOAPP */
 9803               	.LBE2909:
 9804               	.LBE2908:
 124:usb/usb_pipe.h **** 		if (p->features&PIPE_ENABLE_FLUSH && p->data->flush){
 9805               		.loc 2 124 0
 9806 031c 8091 0000 		lds r24,ep_in_data+1
 9807 0320 8823      		tst r24
 9808 0322 01F4      		brne .+2
 9809 0324 00C0      		rjmp .L433
 9810               	.L408:
 125:usb/usb_pipe.h **** 			r = false;
 9811               		.loc 2 125 0
 9812 0326 80E0      		ldi r24,lo8(0)
 9813               	.L400:
 9814               	.LBB2910:
 9815               	.LBB2911:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9816               		.loc 3 70 0
 9817 0328 9FBF      		out __SREG__,r25
 9818               		.loc 3 71 0
 9819               	.LBE2911:
 9820               	.LBE2910:
 9821               	.LBE2913:
 9822               	.LBE2915:
 9823               	.LBE2986:
  28:Framework.h   ****     while (!usb_pipe_can_write(&ep_in)){
 9824               		.loc 1 28 0
 9825 032a 8823      		tst r24
 9826 032c 01F4      		brne .L399
  29:Framework.h   ****         if (timeout_or_sampling_no_longer_enabled){
 9827               		.loc 1 29 0
 9828 032e 8091 0000 		lds r24,timeout_or_sampling_no_longer_enabled
 9829 0332 8823      		tst r24
 9830 0334 01F0      		breq .L398
 9831               	.LVL605:
 9832               	.LBB2987:
 9833               	.LBB2988:
 9834               	.LBB2989:
  54:usb/usb_pipe.h **** 	ATOMIC_BLOCK(PIPE_ATOMIC){
 9835               		.loc 2 54 0
 9836 0336 8FB7      		in r24,__SREG__
 9837               	.LVL606:
 9838               	.LBB2990:
 9839               	.LBB2991:
  50:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     cli();
 9840               		.loc 3 50 0
 9841               	/* #APP */
 9842               	 ;  50 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h" 1
 9843 0338 F894      		cli
 9844               	 ;  0 "" 2
 9845               	.LVL607:
 9846               	/* #NOAPP */
 9847               	.LBE2991:
 9848               	.LBE2990:
 9849               	.LBB2992:
 9850               	.LBB2993:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 9851               		.loc 4 90 0
 9852 033a 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 9853               		.loc 4 91 0
 9854 033e C092 0000 		sts ep_in_pipe_data+2,r12
 9855 0342 D092 0000 		sts ep_in_pipe_data+2+1,r13
 9856 0346 C092 0000 		sts ep_in_pipe_data,r12
 9857 034a D092 0000 		sts ep_in_pipe_data+1,r13
 9858               	.LVL608:
 9859               	.LBE2993:
 9860               	.LBE2992:
 9861               	.LBB2994:
 9862               	.LBB2995:
 158:usb/usb.h     **** 		LASR16(&e->STATUS, USB_EP_BUSNACK0_bm | USB_EP_BUSNACK1_bm);
 9863               		.loc 5 158 0
 9864 034e F701      		movw r30,r14
 9865               	/* #APP */
 9866               	 ;  158 "usb/usb.h" 1
 9867 0350 06E0      		ldi r16, 6
 9868 0352 0593      		.dc.w 0x9305
 9869               		
 9870               	 ;  0 "" 2
 159:usb/usb.h     **** 		LACR16(&e->STATUS, USB_EP_BANK_bm);
 9871               		.loc 5 159 0
 9872               	 ;  159 "usb/usb.h" 1
 9873 0354 08E0      		ldi r16, 8
 9874 0356 0693      		.dc.w 0x9306
 9875               		
 9876               	 ;  0 "" 2
 9877               	/* #NOAPP */
 9878               	.LBE2995:
 9879               	.LBE2994:
  57:usb/usb_pipe.h **** 		p->data->flush = 0;
 9880               		.loc 2 57 0
 9881 0358 1092 0000 		sts ep_in_data+1,__zero_reg__
  58:usb/usb_pipe.h **** 		p->data->packet_offset = 0;
 9882               		.loc 2 58 0
 9883 035c 1092 0000 		sts ep_in_data+2,__zero_reg__
 9884 0360 1092 0000 		sts ep_in_data+2+1,__zero_reg__
  59:usb/usb_pipe.h **** 		p->data->bank = 0;
 9885               		.loc 2 59 0
 9886 0364 1092 0000 		sts ep_in_data,__zero_reg__
 9887               	.LVL609:
 9888               	.LBB2996:
 9889               	.LBB2997:
  70:/usr/lib/gcc/avr/4.6.2/../../../avr/include/util/atomic.h ****     SREG = *__s;
 9890               		.loc 3 70 0
 9891 0368 8FBF      		out __SREG__,r24
 9892               		.loc 3 71 0
 9893               	.LVL610:
 9894               	.L399:
 9895               	.LBE2997:
 9896               	.LBE2996:
 9897               	.LBE2989:
 9898               	.LBE2988:
 9899               	.LBE2987:
 9900               	.LBE3003:
 9901               	.LBE3096:
 9902               	.LBE3103:
 9903               	.LBE3109:
 131:gps/gps.h     ****         parse_nmea_string(buff, &gps);
 9904               		.loc 10 131 0
 9905 036a CE01      		movw r24,r28
 9906 036c 0A96      		adiw r24,10
 9907 036e BE01      		movw r22,r28
 9908 0370 6F5F      		subi r22,lo8(-(1))
 9909 0372 7F4F      		sbci r23,hi8(-(1))
 9910 0374 0E94 0000 		call parse_nmea_string
 9911               	.LVL611:
 104:gps/gps.h     ****   int buff_index = 0;
 9912               		.loc 10 104 0
 9913 0378 60E0      		ldi r22,lo8(0)
 9914 037a 70E0      		ldi r23,hi8(0)
  98:gps/gps.h     ****   int read = 0;
 9915               		.loc 10 98 0
 9916 037c 40E0      		ldi r20,lo8(0)
 9917 037e 50E0      		ldi r21,hi8(0)
  95:gps/gps.h     ****   int index = 0;
 9918               		.loc 10 95 0
 9919 0380 80E0      		ldi r24,lo8(0)
 9920 0382 90E0      		ldi r25,hi8(0)
 9921 0384 00C0      		rjmp .L418
 9922               	.LVL612:
 9923               	.L430:
 9924               	.LBB3110:
 9925               	.LBB3104:
 9926               	.LBB3097:
 9927               	.LBB3093:
 9928               	.LBB3090:
 9929               	.LBB3088:
 9930               	.LBB3086:
 9931               	.LBB3084:
 9932               	.LBB3082:
 9933               	.LBB3078:
 9934               	.LBB3076:
 9935               	.LBB3043:
 9936               	.LBB3044:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 9937               		.loc 4 51 0
 9938 0386 4091 0000 		lds r20,ep_in_pipe_data+4
 9939               	.LBE3044:
 9940               	.LBE3043:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 9941               		.loc 2 83 0
 9942 038a 1416      		cp __zero_reg__,r20
 9943 038c 04F0      		brlt .+2
 9944 038e 00C0      		rjmp .L380
 9945               	.LBB3045:
 9946               	.LBB3046:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 9947               		.loc 4 62 0
 9948 0390 2091 0000 		lds r18,ep_in_pipe_data
 9949 0394 3091 0000 		lds r19,ep_in_pipe_data+1
 9950               	.LVL613:
 9951               	.LBE3046:
 9952               	.LBE3045:
 9953               	.LBB3047:
 9954               	.LBB3048:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 9955               		.loc 2 68 0
 9956 0398 6091 0000 		lds r22,ep_in_data
 9957               	.LVL614:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 9958               		.loc 2 69 0
 9959 039c 862F      		mov r24,r22
 9960 039e 90E0      		ldi r25,lo8(0)
 9961               	.LVL615:
 9962 03a0 71E0      		ldi r23,lo8(1)
 9963 03a2 8A15      		cp r24,r10
 9964 03a4 9B05      		cpc r25,r11
 9965 03a6 01F4      		brne .L381
 9966 03a8 70E0      		ldi r23,lo8(0)
 9967               	.L381:
 9968 03aa 7093 0000 		sts ep_in_data,r23
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 9969               		.loc 2 72 0
 9970 03ae 6623      		tst r22
 9971 03b0 01F4      		brne .L382
 9972               	.LVL616:
 9973               	.LBB3049:
 9974               	.LBB3050:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 9975               		.loc 5 168 0
 9976 03b2 2093 0000 		sts endpoints+28,r18
 9977 03b6 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 9978               		.loc 5 169 0
 9979 03ba 8092 0000 		sts endpoints+26,r8
 9980 03be 9092 0000 		sts endpoints+26+1,r9
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 9981               		.loc 5 174 0
 9982 03c2 F701      		movw r30,r14
 9983               	.LVL617:
 9984               	/* #APP */
 9985               	 ;  174 "usb/usb.h" 1
 9986 03c4 02E2      		ldi r16, 34
 9987 03c6 0693      		.dc.w 0x9306
 9988               		
 9989               	 ;  0 "" 2
 9990               	.LVL618:
 9991               	/* #NOAPP */
 9992               	.L383:
 9993               	.LBE3050:
 9994               	.LBE3049:
 9995               	.LBE3048:
 9996               	.LBE3047:
 9997               	.LBB3054:
 9998               	.LBB3055:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 9999               		.loc 4 72 0
 10000 03c8 4150      		subi r20,lo8(-(-1))
 10001 03ca 4093 0000 		sts ep_in_pipe_data+4,r20
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 10002               		.loc 4 73 0
 10003 03ce C901      		movw r24,r18
 10004 03d0 805C      		subi r24,lo8(-(64))
 10005 03d2 9F4F      		sbci r25,hi8(-(64))
 10006 03d4 8093 0000 		sts ep_in_pipe_data,r24
 10007 03d8 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10008               		.loc 4 75 0
 10009 03dc F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 10010 03de 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10011 03e0 9F07      		cpc r25,r31
 10012 03e2 01F0      		breq .+2
 10013 03e4 00C0      		rjmp .L379
 10014               	.LBE3055:
 10015               	.LBE3054:
 10016               	.LBB3056:
 10017               	.LBB3057:
 10018               		.loc 4 91 0
 10019 03e6 C092 0000 		sts ep_in_pipe_data,r12
 10020 03ea D092 0000 		sts ep_in_pipe_data+1,r13
 10021               	.LVL619:
 10022 03ee 00C0      		rjmp .L379
 10023               	.LVL620:
 10024               	.L382:
 10025               	.LBE3057:
 10026               	.LBE3056:
 10027               	.LBB3059:
 10028               	.LBB3053:
 10029               	.LBB3051:
 10030               	.LBB3052:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10031               		.loc 5 168 0
 10032 03f0 2093 0000 		sts endpoints+20,r18
 10033 03f4 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10034               		.loc 5 169 0
 10035 03f8 8092 0000 		sts endpoints+18,r8
 10036 03fc 9092 0000 		sts endpoints+18+1,r9
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10037               		.loc 5 176 0
 10038 0400 F701      		movw r30,r14
 10039               	.LVL621:
 10040               	/* #APP */
 10041               	 ;  176 "usb/usb.h" 1
 10042 0402 04E1      		ldi r16, 20
 10043 0404 0693      		.dc.w 0x9306
 10044               		
 10045               	 ;  0 "" 2
 10046               	/* #NOAPP */
 10047 0406 00C0      		rjmp .L383
 10048               	.LVL622:
 10049               	.L380:
 10050               	.LBE3052:
 10051               	.LBE3051:
 10052               	.LBE3053:
 10053               	.LBE3059:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 10054               		.loc 2 87 0
 10055 0408 8091 0000 		lds r24,ep_in_data+1
 10056 040c 8130      		cpi r24,lo8(1)
 10057 040e 01F0      		breq .L434
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10058               		.loc 2 91 0
 10059 0410 8230      		cpi r24,lo8(2)
 10060 0412 01F0      		breq .+2
 10061 0414 00C0      		rjmp .L379
 10062               	.LVL623:
 10063               	.LBB3060:
 10064               	.LBB3061:
 10065               	.LBB3062:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 10066               		.loc 5 228 0
 10067 0416 8091 0000 		lds r24,endpoints+24
 10068 041a 8670      		andi r24,lo8(6)
 10069               	.LBE3062:
 10070               	.LBE3061:
 10071               	.LBE3060:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10072               		.loc 2 91 0
 10073 041c 8630      		cpi r24,lo8(6)
 10074 041e 01F0      		breq .+2
 10075 0420 00C0      		rjmp .L379
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 10076               		.loc 2 92 0
 10077 0422 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 10078               		.loc 2 93 0
 10079 0426 1092 0000 		sts ep_in_data+2,__zero_reg__
 10080 042a 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10081               	.LBB3063:
 10082               	.LBB3058:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 10083               		.loc 4 90 0
 10084 042e 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 10085               		.loc 4 91 0
 10086 0432 C092 0000 		sts ep_in_pipe_data+2,r12
 10087 0436 D092 0000 		sts ep_in_pipe_data+2+1,r13
 10088 043a C092 0000 		sts ep_in_pipe_data,r12
 10089 043e D092 0000 		sts ep_in_pipe_data+1,r13
 10090               	.LVL624:
 10091 0442 00C0      		rjmp .L379
 10092               	.LVL625:
 10093               	.L434:
 10094               	.LBE3058:
 10095               	.LBE3063:
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 10096               		.loc 2 88 0
 10097 0444 6092 0000 		sts ep_in_data+1,r6
 10098               	.LBB3064:
 10099               	.LBB3065:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10100               		.loc 4 62 0
 10101 0448 7091 0000 		lds r23,ep_in_pipe_data
 10102 044c E091 0000 		lds r30,ep_in_pipe_data+1
 10103               	.LBE3065:
 10104               	.LBE3064:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 10105               		.loc 2 90 0
 10106 0450 2091 0000 		lds r18,ep_in_data+2
 10107 0454 3091 0000 		lds r19,ep_in_data+2+1
 10108               	.LVL626:
 10109               	.LBB3066:
 10110               	.LBB3067:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10111               		.loc 2 68 0
 10112 0458 6091 0000 		lds r22,ep_in_data
 10113               	.LVL627:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10114               		.loc 2 69 0
 10115 045c 862F      		mov r24,r22
 10116 045e 90E0      		ldi r25,lo8(0)
 10117 0460 41E0      		ldi r20,lo8(1)
 10118 0462 8A15      		cp r24,r10
 10119 0464 9B05      		cpc r25,r11
 10120 0466 01F4      		brne .L386
 10121 0468 40E0      		ldi r20,lo8(0)
 10122               	.L386:
 10123 046a 4093 0000 		sts ep_in_data,r20
 10124               	.LBB3068:
 10125               	.LBB3069:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10126               		.loc 5 168 0
 10127 046e 872F      		mov r24,r23
 10128 0470 9E2F      		mov r25,r30
 10129               	.LBE3069:
 10130               	.LBE3068:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10131               		.loc 2 72 0
 10132 0472 6623      		tst r22
 10133 0474 01F0      		breq .+2
 10134 0476 00C0      		rjmp .L387
 10135               	.LVL628:
 10136               	.LBB3071:
 10137               	.LBB3070:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10138               		.loc 5 168 0
 10139 0478 8093 0000 		sts endpoints+28,r24
 10140 047c 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10141               		.loc 5 169 0
 10142 0480 2093 0000 		sts endpoints+26,r18
 10143 0484 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10144               		.loc 5 174 0
 10145 0488 F701      		movw r30,r14
 10146               	/* #APP */
 10147               	 ;  174 "usb/usb.h" 1
 10148 048a 02E2      		ldi r16, 34
 10149 048c 0693      		.dc.w 0x9306
 10150               		
 10151               	 ;  0 "" 2
 10152               	/* #NOAPP */
 10153 048e 00C0      		rjmp .L379
 10154               	.LVL629:
 10155               	.L433:
 10156               	.LBE3070:
 10157               	.LBE3071:
 10158               	.LBE3067:
 10159               	.LBE3066:
 10160               	.LBE3076:
 10161               	.LBE3078:
 10162               	.LBE3082:
 10163               	.LBE3084:
 10164               	.LBE3086:
 10165               	.LBE3088:
 10166               	.LBE3090:
 10167               	.LBE3093:
 10168               	.LBE3097:
 10169               	.LBB3098:
 10170               	.LBB3004:
 10171               	.LBB2998:
 10172               	.LBB2916:
 10173               	.LBB2914:
 10174               	.LBB2912:
 10175               	.LBB2907:
  57:usb/pipe.h    **** 	return (int8_t)pipe->slots - pipe->data->count - pipe->reserve_write;
 10176               		.loc 4 57 0
 10177 0490 8091 0000 		lds r24,ep_in_pipe_data+4
 10178 0494 212F      		mov r18,r17
 10179 0496 281B      		sub r18,r24
 10180               	.LBE2907:
 10181               	.LBE2912:
 127:usb/usb_pipe.h **** 			r = pipe_can_write(p->pipe) > 0;
 10182               		.loc 2 127 0
 10183 0498 81E0      		ldi r24,lo8(1)
 10184 049a 1216      		cp __zero_reg__,r18
 10185 049c 04F4      		brge .+2
 10186 049e 00C0      		rjmp .L400
 10187 04a0 00C0      		rjmp .L408
 10188               	.LVL630:
 10189               	.L432:
 10190               	.LBE2914:
 10191               	.LBE2916:
 10192               	.LBE2998:
 10193               	.LBB2999:
 10194               	.LBB2981:
 10195               	.LBB2976:
 10196               	.LBB2971:
 10197               	.LBB2966:
 10198               	.LBB2946:
 10199               	.LBB2947:
  51:usb/pipe.h    **** 	return pipe->data->count - pipe->reserve_read;
 10200               		.loc 4 51 0
 10201 04a2 6091 0000 		lds r22,ep_in_pipe_data+4
 10202               	.LBE2947:
 10203               	.LBE2946:
  83:usb/usb_pipe.h **** 				if (pipe_can_read(p->pipe) >= 1){
 10204               		.loc 2 83 0
 10205 04a6 1616      		cp __zero_reg__,r22
 10206 04a8 04F0      		brlt .+2
 10207 04aa 00C0      		rjmp .L390
 10208               	.LBB2948:
 10209               	.LBB2949:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10210               		.loc 4 62 0
 10211 04ac 2091 0000 		lds r18,ep_in_pipe_data
 10212 04b0 3091 0000 		lds r19,ep_in_pipe_data+1
 10213               	.LVL631:
 10214               	.LBE2949:
 10215               	.LBE2948:
 10216               	.LBB2950:
 10217               	.LBB2938:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10218               		.loc 2 68 0
 10219 04b4 5091 0000 		lds r21,ep_in_data
 10220               	.LVL632:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10221               		.loc 2 69 0
 10222 04b8 852F      		mov r24,r21
 10223 04ba 90E0      		ldi r25,lo8(0)
 10224 04bc 41E0      		ldi r20,lo8(1)
 10225 04be 8A15      		cp r24,r10
 10226 04c0 9B05      		cpc r25,r11
 10227 04c2 01F4      		brne .L391
 10228 04c4 40E0      		ldi r20,lo8(0)
 10229               	.L391:
 10230 04c6 4093 0000 		sts ep_in_data,r20
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10231               		.loc 2 72 0
 10232 04ca 5523      		tst r21
 10233 04cc 01F4      		brne .L392
 10234               	.LVL633:
 10235               	.LBB2935:
 10236               	.LBB2936:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10237               		.loc 5 168 0
 10238 04ce 2093 0000 		sts endpoints+28,r18
 10239 04d2 3093 0000 		sts endpoints+28+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10240               		.loc 5 169 0
 10241 04d6 8092 0000 		sts endpoints+26,r8
 10242 04da 9092 0000 		sts endpoints+26+1,r9
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10243               		.loc 5 174 0
 10244 04de F701      		movw r30,r14
 10245               	/* #APP */
 10246               	 ;  174 "usb/usb.h" 1
 10247 04e0 02E2      		ldi r16, 34
 10248 04e2 0693      		.dc.w 0x9306
 10249               		
 10250               	 ;  0 "" 2
 10251               	.LVL634:
 10252               	/* #NOAPP */
 10253               	.L393:
 10254               	.LBE2936:
 10255               	.LBE2935:
 10256               	.LBE2938:
 10257               	.LBE2950:
 10258               	.LBB2951:
 10259               	.LBB2952:
  72:usb/pipe.h    **** 	pipe->data->count -= 1;
 10260               		.loc 4 72 0
 10261 04e4 6150      		subi r22,lo8(-(-1))
 10262 04e6 6093 0000 		sts ep_in_pipe_data+4,r22
  73:usb/pipe.h    **** 	pipe->data->read_ptr += pipe->size;
 10263               		.loc 4 73 0
 10264 04ea C901      		movw r24,r18
 10265 04ec 805C      		subi r24,lo8(-(64))
 10266 04ee 9F4F      		sbci r25,hi8(-(64))
 10267 04f0 8093 0000 		sts ep_in_pipe_data,r24
 10268 04f4 9093 0000 		sts ep_in_pipe_data+1,r25
  75:usb/pipe.h    **** 	if (pipe->data->read_ptr == &pipe->buffer[pipe->slots*pipe->size])
 10269               		.loc 4 75 0
 10270 04f8 F0E0      		ldi r31,hi8(ep_in_pipe_buffer+512)
 10271 04fa 8030      		cpi r24,lo8(ep_in_pipe_buffer+512)
 10272 04fc 9F07      		cpc r25,r31
 10273 04fe 01F0      		breq .+2
 10274 0500 00C0      		rjmp .L389
 10275               	.LVL635:
 10276               	.L424:
 10277               	.LBE2952:
 10278               	.LBE2951:
 10279               	.LBB2953:
 10280               	.LBB2954:
 10281               		.loc 4 91 0
 10282 0502 C092 0000 		sts ep_in_pipe_data,r12
 10283 0506 D092 0000 		sts ep_in_pipe_data+1,r13
 10284               	.LVL636:
 10285 050a 00C0      		rjmp .L389
 10286               	.LVL637:
 10287               	.L387:
 10288               	.LBE2954:
 10289               	.LBE2953:
 10290               	.LBE2966:
 10291               	.LBE2971:
 10292               	.LBE2976:
 10293               	.LBE2981:
 10294               	.LBE2999:
 10295               	.LBE3004:
 10296               	.LBE3098:
 10297               	.LBB3099:
 10298               	.LBB3094:
 10299               	.LBB3091:
 10300               	.LBB3089:
 10301               	.LBB3087:
 10302               	.LBB3085:
 10303               	.LBB3083:
 10304               	.LBB3079:
 10305               	.LBB3077:
 10306               	.LBB3075:
 10307               	.LBB3074:
 10308               	.LBB3072:
 10309               	.LBB3073:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10310               		.loc 5 168 0
 10311 050c 8093 0000 		sts endpoints+20,r24
 10312 0510 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10313               		.loc 5 169 0
 10314 0514 2093 0000 		sts endpoints+18,r18
 10315 0518 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10316               		.loc 5 176 0
 10317 051c F701      		movw r30,r14
 10318               	/* #APP */
 10319               	 ;  176 "usb/usb.h" 1
 10320 051e 04E1      		ldi r16, 20
 10321 0520 0693      		.dc.w 0x9306
 10322               		
 10323               	 ;  0 "" 2
 10324               	/* #NOAPP */
 10325 0522 00C0      		rjmp .L379
 10326               	.LVL638:
 10327               	.L392:
 10328               	.LBE3073:
 10329               	.LBE3072:
 10330               	.LBE3074:
 10331               	.LBE3075:
 10332               	.LBE3077:
 10333               	.LBE3079:
 10334               	.LBE3083:
 10335               	.LBE3085:
 10336               	.LBE3087:
 10337               	.LBE3089:
 10338               	.LBE3091:
 10339               	.LBE3094:
 10340               	.LBE3099:
 10341               	.LBB3100:
 10342               	.LBB3005:
 10343               	.LBB3000:
 10344               	.LBB2982:
 10345               	.LBB2977:
 10346               	.LBB2972:
 10347               	.LBB2967:
 10348               	.LBB2956:
 10349               	.LBB2939:
 10350               	.LBB2937:
 10351               	.LBB2934:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10352               		.loc 5 168 0
 10353 0524 2093 0000 		sts endpoints+20,r18
 10354 0528 3093 0000 		sts endpoints+20+1,r19
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10355               		.loc 5 169 0
 10356 052c 8092 0000 		sts endpoints+18,r8
 10357 0530 9092 0000 		sts endpoints+18+1,r9
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10358               		.loc 5 176 0
 10359 0534 F701      		movw r30,r14
 10360               	/* #APP */
 10361               	 ;  176 "usb/usb.h" 1
 10362 0536 04E1      		ldi r16, 20
 10363 0538 0693      		.dc.w 0x9306
 10364               		
 10365               	 ;  0 "" 2
 10366               	/* #NOAPP */
 10367 053a 00C0      		rjmp .L393
 10368               	.LVL639:
 10369               	.L390:
 10370               	.LBE2934:
 10371               	.LBE2937:
 10372               	.LBE2939:
 10373               	.LBE2956:
  87:usb/usb_pipe.h **** 					if (p->data->flush == 1){
 10374               		.loc 2 87 0
 10375 053c 8091 0000 		lds r24,ep_in_data+1
 10376 0540 8130      		cpi r24,lo8(1)
 10377 0542 01F4      		brne .+2
 10378 0544 00C0      		rjmp .L435
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10379               		.loc 2 91 0
 10380 0546 8230      		cpi r24,lo8(2)
 10381 0548 01F0      		breq .+2
 10382 054a 00C0      		rjmp .L389
 10383               	.LVL640:
 10384               	.LBB2957:
 10385               	.LBB2958:
 10386               	.LBB2959:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 10387               		.loc 5 228 0
 10388 054c 8091 0000 		lds r24,endpoints+24
 10389 0550 8670      		andi r24,lo8(6)
 10390               	.LBE2959:
 10391               	.LBE2958:
 10392               	.LBE2957:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10393               		.loc 2 91 0
 10394 0552 8630      		cpi r24,lo8(6)
 10395 0554 01F0      		breq .+2
 10396 0556 00C0      		rjmp .L389
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 10397               		.loc 2 92 0
 10398 0558 1092 0000 		sts ep_in_data+1,__zero_reg__
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 10399               		.loc 2 93 0
 10400 055c 1092 0000 		sts ep_in_data+2,__zero_reg__
 10401 0560 1092 0000 		sts ep_in_data+2+1,__zero_reg__
 10402               	.LBB2960:
 10403               	.LBB2955:
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 10404               		.loc 4 90 0
 10405 0564 1092 0000 		sts ep_in_pipe_data+4,__zero_reg__
 10406               		.loc 4 91 0
 10407 0568 C092 0000 		sts ep_in_pipe_data+2,r12
 10408 056c D092 0000 		sts ep_in_pipe_data+2+1,r13
 10409 0570 00C0      		rjmp .L424
 10410               	.LVL641:
 10411               	.L420:
 10412               	.LBE2955:
 10413               	.LBE2960:
 10414               	.LBE2967:
 10415               	.LBE2972:
 10416               	.LBE2977:
 10417               	.LBE2982:
 10418               	.LBE3000:
 10419               	.LBE3005:
 10420               	.LBE3100:
 10421               	.LBE3104:
 10422               	.LBE3110:
 10423               	.LBE3113:
 10424               	.LBE3117:
 10425               	.LBB3118:
 10426               	.LBB2894:
 10427               	.LBB2891:
 10428               	.LBB2866:
 10429               	.LBB2863:
 10430               	.LBB2860:
 10431               	.LBB2857:
 10432               	.LBB2845:
 10433               	.LBB2846:
 10434               	.LBB2847:
 228:usb/usb.h     **** 		return (e->STATUS & mask) == mask;
 10435               		.loc 5 228 0
 10436 0572 F091 0000 		lds r31,endpoints+24
 10437 0576 F670      		andi r31,lo8(6)
 10438               	.LBE2847:
 10439               	.LBE2846:
 10440               	.LBE2845:
  91:usb/usb_pipe.h **** 					}else if (p->data->flush == 2 && USB_ep_empty(p->ep)){
 10441               		.loc 2 91 0
 10442 0578 F630      		cpi r31,lo8(6)
 10443 057a 01F0      		breq .+2
 10444 057c 00C0      		rjmp .L422
 10445               		.loc 4 91 0
 10446 057e 40E0      		ldi r20,lo8(ep_in_pipe_buffer)
 10447 0580 50E0      		ldi r21,hi8(ep_in_pipe_buffer)
  93:usb/usb_pipe.h **** 						p->data->packet_offset = 0;
 10448               		.loc 2 93 0
 10449 0582 20E0      		ldi r18,lo8(0)
 10450 0584 30E0      		ldi r19,hi8(0)
  92:usb/usb_pipe.h **** 						p->data->flush = 0;
 10451               		.loc 2 92 0
 10452 0586 60E0      		ldi r22,lo8(0)
 10453               		.loc 4 91 0
 10454 0588 6A01      		movw r12,r20
 10455 058a CA01      		movw r24,r20
  90:usb/pipe.h    **** 	pipe->data->count = 0;
 10456               		.loc 4 90 0
 10457 058c 70E0      		ldi r23,lo8(0)
 10458 058e 10E0      		ldi r17,lo8(endpoints+24)
 10459 0590 E12E      		mov r14,r17
 10460 0592 10E0      		ldi r17,hi8(endpoints+24)
 10461 0594 F12E      		mov r15,r17
 10462 0596 00C0      		rjmp .L358
 10463               	.LVL642:
 10464               	.L427:
 10465               	.LBB2848:
 10466               	.LBB2849:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10467               		.loc 2 69 0
 10468 0598 E130      		cpi r30,lo8(1)
 10469 059a 01F4      		brne .L360
 10470 059c 60E0      		ldi r22,lo8(0)
 10471               	.L360:
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10472               		.loc 2 72 0
 10473 059e EE23      		tst r30
 10474 05a0 01F0      		breq .+2
 10475 05a2 00C0      		rjmp .L361
 10476               	.LVL643:
 10477               	.LBB2850:
 10478               	.LBB2851:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10479               		.loc 5 168 0
 10480 05a4 8093 0000 		sts endpoints+28,r24
 10481 05a8 9093 0000 		sts endpoints+28+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10482               		.loc 5 169 0
 10483 05ac 2093 0000 		sts endpoints+26,r18
 10484 05b0 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10485               		.loc 5 174 0
 10486 05b4 00E0      		ldi r16,lo8(endpoints+24)
 10487 05b6 E02E      		mov r14,r16
 10488 05b8 00E0      		ldi r16,hi8(endpoints+24)
 10489 05ba F02E      		mov r15,r16
 10490               	.LVL644:
 10491 05bc F701      		movw r30,r14
 10492               	.LVL645:
 10493               	/* #APP */
 10494               	 ;  174 "usb/usb.h" 1
 10495 05be 02E2      		ldi r16, 34
 10496 05c0 0693      		.dc.w 0x9306
 10497               		
 10498               	 ;  0 "" 2
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10499               		.loc 2 69 0
 10500               	/* #NOAPP */
 10501 05c2 E62F      		mov r30,r22
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 10502               		.loc 2 88 0
 10503 05c4 62E0      		ldi r22,lo8(2)
 10504 05c6 A0E0      		ldi r26,lo8(ep_in_pipe_buffer)
 10505 05c8 CA2E      		mov r12,r26
 10506 05ca A0E0      		ldi r26,hi8(ep_in_pipe_buffer)
 10507 05cc DA2E      		mov r13,r26
 10508 05ce 00C0      		rjmp .L358
 10509               	.LVL646:
 10510               	.L435:
 10511               	.LBE2851:
 10512               	.LBE2850:
 10513               	.LBE2849:
 10514               	.LBE2848:
 10515               	.LBE2857:
 10516               	.LBE2860:
 10517               	.LBE2863:
 10518               	.LBE2866:
 10519               	.LBE2891:
 10520               	.LBE2894:
 10521               	.LBE3118:
 10522               	.LBB3119:
 10523               	.LBB3114:
 10524               	.LBB3111:
 10525               	.LBB3105:
 10526               	.LBB3101:
 10527               	.LBB3006:
 10528               	.LBB3001:
 10529               	.LBB2983:
 10530               	.LBB2978:
 10531               	.LBB2973:
 10532               	.LBB2968:
 10533 05d0 6092 0000 		sts ep_in_data+1,r6
 10534               	.LBB2961:
 10535               	.LBB2962:
  62:usb/pipe.h    **** 	return pipe->data->read_ptr;
 10536               		.loc 4 62 0
 10537 05d4 6091 0000 		lds r22,ep_in_pipe_data
 10538 05d8 7091 0000 		lds r23,ep_in_pipe_data+1
 10539               	.LBE2962:
 10540               	.LBE2961:
  90:usb/usb_pipe.h **** 						_usb_pipe_ep_start(p, pipe_read_ptr(p->pipe), p->data->packet_offset);
 10541               		.loc 2 90 0
 10542 05dc 2091 0000 		lds r18,ep_in_data+2
 10543 05e0 3091 0000 		lds r19,ep_in_data+2+1
 10544               	.LVL647:
 10545               	.LBB2963:
 10546               	.LBB2928:
  68:usb/usb_pipe.h **** 		bank = p->data->bank;
 10547               		.loc 2 68 0
 10548 05e4 5091 0000 		lds r21,ep_in_data
 10549               	.LVL648:
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10550               		.loc 2 69 0
 10551 05e8 852F      		mov r24,r21
 10552 05ea 90E0      		ldi r25,lo8(0)
 10553 05ec 41E0      		ldi r20,lo8(1)
 10554 05ee 8A15      		cp r24,r10
 10555 05f0 9B05      		cpc r25,r11
 10556 05f2 01F4      		brne .L396
 10557 05f4 40E0      		ldi r20,lo8(0)
 10558               	.L396:
 10559 05f6 4093 0000 		sts ep_in_data,r20
  72:usb/usb_pipe.h **** 	if (bank == 0){ // Helps the optimzer constant-fold, since the multiply is expensive
 10560               		.loc 2 72 0
 10561 05fa 5523      		tst r21
 10562 05fc 01F4      		brne .L397
 10563               	.LVL649:
 10564               	.LBB2924:
 10565               	.LBB2925:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10566               		.loc 5 168 0
 10567 05fe 6093 0000 		sts endpoints+28,r22
 10568 0602 7093 0000 		sts endpoints+28+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10569               		.loc 5 169 0
 10570 0606 2093 0000 		sts endpoints+26,r18
 10571 060a 3093 0000 		sts endpoints+26+1,r19
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10572               		.loc 5 174 0
 10573 060e F701      		movw r30,r14
 10574               	/* #APP */
 10575               	 ;  174 "usb/usb.h" 1
 10576 0610 02E2      		ldi r16, 34
 10577 0612 0693      		.dc.w 0x9306
 10578               		
 10579               	 ;  0 "" 2
 10580               	/* #NOAPP */
 10581 0614 00C0      		rjmp .L389
 10582               	.LVL650:
 10583               	.L361:
 10584               	.LBE2925:
 10585               	.LBE2924:
 10586               	.LBE2928:
 10587               	.LBE2963:
 10588               	.LBE2968:
 10589               	.LBE2973:
 10590               	.LBE2978:
 10591               	.LBE2983:
 10592               	.LBE3001:
 10593               	.LBE3006:
 10594               	.LBE3101:
 10595               	.LBE3105:
 10596               	.LBE3111:
 10597               	.LBE3114:
 10598               	.LBE3119:
 10599               	.LBB3120:
 10600               	.LBB2895:
 10601               	.LBB2892:
 10602               	.LBB2867:
 10603               	.LBB2864:
 10604               	.LBB2861:
 10605               	.LBB2858:
 10606               	.LBB2855:
 10607               	.LBB2854:
 10608               	.LBB2852:
 10609               	.LBB2853:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10610               		.loc 5 168 0
 10611 0616 8093 0000 		sts endpoints+20,r24
 10612 061a 9093 0000 		sts endpoints+20+1,r25
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10613               		.loc 5 169 0
 10614 061e 2093 0000 		sts endpoints+18,r18
 10615 0622 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10616               		.loc 5 176 0
 10617 0626 A0E0      		ldi r26,lo8(endpoints+24)
 10618 0628 EA2E      		mov r14,r26
 10619 062a A0E0      		ldi r26,hi8(endpoints+24)
 10620 062c FA2E      		mov r15,r26
 10621 062e F701      		movw r30,r14
 10622               	.LVL651:
 10623               	/* #APP */
 10624               	 ;  176 "usb/usb.h" 1
 10625 0630 04E1      		ldi r16, 20
 10626 0632 0693      		.dc.w 0x9306
 10627               		
 10628               	 ;  0 "" 2
  69:usb/usb_pipe.h **** 		p->data->bank ^= 1;
 10629               		.loc 2 69 0
 10630               	/* #NOAPP */
 10631 0634 E62F      		mov r30,r22
  88:usb/usb_pipe.h **** 						p->data->flush = 2;
 10632               		.loc 2 88 0
 10633 0636 62E0      		ldi r22,lo8(2)
 10634 0638 10E0      		ldi r17,lo8(ep_in_pipe_buffer)
 10635 063a C12E      		mov r12,r17
 10636 063c 10E0      		ldi r17,hi8(ep_in_pipe_buffer)
 10637 063e D12E      		mov r13,r17
 10638 0640 00C0      		rjmp .L358
 10639               	.LVL652:
 10640               	.L397:
 10641               	.LBE2853:
 10642               	.LBE2852:
 10643               	.LBE2854:
 10644               	.LBE2855:
 10645               	.LBE2858:
 10646               	.LBE2861:
 10647               	.LBE2864:
 10648               	.LBE2867:
 10649               	.LBE2892:
 10650               	.LBE2895:
 10651               	.LBE3120:
 10652               	.LBB3121:
 10653               	.LBB3115:
 10654               	.LBB3112:
 10655               	.LBB3106:
 10656               	.LBB3102:
 10657               	.LBB3007:
 10658               	.LBB3002:
 10659               	.LBB2984:
 10660               	.LBB2979:
 10661               	.LBB2974:
 10662               	.LBB2969:
 10663               	.LBB2964:
 10664               	.LBB2929:
 10665               	.LBB2926:
 10666               	.LBB2927:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10667               		.loc 5 168 0
 10668 0642 6093 0000 		sts endpoints+20,r22
 10669 0646 7093 0000 		sts endpoints+20+1,r23
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10670               		.loc 5 169 0
 10671 064a 2093 0000 		sts endpoints+18,r18
 10672 064e 3093 0000 		sts endpoints+18+1,r19
 176:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK1_bm | USB_EP_TRNCOMPL1_bm);
 10673               		.loc 5 176 0
 10674 0652 F701      		movw r30,r14
 10675               	/* #APP */
 10676               	 ;  176 "usb/usb.h" 1
 10677 0654 04E1      		ldi r16, 20
 10678 0656 0693      		.dc.w 0x9306
 10679               		
 10680               	 ;  0 "" 2
 10681               	/* #NOAPP */
 10682 0658 00C0      		rjmp .L389
 10683               	.LBE2927:
 10684               	.LBE2926:
 10685               	.LBE2929:
 10686               	.LBE2964:
 10687               	.LBE2969:
 10688               	.LBE2974:
 10689               	.LBE2979:
 10690               	.LBE2984:
 10691               	.LBE3002:
 10692               	.LBE3007:
 10693               	.LBE3102:
 10694               	.LBE3106:
 10695               	.LBE3112:
 10696               	.LBE3115:
 10697               	.LBE3121:
 10698               		.cfi_endproc
 10699               	.LFE80:
 10701               		.text
 10702               	.global	EVENT_USB_Device_ControlRequest
 10704               	EVENT_USB_Device_ControlRequest:
 10705               	.LFB81:
  79:main.c        **** bool EVENT_USB_Device_ControlRequest(USB_Request_Header_t* req){
 10706               		.loc 6 79 0
 10707               		.cfi_startproc
 10708               	.LVL653:
 10709 22f0 0F93      		push r16
 10710               	.LCFI137:
 10711               		.cfi_def_cfa_offset 3
 10712               		.cfi_offset 16, -2
 10713 22f2 1F93      		push r17
 10714               	.LCFI138:
 10715               		.cfi_def_cfa_offset 4
 10716               		.cfi_offset 17, -3
 10717 22f4 CF93      		push r28
 10718               	.LCFI139:
 10719               		.cfi_def_cfa_offset 5
 10720               		.cfi_offset 28, -4
 10721 22f6 DF93      		push r29
 10722               	.LCFI140:
 10723               		.cfi_def_cfa_offset 6
 10724               		.cfi_offset 29, -5
 10725               	/* prologue: function */
 10726               	/* frame size = 0 */
 10727               	/* stack size = 4 */
 10728               	.L__stack_usage = 4
 10729 22f8 9C01      		movw r18,r24
 10730               	.LVL654:
 139:main.c        **** 	return false;
 10731               		.loc 6 139 0
 10732 22fa A0E0      		ldi r26,lo8(ep0_buf_in)
 10733 22fc B0E0      		ldi r27,hi8(ep0_buf_in)
  79:main.c        **** bool EVENT_USB_Device_ControlRequest(USB_Request_Header_t* req){
 10734               		.loc 6 79 0
 10735 22fe 8D01      		movw r16,r26
 10736 2300 80E0      		ldi r24,lo8(ep0_buf_in+64)
 10737 2302 90E0      		ldi r25,hi8(ep0_buf_in+64)
 10738               	.LVL655:
 10739 2304 FD01      		movw r30,r26
 10740               	.LVL656:
 10741               	.L437:
 10742               	.LBB3122:
  81:main.c        **** 	for (uint8_t i = 0; i < 64; i++) ep0_buf_in[i] = 0;
 10743               		.loc 6 81 0 discriminator 2
 10744 2306 1192      		st Z+,__zero_reg__
 10745 2308 40E0      		ldi r20,hi8(ep0_buf_in+64)
 10746 230a E030      		cpi r30,lo8(ep0_buf_in+64)
 10747 230c F407      		cpc r31,r20
 10748 230e 01F4      		brne .L437
 10749               	.LBE3122:
  82:main.c        **** 	usb_cmd = 0;
 10750               		.loc 6 82 0
 10751 2310 1092 0000 		sts usb_cmd,__zero_reg__
  83:main.c        **** 	if ((req->bmRequestType & CONTROL_REQTYPE_TYPE) == REQTYPE_VENDOR){
 10752               		.loc 6 83 0
 10753 2314 F901      		movw r30,r18
 10754 2316 C081      		ld r28,Z
 10755 2318 D0E0      		ldi r29,lo8(0)
 10756 231a C076      		andi r28,lo8(96)
 10757 231c D070      		andi r29,hi8(96)
 10758 231e C034      		cpi r28,64
 10759 2320 D105      		cpc r29,__zero_reg__
 10760 2322 01F0      		breq .L461
 10761               	.L455:
 139:main.c        **** 	return false;
 10762               		.loc 6 139 0
 10763 2324 80E0      		ldi r24,lo8(0)
 10764               	.LVL657:
 10765               	.L438:
 10766               	/* epilogue start */
 140:main.c        **** }
 10767               		.loc 6 140 0
 10768 2326 DF91      		pop r29
 10769 2328 CF91      		pop r28
 10770 232a 1F91      		pop r17
 10771 232c 0F91      		pop r16
 10772 232e 0895      		ret
 10773               	.LVL658:
 10774               	.L461:
  84:main.c        **** 		switch(req->bRequest){
 10775               		.loc 6 84 0
 10776 2330 4181      		ldd r20,Z+1
 10777 2332 4631      		cpi r20,lo8(22)
 10778 2334 01F4      		brne .+2
 10779 2336 00C0      		rjmp .L443
 10780 2338 4731      		cpi r20,lo8(23)
 10781 233a 00F0      		brlo .L462
 10782 233c 4B3B      		cpi r20,lo8(-69)
 10783 233e 01F4      		brne .+2
 10784 2340 00C0      		rjmp .L445
 10785 2342 4C3B      		cpi r20,lo8(-68)
 10786 2344 00F0      		brlo .+2
 10787 2346 00C0      		rjmp .L450
 10788 2348 4731      		cpi r20,lo8(23)
 10789 234a 01F4      		brne .L455
 10790               	.LBB3123:
 115:main.c        **** 				addr = (uint16_t *) req->wIndex;
 10791               		.loc 6 115 0
 10792 234c 0480      		ldd __tmp_reg__,Z+4
 10793 234e F581      		ldd r31,Z+5
 10794 2350 E02D      		mov r30,__tmp_reg__
 10795               	.LVL659:
 116:main.c        **** 				ep0_buf_in[0] = *addr & 0xFF;
 10796               		.loc 6 116 0
 10797 2352 8081      		ld r24,Z
 10798 2354 8093 0000 		sts ep0_buf_in,r24
 117:main.c        **** 				ep0_buf_in[1] = *addr >> 8;
 10799               		.loc 6 117 0
 10800 2358 8181      		ldd r24,Z+1
 10801 235a 8093 0000 		sts ep0_buf_in+1,r24
 10802               	.LVL660:
 10803               	.LBB3124:
 10804               	.LBB3125:
 10805               	.LBB3126:
 10806               	.LBB3127:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10807               		.loc 5 168 0
 10808 235e 0093 0000 		sts endpoints+12,r16
 10809 2362 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10810               		.loc 5 169 0
 10811 2366 82E0      		ldi r24,lo8(2)
 10812 2368 90E0      		ldi r25,hi8(2)
 10813 236a 8093 0000 		sts endpoints+10,r24
 10814 236e 9093 0000 		sts endpoints+10+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10815               		.loc 5 174 0
 10816 2372 E0E0      		ldi r30,lo8(endpoints+8)
 10817 2374 F0E0      		ldi r31,hi8(endpoints+8)
 10818               	/* #APP */
 10819               	 ;  174 "usb/usb.h" 1
 10820 2376 02E2      		ldi r16, 34
 10821 2378 0693      		.dc.w 0x9306
 10822               		
 10823               	 ;  0 "" 2
 10824               	/* #NOAPP */
 10825               	.LBE3127:
 10826               	.LBE3126:
 10827               	.LBE3125:
 10828               	.LBE3124:
 10829               	.LBE3123:
 119:main.c        **** 				return true;
 10830               		.loc 6 119 0
 10831 237a 81E0      		ldi r24,lo8(1)
 10832 237c 00C0      		rjmp .L438
 10833               	.LVL661:
 10834               	.L462:
  84:main.c        **** 		switch(req->bRequest){
 10835               		.loc 6 84 0
 10836 237e 4230      		cpi r20,lo8(2)
 10837 2380 01F4      		brne .+2
 10838 2382 00C0      		rjmp .L440
 10839 2384 4330      		cpi r20,lo8(3)
 10840 2386 00F4      		brsh .L449
 10841 2388 4423      		tst r20
 10842 238a 01F4      		brne .L455
  86:main.c        **** 				if (req->wIndex == 0){
 10843               		.loc 6 86 0
 10844 238c 8481      		ldd r24,Z+4
 10845 238e 9581      		ldd r25,Z+5
 10846 2390 0097      		sbiw r24,0
 10847 2392 01F4      		brne .+2
 10848 2394 00C0      		rjmp .L463
  88:main.c        **** 				}else if (req->wIndex == 1){
 10849               		.loc 6 88 0
 10850 2396 8130      		cpi r24,1
 10851 2398 9105      		cpc r25,__zero_reg__
 10852 239a 01F4      		brne .+2
 10853 239c 00C0      		rjmp .L464
  91:main.c        **** 				return true;
 10854               		.loc 6 91 0
 10855 239e 81E0      		ldi r24,lo8(1)
 10856 23a0 00C0      		rjmp .L438
 10857               	.L449:
  84:main.c        **** 		switch(req->bRequest){
 10858               		.loc 6 84 0
 10859 23a2 4830      		cpi r20,lo8(8)
 10860 23a4 01F0      		breq .L441
 10861 23a6 4930      		cpi r20,lo8(9)
 10862 23a8 01F0      		breq .+2
 10863 23aa 00C0      		rjmp .L455
 106:main.c        **** 				ep0_buf_in[0] = * ((uint8_t *) req->wIndex);
 10864               		.loc 6 106 0
 10865 23ac 0480      		ldd __tmp_reg__,Z+4
 10866 23ae F581      		ldd r31,Z+5
 10867 23b0 E02D      		mov r30,__tmp_reg__
 10868 23b2 8081      		ld r24,Z
 10869 23b4 8093 0000 		sts ep0_buf_in,r24
 10870               	.LVL662:
 10871               	.LBB3128:
 10872               	.LBB3129:
 10873               	.LBB3130:
 10874               	.LBB3131:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10875               		.loc 5 168 0
 10876 23b8 0093 0000 		sts endpoints+12,r16
 10877 23bc 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10878               		.loc 5 169 0
 10879 23c0 81E0      		ldi r24,lo8(1)
 10880 23c2 90E0      		ldi r25,hi8(1)
 10881 23c4 8093 0000 		sts endpoints+10,r24
 10882 23c8 9093 0000 		sts endpoints+10+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10883               		.loc 5 174 0
 10884 23cc E0E0      		ldi r30,lo8(endpoints+8)
 10885 23ce F0E0      		ldi r31,hi8(endpoints+8)
 10886               	.LVL663:
 10887               	/* #APP */
 10888               	 ;  174 "usb/usb.h" 1
 10889 23d0 02E2      		ldi r16, 34
 10890 23d2 0693      		.dc.w 0x9306
 10891               		
 10892               	 ;  0 "" 2
 10893               	/* #NOAPP */
 10894               	.LBE3131:
 10895               	.LBE3130:
 10896               	.LBE3129:
 10897               	.LBE3128:
 108:main.c        **** 				return true;
 10898               		.loc 6 108 0
 10899 23d4 81E0      		ldi r24,lo8(1)
 10900 23d6 00C0      		rjmp .L438
 10901               	.LVL664:
 10902               	.L450:
  84:main.c        **** 		switch(req->bRequest){
 10903               		.loc 6 84 0
 10904 23d8 403E      		cpi r20,lo8(-32)
 10905 23da 01F0      		breq .L446
 10906 23dc 413E      		cpi r20,lo8(-31)
 10907 23de 01F0      		breq .+2
 10908 23e0 00C0      		rjmp .L455
 128:main.c        **** 				usb_cmd = req->bRequest;
 10909               		.loc 6 128 0
 10910 23e2 4093 0000 		sts usb_cmd,r20
 129:main.c        **** 				cmd_data = req->wIndex;
 10911               		.loc 6 129 0
 10912 23e6 8481      		ldd r24,Z+4
 10913 23e8 8093 0000 		sts cmd_data,r24
 10914               	.LVL665:
 10915               	.L460:
 10916               	.LBB3132:
 10917               	.LBB3133:
 10918               	.LBB3134:
 10919               	.LBB3135:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10920               		.loc 5 168 0
 10921 23ec 0093 0000 		sts endpoints+12,r16
 10922 23f0 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10923               		.loc 5 169 0
 10924 23f4 1092 0000 		sts endpoints+10,__zero_reg__
 10925 23f8 1092 0000 		sts endpoints+10+1,__zero_reg__
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10926               		.loc 5 174 0
 10927 23fc E0E0      		ldi r30,lo8(endpoints+8)
 10928 23fe F0E0      		ldi r31,hi8(endpoints+8)
 10929               	.LVL666:
 10930               	/* #APP */
 10931               	 ;  174 "usb/usb.h" 1
 10932 2400 02E2      		ldi r16, 34
 10933 2402 0693      		.dc.w 0x9306
 10934               		
 10935               	 ;  0 "" 2
 10936               	/* #NOAPP */
 10937               	.LBE3135:
 10938               	.LBE3134:
 10939               	.LBE3133:
 10940               	.LBE3132:
 112:main.c        **** 				return true;
 10941               		.loc 6 112 0
 10942 2404 81E0      		ldi r24,lo8(1)
 10943               	/* epilogue start */
 140:main.c        **** }
 10944               		.loc 6 140 0
 10945 2406 DF91      		pop r29
 10946 2408 CF91      		pop r28
 10947 240a 1F91      		pop r17
 10948 240c 0F91      		pop r16
 10949 240e 0895      		ret
 10950               	.LVL667:
 10951               	.L441:
 102:main.c        **** 				* ((uint8_t *) req->wIndex) = req->wValue;
 10952               		.loc 6 102 0
 10953 2410 D901      		movw r26,r18
 10954 2412 0480      		ldd __tmp_reg__,Z+4
 10955 2414 F581      		ldd r31,Z+5
 10956 2416 E02D      		mov r30,__tmp_reg__
 10957 2418 1296      		adiw r26,2
 10958 241a 8C91      		ld r24,X
 10959 241c 1297      		sbiw r26,2
 10960 241e 8083      		st Z,r24
 10961               	.LVL668:
 10962 2420 00C0      		rjmp .L460
 10963               	.LVL669:
 10964               	.L446:
 122:main.c        **** 				eeprom_read_block(ep0_buf_in, (void*)(req->wIndex*64), 64);
 10965               		.loc 6 122 0
 10966 2422 F901      		movw r30,r18
 10967 2424 6481      		ldd r22,Z+4
 10968 2426 7581      		ldd r23,Z+5
 10969 2428 0024      		clr __tmp_reg__
 10970 242a 7695      		lsr r23
 10971 242c 6795      		ror r22
 10972 242e 0794      		ror __tmp_reg__
 10973 2430 7695      		lsr r23
 10974 2432 6795      		ror r22
 10975 2434 0794      		ror __tmp_reg__
 10976 2436 762F      		mov r23,r22
 10977 2438 602D      		mov r22,__tmp_reg__
 10978 243a 80E0      		ldi r24,lo8(ep0_buf_in)
 10979 243c 90E0      		ldi r25,hi8(ep0_buf_in)
 10980 243e 40E4      		ldi r20,lo8(64)
 10981 2440 50E0      		ldi r21,hi8(64)
 10982 2442 0E94 0000 		call __eerd_block_x32a4u
 10983               	.LVL670:
 10984               	.LBB3136:
 10985               	.LBB3137:
 10986               	.LBB3138:
 10987               	.LBB3139:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 10988               		.loc 5 168 0
 10989 2446 0093 0000 		sts endpoints+12,r16
 10990 244a 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 10991               		.loc 5 169 0
 10992 244e C093 0000 		sts endpoints+10,r28
 10993 2452 D093 0000 		sts endpoints+10+1,r29
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 10994               		.loc 5 174 0
 10995 2456 E0E0      		ldi r30,lo8(endpoints+8)
 10996 2458 F0E0      		ldi r31,hi8(endpoints+8)
 10997               	.LVL671:
 10998               	/* #APP */
 10999               	 ;  174 "usb/usb.h" 1
 11000 245a 02E2      		ldi r16, 34
 11001 245c 0693      		.dc.w 0x9306
 11002               		
 11003               	 ;  0 "" 2
 11004               	/* #NOAPP */
 11005               	.LBE3139:
 11006               	.LBE3138:
 11007               	.LBE3137:
 11008               	.LBE3136:
 124:main.c        **** 				return true;
 11009               		.loc 6 124 0
 11010 245e 81E0      		ldi r24,lo8(1)
 11011 2460 00C0      		rjmp .L438
 11012               	.LVL672:
 11013               	.L445:
 11014               	.LBB3140:
 11015               	.LBB3141:
 330:usb/usb.h     **** 		USB_ep0_enableOut();
 331:usb/usb.h     **** 	}
 332:usb/usb.h     **** }
 333:usb/usb.h     **** 
 334:usb/usb.h     **** static inline void USB_enter_bootloader(void){
 335:usb/usb.h     **** 	cli();
 11016               		.loc 5 335 0
 11017               	/* #APP */
 11018               	 ;  335 "usb/usb.h" 1
 11019 2462 F894      		cli
 11020               	 ;  0 "" 2
 11021               	.LVL673:
 11022               	/* #NOAPP */
 11023               	.LBB3142:
 11024               	.LBB3143:
 11025               	.LBB3144:
 11026               	.LBB3145:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11027               		.loc 5 168 0
 11028 2464 0093 0000 		sts endpoints+12,r16
 11029 2468 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11030               		.loc 5 169 0
 11031 246c 1092 0000 		sts endpoints+10,__zero_reg__
 11032 2470 1092 0000 		sts endpoints+10+1,__zero_reg__
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11033               		.loc 5 174 0
 11034 2474 E0E0      		ldi r30,lo8(endpoints+8)
 11035 2476 F0E0      		ldi r31,hi8(endpoints+8)
 11036               	.LVL674:
 11037               	/* #APP */
 11038               	 ;  174 "usb/usb.h" 1
 11039 2478 02E2      		ldi r16, 34
 11040 247a 0693      		.dc.w 0x9306
 11041               		
 11042               	 ;  0 "" 2
 11043               	/* #NOAPP */
 11044               	.LBE3145:
 11045               	.LBE3144:
 11046               	.LBE3143:
 11047               	.LBE3142:
 11048               	.LBB3146:
 11049               	.LBB3147:
 280:usb/usb.h     **** 	LACR16(&endpoints[0].out.STATUS, USB_EP_SETUP_bm | USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm | USB_
 11050               		.loc 5 280 0
 11051 247c 3897      		sbiw r30,8
 11052               	.LVL675:
 11053               	/* #APP */
 11054               	 ;  280 "usb/usb.h" 1
 11055 247e 02E7      		ldi r16, 114
 11056 2480 0693      		.dc.w 0x9306
 11057               		
 11058               	 ;  0 "" 2
 11059               	.LVL676:
 11060               	/* #NOAPP */
 11061               	.L453:
 11062               	.LBE3147:
 11063               	.LBE3146:
 11064               	.LBB3148:
 11065               	.LBB3149:
 11066               	.LBB3150:
 11067               	.LBB3151:
 202:usb/usb.h     **** 		return e->STATUS & USB_EP_TRNCOMPL0_bm;
 11068               		.loc 5 202 0
 11069 2482 8091 0000 		lds r24,endpoints
 11070               	.LBE3151:
 11071               	.LBE3150:
 253:usb/usb.h     **** 	while (!USB_ep_done(ep)){};
 11072               		.loc 5 253 0
 11073 2486 85FF      		sbrs r24,5
 11074 2488 00C0      		rjmp .L453
 11075               	.LVL677:
 11076               	.LBE3149:
 11077               	.LBE3148:
 11078               	.LBB3152:
 11079               	.LBB3153:
 11080               		.loc 11 164 0
 11081 248a 8FEF      		 ldi r24,lo8(63999)
 11082 248c 99EF      	    ldi r25,hi8(63999)
 11083 248e A0E0      	    ldi r26,hlo8(63999)
 11084 2490 8150      	    1:subi r24,1
 11085 2492 9040      	    sbci r25,0
 11086 2494 A040      	    sbci r26,0
 11087 2496 01F4      	    brne 1b
 11088 2498 00C0      		rjmp .
 11089 249a 0000      		nop
 11090               	.LBE3153:
 11091               	.LBE3152:
 11092               	.LBB3154:
 11093               	.LBB3155:
 296:usb/usb.h     **** 	USB.CTRLB &= ~USB_ATTACH_bm;
 11094               		.loc 5 296 0
 11095 249c 8091 C104 		lds r24,1217
 11096 24a0 8E7F      		andi r24,lo8(-2)
 11097 24a2 E0EC      		ldi r30,lo8(1216)
 11098 24a4 F4E0      		ldi r31,hi8(1216)
 11099               	.LVL678:
 11100 24a6 8183      		std Z+1,r24
 11101               	.LVL679:
 11102               	.LBE3155:
 11103               	.LBE3154:
 11104               	.LBB3156:
 11105               	.LBB3157:
 11106               		.loc 11 164 0
 11107 24a8 8FEF      		 ldi r24,lo8(639999)
 11108 24aa 93EC      	    ldi r25,hi8(639999)
 11109 24ac A9E0      	    ldi r26,hlo8(639999)
 11110 24ae 8150      	    1:subi r24,1
 11111 24b0 9040      	    sbci r25,0
 11112 24b2 A040      	    sbci r26,0
 11113 24b4 01F4      	    brne 1b
 11114 24b6 00C0      		rjmp .
 11115 24b8 0000      		nop
 11116               	.LVL680:
 11117               	.LBE3157:
 11118               	.LBE3156:
 336:usb/usb.h     **** 	USB_ep0_send(0);
 337:usb/usb.h     **** 	USB_ep0_enableOut();
 338:usb/usb.h     **** 	USB_ep_wait(0x00); // Wait for the status stage to complete
 339:usb/usb.h     **** 	_delay_ms(10);
 340:usb/usb.h     **** 	USB_Detach();
 341:usb/usb.h     **** 	_delay_ms(100);
 342:usb/usb.h     **** 	void (*enter_bootloader)(void) = (void*) 0x47fc /*0x8ff8/2*/;
 343:usb/usb.h     **** 	enter_bootloader();
 11119               		.loc 5 343 0
 11120 24ba ECEF      		ldi r30,lo8(18428)
 11121 24bc F7E4      		ldi r31,hi8(18428)
 11122 24be 0995      		icall
 11123               	.LVL681:
 11124               	.LBE3141:
 11125               	.LBE3140:
 136:main.c        **** 				return true;
 11126               		.loc 6 136 0
 11127 24c0 81E0      		ldi r24,lo8(1)
 11128 24c2 00C0      		rjmp .L438
 11129               	.LVL682:
 11130               	.L440:
 11131               	.LBB3158:
  94:main.c        **** 					int l = strlen(message);
 11132               		.loc 6 94 0
 11133 24c4 3091 0000 		lds r19,message
 11134 24c8 2091 0000 		lds r18,message+1
 11135               	.LVL683:
 11136 24cc C32F      		mov r28,r19
 11137 24ce D22F      		mov r29,r18
 11138 24d0 FE01      		movw r30,r28
 11139               	.LVL684:
 11140 24d2 0190      		ld __tmp_reg__,Z+
 11141 24d4 0020      		tst __tmp_reg__
 11142 24d6 01F4      		brne .-6
 11143 24d8 3197      		sbiw r30,1
 11144 24da E31B      		sub r30,r19
 11145               	.LVL685:
 11146               	.L452:
 11147               	.LBB3159:
  96:main.c        **** 						ep0_buf_in[i] = message[i];
 11148               		.loc 6 96 0 discriminator 2
 11149 24dc 2991      		ld r18,Y+
 11150 24de 2D93      		st X+,r18
  95:main.c        **** 					for (uint8_t i=0; i<64; i++) {
 11151               		.loc 6 95 0 discriminator 2
 11152 24e0 8A17      		cp r24,r26
 11153 24e2 9B07      		cpc r25,r27
 11154 24e4 01F4      		brne .L452
 11155               	.LVL686:
 11156               	.LBE3159:
 11157               	.LBB3160:
 11158               	.LBB3161:
 247:usb/usb.h     **** 	USB_ep_in_start(0x80, ep0_buf_in, size);
 11159               		.loc 5 247 0
 11160 24e6 8E2F      		mov r24,r30
 11161 24e8 90E0      		ldi r25,lo8(0)
 11162               	.LVL687:
 11163               	.LBB3162:
 11164               	.LBB3163:
 11165               	.LBB3164:
 168:usb/usb.h     **** 	b->DATAPTR = (unsigned) addr;
 11166               		.loc 5 168 0
 11167 24ea 0093 0000 		sts endpoints+12,r16
 11168 24ee 1093 0000 		sts endpoints+12+1,r17
 169:usb/usb.h     **** 	if (ep & USB_EP_IN) b->CNT = size;
 11169               		.loc 5 169 0
 11170 24f2 8093 0000 		sts endpoints+10,r24
 11171 24f6 9093 0000 		sts endpoints+10+1,r25
 174:usb/usb.h     **** 		LACR16(&(e->STATUS), USB_EP_BUSNACK0_bm | USB_EP_TRNCOMPL0_bm);
 11172               		.loc 5 174 0
 11173 24fa E0E0      		ldi r30,lo8(endpoints+8)
 11174 24fc F0E0      		ldi r31,hi8(endpoints+8)
 11175               	.LVL688:
 11176               	/* #APP */
 11177               	 ;  174 "usb/usb.h" 1
 11178 24fe 02E2      		ldi r16, 34
 11179 2500 0693      		.dc.w 0x9306
 11180               		
 11181               	 ;  0 "" 2
 11182               	/* #NOAPP */
 11183               	.LBE3164:
 11184               	.LBE3163:
 11185               	.LBE3162:
 11186               	.LBE3161:
 11187               	.LBE3160:
  99:main.c        **** 					return true;
 11188               		.loc 6 99 0
 11189 2502 81E0      		ldi r24,lo8(1)
 11190               	.LVL689:
 11191 2504 00C0      		rjmp .L438
 11192               	.LVL690:
 11193               	.L443:
 11194               	.LBE3158:
 110:main.c        **** 				* ((uint16_t *) req->wIndex) = req->wValue;
 11195               		.loc 6 110 0
 11196 2506 F901      		movw r30,r18
 11197 2508 8281      		ldd r24,Z+2
 11198 250a 9381      		ldd r25,Z+3
 11199 250c 0480      		ldd __tmp_reg__,Z+4
 11200 250e F581      		ldd r31,Z+5
 11201 2510 E02D      		mov r30,__tmp_reg__
 11202 2512 8083      		st Z,r24
 11203 2514 9183      		std Z+1,r25
 11204 2516 00C0      		rjmp .L460
 11205               	.L464:
  89:main.c        **** 					USB_ep0_send_progmem((uint8_t*)fwversion, sizeof(fwversion));
 11206               		.loc 6 89 0
 11207 2518 80E0      		ldi r24,lo8(fwversion)
 11208 251a 90E0      		ldi r25,hi8(fwversion)
 11209 251c 6BE0      		ldi r22,lo8(11)
 11210 251e 70E0      		ldi r23,hi8(11)
 11211 2520 0E94 0000 		call USB_ep0_send_progmem
 11212               	.LVL691:
  91:main.c        **** 				return true;
 11213               		.loc 6 91 0
 11214 2524 81E0      		ldi r24,lo8(1)
 11215 2526 00C0      		rjmp .L438
 11216               	.LVL692:
 11217               	.L463:
  87:main.c        **** 					USB_ep0_send_progmem((uint8_t*)hwversion, sizeof(hwversion));
 11218               		.loc 6 87 0
 11219 2528 80E0      		ldi r24,lo8(hwversion)
 11220 252a 90E0      		ldi r25,hi8(hwversion)
 11221 252c 6BE0      		ldi r22,lo8(11)
 11222 252e 70E0      		ldi r23,hi8(11)
 11223 2530 0E94 0000 		call USB_ep0_send_progmem
 11224               	.LVL693:
  91:main.c        **** 				return true;
 11225               		.loc 6 91 0
 11226 2534 81E0      		ldi r24,lo8(1)
 11227 2536 00C0      		rjmp .L438
 11228               		.cfi_endproc
 11229               	.LFE81:
 11231               	.global	EVENT_USB_Device_ControlOUT
 11233               	EVENT_USB_Device_ControlOUT:
 11234               	.LFB82:
 142:main.c        **** void EVENT_USB_Device_ControlOUT(uint8_t* buf, uint8_t count){
 11235               		.loc 6 142 0
 11236               		.cfi_startproc
 11237               	.LVL694:
 11238               	/* prologue: function */
 11239               	/* frame size = 0 */
 11240               	/* stack size = 0 */
 11241               	.L__stack_usage = 0
 11242 2538 462F      		mov r20,r22
 143:main.c        **** 	switch (usb_cmd){
 11243               		.loc 6 143 0
 11244 253a 2091 0000 		lds r18,usb_cmd
 11245 253e 213E      		cpi r18,lo8(-31)
 11246 2540 01F0      		breq .L468
 11247               	.LVL695:
 11248 2542 0895      		ret
 11249               	.L468:
 11250               		.loc 6 145 0
 11251 2544 2091 0000 		lds r18,cmd_data
 11252 2548 30E0      		ldi r19,lo8(0)
 11253 254a 0024      		clr __tmp_reg__
 11254 254c 3695      		lsr r19
 11255 254e 2795      		ror r18
 11256 2550 0794      		ror __tmp_reg__
 11257 2552 3695      		lsr r19
 11258 2554 2795      		ror r18
 11259 2556 0794      		ror __tmp_reg__
 11260 2558 322F      		mov r19,r18
 11261 255a 202D      		mov r18,__tmp_reg__
 11262 255c B901      		movw r22,r18
 11263 255e 50E0      		ldi r21,lo8(0)
 11264 2560 0E94 0000 		call __eeupd_block_x32a4u
 11265               	.LVL696:
 11266 2564 0895      		ret
 11267               		.cfi_endproc
 11268               	.LFE82:
 11270               	.global	cmd_data
 11271               	.global	cmd_data
 11272               		.section .bss
 11275               	cmd_data:
 11276 0000 00        		.skip 1,0
 11277               	.global	usb_cmd
 11278               	.global	usb_cmd
 11281               	usb_cmd:
 11282 0001 00        		.skip 1,0
 11283               	.global	fwversion
 11284               		.section	.progmem.data,"a",@progbits
 11287               	fwversion:
 11288 0000 4657 5F56 		.string	"FW_VERSION"
 11288      4552 5349 
 11288      4F4E 00
 11289               	.global	hwversion
 11292               	hwversion:
 11293 000b 4857 5F56 		.string	"HW_VERSION"
 11293      4552 5349 
 11293      4F4E 00
 11294               		.comm count,2,1
 11295               	.global	updating
 11296               	.global	updating
 11297               		.section .bss
 11300               	updating:
 11301 0002 00        		.skip 1,0
 11302               		.comm message,2,1
 11303               	.global	twilio_number
 11304               		.data
 11305               	.LC16:
 11306 00ba 2B31 3330 		.string	"+13042493059"
 11306      3432 3439 
 11306      3330 3539 
 11306      00
 11309               	twilio_number:
 11310 00c7 0000      		.word	.LC16
 11311               	.global	debug
 11312               	.global	debug
 11313               		.section .bss
 11316               	debug:
 11317 0003 00        		.skip 1,0
 11318               	.global	max_dist
 11319               		.data
 11322               	max_dist:
 11323 00c9 CD        		.byte	-51
 11324 00ca CC        		.byte	-52
 11325 00cb 4C        		.byte	76
 11326 00cc 3E        		.byte	62
 11327               	.global	lng
 11330               	lng:
 11331 00cd 7D        		.byte	125
 11332 00ce 87        		.byte	-121
 11333 00cf 8E        		.byte	-114
 11334 00d0 C2        		.byte	-62
 11335               	.global	lat
 11338               	lat:
 11339 00d1 C6        		.byte	-58
 11340 00d2 2B        		.byte	43
 11341 00d3 29        		.byte	41
 11342 00d4 42        		.byte	66
 11343               	.global	timeout_or_sampling_no_longer_enabled
 11344               	.global	timeout_or_sampling_no_longer_enabled
 11345               		.section .bss
 11348               	timeout_or_sampling_no_longer_enabled:
 11349 0004 00        		.skip 1,0
 11350               	.global	ep_in_data
 11351               	.global	ep_in_data
 11354               	ep_in_data:
 11355 0005 0000 0000 		.skip 4,0
 11356               	.global	ep_in_pipe_data
 11357               		.data
 11360               	ep_in_pipe_data:
 11361 00d5 0000      		.word	ep_in_pipe_buffer
 11362 00d7 0000      		.word	ep_in_pipe_buffer
 11363 00d9 00        		.byte	0
 11364               		.comm ep_in_pipe_buffer,512,1
 11365               		.text
 11366               	.Letext0:
 11367               		.file 14 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/stdint.h"
 11368               		.file 15 "/usr/lib/gcc/avr/4.6.2/../../../avr/include/avr/iox32a4u.h"
 11369               		.file 16 "usb/StdRequestType.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/cc7IQUFr.s:2      *ABS*:000000000000003f __SREG__
     /tmp/cc7IQUFr.s:3      *ABS*:000000000000003e __SP_H__
     /tmp/cc7IQUFr.s:4      *ABS*:000000000000003d __SP_L__
     /tmp/cc7IQUFr.s:5      *ABS*:0000000000000034 __CCP__
     /tmp/cc7IQUFr.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cc7IQUFr.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/cc7IQUFr.s:15     .text:0000000000000000 EVENT_USB_Device_ConfigurationChanged
     /tmp/cc7IQUFr.s:11360  .data:00000000000000d5 ep_in_pipe_data
                            *COM*:0000000000000200 ep_in_pipe_buffer
     /tmp/cc7IQUFr.s:11354  .bss:0000000000000005 ep_in_data
     /tmp/cc7IQUFr.s:108    .text:000000000000004e __vector_125
     /tmp/cc7IQUFr.s:246    .text:00000000000000d8 __vector_126
     /tmp/cc7IQUFr.s:11281  .bss:0000000000000001 usb_cmd
     /tmp/cc7IQUFr.s:11275  .bss:0000000000000000 cmd_data
     /tmp/cc7IQUFr.s:782    .text:00000000000002ea send_string
     /tmp/cc7IQUFr.s:11348  .bss:0000000000000004 timeout_or_sampling_no_longer_enabled
     /tmp/cc7IQUFr.s:1916   .text:00000000000006e2 concat
     /tmp/cc7IQUFr.s:2010   .text:000000000000074e distance
     /tmp/cc7IQUFr.s:11338  .data:00000000000000d1 lat
     /tmp/cc7IQUFr.s:11330  .data:00000000000000cd lng
     /tmp/cc7IQUFr.s:2305   .text:000000000000090e parse_nmea_string
     /tmp/cc7IQUFr.s:2577   .text:0000000000000a64 parse_nmea
     /tmp/cc7IQUFr.s:11322  .data:00000000000000c9 max_dist
     /tmp/cc7IQUFr.s:6121   .text:000000000000186c uart_putchar
     /tmp/cc7IQUFr.s:6167   .text:000000000000188c uart_getchar
     /tmp/cc7IQUFr.s:6193   .text:0000000000001898 send_uart
     /tmp/cc7IQUFr.s:11316  .bss:0000000000000003 debug
     /tmp/cc7IQUFr.s:7411   .text:0000000000001d0e toggle_power_gps
     /tmp/cc7IQUFr.s:7484   .text:0000000000001d52 gps_init
     /tmp/cc7IQUFr.s:7650   .text:0000000000001e16 gps_receive
     /tmp/cc7IQUFr.s:7792   .text:0000000000001ebe wake_up_gprs
     /tmp/cc7IQUFr.s:7809   .text:0000000000001ec0 gprs_init
     /tmp/cc7IQUFr.s:7857   .text:0000000000001ee2 send_message
     /tmp/cc7IQUFr.s:8592   .text:00000000000021d0 GprsTextModeSMS
     /tmp/cc7IQUFr.s:8620   .text:00000000000021dc PowerDownModem
     /tmp/cc7IQUFr.s:8648   .text:00000000000021e8 SleepModem
     /tmp/cc7IQUFr.s:8676   .text:00000000000021f4 WakeUpModem
     /tmp/cc7IQUFr.s:8714   .text:0000000000002200 SimpleReceive
     /tmp/cc7IQUFr.s:8933   .text.startup:0000000000000000 main
     /tmp/cc7IQUFr.s:10704  .text:00000000000022f0 EVENT_USB_Device_ControlRequest
                            *COM*:0000000000000002 message
     /tmp/cc7IQUFr.s:11287  .progmem.data:0000000000000000 fwversion
     /tmp/cc7IQUFr.s:11292  .progmem.data:000000000000000b hwversion
     /tmp/cc7IQUFr.s:11233  .text:0000000000002538 EVENT_USB_Device_ControlOUT
                            *COM*:0000000000000002 count
     /tmp/cc7IQUFr.s:11300  .bss:0000000000000002 updating
     /tmp/cc7IQUFr.s:11309  .data:00000000000000c7 twilio_number

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
endpoints
USB_Init
USB_HandleSetup
ep0_buf_out
__eeupd_block_x32a4u
malloc
strcpy
strcat
__subsf3
__mulsf3
sin
cos
__addsf3
sqrt
atan2
strtok
atof
__divsf3
__gtsf2
sprintf
USB_ConfigureClock
ep0_buf_in
__eerd_block_x32a4u
USB_ep0_send_progmem
